/*! For license information please see main.c94cfaeb.js.LICENSE.txt */
!function(){var e={677:function(e,t){!function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function i(e,n){var i,r,a=(i={current:0,next:function(){return++this.current}},r={},{add:function(e,t){var n=null!=t?t:i.next();return r[n]=e,n},resolve:function(e,t,n){var i=r[e];i&&(n(t)?i.resolve(t):i.reject(t),r[e]=null)}});return n((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["request_id"]);n&&a.resolve(n,i,(function(e){return!("error_type"in e)}))}})),function(n,i){return void 0===i&&(i={}),new Promise((function(r,o){var s=a.add({resolve:r,reject:o},i.request_id);e(n,t(t({},i),{request_id:s}))}))}}var r,a,o,s,u,l="undefined"!=typeof window,c=Boolean(l&&window.AndroidBridge),d=Boolean(l&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),f=Boolean(l&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),p=l&&!c&&!d,h=p&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),v=p?"message":"VKWebAppEvent",m=n(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop"],p&&!h?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends"]:["VKWebAppShowImages"]),g=l?window.AndroidBridge:void 0,y=d?window.webkit.messageHandlers:void 0,b=p?parent:void 0;function w(e,t){var n=t||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),i}(r=e.EAdsFormats||(e.EAdsFormats={})).REWARD="reward",r.INTERSTITIAL="interstitial",(a=e.EGrantedPermission||(e.EGrantedPermission={})).CAMERA="camera",a.LOCATION="location",a.PHOTO="photo",(o=e.EGetLaunchParamsResponseLanguages||(e.EGetLaunchParamsResponseLanguages={})).RU="ru",o.UK="uk",o.UA="ua",o.EN="en",o.BE="be",o.KZ="kz",o.PT="pt",o.ES="es",(s=e.EGetLaunchParamsResponseGroupRole||(e.EGetLaunchParamsResponseGroupRole={})).ADMIN="admin",s.EDITOR="editor",s.MEMBER="member",s.MODER="moder",s.NONE="none",(u=e.EGetLaunchParamsResponsePlatforms||(e.EGetLaunchParamsResponsePlatforms={})).DESKTOP_WEB="desktop_web",u.MOBILE_WEB="mobile_web",u.MOBILE_ANDROID="mobile_android",u.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",u.MOBILE_IPHONE="mobile_iphone",u.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",u.MOBILE_IPAD="mobile_ipad","undefined"==typeof window||window.CustomEvent||(window.CustomEvent=(w.prototype=Event.prototype,w));var S=function(e){var t=void 0,r=[];function a(e){r.push(e)}function o(){return d||c}function s(){return p&&window.parent!==window}function u(){return o()||s()}function l(e){if(d||c)return n(r).map((function(t){return t.call(null,e)}));var i=null==e?void 0:e.data;if(p&&i){if(f&&"string"==typeof i)try{i=JSON.parse(i)}catch(i){}var a=i.type,o=i.data,s=i.frameId;a&&("SetSupportedHandlers"!==a?"VKWebAppSettings"!==a?n(r).map((function(e){return e({detail:{type:a,data:o}})})):t=s:o.supportedHandlers)}}f&&/(android)/i.test(navigator.userAgent)?document.addEventListener(v,l):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(v,l);var h=i((function(n,i){g&&g[n]?g[n](JSON.stringify(i)):y&&y[n]&&"function"==typeof y[n].postMessage?y[n].postMessage(i):f?window.ReactNativeWebView.postMessage(JSON.stringify({handler:n,params:i})):b&&"function"==typeof b.postMessage&&b.postMessage({handler:n,params:i,type:"vk-connect",webFrameId:t,connectVersion:e},"*")}),a);return{send:h,sendPromise:h,subscribe:a,unsubscribe:function(e){var t=r.indexOf(e);-1<t&&r.splice(t,1)},supports:function(e){return c?!(!g||"function"!=typeof g[e]):d?!(!y||!y[e]||"function"!=typeof y[e].postMessage):p&&-1<m.indexOf(e)},isWebView:o,isIframe:s,isEmbedded:u,isStandalone:function(){return!u()}}}("2.7.0");e.applyMiddleware=function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.includes(void 0)||n.includes(null)?e.apply(void 0,n.filter((function(e){return"function"==typeof e}))):function(e){if(0===n.length)return e;var i,r={subscribe:e.subscribe,send:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.send.apply(e,t)}};return i=n.filter((function(e){return"function"==typeof e})).map((function(e){return e(r)})).reduce((function(e,t){return function(n){return e(t(n))}}))(e.send),t(t({},e),{send:i})}},e.default=S,Object.defineProperty(e,"__esModule",{value:!0})}(t)},887:function(e){"use strict";function t(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(void 0!==r&&null!==r)for(var a=Object.keys(Object(r)),o=0,s=a.length;o<s;o++){var u=a[o],l=Object.getOwnPropertyDescriptor(r,u);void 0!==l&&l.enumerable&&(n[u]=r[u])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},197:function(e,t,n){var i=n(9).Symbol;e.exports=i},66:function(e,t,n){var i=n(197),r=n(587),a=n(581),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):a(e)}},821:function(e,t,n){var i=n(50),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},32:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},587:function(e,t,n){var i=n(197),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(u){}var r=o.call(e);return i&&(t?e[s]=n:delete e[s]),r}},581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9:function(e,t,n){var i=n(32),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},50:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},573:function(e,t,n){var i=n(92),r=n(72),a=n(582),o=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,d,f,p,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,i=l;return u=l=void 0,h=t,d=e.apply(i,n)}function b(e){return h=e,f=setTimeout(S,t),v?y(e):d}function w(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=c}function S(){var e=r();if(w(e))return k(e);f=setTimeout(S,function(e){var n=t-(e-p);return m?s(n,c-(e-h)):n}(e))}function k(e){return f=void 0,g&&u?y(e):(u=l=void 0,d)}function E(){var e=r(),n=w(e);if(u=arguments,l=this,p=e,n){if(void 0===f)return b(p);if(m)return clearTimeout(f),f=setTimeout(S,t),y(p)}return void 0===f&&(f=setTimeout(S,t)),d}return t=a(t)||0,i(n)&&(v=!!n.leading,c=(m="maxWait"in n)?o(a(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=p=l=f=void 0},E.flush=function(){return void 0===f?d:k(r())},E}},92:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var i=n(66),r=n(141);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},72:function(e,t,n){var i=n(9);e.exports=function(){return i.Date.now()}},582:function(e,t,n){var i=n(821),r=n(92),a=n(152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,a){for(var o,s,u=r(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(u[c]=o[c]);if(t){s=t(o);for(var d=0;d<s.length;d++)i.call(o,s[d])&&(u[s[d]]=o[s[d]])}}return u}},463:function(e,t,n){"use strict";var i=n(791),r=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(o(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},v={};function m(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!p.call(v,e)||!p.call(h,e)&&(f.test(e)?v[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,E=60106,x=60107,T=60108,$=60114,P=60109,A=60110,C=60112,_=60113,R=60120,L=60115,N=60116,M=60121,I=60128,D=60129,O=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;k=V("react.element"),E=V("react.portal"),x=V("react.fragment"),T=V("react.strict_mode"),$=V("react.profiler"),P=V("react.provider"),A=V("react.context"),C=V("react.forward_ref"),_=V("react.suspense"),R=V("react.suspense_list"),L=V("react.memo"),N=V("react.lazy"),M=V("react.block"),V("react.scope"),I=V("react.opaque.id"),D=V("react.debug_trace_mode"),O=V("react.offscreen"),B=V("react.legacy_hidden")}var z,U="function"===typeof Symbol&&Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function q(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var H=!1;function j(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s])return"\n"+r[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 22:return e=j(e.type._render,!1);case 1:return e=j(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case $:return"Profiler";case T:return"StrictMode";case _:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return G(e.type);case M:return G(e._render);case N:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Q(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function le(e,t){var n=Y(t.value),i=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function Se(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=Se(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function $e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pe=null,Ae=null,Ce=null;function _e(e){if(e=ir(e)){if("function"!==typeof Pe)throw Error(o(280));var t=e.stateNode;t&&(t=ar(t),Pe(e.stateNode,e.type,t))}}function Re(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Le(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function Me(e,t,n,i,r){return e(t,n,i,r)}function Ie(){}var De=Ne,Oe=!1,Be=!1;function Ve(){null===Ae&&null===Ce||(Ie(),Le())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var i=ar(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(me){Ue=!1}function qe(e,t,n,i,r,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var He=!1,je=null,We=!1,Ge=null,Ye={onError:function(e){He=!0,je=e}};function Qe(e,t,n,i,r,a,o,s,u){He=!1,je=null,qe.apply(Ye,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ke(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Je(r),e;if(a===i)return Je(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,i=a;break}if(u===i){s=!0,i=r,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=r;break}if(u===i){s=!0,i=a,n=r;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,it,rt,at=!1,ot=[],st=null,ut=null,lt=null,ct=new Map,dt=new Map,ft=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,i,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[i]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e=ht(t,n,i,r,a),null!==t&&(null!==(t=ir(t))&&nt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function gt(e){var t=nr(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){it(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ir(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ir(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(bt),dt.forEach(bt)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function kt(e){function t(t){return St(t,e)}if(0<ot.length){St(ot[0],e);for(var n=1;n<ot.length;n++){var i=ot[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==st&&St(st,e),null!==ut&&St(ut,e),null!==lt&&St(lt,e),ct.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(i=ft[n]).blockedOn===e&&(i.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},$t={};function Pt(e){if(Tt[e])return Tt[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in $t)return Tt[e]=n[t];return e}d&&($t=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var At=Pt("animationend"),Ct=Pt("animationiteration"),_t=Pt("animationstart"),Rt=Pt("transitionend"),Lt=new Map,Nt=new Map,Mt=["abort","abort",At,"animationEnd",Ct,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),Nt.set(i,t),Lt.set(i,r),l(r,[i])}}(0,a.unstable_now)();var Dt=8;function Ot(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var i=0,r=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)i=a,r=Dt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(i=Ot(u),r=Dt):0!==(s&=a)&&(i=Ot(s),r=Dt)}else 0!==(a=n&~o)?(i=Ot(a),r=Dt):0!==s&&(i=Ot(s),r=Dt);if(0===i)return 0;if(i=n&((0>(i=31-Ht(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0===(t&o)){if(Ot(t),r<=Dt)return t;Dt=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-Ht(t)),i|=e[n],t&=~r;return i}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?zt(10,t):e;case 10:return 0===(e=Ut(192&~t))?zt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(jt(e)/Wt|0)|0},jt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Qt=!0;function Kt(e,t,n,i){Oe||Ie();var r=Jt,a=Oe;Oe=!0;try{Me(r,e,t,n,i)}finally{(Oe=a)||Ve()}}function Xt(e,t,n,i){Yt(Gt,Jt.bind(null,e,t,n,i))}function Jt(e,t,n,i){var r;if(Qt)if((r=0===(4&t))&&0<ot.length&&-1<pt.indexOf(e))e=ht(null,e,t,n,i),ot.push(e);else{var a=Zt(e,t,n,i);if(null===a)r&&vt(e,i);else{if(r){if(-1<pt.indexOf(e))return e=ht(a,e,t,n,i),void ot.push(e);if(function(e,t,n,i,r){switch(t){case"focusin":return st=mt(st,e,t,n,i,r),!0;case"dragenter":return ut=mt(ut,e,t,n,i,r),!0;case"mouseover":return lt=mt(lt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,dt.set(a,mt(dt.get(a)||null,e,t,n,i,r)),!0}return!1}(a,e,t,n,i))return;vt(e,i)}Ii(e,t,i,null,n)}}}function Zt(e,t,n,i){var r=$e(i);if(null!==(r=nr(r))){var a=Ke(r);if(null===a)r=null;else{var o=a.tag;if(13===o){if(null!==(r=Xe(a)))return r;r=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ii(e,t,i,r,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,i=n.length,r="value"in en?en.value:en.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return nn=r.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?on:sn,this.isPropagationStopped=sn,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),hn=r({},fn,{view:0,detail:0}),vn=un(hn),mn=r({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(ln=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=ln=0,dn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=un(mn),yn=un(r({},mn,{dataTransfer:0})),bn=un(r({},hn,{relatedTarget:0})),wn=un(r({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),Sn=r({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=un(Sn),En=un(r({},fn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$n[e])&&!!t[e]}function An(){return Pn}var Cn=r({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=un(Cn),Rn=un(r({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=un(r({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Nn=un(r({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=r({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=un(Mn),Dn=[9,13,27,32],On=d&&"CompositionEvent"in window,Bn=null;d&&"documentMode"in document&&(Bn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Bn,zn=d&&(!On||Bn&&8<Bn&&11>=Bn),Un=String.fromCharCode(32),Fn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Yn(e,t,n,i){Re(i),0<(t=Oi(t,"onChange")).length&&(n=new pn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Xn(e){Ci(e,0)}function Jn(e){if(X(rr(e)))return e}function Zn(e,t){if("change"===e)return t}var ei=!1;if(d){var ti;if(d){var ni="oninput"in document;if(!ni){var ii=document.createElement("div");ii.setAttribute("oninput","return;"),ni="function"===typeof ii.oninput}ti=ni}else ti=!1;ei=ti&&(!document.documentMode||9<document.documentMode)}function ri(){Qn&&(Qn.detachEvent("onpropertychange",ai),Kn=Qn=null)}function ai(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];if(Yn(t,Kn,e,$e(e)),e=Xn,Oe)e(t);else{Oe=!0;try{Ne(e,t)}finally{Oe=!1,Ve()}}}}function oi(e,t,n){"focusin"===e?(ri(),Kn=n,(Qn=t).attachEvent("onpropertychange",ai)):"focusout"===e&&ri()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ui(e,t){if("click"===e)return Jn(t)}function li(e,t){if("input"===e||"change"===e)return Jn(t)}var ci="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},di=Object.prototype.hasOwnProperty;function fi(e,t){if(ci(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!di.call(t,n[i])||!ci(e[n[i]],t[n[i]]))return!1;return!0}function pi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var n,i=pi(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=pi(i)}}function vi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mi(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yi=d&&"documentMode"in document&&11>=document.documentMode,bi=null,wi=null,Si=null,ki=!1;function Ei(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ki||null==bi||bi!==J(i)||("selectionStart"in(i=bi)&&gi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Si&&fi(Si,i)||(Si=i,0<(i=Oi(wi,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=bi)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Mt,2);for(var xi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ti=0;Ti<xi.length;Ti++)Nt.set(xi[Ti],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pi=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Ai(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,u,l){if(Qe.apply(this,arguments),He){if(!He)throw Error(o(198));var c=je;He=!1,je=null,We||(We=!0,Ge=c)}}(i,t,void 0,e),e.currentTarget=null}function Ci(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&r.isPropagationStopped())break e;Ai(r,s,l),a=u}else for(o=0;o<i.length;o++){if(u=(s=i[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&r.isPropagationStopped())break e;Ai(r,s,l),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function _i(e,t){var n=or(t),i=e+"__bubble";n.has(i)||(Mi(t,e,2,!1),n.add(i))}var Ri="_reactListening"+Math.random().toString(36).slice(2);function Li(e){e[Ri]||(e[Ri]=!0,s.forEach((function(t){Pi.has(t)||Ni(t,!1,e,null),Ni(t,!0,e,null)})))}function Ni(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==i&&!t&&Pi.has(e)){if("scroll"!==e)return;r|=2,a=i}var o=or(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(r|=4),Mi(a,e,r,t),o.add(s))}function Mi(e,t,n,i){var r=Nt.get(t);switch(void 0===r?2:r){case 0:r=Kt;break;case 1:r=Xt;break;default:r=Jt}n=r.bind(null,t,n,e),r=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ii(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===r||8===u.nodeType&&u.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=nr(s)))return;if(5===(u=o.tag)||6===u){i=a=o;continue e}s=s.parentNode}}i=i.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{De(e,t,n)}finally{Be=!1,Ve()}}((function(){var i=a,r=$e(n),o=[];e:{var s=Lt.get(e);if(void 0!==s){var u=pn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=_n;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ln;break;case At:case Ct:case _t:u=wn;break;case Rt:u=Nn;break;case"scroll":u=vn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=i;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=ze(h,f))&&c.push(Di(h,v,p)))),d)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,r),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!nr(l)&&!l[er])&&(u||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=i,null!==(l=(l=n.relatedTarget||n.toElement)?nr(l):null)&&(l!==(d=Ke(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=i),u!==l)){if(c=gn,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rn,v="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:rr(u),p=null==l?s:rr(l),(s=new c(v,h+"leave",u,n,r)).target=d,s.relatedTarget=p,v=null,nr(r)===i&&((c=new c(f,h+"enter",l,n,r)).target=p,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(f=l,h=0,p=c=u;p;p=Bi(p))h++;for(p=0,v=f;v;v=Bi(v))p++;for(;0<h-p;)c=Bi(c),h--;for(;0<p-h;)f=Bi(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Bi(c),f=Bi(f)}c=null}else c=null;null!==u&&Vi(o,s,u,c,!1),null!==l&&null!==d&&Vi(o,d,l,c,!0)}if("select"===(u=(s=i?rr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(ei)m=li;else{m=si;var g=oi}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ui);switch(m&&(m=m(e,i))?Yn(o,m,n,r):(g&&g(e,s,i),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&re(s,"number",s.value)),g=i?rr(i):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(bi=g,wi=i,Si=null);break;case"focusout":Si=wi=bi=null;break;case"mousedown":ki=!0;break;case"contextmenu":case"mouseup":case"dragend":ki=!1,Ei(o,n,r);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Ei(o,n,r)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=rn()):(tn="value"in(en=r)?en.value:en.textContent,jn=!0)),0<(g=Oi(i,b)).length&&(b=new En(b,e,null,n,r),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Vn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&qn(e,t)?(e=rn(),nn=tn=en=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Oi(i,"onBeforeInput")).length&&(r=new En("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Ci(o,t)}))}function Di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=ze(e,n))&&i.unshift(Di(e,a,r)),null!=(a=ze(e,t))&&i.push(Di(e,a,r))),e=e.return}return i}function Bi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vi(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===i)break;5===s.tag&&null!==l&&(s=l,r?null!=(u=ze(n,a))&&o.unshift(Di(n,u,s)):r||null!=(u=ze(n,a))&&o.push(Di(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function zi(){}var Ui=null,Fi=null;function qi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ji="function"===typeof setTimeout?setTimeout:void 0,Wi="function"===typeof clearTimeout?clearTimeout:void 0;function Gi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ki=0;var Xi=Math.random().toString(36).slice(2),Ji="__reactFiber$"+Xi,Zi="__reactProps$"+Xi,er="__reactContainer$"+Xi,tr="__reactEvents$"+Xi;function nr(e){var t=e[Ji];if(t)return t;for(var n=e.parentNode;n;){if(t=n[er]||n[Ji]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qi(e);null!==e;){if(n=e[Ji])return n;e=Qi(e)}return t}n=(e=n).parentNode}return null}function ir(e){return!(e=e[Ji]||e[er])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function rr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ar(e){return e[Zi]||null}function or(e){var t=e[tr];return void 0===t&&(t=e[tr]=new Set),t}var sr=[],ur=-1;function lr(e){return{current:e}}function cr(e){0>ur||(e.current=sr[ur],sr[ur]=null,ur--)}function dr(e,t){ur++,sr[ur]=e.current,e.current=t}var fr={},pr=lr(fr),hr=lr(!1),vr=fr;function mr(e,t){var n=e.type.contextTypes;if(!n)return fr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yr(){cr(hr),cr(pr)}function br(e,t,n){if(pr.current!==fr)throw Error(o(168));dr(pr,t),dr(hr,n)}function wr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return r({},n,i)}function Sr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fr,vr=pr.current,dr(pr,e),dr(hr,hr.current),!0}function kr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=wr(e,t,vr),i.__reactInternalMemoizedMergedChildContext=e,cr(hr),cr(pr),dr(pr,e)):cr(hr),dr(hr,n)}var Er=null,xr=null,Tr=a.unstable_runWithPriority,$r=a.unstable_scheduleCallback,Pr=a.unstable_cancelCallback,Ar=a.unstable_shouldYield,Cr=a.unstable_requestPaint,_r=a.unstable_now,Rr=a.unstable_getCurrentPriorityLevel,Lr=a.unstable_ImmediatePriority,Nr=a.unstable_UserBlockingPriority,Mr=a.unstable_NormalPriority,Ir=a.unstable_LowPriority,Dr=a.unstable_IdlePriority,Or={},Br=void 0!==Cr?Cr:function(){},Vr=null,zr=null,Ur=!1,Fr=_r(),qr=1e4>Fr?_r:function(){return _r()-Fr};function Hr(){switch(Rr()){case Lr:return 99;case Nr:return 98;case Mr:return 97;case Ir:return 96;case Dr:return 95;default:throw Error(o(332))}}function jr(e){switch(e){case 99:return Lr;case 98:return Nr;case 97:return Mr;case 96:return Ir;case 95:return Dr;default:throw Error(o(332))}}function Wr(e,t){return e=jr(e),Tr(e,t)}function Gr(e,t,n){return e=jr(e),$r(e,t,n)}function Yr(){if(null!==zr){var e=zr;zr=null,Pr(e)}Qr()}function Qr(){if(!Ur&&null!==Vr){Ur=!0;var e=0;try{var t=Vr;Wr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vr=null}catch(n){throw null!==Vr&&(Vr=Vr.slice(e+1)),$r(Lr,Yr),n}finally{Ur=!1}}}var Kr=S.ReactCurrentBatchConfig;function Xr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Jr=lr(null),Zr=null,ea=null,ta=null;function na(){ta=ea=Zr=null}function ia(e){var t=Jr.current;cr(Jr),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zr=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Oo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zr)throw Error(o(308));ea=t,Zr.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pa(e,t,n,i){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=l)}}if(null!==o){for(f=a.baseState,s=0,d=c=l=null;;){u=o.lane;var p=o.eventTime;if((i&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,v=o;switch(u=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(p,f,u);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=v.payload)?h.call(p,f,u):h)||void 0===u)break e;f=r({},f,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else p={eventTime:p,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=f):d=d.next=p,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===d&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,Us|=s,e.lanes=s,e.memoizedState=f}}function ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var va=(new i.Component).refs;function ma(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=fu(),r=pu(e),a=ca(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),hu(e,r,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=fu(),r=pu(e),a=ca(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),hu(e,r,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),i=pu(e),r=ca(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),da(e,r),hu(e,i,n)}};function ya(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fi(n,i)||!fi(r,a))}function ba(e,t,n){var i=!1,r=fr,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(r=gr(t)?vr:pr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?mr(e,r):fr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function Sa(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=oa(a):(a=gr(t)?vr:pr.current,r.context=mr(e,a)),pa(e,n,r,i),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ga.enqueueReplaceState(r,r.state,null),pa(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4)}var ka=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;t===va&&(t=i.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,i){return null===t||6!==t.tag?((t=Ku(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Ea(e,t,n),i.return=e,i):((i=Gu(n.type,n.key,n.props,null,e.mode,i)).ref=Ea(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=Yu(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Xu(t,e.mode,n)).return=e,t}if(ka(t)||F(t))return(t=Yu(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===r?n.type===x?d(e,t,n.props.children,i,r):l(e,t,n,i):null;case E:return n.key===r?c(e,t,n,i):null}if(ka(n)||F(n))return null!==r?null:d(e,t,n,i,null);xa(e,n)}return null}function h(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return u(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case k:return e=e.get(null===i.key?n:i.key)||null,i.type===x?d(t,e,i.props.children,r,i.key):l(t,e,i,r);case E:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(ka(i)||F(i))return d(t,e=e.get(n)||null,i,r,null);xa(t,i)}return null}function v(r,o,s,u){for(var l=null,c=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=p(r,d,s[v],u);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(r,d),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g,d=m}if(v===s.length)return n(r,d),l;if(null===d){for(;v<s.length;v++)null!==(d=f(r,s[v],u))&&(o=a(d,o,v),null===c?l=d:c.sibling=d,c=d);return l}for(d=i(r,d);v<s.length;v++)null!==(m=h(d,r,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(r,e)})),l}function m(r,s,u,l){var c=F(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var d=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(r,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(r,v),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,v=g}if(y.done)return n(r,v),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(r,y.value,l))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return c}for(v=i(r,v);!y.done;m++,y=u.next())null!==(y=h(v,r,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(r,e)})),c}return function(e,i,a,u){var l="object"===typeof a&&null!==a&&a.type===x&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case k:e:{for(c=a.key,l=i;null!==l;){if(l.key===c){if(7===l.tag){if(a.type===x){n(e,l.sibling),(i=r(l,a.props.children)).return=e,e=i;break e}}else if(l.elementType===a.type){n(e,l.sibling),(i=r(l,a.props)).ref=Ea(e,l,a),i.return=e,e=i;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===x?((i=Yu(a.props.children,e.mode,u,a.key)).return=e,e=i):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,i,a),u.return=e,e=u)}return s(e);case E:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=r(i,a.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Xu(a,e.mode,u)).return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,a)).return=e,e=i):(n(e,i),(i=Ku(a,e.mode,u)).return=e,e=i),s(e);if(ka(a))return v(e,i,a,u);if(F(a))return m(e,i,a,u);if(c&&xa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,i)}}var $a=Ta(!0),Pa=Ta(!1),Aa={},Ca=lr(Aa),_a=lr(Aa),Ra=lr(Aa);function La(e){if(e===Aa)throw Error(o(174));return e}function Na(e,t){switch(dr(Ra,t),dr(_a,e),dr(Ca,Aa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}cr(Ca),dr(Ca,t)}function Ma(){cr(Ca),cr(_a),cr(Ra)}function Ia(e){La(Ra.current);var t=La(Ca.current),n=he(t,e.type);t!==n&&(dr(_a,e),dr(Ca,n))}function Da(e){_a.current===e&&(cr(Ca),cr(_a))}var Oa=lr(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,za=null,Ua=!1;function Fa(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ua){var t=za;if(t){var n=t;if(!qa(e,t)){if(!(t=Yi(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ua=!1,void(Va=e);Fa(Va,n)}Va=e,za=Yi(t.firstChild)}else e.flags=-1025&e.flags|2,Ua=!1,Va=e}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Wa(e){if(e!==Va)return!1;if(!Ua)return ja(e),Ua=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hi(t,e.memoizedProps))for(t=za;t;)Fa(e,t),t=Yi(t.nextSibling);if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){za=Yi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}za=null}}else za=Va?Yi(e.stateNode.nextSibling):null;return!0}function Ga(){za=Va=null,Ua=!1}var Ya=[];function Qa(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Ka=S.ReactCurrentDispatcher,Xa=S.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,io=!1;function ro(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ci(e[n],t[n]))return!1;return!0}function oo(e,t,n,i,r,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ka.current=null===e||null===e.memoizedState?No:Mo,e=n(i,r),io){a=0;do{if(io=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ka.current=Io,e=n(i,r)}while(io)}if(Ka.current=Lo,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function lo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=eo,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var u=s=a=null,l=r;do{var c=l.lane;if((Ja&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),i=l.eagerReducer===e?l.eagerState:e(i,l.action);else{var d={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=d,a=i):u=u.next=d,Za.lanes|=c,Us|=c}l=l.next}while(null!==l&&l!==r);null===u?a=i:u.next=s,ci(i,t.memoizedState)||(Oo=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);ci(a,t.memoizedState)||(Oo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function po(e,t,n){var i=t._getVersion;i=i(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===i:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=i,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function ho(e,t,n,i){var r=Ns;if(null===r)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ka.current,l=u.useState((function(){return po(r,t,n)})),c=l[1],d=l[0];l=to;var f=e.memoizedState,p=f.refs,h=p.getSnapshot,v=f.source;f=f.subscribe;var m=Za;return e.memoizedState={refs:p,source:t,subscribe:i},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var e=a(t._source);if(!ci(s,e)){e=n(t._source),ci(d,e)||(c(e),e=pu(m),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var i=r.entanglements,o=e;0<o;){var u=31-Ht(o),l=1<<u;i[u]|=e,o&=~l}}}),[n,t,i]),u.useEffect((function(){return i(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var i=pu(m);r.mutableReadLanes|=i&r.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,i]),ci(h,n)&&ci(v,t)&&ci(f,i)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:d}).dispatch=c=Ro.bind(null,Za,e),l.queue=e,l.baseQueue=null,d=po(r,t,n),l.memoizedState=l.baseState=d),d}function vo(e,t,n){return ho(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function bo(){return uo().memoizedState}function wo(e,t,n,i){var r=so();Za.flags|=e,r.memoizedState=go(1|t,n,void 0,void 0===i?null:i)}function So(e,t,n,i){var r=uo();i=void 0===i?null:i;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==i&&ao(i,o.deps))return void go(t,n,a,i)}Za.flags|=e,r.memoizedState=go(1|t,n,a,i)}function ko(e,t){return wo(516,4,e,t)}function Eo(e,t){return So(516,4,e,t)}function xo(e,t){return So(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,So(4,2,To.bind(null,t,e),n)}function Po(){}function Ao(e,t){var n=uo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ao(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=uo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ao(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function _o(e,t){var n=Hr();Wr(98>n?98:n,(function(){e(!0)})),Wr(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var i=fu(),r=pu(e),a={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)io=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,ci(u,s))return}catch(l){}hu(e,r,i)}}var Lo={readContext:oa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},No={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:ko,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=so();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[i.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:Po,useDeferredValue:function(e){var t=mo(e),n=t[0],i=t[1];return ko((function(){var t=Xa.transition;Xa.transition=1;try{i(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=_o.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=so();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(i,e,t,n)},useOpaqueIdentifier:function(){if(Ua){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ki++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+(Ki++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Ki++).toString(36)),t},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Ao,useContext:oa,useEffect:Eo,useImperativeHandle:$o,useLayoutEffect:xo,useMemo:Co,useReducer:co,useRef:bo,useState:function(){return co(lo)},useDebugValue:Po,useDeferredValue:function(e){var t=co(lo),n=t[0],i=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{i(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Io={readContext:oa,useCallback:Ao,useContext:oa,useEffect:Eo,useImperativeHandle:$o,useLayoutEffect:xo,useMemo:Co,useReducer:fo,useRef:bo,useState:function(){return fo(lo)},useDebugValue:Po,useDeferredValue:function(e){var t=fo(lo),n=t[0],i=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{i(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(lo)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(lo)[0]},unstable_isNewReconciler:!1},Do=S.ReactCurrentOwner,Oo=!1;function Bo(e,t,n,i){t.child=null===e?Pa(t,null,n,i):$a(t,e.child,n,i)}function Vo(e,t,n,i,r){n=n.render;var a=t.ref;return aa(t,r),i=oo(e,t,n,i,a,r),null===e||Oo?(t.flags|=1,Bo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,as(e,t,r))}function zo(e,t,n,i,r,a){if(null===e){var o=n.type;return"function"!==typeof o||ju(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,i,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Uo(e,t,o,i,r,a))}return o=e.child,0===(r&a)&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:fi)(r,i)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,i)).ref=t.ref,e.return=t,t.child=e)}function Uo(e,t,n,i,r,a){if(null!==e&&fi(e.memoizedProps,i)&&e.ref===t.ref){if(Oo=!1,0===(a&r))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Oo=!0)}return Ho(e,t,n,i,a)}function Fo(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ku(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ku(t,e),null;t.memoizedState={baseLanes:0},ku(t,null!==a?a.baseLanes:n)}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,ku(t,i);return Bo(e,t,r,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,i,r){var a=gr(n)?vr:pr.current;return a=mr(t,a),aa(t,r),n=oo(e,t,n,i,a,r),null===e||Oo?(t.flags|=1,Bo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,as(e,t,r))}function jo(e,t,n,i,r){if(gr(n)){var a=!0;Sr(t)}else a=!1;if(aa(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ba(t,n,i),Sa(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=oa(l):l=mr(t,l=gr(n)?vr:pr.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||u!==l)&&wa(t,o,i,l),sa=!1;var f=t.memoizedState;o.state=f,pa(t,i,o,r),u=t.memoizedState,s!==i||f!==u||hr.current||sa?("function"===typeof c&&(ma(t,n,c,i),u=t.memoizedState),(s=sa||ya(t,n,s,i,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=u),o.props=i,o.state=u,o.context=l,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4),i=!1)}else{o=t.stateNode,la(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Xr(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mr(t,u=gr(n)?vr:pr.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&wa(t,o,i,u),sa=!1,f=t.memoizedState,o.state=f,pa(t,i,o,r);var h=t.memoizedState;s!==d||f!==h||hr.current||sa?("function"===typeof p&&(ma(t,n,p,i),h=t.memoizedState),(l=sa||ya(t,n,l,i,f,h,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=h),o.props=i,o.state=h,o.context=u,i=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),i=!1)}return Wo(e,t,n,i,a,r)}function Wo(e,t,n,i,r,a){qo(e,t);var o=0!==(64&t.flags);if(!i&&!o)return r&&kr(t,n,!1),as(e,t,a);i=t.stateNode,Do.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):Bo(e,t,s,a),t.memoizedState=i.state,r&&kr(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&br(0,t.context,!1),Na(e,t.containerInfo)}var Yo,Qo,Ko,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var i,r=t.pendingProps,a=Oa.current,o=!1;return(i=0!==(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(a|=1),dr(Oa,1&a),null===e?(void 0!==r.fallback&&Ha(t),e=r.children,a=r.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof r.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(r=ts(e,t,r.children,r.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,r):(n=es(e,t,r.children,n),t.memoizedState=null,n))}function Zo(e,t,n,i){var r=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&r)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,r,0,null),n=Yu(n,r,i,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,i){var r=e.child;return e=r.sibling,n=Wu(r,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,i,r){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?i=Wu(e,i):(i=Yu(i,a,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function is(e,t,n,i,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r,o.lastEffect=a)}function rs(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Bo(e,t,i.children,n),0!==(2&(i=Oa.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(dr(Oa,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),is(t,!1,r,n,a,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ba(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}is(t,!0,n,null,a,t.lastEffect);break;case"together":is(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ua)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ss(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gr(t.type)&&yr(),null;case 3:return Ma(),cr(hr),cr(pr),Qa(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:i.hydrate||(t.flags|=256)),null;case 5:Da(t);var a=La(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(o(166));return null}if(e=La(Ca.current),Wa(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Ji]=t,i[Zi]=s,n){case"dialog":_i("cancel",i),_i("close",i);break;case"iframe":case"object":case"embed":_i("load",i);break;case"video":case"audio":for(e=0;e<$i.length;e++)_i($i[e],i);break;case"source":_i("error",i);break;case"img":case"image":case"link":_i("error",i),_i("load",i);break;case"details":_i("toggle",i);break;case"input":ee(i,s),_i("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},_i("invalid",i);break;case"textarea":ue(i,s),_i("invalid",i)}for(var l in xe(n,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?i.textContent!==a&&(e=["children",a]):"number"===typeof a&&i.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&_i("scroll",i));switch(n){case"input":K(i),ie(i,s,!0);break;case"textarea":K(i),ce(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=zi)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[Ji]=t,e[Zi]=i,Yo(e,t),t.stateNode=e,l=Te(n,i),n){case"dialog":_i("cancel",e),_i("close",e),a=i;break;case"iframe":case"object":case"embed":_i("load",e),a=i;break;case"video":case"audio":for(a=0;a<$i.length;a++)_i($i[a],e);a=i;break;case"source":_i("error",e),a=i;break;case"img":case"image":case"link":_i("error",e),_i("load",e),a=i;break;case"details":_i("toggle",e),a=i;break;case"input":ee(e,i),a=Z(e,i),_i("invalid",e);break;case"option":a=ae(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=r({},i,{value:void 0}),_i("invalid",e);break;case"textarea":ue(e,i),a=se(e,i),_i("invalid",e);break;default:a=i}xe(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ke(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&_i("scroll",e):null!=d&&w(e,s,d,l))}switch(n){case"input":K(e),ie(e,i,!1);break;case"textarea":K(e),ce(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Y(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?oe(e,!!i.multiple,s,!1):null!=i.defaultValue&&oe(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=zi)}qi(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ko(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));n=La(Ra.current),La(Ca.current),Wa(t)?(i=t.stateNode,n=t.memoizedProps,i[Ji]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Ji]=t,t.stateNode=i)}return null;case 13:return cr(Oa),i=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,i&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Oa.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Ns||0===(134217727&Us)&&0===(134217727&Fs)||yu(Ns,Is))),(i||n)&&(t.flags|=4),null);case 4:return Ma(),null===e&&Li(t.stateNode.containerInfo),null;case 10:return ia(t),null;case 19:if(cr(Oa),null===(i=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=i.rendering))if(s)os(i,!1);else{if(0!==Bs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ba(e))){for(t.flags|=64,os(i,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dr(Oa,1&Oa.current|2),t.child}e=e.sibling}null!==i.tail&&qr()>Ws&&(t.flags|=64,s=!0,os(i,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ba(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!Ua)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*qr()-i.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(i,!1),t.lanes=33554432);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=qr(),n.sibling=null,t=Oa.current,dr(Oa,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gr(e.type)&&yr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ma(),cr(hr),cr(pr),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Da(e),null;case 13:return cr(Oa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return cr(Oa),null;case 4:return Ma(),null;case 10:return ia(e),null;case 23:case 24:return Eu(),null;default:return null}}function ls(e,t){try{var n="",i=t;do{n+=W(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,La(Ca.current);var o,s=null;switch(n){case"input":a=Z(e,a),i=Z(e,i),s=[];break;case"option":a=ae(e,a),i=ae(e,i),s=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),s=[];break;case"textarea":a=se(e,a),i=se(e,i),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(e.onclick=zi)}for(d in xe(n,i),n=null,a)if(!i.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=a?a[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&_i("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===I?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ko=function(e,t,n,i){n!==i&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ks||(Ks=!0,Xs=i),cs(0,t)},n}function ps(e,t,n){(n=ca(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return cs(0,t),i(r)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Js?Js=new Set([this]):Js.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gi(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;i=r.next,0!==(4&(r=r.tag))&&0!==(1&r)&&(Ou(n,e),Du(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Xr(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ha(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ha(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qi(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,i.style.display=Se("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(xr&&"function"===typeof xr.onCommitFiberUnmount)try{xr.onCommitFiberUnmount(Er,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,r=i.destroy;if(i=i.tag,void 0!==r)if(0!==(4&i))Ou(t,n);else{i=t;try{r()}catch(a){zu(i,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){zu(t,a)}break;case 5:vs(t);break;case 4:Ts(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ss(e){return 5===e.tag||3===e.tag||4===e.tag}function ks(e){e:{for(var t=e.return;null!==t;){if(Ss(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ss(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?Es(e,n,t):xs(e,n,t)}function Es(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zi));else if(4!==i&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function xs(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Ts(e,t){for(var n,i,r=t,a=!1;;){if(!a){a=r.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===r.tag||6===r.tag){e:for(var s=e,u=r,l=u;;)if(bs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(s=n,u=r.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(bs(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(a=!1)}r.sibling.return=r.return,r=r.sibling}}function $s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var r=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zi]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(n,i),Te(e,r),t=Te(e,i),r=0;r<a.length;r+=2){var s=a[r],u=a[r+1];"style"===s?ke(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,i);break;case"textarea":le(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(a=i.value)?oe(n,!!i.multiple,a,!1):e!==!!i.multiple&&(null!=i.defaultValue?oe(n,!!i.multiple,i.defaultValue,!0):oe(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(js=qr(),ys(t.child,!0)),void Ps(t);case 19:return void Ps(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var i=Fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,_s=S.ReactCurrentDispatcher,Rs=S.ReactCurrentOwner,Ls=0,Ns=null,Ms=null,Is=0,Ds=0,Os=lr(0),Bs=0,Vs=null,zs=0,Us=0,Fs=0,qs=0,Hs=null,js=0,Ws=1/0;function Gs(){Ws=qr()+500}var Ys,Qs=null,Ks=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],iu=[],ru=null,au=0,ou=null,su=-1,uu=0,lu=0,cu=null,du=!1;function fu(){return 0!==(48&Ls)?qr():-1!==su?su:su=qr()}function pu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hr()?1:2;if(0===uu&&(uu=zs),0!==Kr.transition){0!==lu&&(lu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hr(),0!==(4&Ls)&&98===e?e=zt(12,uu):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function hu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Ns&&(Fs|=t,4===Bs&&yu(e,Is));var i=Hr();1===t?0!==(8&Ls)&&0===(48&Ls)?bu(e):(mu(e,n),0===Ls&&(Gs(),Yr())):(0===(4&Ls)||98!==i&&99!==i||(null===ru?ru=new Set([e]):ru.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),l=1<<u,c=a[u];if(-1===c){if(0===(l&i)||0!==(l&r)){c=t,Ot(l);var d=Dt;a[u]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(i=Bt(e,e===Ns?Is:0),t=Dt,0===i)null!==n&&(n!==Or&&Pr(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Or&&Pr(n)}15===t?(n=bu.bind(null,e),null===Vr?(Vr=[n],zr=$r(Lr,Qr)):Vr.push(n),n=Or):14===t?n=Gr(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gr(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,lu=uu=0,0!==(48&Ls))throw Error(o(327));var t=e.callbackNode;if(Iu()&&e.callbackNode!==t)return null;var n=Bt(e,e===Ns?Is:0);if(0===n)return null;var i=n,r=Ls;Ls|=16;var a=$u();for(Ns===e&&Is===i||(Gs(),xu(e,i));;)try{Cu();break}catch(u){Tu(e,u)}if(na(),_s.current=a,Ls=r,null!==Ms?i=0:(Ns=null,Is=0,i=Bs),0!==(zs&Fs))xu(e,0);else if(0!==i){if(2===i&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Gi(e.containerInfo)),0!==(n=Vt(e))&&(i=Pu(e,n))),1===i)throw t=Vs,xu(e,0),yu(e,n),mu(e,qr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(o(345));case 2:case 5:Lu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(i=js+500-qr())){if(0!==Bt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ji(Lu.bind(null,e),i);break}Lu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(i=e.eventTimes,r=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=i[s])>r&&(r=s),n&=~a}if(n=r,10<(n=(120>(n=qr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=ji(Lu.bind(null,e),n);break}Lu(e);break;default:throw Error(o(329))}}return mu(e,qr()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),i=1<<n;e[n]=-1,t&=~i}}function bu(e){if(0!==(48&Ls))throw Error(o(327));if(Iu(),e===Ns&&0!==(e.expiredLanes&Is)){var t=Is,n=Pu(e,t);0!==(zs&Fs)&&(n=Pu(e,t=Bt(e,t)))}else n=Pu(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Gi(e.containerInfo)),0!==(t=Vt(e))&&(n=Pu(e,t))),1===n)throw n=Vs,xu(e,0),yu(e,t),mu(e,qr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lu(e),mu(e,qr()),null}function wu(e,t){var n=Ls;Ls|=1;try{return e(t)}finally{0===(Ls=n)&&(Gs(),Yr())}}function Su(e,t){var n=Ls;Ls&=-2,Ls|=8;try{return e(t)}finally{0===(Ls=n)&&(Gs(),Yr())}}function ku(e,t){dr(Os,Ds),Ds|=t,zs|=t}function Eu(){Ds=Os.current,cr(Os)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wi(n)),null!==Ms)for(n=Ms.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&yr();break;case 3:Ma(),cr(hr),cr(pr),Qa();break;case 5:Da(i);break;case 4:Ma();break;case 13:case 19:cr(Oa);break;case 10:ia(i);break;case 23:case 24:Eu()}n=n.return}Ns=e,Ms=Wu(e.current,null),Is=Ds=zs=t,Bs=0,Vs=null,qs=Fs=Us=0}function Tu(e,t){for(;;){var n=Ms;try{if(na(),Ka.current=Lo,no){for(var i=Za.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}no=!1}if(Ja=0,to=eo=Za=null,io=!1,Rs.current=null,null===n||null===n.return){Bs=1,Vs=t,Ms=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Oa.current),f=o;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!d)}}if(p){var m=f.updateQueue;if(null===m){var g=new Set;g.add(l),f.updateQueue=g}else m.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ca(-1,1);y.tag=2,da(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new ds,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var w=Uu.bind(null,a,l,s);l.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),u=ls(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=u;var S=f.type,k=f.stateNode;if(0===(64&f.flags)&&("function"===typeof S.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Js||!Js.has(k)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,ps(f,a,t));break e}}f=f.return}while(null!==f)}Ru(n)}catch(E){t=E,Ms===n&&null!==n&&(Ms=n=n.return);continue}break}}function $u(){var e=_s.current;return _s.current=Lo,null===e?Lo:e}function Pu(e,t){var n=Ls;Ls|=16;var i=$u();for(Ns===e&&Is===t||xu(e,t);;)try{Au();break}catch(r){Tu(e,r)}if(na(),Ls=n,_s.current=i,null!==Ms)throw Error(o(261));return Ns=null,Is=0,Bs}function Au(){for(;null!==Ms;)_u(Ms)}function Cu(){for(;null!==Ms&&!Ar();)_u(Ms)}function _u(e){var t=Ys(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ms=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ds)))return void(Ms=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ds)||0===(4&n.mode)){for(var i=0,r=n.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ms=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ms=t);Ms=t=e}while(null!==t);0===Bs&&(Bs=5)}function Lu(e){var t=Hr();return Wr(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Iu()}while(null!==eu);if(0!==(48&Ls))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var i=n.lanes|n.childLanes,r=i,a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-Ht(a),c=1<<l;r[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==ru&&0===(24&i)&&ru.has(e)&&ru.delete(e),e===Ns&&(Ms=Ns=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(r=Ls,Ls|=32,Rs.current=null,Ui=Qt,gi(s=mi())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch($){u=null;break e}var d=0,f=-1,p=-1,h=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(f=d+a),m!==l||0!==c&&3!==m.nodeType||(p=d+c),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++h===a&&(f=d),g===l&&++v===c&&(p=d),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Fi={focusedElem:s,selectionRange:u},Qt=!1,cu=null,du=!1,Qs=i;do{try{Mu()}catch($){if(null===Qs)throw Error(o(330));zu(Qs,$),Qs=Qs.nextEffect}}while(null!==Qs);cu=null,Qs=i;do{try{for(s=e;null!==Qs;){var b=Qs.flags;if(16&b&&ye(Qs.stateNode,""),128&b){var w=Qs.alternate;if(null!==w){var S=w.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&b){case 2:ks(Qs),Qs.flags&=-3;break;case 6:ks(Qs),Qs.flags&=-3,$s(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,$s(Qs.alternate,Qs);break;case 4:$s(Qs.alternate,Qs);break;case 8:Ts(s,u=Qs);var k=u.alternate;ws(u),null!==k&&ws(k)}Qs=Qs.nextEffect}}catch($){if(null===Qs)throw Error(o(330));zu(Qs,$),Qs=Qs.nextEffect}}while(null!==Qs);if(S=Fi,w=mi(),b=S.focusedElem,s=S.selectionRange,w!==b&&b&&b.ownerDocument&&vi(b.ownerDocument.documentElement,b)){null!==s&&gi(b)&&(w=s.start,void 0===(S=s.end)&&(S=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(S,b.value.length)):(S=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),u=b.textContent.length,k=Math.min(s.start,u),s=void 0===s.end?k:Math.min(s.end,u),!S.extend&&k>s&&(u=s,s=k,k=u),u=hi(b,k),a=hi(b,s),u&&a&&(1!==S.rangeCount||S.anchorNode!==u.node||S.anchorOffset!==u.offset||S.focusNode!==a.node||S.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),S.removeAllRanges(),k>s?(S.addRange(w),S.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),S.addRange(w))))),w=[];for(S=b;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(S=w[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Qt=!!Ui,Fi=Ui=null,e.current=n,Qs=i;do{try{for(b=e;null!==Qs;){var E=Qs.flags;if(36&E&&gs(b,Qs.alternate,Qs),128&E){w=void 0;var x=Qs.ref;if(null!==x){var T=Qs.stateNode;Qs.tag,w=T,"function"===typeof x?x(w):x.current=w}}Qs=Qs.nextEffect}}catch($){if(null===Qs)throw Error(o(330));zu(Qs,$),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Br(),Ls=r}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=i;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((E=Qs).sibling=null,E.stateNode=null),Qs=t;if(0===(i=e.pendingLanes)&&(Js=null),1===i?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,xr&&"function"===typeof xr.onCommitFiberRoot)try{xr.onCommitFiberRoot(Er,n,void 0,64===(64&n.current.flags))}catch($){}if(mu(e,qr()),Ks)throw Ks=!1,e=Xs,Xs=null,e;return 0!==(8&Ls)||Yr(),null}function Mu(){for(;null!==Qs;){var e=Qs.alternate;du||null===cu||(0!==(8&Qs.flags)?et(Qs,cu)&&(du=!0):13===Qs.tag&&As(e,Qs)&&et(Qs,cu)&&(du=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Zs||(Zs=!0,Gr(97,(function(){return Iu(),null}))),Qs=Qs.nextEffect}}function Iu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wr(e,Bu)}return!1}function Du(e,t){nu.push(t,e),Zs||(Zs=!0,Gr(97,(function(){return Iu(),null})))}function Ou(e,t){iu.push(t,e),Zs||(Zs=!0,Gr(97,(function(){return Iu(),null})))}function Bu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ls))throw Error(o(331));var t=Ls;Ls|=32;var n=iu;iu=[];for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1],s=r.destroy;if(r.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));zu(a,l)}}for(n=nu,nu=[],i=0;i<n.length;i+=2){r=n[i],a=n[i+1];try{var u=r.create;r.destroy=u()}catch(l){if(null===a)throw Error(o(330));zu(a,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ls=t,Yr(),!0}function Vu(e,t,n){da(e,t=fs(0,t=ls(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function zu(e,t){if(3===e.tag)Vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vu(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Js||!Js.has(i))){var r=ps(n,e=ls(t,e),1);if(da(n,r),r=fu(),null!==(n=vu(n,1)))qt(n,1,r),mu(n,r);else if("function"===typeof i.componentDidCatch&&(null===Js||!Js.has(i)))try{i.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Uu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Is&n)===n&&(4===Bs||3===Bs&&(62914560&Is)===Is&&500>qr()-js?xu(e,0):qs|=n),mu(e,t)}function Fu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hr()?1:2:(0===uu&&(uu=zs),0===(t=Ut(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,i){return new qu(e,t,n,i)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Yu(n.children,r,a,t);case D:s=8,r|=16;break;case T:s=8,r|=1;break;case $:return(e=Hu(12,n,t,8|r)).elementType=$,e.type=$,e.lanes=a,e;case _:return(e=Hu(13,n,t,r)).type=_,e.elementType=_,e.lanes=a,e;case R:return(e=Hu(19,n,t,r)).elementType=R,e.lanes=a,e;case O:return Qu(n,r,a,t);case B:return(e=Hu(24,n,t,r)).elementType=B,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case A:s=9;break e;case C:s=11;break e;case L:s=14;break e;case N:s=16,i=null;break e;case M:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Yu(e,t,n,i){return(e=Hu(7,e,i,t)).lanes=n,e}function Qu(e,t,n,i){return(e=Hu(23,e,i,t)).elementType=O,e.lanes=n,e}function Ku(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function el(e,t,n,i){var r=t.current,a=fu(),s=pu(r);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(gr(l)){n=wr(n,l,u);break e}}n=u}else n=fr;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),da(r,t),hu(r,s,a),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function il(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function rl(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[er]=n.current,Li(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var r=(t=i[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function al(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=tl(o);s.call(e)}}el(t,o,e,r)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,i),o=a._internalRoot,"function"===typeof r){var u=r;r=function(){var e=tl(o);u.call(e)}}Su((function(){el(t,o,e,r)}))}return tl(o)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!al(t))throw Error(o(200));return Zu(e,t,null,n)}Ys=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hr.current)Oo=!0;else{if(0===(n&i)){switch(Oo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Ia(t);break;case 1:gr(t.type)&&Sr(t);break;case 4:Na(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var r=t.type._context;dr(Jr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(dr(Oa,1&Oa.current),null!==(t=as(e,t,n))?t.sibling:null);dr(Oa,1&Oa.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(64&e.flags)){if(i)return rs(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),dr(Oa,Oa.current),i)break;return null;case 23:case 24:return t.lanes=0,Fo(e,t,n)}return as(e,t,n)}Oo=0!==(16384&e.flags)}else Oo=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=mr(t,pr.current),aa(t,n),r=oo(null,t,i,e,r,n),t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(i)){var a=!0;Sr(t)}else a=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ua(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&ma(t,i,s,e),r.updater=ga,t.stateNode=r,r._reactInternals=t,Sa(t,i,e,n),t=Wo(null,t,i,!0,a,n)}else t.tag=0,Bo(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===L)return 14}return 2}(r),e=Xr(r,e),a){case 0:t=Ho(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=Vo(null,t,r,e,n);break e;case 14:t=zo(null,t,r,Xr(r.type,e),i,n);break e}throw Error(o(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ho(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 1:return i=t.type,r=t.pendingProps,jo(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 3:if(Go(t),i=t.updateQueue,null===e||null===i)throw Error(o(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,la(e,t),pa(t,i,null,n),(i=t.memoizedState.element)===r)Ga(),t=as(e,t,n);else{if((a=(r=t.stateNode).hydrate)&&(za=Yi(t.stateNode.containerInfo.firstChild),Va=t,a=Ua=!0),a){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(a=e[r])._workInProgressVersionPrimary=e[r+1],Ya.push(a);for(n=Pa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bo(e,t,i,n),Ga();t=t.child}return t;case 5:return Ia(t),null===e&&Ha(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,Hi(i,r)?s=null:null!==a&&Hi(i,a)&&(t.flags|=16),qo(e,t),Bo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Na(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=$a(t,null,i,n):Bo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Vo(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value;var u=t.type._context;if(dr(Jr,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=ci(u,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===r.children&&!hr.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&a)){1===u.tag&&((c=ca(-1,n&-n)).tag=2,da(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ra(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Bo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(a=t.pendingProps).children,aa(t,n),i=i(r=oa(r,a.unstable_observedBits)),t.flags|=1,Bo(e,t,i,n),t.child;case 14:return a=Xr(r=t.type,t.pendingProps),zo(e,t,r,a=Xr(r.type,a),i,n);case 15:return Uo(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Xr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gr(i)?(e=!0,Sr(t)):e=!1,aa(t,n),ba(t,i,r),Sa(t,i,r,n),Wo(null,t,i,!0,e,n);case 19:return rs(e,t,n);case 23:case 24:return Fo(e,t,n)}throw Error(o(156,t.tag))},rl.prototype.render=function(e){el(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[er]=null}))},tt=function(e){13===e.tag&&(hu(e,4,fu()),il(e,4))},nt=function(e){13===e.tag&&(hu(e,67108864,fu()),il(e,67108864))},it=function(e){if(13===e.tag){var t=fu(),n=pu(e);hu(e,n,t),il(e,n)}},rt=function(e,t){return t()},Pe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=ar(i);if(!r)throw Error(o(90));X(i),ne(i,r)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ne=wu,Me=function(e,t,n,i,r){var a=Ls;Ls|=4;try{return Wr(98,e.bind(null,t,n,i,r))}finally{0===(Ls=a)&&(Gs(),Yr())}},Ie=function(){0===(49&Ls)&&(function(){if(null!==ru){var e=ru;ru=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qr())}))}Yr()}(),Iu())},De=function(e,t){var n=Ls;Ls|=2;try{return e(t)}finally{0===(Ls=n)&&(Gs(),Yr())}};var ul={Events:[ir,rr,ar,Re,Le,Iu,{current:!1}]},ll={findFiberByHostInstance:nr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Er=dl.inject(cl),xr=dl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ls;if(0!==(48&n))return e(t);Ls|=1;try{if(e)return Wr(99,e.bind(null,t))}finally{Ls=n,Yr()}},t.hydrate=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!al(e))throw Error(o(40));return!!e._reactRootContainer&&(Su((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[er]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!al(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ol(e,t,n,!1,i)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var i=n(791),r=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),a("react.fragment")}var o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,a={},l=null,c=null;for(i in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,i)&&!u.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t,n){"use strict";var i=n(725),r=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;r=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),c=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,i(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function $(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,n,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case a:u=!0}}if(u)return o=o(u=e),e=""===i?"."+$(u,0):i,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),P(o,t,n,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=""===i?".":i+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=i+$(s=e[l],l);u+=P(s,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,n,c=i+$(s,l++),o);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var i=[],r=0;return P(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var _={current:null};function R(){var e=_.current;if(null===e)throw Error(p(321));return e}var L={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var a=i({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,i,r,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(i){throw setTimeout(e,0),i}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},i=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?S.postMessage(null):(v=!1,m=null)}catch(n){throw S.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,S.postMessage(null))},i=function(e,n){g=f((function(){e(t.unstable_now())}),n)},r=function(){p(g),g=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<T(r,t)))break e;e[i]=t,e[n]=r,n=i}}function E(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var a=2*(i+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[i]=u,e[s]=n,i=s):(e[i]=o,e[a]=n,i=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[i]=u,e[s]=n,i=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var $=[],P=[],A=1,C=null,_=3,R=!1,L=!1,N=!1;function M(e){for(var t=E(P);null!==t;){if(null===t.callback)x(P);else{if(!(t.startTime<=e))break;x(P),t.sortIndex=t.expirationTime,k($,t)}t=E(P)}}function I(e){if(N=!1,M(e),!L)if(null!==E($))L=!0,n(D);else{var t=E(P);null!==t&&i(I,t.startTime-e)}}function D(e,n){L=!1,N&&(N=!1,r()),R=!0;var a=_;try{for(M(n),C=E($);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,_=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===E($)&&x($),M(n)}else x($);C=E($)}if(null!==C)var u=!0;else{var l=E(P);null!==l&&i(I,l.startTime-n),u=!1}return u}finally{C=null,_=a,R=!1}}var O=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,n(D))},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return E($)},t.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var n=_;_=t;try{return e()}finally{_=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=O,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=_;_=e;try{return t()}finally{_=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,k(P,e),null===E($)&&e===E(P)&&(N?r():N=!0,i(I,o-s))):(e.sortIndex=u,k($,e),L||R||(L=!0,n(D))),e},t.unstable_wrapCallback=function(e){var t=_;return function(){var n=_;_=t;try{return e.apply(this,arguments)}finally{_=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},696:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;var t=e((function(e,t){!function(t,n){e.exports=n()}(0,(function(){function e(e){return e&&"object"===typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,i){return i&&!0===i.clone&&e(n)?a(t(n),n,i):n}function i(t,i,r){var o=t.slice();return i.forEach((function(i,s){"undefined"===typeof o[s]?o[s]=n(i,r):e(i)?o[s]=a(t[s],i,r):-1===t.indexOf(i)&&o.push(n(i,r))})),o}function r(t,i,r){var o={};return e(t)&&Object.keys(t).forEach((function(e){o[e]=n(t[e],r)})),Object.keys(i).forEach((function(s){e(i[s])&&t[s]?o[s]=a(t[s],i[s],r):o[s]=n(i[s],r)})),o}function a(e,t,a){var o=Array.isArray(t),s=(a||{arrayMerge:i}).arrayMerge||i;return o?Array.isArray(e)?s(e,t,a):n(t,a):r(e,t,a)}return a.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return a(e,n,t)}))},a}))}));function i(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map((function(e){e(n)})),(e["*"]||[]).map((function(e){e(t,n)}))}}}var r=e((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),a=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},o=r.svg,s=r.xlink,u={};u[o.name]=o.uri,u[s.name]=s.uri;var l,c=function(e,n){void 0===e&&(e="");var i=t(u,n||{});return"<svg "+a(i)+">"+e+"</svg>"},d=r.svg,f=r.xlink,p={attrs:(l={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},l[d.name]=d.uri,l[f.name]=f.uri,l)},h=function(e){this.config=t(p,e||{}),this.symbols=[]};h.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},h.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},h.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},h.prototype.has=function(e){return null!==this.find(e)},h.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return c(t,e)},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var v=function(e){var t=e.id,n=e.viewBox,i=e.content;this.id=t,this.viewBox=n,this.content=i};v.prototype.stringify=function(){return this.content},v.prototype.toString=function(){return this.stringify()},v.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},g=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"===typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(v),y={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},b=function(e){return Array.prototype.slice.call(e,0)},w={isChrome:function(){return/chrome/i.test(navigator.userAgent)},isFirefox:function(){return/firefox/i.test(navigator.userAgent)},isIE:function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},isEdge:function(){return/edge/i.test(navigator.userAgent)}},S=function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)},k=function(e){var t=[];return b(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})),t},E=function(e){return(e||window.location.href).split("#")[0]},x=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,i){S(e,{oldUrl:i,newUrl:n})}))}])},T="linearGradient, radialGradient, pattern, mask, clipPath",$=function(e,t){return void 0===t&&(t=T),b(e.querySelectorAll("symbol")).forEach((function(e){b(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e};function P(e,t){return b(e).reduce((function(e,n){if(!n.attributes)return e;var i=b(n.attributes),r=t?i.filter(t):i;return e.concat(r)}),[])}var A=r.xlink.uri,C="xlink:href",_=/[{}|\\\^\[\]`"<>]/g;function R(e){return e.replace(_,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}function L(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(e,t,n){return b(e).forEach((function(e){var i=e.getAttribute(C);if(i&&0===i.indexOf(t)){var r=i.replace(t,n);e.setAttributeNS(A,C,r)}})),e}var M=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],I=M.map((function(e){return"["+e+"]"})).join(","),D=function(e,t,n,i){var r=R(n),a=R(i);P(e.querySelectorAll(I),(function(e){var t=e.localName,n=e.value;return-1!==M.indexOf(t)&&-1!==n.indexOf("url("+r)})).forEach((function(e){return e.value=e.value.replace(new RegExp(L(r),"g"),a)})),N(t,r,a)},O={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"};return function(e){function n(n){var r=this;void 0===n&&(n={}),e.call(this,t(y,n));var a=i();this._emitter=a,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(n),o.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");a.on(O.MOUNT,(function(){return r.updateUrls("#",s)}))}var u=this._handleLocationChange.bind(this);this._handleLocationChange=u,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,u),o.locationChangeAngularEmitter&&x(o.locationChangeEvent),a.on(O.MOUNT,(function(e){o.moveGradientsOutsideSymbol&&$(e)})),a.on(O.SYMBOL_MOUNT,(function(e){o.moveGradientsOutsideSymbol&&$(e.parentNode),(w.isIE()||w.isEdge())&&k(e)}))}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;"undefined"===typeof e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag="undefined"!==typeof document.getElementsByTagName("base")[0]),"undefined"===typeof e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="undefined"!==typeof window.angular),"undefined"===typeof e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=w.isFirefox())},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,i=t.newUrl;this.updateUrls(n,i)},n.prototype.add=function(t){var n=this,i=e.prototype.add.call(this,t);return this.isMounted&&i&&(t.mount(n.node),this._emitter.emit(O.SYMBOL_MOUNT,t.node)),i},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var i="string"===typeof e?document.querySelector(e):e;return n.node=i,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(O.SYMBOL_MOUNT,e.node)})),b(i.querySelectorAll("symbol")).forEach((function(e){var t=g.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(O.MOUNT,i),i},n.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,i=e._emitter;n.forEach((function(e){return e.destroy()})),i.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var i="string"===typeof e?document.querySelector(e):e,r=n.render();return this.node=r,t&&i.childNodes[0]?i.insertBefore(r,i.childNodes[0]):i.appendChild(r),this._emitter.emit(O.MOUNT,r),r},n.prototype.render=function(){return m(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return D(this.node,n,E(e)+"#",E(t)+"#"),!0},Object.defineProperties(n.prototype,r),n}(h)}()},111:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,i=e.content;this.id=t,this.viewBox=n,this.content=i};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var t=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n};function i(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;var r=i((function(e,t){!function(t,n){e.exports=n()}(0,(function(){function e(e){return e&&"object"===typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,i){return i&&!0===i.clone&&e(n)?a(t(n),n,i):n}function i(t,i,r){var o=t.slice();return i.forEach((function(i,s){"undefined"===typeof o[s]?o[s]=n(i,r):e(i)?o[s]=a(t[s],i,r):-1===t.indexOf(i)&&o.push(n(i,r))})),o}function r(t,i,r){var o={};return e(t)&&Object.keys(t).forEach((function(e){o[e]=n(t[e],r)})),Object.keys(i).forEach((function(s){e(i[s])&&t[s]?o[s]=a(t[s],i[s],r):o[s]=n(i[s],r)})),o}function a(e,t,a){var o=Array.isArray(t),s=(a||{arrayMerge:i}).arrayMerge||i;return o?Array.isArray(e)?s(e,t,a):n(t,a):r(e,t,a)}return a.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return a(e,n,t)}))},a}))})),a=i((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),o=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},s=a.svg,u=a.xlink,l={};l[s.name]=s.uri,l[u.name]=u.uri;var c=function(e,t){void 0===e&&(e="");var n=r(l,t||{});return"<svg "+o(n)+">"+e+"</svg>"},d=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var i={isMounted:{}};return i.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"===typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},n.prototype.render=function(){var e=this.stringify();return t(c(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,i),n}(e);return d}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return i[e]}}));return o.default=function(){return i},n.d(a,o),a}}(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{792:"1df62de2",843:"2f8e7983"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="mini-app:";n.l=function(i,r,a,o){if(e[i])e[i].push(r);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=i),e[i]=[r];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(i){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,i){var r,a,o=i[0],s=i[1],u=i[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(u)u(n)}for(t&&t(i);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkmini_app=self.webpackChunkmini_app||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";var e=n(791),t=n(164),i=n(677),r=n.n(i);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(u){s=!0,r=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=!("undefined"===typeof window||!window.document||!window.document.createElement),l=u&&!!window.addEventListener;var c={supported:!1,name:"animationend"},d={supported:!1,name:"transitionend"};u&&("undefined"!==typeof AnimationEvent?c.supported=!0:"undefined"!==typeof WebKitAnimationEvent&&(c.supported=!0,c.name="webkitAnimationEnd"),"undefined"!==typeof TransitionEvent?d.supported=!0:"undefined"!==typeof WebKitTransitionEvent&&(d.supported=!0,d.name="webkitTransitionEnd"));var f=function(){};if(l)try{var p=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("test",f,p),window.removeEventListener("test",f,p)}catch(Vl){}!function(){if(!u)return!1;var e=!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return e=!0,"smooth"}})}catch(Vl){}}();function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){e||(e=u?navigator.userAgent.toLowerCase():"");var t=function(e){if(!u)return!1;var t=!/ipad|iphone|ipod/.test(e);if(/mac os/.test(e)&&t&&"boolean"===typeof navigator.standalone)return!0;return!1}(e),n=t||-1!==e.indexOf("ipad"),i=!n&&-1!==e.search(/iphone|ipod/),r=i||n,a=r&&e.match(/OS ([\d_]+) like Mac OS X/i),o=0,s=0;t?(o=13,s=0):a&&(o=+(a=a[1].split("_"))[0],s=+a[1]),a=null;var l=o<13&&!(11===o&&s<3),c=r&&function(e){if(!u)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),i=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone){if(!i&&n||!window.statusbar||!window.statusbar.visible);else if(!n||i)return!0}else;return!1}(e),d=!1;return u&&(d=r&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:i,isIOS:r,isIPadOS:t,iosMajor:o,iosMinor:s,isWKWebView:c,isScrollBasedViewport:l,isIPhoneX:d,isIOSChrome:-1!==e.search(/crios/i)}}var w,S,k=b(),E=(k.isIPad,k.isIPhone,k.isIOS),x=k.isIPadOS;k.iosMajor,k.iosMinor,k.isWKWebView,k.isScrollBasedViewport,k.isIPhoneX,k.isIOSChrome;if(u)if(E&&!x)w=!1,S=!1,!0,!0;else if("ontouchstart"in document||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0){var T=!/android|mobile|tablet/i.test(navigator.userAgent);w=window.matchMedia&&matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:T,S=w&&(window.matchMedia&&matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:T)}else w=!0,S=!0;else w=!1,!1,S=!1,!1;if(u){var $=Element.prototype;$.matches||($.matches=$.matchesSelector||$.webkitMatchesSelector||$.mozMatchesSelector||$.msMatchesSelector),$.closest||($.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},P.apply(this,arguments)}function A(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Vl){return!1}}function M(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function I(e){var t=N();return function(){var n,i=L(e);if(t){var r=L(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return M(this,n)}}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;var r=0|t,a=Math.max(r>=0?r:i-Math.abs(r),0);function o(e,t){return e===t||"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)}for(;a<i;){if(o(n[a],e))return!0;a++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,i=arguments[1],r=0;r<n;r++){var a=t[r];if(e.call(i,a,r,t))return a}}});var D={_noConflict:!1,_isSet:!1,get noConflict(){return this._noConflict},set noConflict(e){this._isSet&&e!==this.noConflict&&setTimeout((function(){throw new Error("[vkui]: Single VKUI instance can not have different globalClassName settings")}),0),this._noConflict=e,this._isSet=!0}},O=D,B=/\b(?=[A-Z])/g,V={},z={};function U(e){var t=O.noConflict,n=t?V:z;if(n[e])return n[e];var i=e.replace(B,"vkui"),r=t||e===i?i:i+" "+e;return n[e]=r,r}function F(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"vkuiClass"!==n&&(t[n]=e[n]);if(e.vkuiClass){var i=e.className,r=function(e){if("string"===typeof e)return U(e);for(var t="",n=0;n<e.length;n++)t+=(t?" ":"")+U(e[n]);return t}(e.vkuiClass);t.className=i?i+" "+r:r}return t}function q(t,n){var i=arguments;if(!n||!("vkuiClass"in n))return e.createElement.apply(void 0,i);var r=i.length,a=new Array(r);a[0]=i[0],a[1]=F(n);for(var o=2;o<r;o++)a[o]=i[o];return e.createElement.apply(null,a)}function H(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n)switch(v(n)){case"string":e.push(n);break;case"object":for(var i in n)n[i]&&e.push(i);break;default:e.push("".concat(n))}}return e.length>1?e:e[0]||""}function j(){var e=H.apply(void 0,arguments);return"string"===typeof e?e:e.join(" ")}q.Fragment=e.Fragment;var W,G=Boolean(u&&window.__isVkuiTesting),Y={supported:!1},Q={supported:!1,name:null};u&&!G&&(("undefined"!==typeof AnimationEvent||"undefined"!==typeof WebKitAnimationEvent)&&(Y.supported=!0),"undefined"!==typeof TransitionEvent?(Q.supported=!0,Q.name="transitionend"):"undefined"!==typeof WebKitTransitionEvent&&(Q.supported=!0,Q.name="webkitTransitionEnd")),function(e){e.IOS="ios",e.UNKNOWN=""}(W||(W={}));var K,X={};!function(e){e.ANDROID="android",e.IOS="ios",e.VKCOM="vkcom"}(K||(K={}));var J=K.ANDROID,Z=K.IOS,ee=K.VKCOM;function te(e){return e||(e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(X[e])return X[e];var t=null,n=W.UNKNOWN,i=b(e),r=i.isIOS,a=i.iosMajor,o=i.iosMinor;r&&(n=W.IOS,t={major:a,minor:o});var s={userAgent:e,system:n,systemVersion:t};return X[e]=s,s}()),"ios"===e.system?Z:J}te();function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:te();return"".concat(e," ").concat(e,"--").concat(t)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){return null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX},oe=function(e){return null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY},se=function(){return u&&"ontouchstart"in window};function ue(){return se()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}var le=e.createContext({window:u?window:void 0,document:u?document:void 0}),ce=function(){return e.useContext(le)};function de(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function fe(e){return"string"===typeof e||"number"===typeof e}function pe(e,t){t&&("function"===typeof t?t(e):t.current=e)}var he=function(){};function ve(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=e.useRef(null);return e.useMemo((function(){return{get current(){return r.current},set current(e){r.current=e,n.forEach((function(t){t&&pe(e,t)}))}}}),n)}var me=u?e.useLayoutEffect:e.useEffect;function ge(t,n,i){var r=e.useRef(n);me((function(){r.current=n}),[n]);var a=e.useCallback((function(e){return r.current&&r.current(e)}),[]),o=e.useRef(he),s=e.useCallback((function(){o.current(),o.current=he}),[]),l=e.useCallback((function(e){if(u&&(s(),e)){var n=re({},i);e.addEventListener(t,a,n),o.current=function(){return e.removeEventListener(t,a,n)}}}),[i,a,t,s]);return e.useEffect((function(){return s}),[s]),{add:l,remove:s}}var ye=["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"],be=function(t){var n=t.onStart,i=t.onStartX,r=t.onStartY,a=t.onMove,o=t.onMoveX,s=t.onMoveY,u=t.onLeave,l=t.onEnter,c=t.onEnd,d=t.onEndX,f=t.onEndY,p=t.onClickCapture,h=t.usePointerHover,v=t.slideThreshold,m=void 0===v?5:v,g=t.useCapture,y=void 0!==g&&g,b=t.Component,w=void 0===b?"div":b,S=t.getRootRef,k=t.noSlideClick,E=void 0!==k&&k,x=t.stopPropagation,T=void 0!==x&&x,$=A(t,ye),C=ce().document,_=e.useMemo(ue,[]),R=e.useRef(!1),L=e.useRef(null),N=function(e,t){T&&e.stopPropagation(),t.forEach((function(t){var n,i,r,a=Date.now()-(null!==(n=null===(i=L.current)||void 0===i||null===(r=i.startT)||void 0===r?void 0:r.getTime())&&void 0!==n?n:0);t&&t(re(re({},L.current),{},{duration:a,originalEvent:e}))}))},M=ge(h?"pointerenter":"mouseenter",l),I=ge(h?"pointerleave":"mouseleave",u),D=ge(_[0],(function(e){var t,a;L.current=(t=ae(e),a=oe(e),{startX:t,startY:a,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),N(e,[n,i,r]),U(se()?e.target:C)}),{capture:y,passive:!1}),O=ve(S);function B(e){var t,n=null!==(t=L.current)&&void 0!==t?t:{},i=n.isPressed,r=n.isSlide,a=n.isSlideX,o=n.isSlideY;i&&N(e,[c,o&&f,a&&d]),R.current=Boolean(r),L.current={},se()&&u&&u(e),U(null)}me((function(){var e=O.current;e&&(M.add(e),I.add(e),D.add(e))}),[w]);var V={capture:y,passive:!1},z=[ge(_[1],(function(e){var t,n=null!==(t=L.current)&&void 0!==t?t:{},i=n.isPressed,r=n.isX,u=n.isY,l=n.startX,c=void 0===l?0:l,d=n.startY,f=void 0===d?0:d;if(i){var p,h=ae(e)-c,v=oe(e)-f,g=Math.abs(h),y=Math.abs(v);if(e.touches&&e.touches.length>1)return B(e);if(!r&&!u){var b=g>=m&&g>y,w=y>=m&&y>g,S=b&&(!!o||!!a),k=w&&(!!s||!!a);Object.assign(L.current,{isY:w,isX:b,isSlideX:S,isSlideY:k,isSlide:S||k})}null!==(p=L.current)&&void 0!==p&&p.isSlide&&(Object.assign(L.current,{shiftX:h,shiftY:v,shiftXAbs:g,shiftYAbs:y}),N(e,[a,L.current.isSlideX&&o,L.current.isSlideY&&s]))}}),V),ge(_[2],B,V),ge(_[3],B,V)];function U(e){e&&z.forEach((function(t){return t.add(e)}))}return q(w,P({},$,{onDragStart:function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:function(e){if(!R.current)return p&&p(e);e.target.closest("a")&&e.preventDefault(),E?e.stopPropagation():p&&p(e),R.current=!1},ref:O}))};var we,Se=e.createContext({platform:null,userAgent:"",browserInfo:void 0});!function(e){e.VKAPPS="vkapps",e.INTERNAL="internal"}(we||(we={}));var ke=e.createContext({webviewType:we.VKAPPS,isWebView:r().isWebView(),transitionMotionEnabled:!0,platform:te(),hasNewTokens:!1});function Ee(t,n,i){return function(r){var a=e.useContext(n);return q(t,P({},r,h({},i,a)))}}var xe,Te,$e=["children","width","maxWidth","minWidth","spaced","animate","fixed","style"],Pe=e.createContext({colRef:null,animate:!0}),Ae=function(t){var n=t.children,i=t.width,r=t.maxWidth,a=t.minWidth,o=t.spaced,s=t.animate,u=void 0!==s&&s,l=t.fixed,c=t.style,d=A(t,$e),f=e.useRef(null),p=e.useMemo((function(){return{colRef:f,animate:u}}),[f,u]);return q("div",P({},d,{style:re(re({},c),{},{width:i,maxWidth:r,minWidth:a}),ref:f,vkuiClass:H("SplitCol",{"SplitCol--spaced":o,"SplitCol--fixed":l})}),q(Pe.Provider,{value:p},l?q("div",{vkuiClass:"SplitCol__fixedInner"},n):n))},Ce=e.createContext({portalRoot:null});function _e(e){var t={};return function(n){t[n]||(console.error("[VKUI/".concat(e,"] ").concat(n)),t[n]=!0)}}function Re(e){var t=e.platform;switch(e.appearance){case"dark":return t===ee?xe.VKCOM_DARK:xe.SPACE_GRAY;case"light":return t===ee?xe.VKCOM_LIGHT:xe.BRIGHT_LIGHT}}!function(e){e.DEPRECATED_CLIENT_LIGHT="client_light",e.DEPRECATED_CLIENT_DARK="client_dark",e.VKCOM="vkcom",e.BRIGHT_LIGHT="bright_light",e.SPACE_GRAY="space_gray",e.VKCOM_LIGHT="vkcom_light",e.VKCOM_DARK="vkcom_dark"}(xe||(xe={})),function(e){e.DARK="dark",e.LIGHT="light"}(Te||(Te={}));_e("scheme");var Le=e.createContext(Te.LIGHT);function Ne(){var t=e.useContext(Se),n=e.useContext(ke).platform;return t.platform||n}var Me=function(e,t){var n;switch(e){case K.ANDROID:n="vkBase";break;case K.IOS:n="vkIOS";break;case K.VKCOM:n="vkCom";break;default:n=e}return"vkui--".concat(n,"--").concat(t)},Ie=function(t){var n=t.children,i=t.appearance,r=void 0===i?"light":i,a=Ne(),o=Re({platform:a,appearance:r});return q(Le.Provider,{value:r},e.Children.map(n,(function(t){return e.isValidElement(t)?e.cloneElement(t,{className:j(t.props.className,"vkui".concat(o),Me(a,r))}):t})))},De=function(n){var i,r=n.children,a=n.className,o=n.forcePortal,s=e.useContext(Ce),u=s.portalRoot,l=s.mode,c=e.useContext(Le);return o=null!==(i=o)&&void 0!==i?i:"full"!==l,u&&o?(0,t.createPortal)(q(Ie,{appearance:c},q("div",{className:a},r)),u):q(e.Fragment,null,r)},Oe=function(e,t,n){return Math.max(t,Math.min(e,n))};var Be=e.createContext({getScroll:function(){return{x:0,y:0}},scrollTo:he});function Ve(t){var n,i,r=e.useRef(t);return n=r.current,i=t,Object.keys(n).length===Object.keys(i).length&&Object.keys(n).every((function(e){return n[e]===i[e]}))||(r.current=t),r.current}var ze=e.createContext({entering:!1}),Ue=function(t){var n=t.children,i=t.entering,r=Ve({entering:e.useContext(ze).entering||i});return q(ze.Provider,{value:r},n)};function Fe(e,t){return e.nav||e.id}var qe,He=["popout","modal","platform","activePanel","splitCol","configProvider","history","nav","onTransition","onSwipeBack","onSwipeBackStart","onSwipeBackCancel","window","document","scroll"];!function(e){e[e.fail=1]="fail",e[e.success=2]="success"}(qe||(qe={}));var je={},We=(_e("View"),function(t){R(i,t);var n=I(i);function i(e){var t;return m(this,i),h(C(t=n.call(this,e)),"scrolls",je[Fe(t.props)]||{}),h(C(t),"transitionFinishTimeout",void 0),h(C(t),"animationFinishTimeout",void 0),h(C(t),"panelNodes",{}),h(C(t),"transitionEndHandler",(function(e){e&&!["vkui-animation-ios-next-forward","vkui-animation-ios-prev-back","vkui-animation-view-next-forward","vkui-animation-view-prev-back"].includes(e.animationName)||null===t.state.prevPanel||t.flushTransition(t.state.prevPanel,Boolean(t.state.isBack))})),h(C(t),"swipingBackTransitionEndHandler",(function(e){if(!e||null!==e&&void 0!==e&&e.propertyName.includes("transform")&&(null===e||void 0===e?void 0:e.target)===t.pickPanel(t.state.swipeBackNextPanel))switch(t.state.swipeBackResult){case qe.fail:t.onSwipeBackCancel();break;case qe.success:t.onSwipeBackSuccess()}})),h(C(t),"onMoveX",(function(e){if(!function(e){var t=e.originalEvent.target;return Boolean(null===t||void 0===t?void 0:t.closest("input, textarea, [data-vkui-swipe-back=false]"))}(e)){var n=t.props,i=n.platform,r=n.configProvider;if(i!==Z||null!==r&&void 0!==r&&r.isWebView||!(e.startX<=70||e.startX>=t.window.innerWidth-70)||t.state.browserSwipe||t.setState({browserSwipe:!0}),i===Z&&null!==r&&void 0!==r&&r.isWebView&&t.props.onSwipeBack){var a,o;if(t.state.animated&&e.startX<=70||!t.window)return;if(e.startX<=70&&!t.state.swipingBack&&(null!==(a=null===(o=t.props.history)||void 0===o?void 0:o.length)&&void 0!==a?a:0)>1){var s;if(null!==t.state.activePanel)t.scrolls[t.state.activePanel]=null===(s=t.props.scroll)||void 0===s?void 0:s.getScroll().y;t.setState({swipingBack:!0,swipebackStartX:e.startX,swipeBackPrevPanel:t.state.activePanel,swipeBackNextPanel:t.props.history.slice(-2)[0]})}if(t.state.swipingBack){var u=0;if(e.shiftX<0)u=0;else if(e.shiftX>t.window.innerWidth-t.state.swipebackStartX){var l;u=null===(l=t.window)||void 0===l?void 0:l.innerWidth}else u=e.shiftX;t.setState({swipeBackShift:u})}}}})),h(C(t),"onEnd",(function(e){if(t.state.swipingBack&&t.window){var n,i,r=t.state.swipeBackShift/e.duration*1e3;0===t.state.swipeBackShift?t.onSwipeBackCancel():t.state.swipeBackShift>=(null!==(n=null===(i=t.window)||void 0===i?void 0:i.innerWidth)&&void 0!==n?n:0)?t.onSwipeBackSuccess():r>250||t.state.swipebackStartX+t.state.swipeBackShift>t.window.innerWidth/2?t.setState({swipeBackResult:qe.success}):t.setState({swipeBackResult:qe.fail})}})),t.state={animated:!1,visiblePanels:[e.activePanel],activePanel:e.activePanel,isBack:void 0,prevPanel:null,nextPanel:null,swipingBack:!1,swipebackStartX:0,swipeBackShift:0,swipeBackNextPanel:null,swipeBackPrevPanel:null,swipeBackResult:null,browserSwipe:!1},t}return y(i,[{key:"document",get:function(){return this.props.document}},{key:"window",get:function(){return this.props.window}},{key:"panels",get:function(){return e.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){var e=Fe(this.props);e&&(je[e]=this.scrolls)}},{key:"componentDidUpdate",value:function(e,t){var n,i=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.modal&&!e.modal&&this.blurActiveElement(),e.activePanel!==this.props.activePanel&&!t.swipingBack&&!t.browserSwipe){var r,a=this.panels.map((function(e){return Fe(e.props)})).find((function(t){return t===e.activePanel||t===i.props.activePanel})),o=a===this.props.activePanel;this.scrolls[e.activePanel]=null===(r=this.props.scroll)||void 0===r?void 0:r.getScroll().y,this.shouldDisableTransitionMotion()?this.flushTransition(e.activePanel,o):(this.blurActiveElement(),this.setState({visiblePanels:[e.activePanel,this.props.activePanel],prevPanel:e.activePanel,nextPanel:this.props.activePanel,activePanel:null,animated:!0,isBack:o}),Y.supported||(this.animationFinishTimeout&&clearTimeout(this.animationFinishTimeout),this.animationFinishTimeout=setTimeout(this.transitionEndHandler,this.props.platform===J||this.props.platform===ee?300:600)))}if(e.activePanel!==this.props.activePanel&&t.swipingBack){var s=this.props.activePanel,u=e.activePanel;null!==t.swipeBackPrevPanel&&(this.scrolls[t.swipeBackPrevPanel]=0),this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0,activePanel:s,visiblePanels:[s]},(function(){var t;null!==i.state.activePanel&&(null===(t=i.props.scroll)||void 0===t||t.scrollTo(0,i.scrolls[i.state.activePanel]));e.onTransition&&e.onTransition({isBack:!0,from:u,to:s})}))}(!t.swipingBack&&this.state.swipingBack&&this.props.onSwipeBackStart&&this.props.onSwipeBackStart(),!t.swipeBackResult&&this.state.swipeBackResult&&this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel),this.swipingBackTransitionEndHandler),t.swipeBackResult!==qe.fail||this.state.swipeBackResult||null===this.state.activePanel)||(null===(n=this.props.scroll)||void 0===n||n.scrollTo(0,this.scrolls[this.state.activePanel]));e.activePanel!==this.props.activePanel&&this.state.browserSwipe&&this.setState({browserSwipe:!1,nextPanel:null,prevPanel:null,animated:!1,visiblePanels:[this.props.activePanel],activePanel:this.props.activePanel})}},{key:"shouldDisableTransitionMotion",value:function(){var e,t;return!1===(null===(e=this.props.configProvider)||void 0===e?void 0:e.transitionMotionEnabled)||!(null!==(t=this.props.splitCol)&&void 0!==t&&t.animate)}},{key:"waitTransitionFinish",value:function(e,t){Q.supported&&Q.name&&e?(e.removeEventListener(Q.name,t),e.addEventListener(Q.name,t)):(this.transitionFinishTimeout&&clearTimeout(this.transitionFinishTimeout),this.transitionFinishTimeout=setTimeout(t,this.props.platform===J||this.props.platform===ee?300:600))}},{key:"blurActiveElement",value:function(){var e;"undefined"!==typeof this.window&&null!==(e=this.document)&&void 0!==e&&e.activeElement&&this.document.activeElement.blur()}},{key:"pickPanel",value:function(e){if(null!==e)return this.panelNodes[e]}},{key:"flushTransition",value:function(e,t){var n=this,i=this.props.activePanel;t&&(this.scrolls[e]=0),this.setState({prevPanel:null,nextPanel:null,visiblePanels:[i],activePanel:i,animated:!1,isBack:void 0},(function(){var r;null===(r=n.props.scroll)||void 0===r||r.scrollTo(0,t?n.scrolls[i]:0),n.props.onTransition&&n.props.onTransition({isBack:t,from:e,to:i})}))}},{key:"onSwipeBackSuccess",value:function(){this.props.onSwipeBack&&this.props.onSwipeBack()}},{key:"onSwipeBackCancel",value:function(){this.props.onSwipeBackCancel&&this.props.onSwipeBackCancel(),this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0})}},{key:"calcPanelSwipeStyles",value:function(e){if(!u||!this.window)return{};var t=e===this.state.swipeBackPrevPanel,n=e===this.state.swipeBackNextPanel;if(!t&&!n||this.state.swipeBackResult)return{};var i="".concat(this.state.swipeBackShift,"px"),r="".concat(100*this.state.swipeBackShift/this.window.innerWidth/2-50,"%"),a=.3*(this.window.innerWidth-this.state.swipeBackShift)/this.window.innerWidth;return this.state.swipeBackResult?t?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(a,")")}:{}:n?{transform:"translate3d(".concat(r,", 0, 0)"),WebkitTransform:"translate3d(".concat(r,", 0, 0)")}:t?{transform:"translate3d(".concat(i,", 0, 0)"),WebkitTransform:"translate3d(".concat(i,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(a,")")}:{}}},{key:"render",value:function(){var e=this,t=this.props,n=t.popout,i=t.modal,r=t.platform,a=(t.activePanel,t.splitCol,t.configProvider,t.history,t.nav,t.onTransition,t.onSwipeBack,t.onSwipeBackStart,t.onSwipeBackCancel,t.window,t.document,t.scroll,A(t,He)),o=this.state,s=o.prevPanel,u=o.nextPanel,l=o.activePanel,c=o.swipeBackPrevPanel,d=o.swipeBackNextPanel,f=o.swipeBackResult,p=o.isBack,h=o.animated,v=!!n,m=!!i,g=this.panels.filter((function(t){var n=Fe(t.props);return void 0!==n&&e.state.visiblePanels.includes(n)||n===c||n===d})),y=this.shouldDisableTransitionMotion(),b={"View--animated":!y&&h,"View--swiping-back":!y&&this.state.swipingBack,"View--no-motion":y};return q(be,P({Component:"section"},a,{vkuiClass:H(ne("View",r),b),onMoveX:this.onMoveX,onEnd:this.onEnd}),q("div",{vkuiClass:"View__panels"},g.map((function(t){var n,i=Fe(t.props),r=h&&i===(p?s:u),a=i===s||i===c||i===d||i===u&&p;return q("div",{vkuiClass:H("View__panel",{"View__panel--active":i===l,"View__panel--prev":i===s,"View__panel--next":i===u,"View__panel--swipe-back-prev":i===c,"View__panel--swipe-back-next":i===d,"View__panel--swipe-back-success":f===qe.success,"View__panel--swipe-back-failed":f===qe.fail}),onAnimationEnd:r?e.transitionEndHandler:void 0,ref:function(t){return void 0!==i&&(e.panelNodes[i]=t)},style:e.calcPanelSwipeStyles(i),key:i},q("div",{vkuiClass:"View__panel-in",style:{marginTop:a?-(null!==(n=e.scrolls[i])&&void 0!==n?n:0):void 0}},q(Ue,{entering:i===u||i===d},t)))}))),q(De,null,v&&q("div",{vkuiClass:"View__popout"},n),m&&q("div",{vkuiClass:"View__modal"},i)))}}]),i}(e.Component));h(We,"defaultProps",{history:[]});var Ge,Ye,Qe,Ke,Xe=Ee(Ee(Ee(function(t){return function(n){var i=e.useContext(Se),r=e.useContext(ke).platform;return q(t,P({},n,{platform:i.platform||r}))}}((Ge=We,function(e){var t=ce();return q(Ge,P({},e,t))})),Pe,"splitCol"),ke,"configProvider"),Be,"scroll"),Je=["fixed"],Ze=e.forwardRef((function(e,t){var n=e.fixed,i=void 0!==n&&n,r=A(e,Je);return r["data-tooltip-container"]=i?"fixed":"true",q("div",P({},r,{ref:t}))}));!function(e){e.COMPACT="compact",e.REGULAR="regular"}(Ye||(Ye={})),function(e){e[e.SMALL_MOBILE=1]="SMALL_MOBILE",e[e.MOBILE=2]="MOBILE",e[e.SMALL_TABLET=3]="SMALL_TABLET",e[e.TABLET=4]="TABLET",e[e.DESKTOP=5]="DESKTOP"}(Qe||(Qe={})),function(e){e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.MEDIUM=3]="MEDIUM"}(Ke||(Ke={}));var et=e.createContext({sizeX:Ye.COMPACT,sizeY:Ye.REGULAR,hasMouse:w,deviceHasHover:S,viewWidth:0,viewHeight:0});function tt(t,n){return function(i){var r=e.useContext(et),a=!1;(i.sizeX||i.sizeY)&&(a=!0);var o=i.sizeX||r.sizeX,s=i.sizeY||r.sizeY,u=r.viewWidth,l=r.viewHeight,c=r.hasMouse,d=r.deviceHasHover,f={};n.sizeX&&(f.sizeX=o),n.sizeY&&(f.sizeY=s),n.viewWidth&&(f.viewWidth=u),n.viewHeight&&(f.viewHeight=l),n.hasMouse&&(f.hasMouse=c),n.deviceHasHover&&(f.deviceHasHover=d);var p=q(t,P({},i,f));return a?q(et.Provider,{value:{sizeX:o,sizeY:s,viewWidth:u,viewHeight:l,hasMouse:c,deviceHasHover:d}},p):p}}var nt=["centered","children","getRootRef","sizeX","nav"],it=tt((function(e){var t=e.centered,n=void 0!==t&&t,i=e.children,r=e.getRootRef,a=e.sizeX,o=(e.nav,A(e,nt)),s=Ne();return q("div",P({},o,{ref:r,vkuiClass:H(ne("Panel",s),"Panel--".concat(a),h({"Panel--centered":n},"Panel--sizeX-".concat(a),!0))}),q(be,{Component:Ze,vkuiClass:"Panel__in"},s===Z&&q("div",{vkuiClass:"Panel__fade"}),q("div",{vkuiClass:"Panel__in-before"}),n?q("div",{vkuiClass:"Panel__centered"},i):i,q("div",{vkuiClass:"Panel__in-after"})))}),{sizeX:!0});function rt(e,t,n,i){var r=ge(t,n,i);me((function(){n&&e?r.add(e):r.remove()}),[Boolean(n),Boolean(e)])}var at=["children","style","vertical","getRootRef","getRef","filled"],ot=function(t){var n=t.children,i=t.style,r=t.vertical,a=t.getRootRef,o=t.getRef,u=t.filled,l=A(t,at),c=Ne(),d=s(e.useState(void 0),2),f=d[0],p=d[1],h=ce().window,v=e.useContext(Pe).colRef,m=function(){return p(null!==v&&void 0!==v&&v.current?"".concat(v.current.offsetWidth,"px"):void 0)};return e.useEffect(m,[v]),rt(h,"resize",m),q(Ze,P({},l,{fixed:!0,ref:a,vkuiClass:H(ne("FixedLayout",c),{"FixedLayout--filled":u},"FixedLayout--".concat(r)),style:re(re({},i),{},{width:f})}),q("div",{vkuiClass:"FixedLayout__in",ref:o},n))},st=["wide","expanded"],ut=function(e){var t=e.wide,n=e.expanded;return q("div",P({},A(e,st),{"aria-hidden":"true",vkuiClass:H(ne("Separator",Ne()),{"Separator--wide":t})}),q("div",{vkuiClass:H("Separator__in",{"Separator__in--expanded":n})}))},lt=e.memo(ut),ct=["children","weight","Component","getRootRef"],dt=(_e("Text"),function(e){var t=e.children,n=e.weight,i=void 0===n?"regular":n,r=e.Component,a=void 0===r?"span":r,o=e.getRootRef;return q(a,P({},A(e,ct),{ref:o,vkuiClass:H(ne("Text",Ne()),"Text--w-".concat(i))}),t)}),ft=e.createContext({updateModalHeight:function(){},registerModal:function(){},isInsideModal:!1});var pt=ft,ht=["left","children","right","separator","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed"],vt=function(t){var n=t.children,i=t.left,r=t.right,a=e.useContext(ke).webviewType,o=e.useContext(pt).isInsideModal,s=Ne();return q(Ze,{fixed:!0,vkuiClass:"PanelHeader__in"},q("div",{vkuiClass:"PanelHeader__left"},i),q("div",{vkuiClass:"PanelHeader__content"},s===ee?q(dt,{weight:"medium"},n):q("span",{vkuiClass:"PanelHeader__content-in"},n)),q("div",{vkuiClass:"PanelHeader__right"},(a===we.INTERNAL||o)&&r))},mt=function(t){var n=t.left,i=(t.children,t.right),r=t.separator,a=t.visor,o=t.transparent,s=t.shadow,u=t.getRef,l=t.getRootRef,c=t.sizeX,d=(t.sizeY,t.fixed),f=A(t,ht),p=Ne(),h=e.useContext(ke).webviewType,v=e.useContext(pt).isInsideModal,m=s&&c===Ye.REGULAR,g=void 0!==d?d:p!==K.VKCOM;return q("div",P({},f,{vkuiClass:H(ne("PanelHeader",p),{"PanelHeader--trnsp":o,"PanelHeader--shadow":m,"PanelHeader--vis":a,"PanelHeader--sep":r&&a,"PanelHeader--vkapps":h===we.VKAPPS&&!v,"PanelHeader--no-left":!n,"PanelHeader--no-right":!i,"PanelHeader--fixed":g},"PanelHeader--sizeX-".concat(c)),ref:g?l:u}),g?q(ot,{vkuiClass:"PanelHeader__fixed",vertical:"top",getRootRef:u},q(vt,t)):q(vt,t),r&&a&&p!==ee&&q(lt,{vkuiClass:"PanelHeader__separator",expanded:c===Ye.REGULAR}))};mt.defaultProps={separator:!0,transparent:!1,visor:!0};var gt=tt(mt,{sizeX:!0,sizeY:!0}),yt=["popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef"],bt=function(t){var n=t.popout,i=t.modal,r=t.viewWidth,a=t.viewHeight,o=t.hasMouse,s=t.children,u=t.getRootRef,l=A(t,yt),c=ce().document,d=r>=Qe.SMALL_TABLET&&(o||a>=Ke.MEDIUM);return e.useEffect((function(){n&&function(e){e&&e.activeElement&&e.activeElement.blur()}(c)}),[c,n]),q("div",P({},l,{vkuiClass:"PopoutRoot",ref:u}),s,q(De,null,!!n&&q("div",{vkuiClass:d?"PopoutRoot--absolute":"PopoutRoot__popout"},n),!!i&&q("div",{vkuiClass:"PopoutRoot__modal"},i)))};bt.displayName="PopoutRoot";var wt=tt(bt,{viewWidth:!0,viewHeight:!0,hasMouse:!0}),St=["popout","modal","header","children","getRootRef","getRef"],kt=function(e){var t=e.popout,n=e.modal,i=e.header,r=e.children,a=e.getRootRef,o=e.getRef,s=A(e,St),u=Ne();return q(wt,{vkuiClass:ne("SplitLayout",u),popout:t,modal:n,getRootRef:a},i,q("div",P({},s,{ref:o,vkuiClass:H("SplitLayout__inner",{"SplitLayout__inner--header":!!i})}),r))};function Et(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xt=e.createContext(!1);var Tt;!function(e){e.ENTER="Enter",e.SPACE="Space",e.TAB="Tab",e.ESCAPE="Escape"}(Tt||(Tt={}));var $t=[{code:Tt.ENTER,key:["Enter"],keyCode:13},{code:Tt.SPACE,key:["Space","Spacebar"," "],keyCode:32},{code:Tt.TAB,key:["Tab"],keyCode:9},{code:Tt.ESCAPE,key:["Escape"],keyCode:27}];function Pt(e){var t;return(null===(t=$t.find((function(t){var n=t.key,i=t.keyCode;return n.includes(e.key)||i===e.keyCode})))||void 0===t?void 0:t.code)||null}var At=function(e){var t=e.mode;return q("span",{"aria-hidden":"true",vkuiClass:H("FocusVisible","FocusVisible--".concat(t))})};function Ct(t,n){var i=e.useRef({cb:t,duration:n});me((function(){i.current.cb=t,i.current.duration=n}),[t,n]);var r=e.useRef(),a=e.useCallback((function(){u&&null!==r&&void 0!==r&&r.current&&clearTimeout(r.current)}),[]),o=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.current.duration;a(),u&&(r.current=setTimeout((function(){var e=i.current.cb;"function"===typeof e&&e()}),e))}),[a]);return me((function(){return a}),[]),{set:o,clear:a}}var _t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.filter((function(e){return"function"===typeof e})).forEach((function(e){return e.apply(void 0,n)}))}},Rt=["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","sizeX","hasMouse","deviceHasHover","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave"],Lt=function(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map((function(e){e(n)})),(i=e.get("*"))&&i.slice().map((function(e){e(t,n)}))}}}(),Nt=0,Mt=1,It=2,Dt=3,Ot=e.createContext({onHoverChange:f});var Bt=tt((function(t){var n,i=t.children,r=t.Component,a=t.onClick,o=t.onKeyDown,u=t.activeEffectDelay,l=void 0===u?600:u,c=t.stopPropagation,d=void 0!==c&&c,p=t.getRootRef,v=t.sizeX,m=t.hasMouse,g=t.deviceHasHover,y=t.hasHover,b=void 0===y||y,w=t.hoverMode,S=void 0===w?"background":w,k=t.hasActive,E=void 0===k||k,x=t.activeMode,T=void 0===x?"background":x,$=t.focusVisibleMode,C=void 0===$?"inside":$,_=t.onEnter,R=t.onLeave,L=A(t,Rt);r=r||(L.href?"a":"div");var N=e.useContext(Ot).onHoverChange,M=e.useContext(xt),I=Ne(),D=function(){var t=s((0,e.useState)(!1),2),n=t[0],i=t[1];return{focusVisible:(0,e.useContext)(Ce).keyboardInput&&n,onFocus:(0,e.useCallback)((function(e){e.stopPropagation(),i(!0)}),[i]),onBlur:(0,e.useCallback)((function(e){e.stopPropagation(),i(!1)}),[i])}}(),O=D.focusVisible,B=D.onBlur,V=D.onFocus,z=s(e.useState([]),2),U=z[0],F=z[1],j=s(e.useState(!1),2),W=j[0],G=j[1],Y=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=s(e.useState(t),2),i=n[0],r=n[1],a=e.useCallback((function(){r(!0)}),[]),o=e.useCallback((function(){r(!1)}),[]),u=e.useCallback((function(){r(!i)}),[i]);return{value:i,setTrue:a,setFalse:o,toggle:u}}(!1),Q=Y.value,K=Y.setTrue,X=Y.setFalse,Z=Q&&!L.disabled,ee=E&&!W&&!L.disabled,te=g&&b&&!W,ie="a"!==r&&"button"!==r&&!L.contentEditable,re=["opacity","background"].includes(S),se=["opacity","background"].includes(T),ue=["inside","outside"].includes(C),le=function(t,n){var i=e.useMemo((function(){return Math.round(1e8*Math.random()).toString(16)}),[]),r=s(e.useState(Nt),2),a=r[0],o=r[1],u=function(){return o(Nt)},l=function(){return t&&o(It)},c=Ct(l,70),d=Ct(u,n);return me((function(){return a===Mt?(c.set(),c.clear):a===Dt?d.clear:(a===It&&Lt.emit("active",i),f)}),[a]),me((function(){if(a===Nt)return f;var e=function(e){e!==i&&u()};return Lt.on("active",e),function(){return Lt.off("active",e)}}),[a===Nt]),me((function(){!t&&u()}),[t]),[a,{delayStart:function(){t&&o(Mt)},start:l,stop:function(e){if(e)return o(Dt),d.set(e);u()}}]}(ee,l),ce=s(le,2),de=ce[0],fe=ce[1],pe=fe.start,he=fe.stop,ge=fe.delayStart,ye=de===It||de===Dt,we=ve(p),Se=e.useRef({onHoverChange:G}).current;me((function(){return Z?(N(!0),function(){return N(!1)}):f}),[Z]);var ke=H(ne("Tappable",I),"Tappable--sizeX-".concat(v),te&&Z&&!re&&S,ee&&ye&&!se&&T,O&&!ue&&C,(h(n={"Tappable--active":ee&&ye,"Tappable--mouse":m},"Tappable--hover-".concat(S),te&&Z&&re),h(n,"Tappable--active-".concat(T),ee&&ye&&se),h(n,"Tappable--focus-visible",O),n)),Ee={onStart:_t((function(e){var t=e.originalEvent;if(ee){if(t.touches&&t.touches.length>1)return he();if(I===J){var n=function(e){var t=null===e||void 0===e?void 0:e.getBoundingClientRect();return{top:null===t||void 0===t?void 0:t.top,left:null===t||void 0===t?void 0:t.left,width:null===e||void 0===e?void 0:e.offsetWidth,height:null===e||void 0===e?void 0:e.offsetHeight}}(we.current),i=n.top,r=n.left,a=ae(t)-(null!==r&&void 0!==r?r:0),o=oe(t)-(null!==i&&void 0!==i?i:0);F([].concat(Et(U),[{x:a,y:o,id:Date.now().toString()}]))}ge()}}),L.onStart),onMove:_t((function(e){e.isSlide&&he()}),L.onMove),onEnd:_t((function(e){var t=e.duration;if(de!==Nt){de===Mt&&pe();var n=t-70;he(n>=100?0:l-n)}}),L.onEnd),onClick:a,onKeyDown:_t((function(e){var t;ie&&function(e){var t=e.target,n=t.tagName,i=t.getAttribute("role"),r=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===i||"link"===i),a="A"===n&&t.hasAttribute("href"),o=Pt(e);return r&&(o===Tt.SPACE&&"button"===i||o===Tt.ENTER&&!a)}(e)&&(e.preventDefault(),null===(t=we.current)||void 0===t||t.click())}),o)},xe=L.href?"link":"button";return q(be,P({onEnter:_t(K,_),onLeave:_t(X,R),type:"button"===r?"button":void 0,tabIndex:ie&&!L.disabled?0:void 0,role:ie?xe:void 0,"aria-disabled":ie?L.disabled:void 0,stopPropagation:d&&!M&&!L.disabled},L,{slideThreshold:20,usePointerHover:!0,vkuiClass:ke,Component:r,getRootRef:we,onBlur:_t(B,L.onBlur),onFocus:_t(V,L.onFocus)},L.disabled?{}:Ee),q(Ot.Provider,{value:Se},i),I===J&&!m&&ee&&"background"===T&&q("span",{"aria-hidden":"true",vkuiClass:"Tappable__waves"},U.map((function(e){return q(Vt,P({},e,{key:e.id,onClear:function(){return F(U.filter((function(t){return t.id!==e.id})))}}))}))),te&&"background"===S&&q("span",{"aria-hidden":"true",vkuiClass:"Tappable__hoverShadow"}),!L.disabled&&ue&&q(At,{mode:C}))}),{sizeX:!0,hasMouse:!0,deviceHasHover:!0});function Vt(t){var n=t.x,i=t.y,r=Ct(t.onClear,225);return e.useEffect((function(){return r.set()}),[r]),q("span",{vkuiClass:"Tappable__wave",style:{top:i,left:n}})}function zt(e){switch(e){case"regular":return"3";case"semibold":return"2";case"medium":case"bold":case"heavy":return"1";default:return e}}var Ut,Ft=["children","weight","level","Component"],qt=(_e("Title"),function(e){var t=e.children,n=e.weight,i=e.level,r=void 0===i?"1":i,a=e.Component;return a||(a="h"+r),q(a,P({},A(e,Ft),{vkuiClass:H("Title","Title--l-".concat(r),h({},"Title--w-".concat(zt(n)),!!n))}),t)}),Ht=["children","weight","Component"],jt=(_e("Subhead"),function(t){var n=t.children,i=t.weight,r=t.Component,a=void 0===r?"h5":r,o=A(t,Ht),s=e.useContext(et).sizeY;return q(a,P({},o,{vkuiClass:H("Subhead","Subhead--sizeY-".concat(s),"Subhead--w-".concat(i))}),n)}),Wt=["children","weight","level","caps","Component"],Gt=(_e("Caption"),function(e){var t=e.children,n=e.weight,i=e.level,r=void 0===i?"1":i,a=e.caps,o=e.Component;return q(void 0===o?"span":o,P({},A(e,Wt),{vkuiClass:H("Caption","Caption--l-".concat(r),a&&"Caption--caps",n&&"Caption--w-".concat(n))}),t)}),Yt=n(111),Qt=n.n(Yt),Kt=n(887),Xt=n(696),Jt=n.n(Xt),Zt=!("undefined"===typeof window||!window.document||!window.document.createElement);if(Zt){var en="__SVG_SPRITE_NODE__";Ut=new(Jt())({attrs:{id:en}});var tn=function(){var e=document.getElementById(en);e?Ut.attach(e):Ut.mount()};document.querySelector("body")?tn():document.addEventListener("DOMContentLoaded",tn)}else Ut=null;function nn(e){Ut&&Ut.add(e)}var rn=Zt?e.useLayoutEffect:e.useEffect;function an(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var on=(0,e.createContext)({}),sn=function(t){var n=t.children,i=an(t,["children"]),r=(0,e.useMemo)((function(){return i}),[i.classPrefix,i.globalClasses]);return e.createElement(on.Provider,{value:r},n)};function un(){return un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},un.apply(this,arguments)}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var pn={display:"block"};var hn=function(t){var n=t.width,i=t.height,r=t.viewBox,a=t.id,o=t.className,s=t.style,u=t.fill,l=t.getRootRef,c=t.Component,d=fn(t,["width","height","viewBox","id","className","style","fill","getRootRef","Component"]),f=Math.max(n,i),p=(0,e.useContext)(on),h=function(e,t){for(var n=t.classPrefix,i=t.globalClasses,r="",a=0;a<e.length;a++)n&&(r+=" "+(n+e[a])),n&&!i||(r+=" "+e[a]);return r}(["Icon","Icon--".concat(f),"Icon--w-".concat(n),"Icon--h-".concat(i),"Icon--".concat(a)],p);return e.createElement(c,un({role:"presentation"},d,{ref:l,className:"".concat(h," ").concat(o),style:cn(cn({},s),{},{width:n,height:i})}),e.createElement("svg",{viewBox:r,width:n,height:i,style:pn},e.createElement("use",{xlinkHref:"#".concat(a),style:{fill:"currentColor",color:u}})))};hn.defaultProps={Component:"div",className:"",style:{}};var vn="0 0 24 24",mn="spinner_24",gn=!1;function yn(){gn||(nn(new(Qt())({id:mn,viewBox:vn,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="spinner_24"><path clip-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 004.58 15.49a.9.9 0 01-1.628.767A10 10 0 1112 22a.9.9 0 010-1.8 8.2 8.2 0 004.394-15.123z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),gn=!0)}var bn=function(t){return rn((function(){yn()}),[]),e.createElement(hn,(0,Kt.assign)({},t,{viewBox:vn,id:mn,width:isNaN(t.width)?24:+t.width,height:isNaN(t.height)?24:+t.height}))};bn.mountIcon=yn;var wn=bn,Sn="0 0 44 44",kn="spinner_44",En=!1;function xn(){En||(nn(new(Qt())({id:kn,viewBox:Sn,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path d="M22 44a1.5 1.5 0 010-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 11-2.825 1.01A21.964 21.964 0 010 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22z" fill="currentColor" fill-rule="nonzero" /></symbol>'})),En=!0)}var Tn=function(t){return rn((function(){xn()}),[]),e.createElement(hn,(0,Kt.assign)({},t,{viewBox:Sn,id:kn,width:isNaN(t.width)?44:+t.width,height:isNaN(t.height)?44:+t.height}))};Tn.mountIcon=xn;var $n=Tn,Pn="0 0 32 32",An="spinner_32",Cn=!1;function _n(){Cn||(nn(new(Qt())({id:An,viewBox:Pn,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path d="M16 32a1.5 1.5 0 010-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 11.986 21.54 15.97 15.97 0 010 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16z" fill="currentColor" fill-rule="nonzero" /></symbol>'})),Cn=!0)}var Rn=function(t){return rn((function(){_n()}),[]),e.createElement(hn,(0,Kt.assign)({},t,{viewBox:Pn,id:An,width:isNaN(t.width)?32:+t.width,height:isNaN(t.height)?32:+t.height}))};Rn.mountIcon=_n;var Ln=Rn,Nn="0 0 16 16",Mn="spinner_16",In=!1;function Dn(){In||(nn(new(Qt())({id:Mn,viewBox:Nn,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="spinner_16"><clipPath id="spinner_16_a"><path d="M0 0h16v16H0z" /></clipPath><g clip-path="url(#spinner_16_a)"><path clip-rule="evenodd" d="M11.215 2.934a6 6 0 00-8.644 7.62 1 1 0 11-1.81.852A8 8 0 118 16a1 1 0 110-2 6 6 0 003.215-11.066z" fill="currentColor" fill-rule="evenodd" /></g></symbol>'})),In=!0)}var On=function(t){return rn((function(){Dn()}),[]),e.createElement(hn,(0,Kt.assign)({},t,{viewBox:Nn,id:Mn,width:isNaN(t.width)?16:+t.width,height:isNaN(t.height)?16:+t.height}))};On.mountIcon=Dn;var Bn=On,Vn=["size"],zn=function(e){var t=e.size,n=A(e,Vn),i=Ne(),r=wn;return"large"===t&&(r=$n),"medium"===t&&(r=Ln),"small"===t&&(r=Bn),q("span",P({role:"status"},n,{vkuiClass:ne("Spinner",i)}),q(r,{"aria-hidden":"true",vkuiClass:"Spinner__self"}))};zn.defaultProps={size:"regular","aria-label":"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f..."};var Un=e.memo(zn),Fn=["children","weight","Component"],qn=function(e){var t=e.children,n=e.weight,i=void 0===n?"regular":n,r=e.Component;return q(void 0===r?"h3":r,P({},A(e,Fn),{vkuiClass:H(ne("Headline",Ne()),"Headline--w-".concat(i))}),t)},Hn=["size","sizeY","platform"],jn=["size","mode","appearance","stretched","align","children","before","after","getRootRef","sizeY","Component","loading","onClick"],Wn=function(e){var t=e.size,n=e.sizeY,i=e.platform,r=A(e,Hn),a=n===Ye.COMPACT;switch(t){case"l":return a?q(dt,P({weight:"medium"},r)):i===J?q(qn,P({weight:"medium"},r)):q(qt,P({level:"3",weight:"2"},r));case"m":return a?q(jt,P({weight:i===ee?"3":"2"},r)):q(dt,P({weight:"medium"},r));default:return i===Z?q(jt,P({weight:"2"},r)):i===ee?q(Gt,r):q(a?Gt:jt,P({weight:"2"},r))}};var Gn=function(t){var n,i=Ne(),r=t.size,a=t.mode,o=t.appearance,s=t.stretched,u=t.align,l=t.children,c=t.before,d=t.after,f=t.getRootRef,p=t.sizeY,v=t.Component,m=void 0===v?"button":v,g=t.loading,y=t.onClick,b=A(t,jn),w=Boolean(c||d),S=function(e,t){var n=e,i=t;if(void 0===e)switch(t){case"tertiary":case"secondary":case"primary":case"outline":n="accent";break;case"commerce":i="primary",n="positive";break;case"destructive":i="primary",n="negative";break;case"overlay_primary":i="primary",n="overlay";break;case"overlay_secondary":i="secondary",n="overlay";break;case"overlay_outline":i="outline",n="overlay"}return{resolvedAppearance:n,resolvedMode:i}}(o,a),k=S.resolvedMode,E=S.resolvedAppearance,x=e.useContext(ke).hasNewTokens;return q(Bt,P({},b,{Component:b.href?"a":m,onClick:g?void 0:y,focusVisibleMode:"outside",vkuiClass:H("Button","Button--sz-".concat(r),"Button--lvl-".concat(k),"Button--clr-".concat(E),"Button--aln-".concat(u),"Button--sizeY-".concat(p),(n={},h(n,"Button--stretched",s),h(n,"Button--with-icon",w),h(n,"Button--singleIcon",Boolean(!l&&!d&&c||!l&&d&&!c)),n)),getRootRef:f,hoverMode:x?"Button--hover":"background",activeMode:x?"Button--active":"opacity"}),g&&q(Un,{size:"small",vkuiClass:"Button__spinner"}),q("span",{vkuiClass:"Button__in"},c&&q("span",{vkuiClass:"Button__before"},c),l&&q(Wn,{size:r,sizeY:p,platform:i,vkuiClass:"Button__content",Component:"span"},l),d&&q("span",{vkuiClass:"Button__after"},d)))};Gn.defaultProps={mode:"primary",align:"center",size:"s",stretched:!1,stopPropagation:!0};var Yn=tt(Gn,{sizeY:!0}),Qn=["platform","mode"],Kn=["platform"],Xn=["mode"],Jn=["mode","children","subtitle","indicator","aside","getRootRef","multiline"],Zn=function(e){var t=e.platform,n=e.mode,i=A(e,Qn);if(t===K.IOS)switch(n){case"primary":case"tertiary":return q(qt,P({weight:"1",level:"3"},i));case"secondary":return q(Gt,P({weight:"2",caps:!0},i))}if(t===K.VKCOM)switch(n){case"primary":return q(qn,P({weight:"regular"},i));case"secondary":case"tertiary":return q(Gt,i)}switch(n){case"primary":case"tertiary":return q(qn,P({weight:"medium"},i));case"secondary":return q(Gt,P({weight:"1",caps:!0},i))}return null},ei=function(e){var t=e.platform,n=A(e,Kn);return t===K.VKCOM?q(jt,n):q(dt,P({weight:"regular"},n))},ti=function(e){var t=e.mode,n=A(e,Xn);return q("secondary"===t?jt:Gt,n)},ni=function(e){var t=e.mode,n=e.children,i=e.subtitle,r=e.indicator,a=e.aside,o=e.getRootRef,s=e.multiline,u=A(e,Jn),l=Ne();return q("header",P({},u,{ref:o,vkuiClass:H(ne("Header",l),"Header--mode-".concat(t),{"Header--pi":fe(r)})}),q("div",{vkuiClass:"Header__main"},q(Zn,{vkuiClass:"Header__content",Component:"span",mode:t,platform:l},q("span",{vkuiClass:H("Header__content-in",{"Header__content-in--multiline":s})},n),de(r)&&q(Gt,{vkuiClass:"Header__indicator",weight:"primary"===t||"secondary"===t?"1":void 0},r)),de(i)&&q(ti,{vkuiClass:"Header__subtitle",Component:"span"},i)),de(a)&&q(ei,{vkuiClass:"Header__aside",Component:"span",platform:l},a))};ni.defaultProps={mode:"primary"};var ii=ni,ri=["header","description","children","separator","getRootRef","mode","sizeX"],ai=function(t){var n=t.header,i=t.description,r=t.children,a=t.separator,o=t.getRootRef,s=t.mode,u=t.sizeX,l=A(t,ri),c=e.useContext(pt).isInsideModal,d=Ne(),f=s;return s||(f=u===Ye.COMPACT||c?"plain":"card"),q("section",P({},l,{ref:o,vkuiClass:H(ne("Group",d),"Group--sizeX-".concat(u),"Group--".concat(f))}),q("div",{vkuiClass:"Group__inner"},n,r,de(i)&&q(Gt,{vkuiClass:"Group__description"},i)),"hide"!==a&&q(lt,{vkuiClass:H("Group__separator",{"Group__separator--force":"show"===a}),expanded:"card"===f}))};ai.defaultProps={separator:"auto"};var oi=tt(ai,{sizeX:!0}),si=["children","getRootRef"],ui=function(e){var t=e.children,n=e.getRootRef;return q("div",P({},A(e,si),{ref:n,vkuiClass:ne("Div",Ne())}),t)},li="0 0 28 28",ci="arrow_left_outline_28",di=!1;function fi(){di||(nn(new(Qt())({id:ci,viewBox:li,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="arrow_left_outline_28"><g fill="none" fill-rule="evenodd"><path d="M28 0H0v28h28z" /><path d="M12.293 6.293a1 1 0 011.414 1.414L8.414 13H22a1 1 0 01.993.883L23 14a1 1 0 01-1 1H8.414l5.293 5.293a1 1 0 01.083 1.32l-.083.094a1 1 0 01-1.414 0l-7-7-.073-.082A1.005 1.005 0 015 14l.004.09A1.006 1.006 0 015 14.02V14a1.02 1.02 0 01.125-.484.878.878 0 01.071-.111.999.999 0 01.097-.112l-.08.09c.025-.031.051-.062.08-.09z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),di=!0)}var pi=function(t){return rn((function(){fi()}),[]),e.createElement(hn,(0,Kt.assign)({},t,{viewBox:li,id:ci,width:isNaN(t.width)?28:+t.width,height:isNaN(t.height)?28:+t.height}))};pi.mountIcon=fi;var hi=pi,vi="0 0 28 28",mi="chevron_left_outline_28",gi=!1;function yi(){gi||(nn(new(Qt())({id:mi,viewBox:vi,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="chevron_left_outline_28"><path d="M12.414 14l5.793-5.793a1 1 0 00-1.414-1.414l-6.5 6.5a1 1 0 000 1.414l6.5 6.5a1 1 0 001.414-1.414z" fill="currentColor" /></symbol>'})),gi=!0)}var bi=function(t){return rn((function(){yi()}),[]),e.createElement(hn,(0,Kt.assign)({},t,{viewBox:vi,id:mi,width:isNaN(t.width)?28:+t.width,height:isNaN(t.height)?28:+t.height}))};bi.mountIcon=yi;var wi=bi,Si="0 0 20 28",ki="chevron_back_28",Ei=!1;function xi(){Ei||(nn(new(Qt())({id:ki,viewBox:Si,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 28" id="chevron_back_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v28H0z" /><path d="M4.56 12.94L13 4.5a1.414 1.414 0 012 2L7.5 14l7.5 7.5a1.414 1.414 0 01-2 2l-8.44-8.44a1.5 1.5 0 010-2.12z" fill="currentColor" /></g></symbol>'})),Ei=!0)}var Ti=function(t){return rn((function(){xi()}),[]),e.createElement(hn,(0,Kt.assign)({},t,{viewBox:Si,id:ki,width:isNaN(t.width)?20:+t.width,height:isNaN(t.height)?28:+t.height}))};Ti.mountIcon=xi;var $i=Ti,Pi=["children","primary","label"],Ai=function(e){var t=e.primary,n=e.children,i=Ne();return i===Z?q(qt,{Component:"span",level:"3",weight:t?"1":"3"},n):q(dt,{weight:i===ee?"regular":"medium"},n)},Ci=(_e("PanelHeaderButton"),function(e){var t,n,i=e.children,r=e.primary,a=void 0!==r&&r,o=e.label,s=A(e,Pi),u=fe(i),l=fe(o),c=Ne();switch(c){case J:t="background",n="background";break;case Z:t="background",n="opacity";break;case ee:t="PanelHeaderButton--hover",n="PanelHeaderButton--active"}return q(Bt,P({},s,{hoverMode:t,Component:s.href?"a":"button",activeEffectDelay:200,activeMode:n,vkuiClass:H(ne("PanelHeaderButton",c),{"PanelHeaderButton--primary":a,"PanelHeaderButton--primitive":u,"PanelHeaderButton--notPrimitive":!u&&!l})}),u?q(Ai,{primary:a},i):i,l?q(Ai,{primary:a},o):o)}),_i=["label","sizeX"],Ri=function(e){var t=e.label,n=e.sizeX,i=A(e,_i),r=Ne(),a=r===ee||r===Z&&n===Ye.REGULAR;return q(Ci,P({},i,{vkuiClass:H(ne("PanelHeaderBack",r),{"PanelHeaderBack--has-label":a&&!!t}),label:a&&t}),r===J&&q(hi,null),r===ee&&q(wi,null),r===Z&&q($i,null))};Ri.defaultProps={"aria-label":"\u041d\u0430\u0437\u0430\u0434"};var Li=e.memo(tt(Ri,{sizeX:!0}));var Ni={bottom:null,top:null,left:null,right:null};function Mi(e){var t=e.detail,n=t.type,i=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var r=i.insets;if(r)return re(re({},r),{},{bottom:r.bottom>150?0:r.bottom})}return null}r().subscribe((function(e){var t=Mi(e);t&&(Ni=t)}));var Ii=["children","mode","embedded","sizeX","hasMouse","noLegacyClasses","scroll"],Di=(_e("AppRoot"),tt((function(t){var n=t.children,i=t.mode,a=t.embedded,o=t.sizeX,u=t.hasMouse,l=t.noLegacyClasses,c=void 0!==l&&l,d=t.scroll,f=void 0===d?"global":d,p=A(t,Ii),h=i||(a?"embedded":"full"),v=function(){var t=ce().document,n=s(e.useState(!1),2),i=n[0],r=n[1],a=e.useCallback((function(){r(!0)}),[]),o=e.useCallback((function(e){Pt(e)===Tt.TAB&&a()}),[a]),u=e.useCallback((function(){r(!1)}),[]),l={passive:!0,capture:!0};return rt(t,"keydown",o,l),rt(t,"mousedown",u,l),rt(t,"touchstart",u,l),rt(t,"enableKeyboardInput",a,l),rt(t,"disableKeyboardInput",u,l),i}(),m=e.useRef(null),g=s(e.useState(null),2),y=g[0],b=g[1],w=ce(),S=w.window,k=w.document,E=function(){var t=s(e.useState(Ni),2),n=t[0],i=t[1];return me((function(){function e(e){var t=Mi(e);t&&i(t)}return r().subscribe(e),function(){r().unsubscribe(e)}}),[]),n}(),x=e.useRef(!1);x.current||(k&&"full"===h&&k.documentElement.classList.add("vkui"),O.noConflict=c,x.current=!0),me((function(){var e=k.createElement("div");return e.classList.add("vkui__portal-root"),k.body.appendChild(e),b(e),function(){var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}}),[]),me((function(){var e,t;if("partial"===h)return he;var n=null===(e=m.current)||void 0===e?void 0:e.parentElement,i=["vkui__root"].concat("embedded"===h?"vkui__root--embedded":[]);return null===n||void 0===n||(t=n.classList).add.apply(t,Et(i)),function(){var e;null===n||void 0===n||(e=n.classList).remove.apply(e,Et(i)),"full"===h&&(null===k||void 0===k||k.documentElement.classList.remove("vkui"))}}),[]),me((function(){var e;if("partial"===h||null===(e=m.current)||void 0===e||!e.parentElement)return he;var t=m.current.parentElement;for(var n in E)if(E.hasOwnProperty(n)&&"number"===typeof E[n]){var i=E[n];t.style.setProperty("--safe-area-inset-".concat(n),"".concat(i,"px")),y&&y.style.setProperty("--safe-area-inset-".concat(n),"".concat(i,"px"))}return function(){for(var e in E)E.hasOwnProperty(e)&&(t.style.removeProperty("--safe-area-inset-".concat(e)),y&&y.style.removeProperty("--safe-area-inset-".concat(e)))}}),[E,y]),me((function(){var e;if("partial"===h||o!==Ye.REGULAR)return he;var t="embedded"===h?null===(e=m.current)||void 0===e?void 0:e.parentElement:k.body;return null===t||void 0===t||t.classList.add("vkui--sizeX-regular"),function(){return null===t||void 0===t?void 0:t.classList.remove("vkui--sizeX-regular")}}),[o]);var T=e.useMemo((function(){return"contain"===f?(e=m,{getScroll:function(){var t,n,i,r;return{x:null!==(t=null===(n=e.current)||void 0===n?void 0:n.scrollLeft)&&void 0!==t?t:0,y:null!==(i=null===(r=e.current)||void 0===r?void 0:r.scrollTop)&&void 0!==i?i:0}},scrollTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.current;null===i||void 0===i||i.scrollTo(t?Oe(t,0,i.scrollWidth-i.clientWidth):0,n?Oe(n,0,i.scrollHeight-i.clientHeight):0)}}):function(e,t){return{getScroll:function(){return{x:e.pageXOffset,y:e.pageYOffset}},scrollTo:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.scrollTo(n?Oe(n,0,t.body.scrollWidth-e.innerWidth):0,i?Oe(i,0,t.body.scrollHeight-e.innerHeight):0)}}}(S,k);var e}),[k,f,S]),$=q(Ce.Provider,{value:{appRoot:m,portalRoot:y,embedded:"embedded"===h,keyboardInput:v,mode:h}},q(Be.Provider,{value:T},q(sn,{classPrefix:"vkui",globalClasses:!c},n)));return"partial"===h?$:q("div",P({ref:m,vkuiClass:H("AppRoot",{"AppRoot--no-mouse":!u})},p),$)}),{sizeX:!0,hasMouse:!0})),Oi=function(t){var n=e.useRef(null),i=s(e.useState({}),2)[1],r=ce().window;return n.current||(n.current=Bi(r?r.innerWidth:0,r?r.innerHeight:0,t)),e.useEffect((function(){function e(){if(null!==n.current){var e=Bi(r.innerWidth,r.innerHeight,t),a=n.current,o=a.viewWidth,s=a.viewHeight,u=a.sizeX,l=a.sizeY,c=a.hasMouse,d=a.deviceHasHover;o===e.viewWidth&&s===e.viewHeight&&u===e.sizeX&&l===e.sizeY&&c===e.hasMouse&&d===e.deviceHasHover||(n.current=e,i({}))}}return e(),r.addEventListener("resize",e,!1),function(){r.removeEventListener("resize",e,!1)}}),[t.viewWidth,t.viewHeight,t.sizeX,t.sizeY,t.hasMouse,t.deviceHasHover,r,t]),q(et.Provider,{value:n.current},t.children)};function Bi(e,t,n){var i,r,a=Qe.SMALL_MOBILE,o=Ke.SMALL,s=Ye.REGULAR,u=Ye.REGULAR,l=null!==(i=n.hasMouse)&&void 0!==i?i:w,c=null!==(r=n.deviceHasHover)&&void 0!==r?r:S;return a=e>=1280?Qe.DESKTOP:e>=1024?Qe.TABLET:e>=768?Qe.SMALL_TABLET:e>=320?Qe.MOBILE:Qe.SMALL_MOBILE,o=t>=720?Ke.MEDIUM:t>414?Ke.SMALL:Ke.EXTRA_SMALL,n.viewWidth&&(a=n.viewWidth),n.viewHeight&&(o=n.viewHeight),a<=Qe.MOBILE&&(u=Ye.COMPACT),(a>=Qe.SMALL_TABLET&&l||o<=Ke.EXTRA_SMALL)&&(s=Ye.COMPACT),n.sizeX&&(u=n.sizeX),n.sizeY&&(s=n.sizeY),{viewWidth:a,viewHeight:o,sizeX:u,sizeY:s,hasMouse:l,deviceHasHover:c}}var Vi=e.createContext(void 0);_e("ConfigProvider");var zi,Ui=function(t){var n=t.children,i=t.webviewType,a=void 0===i?we.VKAPPS:i,o=t.isWebView,l=void 0===o?r().isWebView():o,c=t.transitionMotionEnabled,d=void 0===c||c,f=t.platform,p=void 0===f?te():f,h=t.hasNewTokens,v=void 0!==h&&h,m=t.appearance,g=t.scheme,y=t.locale,b=void 0===y?"ru":y,w=function(e){var t=e.platform,n=e.scheme,i=e.appearance;if(i)return Re({platform:t,appearance:i});if("inherit"===n)return n;if(n===xe.VKCOM)return xe.VKCOM_LIGHT;if(t===ee&&(n===xe.BRIGHT_LIGHT||n===xe.SPACE_GRAY))return xe.VKCOM_LIGHT;switch(n){case xe.DEPRECATED_CLIENT_LIGHT:return xe.BRIGHT_LIGHT;case xe.DEPRECATED_CLIENT_DARK:return xe.SPACE_GRAY;default:return n}}({scheme:g,platform:p,appearance:m}),S=ce().document,k=null===S||void 0===S?void 0:S.body;me((function(){return"inherit"===w?he:(null===k||void 0===k||k.setAttribute("scheme",w),function(){return null===k||void 0===k?void 0:k.removeAttribute("scheme")})}),[w]);var E=function(t,n){var i="inherit"===n,r=e.useCallback((function(){if(i&&u&&t)return t.getAttribute("scheme")}),[i,t]),a=s(e.useState(r()),2),o=a[0],l=a[1];return e.useEffect((function(){if(!i||!t)return he;l(r());var e=new MutationObserver((function(){return l(r())}));return e.observe(t,{attributes:!0,attributeFilter:["scheme"]}),function(){return e.disconnect()}}),[r,i,t]),"inherit"===n?o:n}(k,w),x=function(e){return e===xe.SPACE_GRAY||e===xe.VKCOM_DARK?"dark":"light"}(E);me((function(){var e=Me(p,x);return null===k||void 0===k||k.classList.add(e),function(){null===k||void 0===k||k.classList.remove(e)}}),[p,x]);var T=Ve({webviewType:a,isWebView:l,transitionMotionEnabled:d,hasNewTokens:v,platform:p,scheme:g,appearance:m||x});return q(ke.Provider,{value:T},q(Vi.Provider,{value:b},q(Ie,{appearance:T.appearance},n)))};function Fi(e,t,n){return Fi=N()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_(r,n.prototype),r},Fi.apply(null,arguments)}function qi(e){var t="function"===typeof Map?new Map:void 0;return qi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Fi(e,arguments,L(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_(n,e)},qi(e)}function Hi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function ji(){ji=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),o=new x(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return $()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(e,t,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var c={};function d(){}function f(){}function p(){}var h={};s(h,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,r)&&(h=g);var y=p.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==v(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var r;this._invoke=function(e,n){function a(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:$}}function $(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new w(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),s(y,o,"Generator"),s(y,r,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function Wi(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(i,r)}function Gi(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Wi(a,i,r,o,s,"next",e)}function s(e){Wi(a,i,r,o,s,"throw",e)}o(void 0)}))}}function Yi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function Qi(){return Qi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=Yi(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Qi.apply(this,arguments)}function Ki(e,t){this.v=e,this.k=t}function Xi(e){var t,n;function i(t,n){try{var a=e[t](n),o=a.value,s=o instanceof Ki;Promise.resolve(s?o.v:o).then((function(n){if(s){var u="return"===t?"return":"next";if(!o.k||n.done)return i(u,n);n=e[u](n).value}r(a.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(u){r("throw",u)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(a,o){var s={key:e,arg:r,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ji(e){return function(){return new Xi(e.apply(this,arguments))}}Xi.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Xi.prototype.next=function(e){return this._invoke("next",e)},Xi.prototype.throw=function(e){return this._invoke("throw",e)},Xi.prototype.return=function(e){return this._invoke("return",e)};var Zi=function(){function e(){m(this,e),h(this,"subscriptions",[])}return y(e,[{key:"unsubscribe",value:function(){var e=this.subscriptions;this.subscriptions=[],e.forEach((function(e){return"function"==typeof e?e():e.unsubscribe()}))}},{key:"add",value:function(e){return this.subscriptions.push(e),this}}]),e}(),er=function(e){throw new Error("".concat(e," is value of unexpected type"))},tr=function(){},nr=function(){function e(t){m(this,e),t&&(this._subscribe=t)}return y(e,[{key:"subscribe",value:function(e,t){var n;n=t?"function"==typeof t?{next:t,error:tr}:{next:function(e){return t.next(e)},error:function(e){var n;return null===(n=t.error)||void 0===n?void 0:n.call(t,e)}}:{next:tr,error:tr};var i,r="function"==typeof e?{next:function(t){try{e(t)}catch(t){n.next(t)}},error:function(e){return n.next(e)}}:{next:function(t){return e.next(t)},error:function(t){return e.error?e.error(t):n.next(t)}};try{i=this._subscribe(r)}catch(aa){var a;null===(a=r.error)||void 0===a||a.call(r,aa)}return(new Zi).add((function(){switch(r.next=tr,r.error=tr,typeof i){case"function":return void i();case"object":return void i.unsubscribe();case"undefined":return;default:return er(i)}}))}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t(e)}),this)}},{key:"_subscribe",value:function(e){}}]),e}(),ir=function(e){R(n,e);var t=I(n);function n(){var e;return m(this,n),h(C(e=t.call(this)),"keyCounter",0),h(C(e),"subscribers",new Map),e}return y(n,[{key:"next",value:function(e){this.subscribers.forEach((function(t){return t.next(e)}))}},{key:"error",value:function(e){this.subscribers.forEach((function(t){var n;return null===(n=t.error)||void 0===n?void 0:n.call(t,e)}))}},{key:"_subscribe",value:function(e){var t=this,n=this.keyCounter++;return this.subscribers.set(n,e),(new Zi).add((function(){return t.subscribers.delete(n)}))}}]),n}(nr),rr=function(){function e(){var t=this;m(this,e),h(this,"log$",new ir),h(this,"logs",[]),h(this,"log",(function(e){var n=re(re({},e),{},{timestamp:Date.now()});t.logs.push(n),t.log$.next(n)})),h(this,"getAllLogs",(function(){return t.logs}))}return y(e,[{key:"createCustomLog",value:function(e){var t=this;return function(){var n;try{n=e.apply(void 0,arguments)}catch(i){n={message:"error in `createCustomLog`",component:"Logger"}}t.log(n)}}},{key:"createComponentLog",value:function(e){return this.createCustomLog((function(t){return re({component:e},t)}))}}]),e}();function ar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'Assertion "value is not nullable" failed';if(null==e)throw new Error(t)}function or(e){return null!=e}function sr(e){return null==e}var ur="function"==typeof(null===(zi=window.performance)||void 0===zi?void 0:zi.now)?function(){return window.performance.now()}:function(){return Date.now()},lr=function(e,t){return Gi(ji().mark((function n(){var i,r,a,o,s,u=arguments;return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t.apply(void 0,u),a=e.aborted;case 2:if(a||e.aborted){n.next=9;break}return n.next=5,i.next(r);case 5:s=n.sent,a=null!==(o=s.done)&&void 0!==o&&o,r=s.value;case 7:n.next=2;break;case 9:return n.abrupt("return",r);case 10:case"end":return n.stop()}}),n)})))},cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,i=void 0===n?0:n,r=t.factor,a=void 0===r?2:r,o=t.max,s=void 0===o?1/0:o,u=t.min,l=void 0===u?i:u,c=t.random,d=void 0===c?0:c,f=i;return f*=Math.pow(a,e),f*=Math.random()*d*2-d+1,f=Math.round(f),f=Math.min(f,s),f=Math.max(f,l)},dr=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),h(C(i=t.call(this)),"value",void 0),i.value=e,i}return y(n,[{key:"next",value:function(e){Qi(L(n.prototype),"next",this).call(this,this.value=e)}},{key:"error",value:function(e){Qi(L(n.prototype),"error",this).call(this,this.value=e)}},{key:"getValue",value:function(){return this.value}},{key:"_subscribe",value:function(e){var t=Qi(L(n.prototype),"_subscribe",this).call(this,e);return e.next(this.value),t}}]),n}(ir);function fr(e){return new nr((function(t){var n={},i=Object.keys(e).length;return Object.entries(e).reduce((function(e,r){var a=s(r,2),o=a[0],u=a[1];return e.add(u.subscribe(function(e){return function(r){e in n||i--,n[e]=r,0===i&&t.next(n)}}(o)))}),new Zi)}))}function pr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nr((function(e){return t.reduce((function(t,n){return t.add(n.subscribe(e))}),new Zi)}))}var hr=function(e){return new nr((function(t){e.forEach((function(e){return t.next(e)}))}))},vr=function(e,t){return new nr((function(n){var i=function(e){return n.next(e)};return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}}))},mr={leading:!1,trailing:!0};function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mr;return function(n){return new nr((function(i){return n.subscribe(new yr(i,e,t))}))}}var yr=function(){function e(t,n,i){m(this,e),h(this,"destination",void 0),h(this,"time",void 0),h(this,"config",void 0),h(this,"lastValue",void 0),h(this,"timeout",void 0),this.destination=t,this.time=n,this.config=i}return y(e,[{key:"next",value:function(e){var t=this;this.lastValue=e,or(this.timeout)?window.clearTimeout(this.timeout):this.config.leading&&this.destination.next(e),this.timeout=window.setTimeout((function(){if(t.config.trailing)try{t.destination.next(t.lastValue)}catch(e){if(!t.destination.error)throw e;t.destination.error(e)}t.timeout=void 0}),this.time)}},{key:"error",value:function(e){var t,n;null===(t=(n=this.destination).error)||void 0===t||t.call(n,e)}}]),e}(),br={leading:!0,trailing:!1};var wr=function(){function e(t,n,i){m(this,e),h(this,"destination",void 0),h(this,"time",void 0),h(this,"config",void 0),h(this,"lastValue",void 0),h(this,"timeout",void 0),this.destination=t,this.time=n,this.config=i}return y(e,[{key:"next",value:function(e){var t=this;this.lastValue=e,sr(this.timeout)&&(this.config.leading&&this.destination.next(e),this.timeout=window.setTimeout((function(){t.config.trailing&&t.destination.next(t.lastValue),t.timeout=void 0}),this.time))}},{key:"error",value:function(e){var t,n;null===(t=(n=this.destination).error)||void 0===t||t.call(n,e)}}]),e}();function Sr(e){return function(t){return new nr((function(n){return t.subscribe(new kr(n,e))}))}}var kr=function(){function e(t,n){m(this,e),h(this,"destination",void 0),h(this,"predicate",void 0),this.destination=t,this.predicate=n}return y(e,[{key:"next",value:function(e){var t;try{t=this.predicate(e)}catch(e){throw this.error(e),e}t&&this.destination.next(e)}},{key:"error",value:function(e){var t,n;null===(t=(n=this.destination).error)||void 0===t||t.call(n,e)}}]),e}();function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return function(t){return new nr((function(n){return t.subscribe(new Tr(n,e))}))}}var xr={},Tr=function(){function e(t,n){m(this,e),h(this,"destination",void 0),h(this,"predicate",void 0),h(this,"lastValue",xr),this.destination=t,this.predicate=n}return y(e,[{key:"next",value:function(e){var t;try{t=this.lastValue===xr||!this.predicate(this.lastValue,e),this.lastValue=e}catch(e){throw this.error(e),e}t&&this.destination.next(e)}},{key:"error",value:function(e){var t,n;null===(t=(n=this.destination).error)||void 0===t||t.call(n,e)}}]),e}();function $r(e){return function(t){return new nr((function(n){return t.subscribe(new Pr(n,e))}))}}var Pr=function(){function e(t,n){m(this,e),h(this,"destination",void 0),h(this,"mapper",void 0),this.destination=t,this.mapper=n}return y(e,[{key:"next",value:function(e){var t;try{t=this.mapper(e)}catch(e){throw this.error(e),e}this.destination.next(t)}},{key:"error",value:function(e){var t,n;null===(t=(n=this.destination).error)||void 0===t||t.call(n,e)}}]),e}();function Ar(e){return $r((function(){return e}))}function Cr(){return function(e){return new nr((function(t){var n=!1,i=!1,r=e.subscribe((function(e){n||(n=!0,t.next(e)),i&&r.unsubscribe()}),(function(e){var a;n=!0,null!==(a=t.error)&&void 0!==a&&a.call(t,e),i&&r.unsubscribe()}));return i=!0,n&&r.unsubscribe(),r}))}}function _r(e){return function(t){return new nr((function(n){return t.subscribe(new oa(n,e))}))}}var Rr,Lr,Nr,Mr,Ir,Dr,Or,Br,Vr,zr,Ur,Fr,qr,Hr,jr,Wr,Gr,Yr,Qr,Kr,Xr,Jr,Zr,ea,ta,na,ia,ra,aa,oa=function(){function e(t,n){m(this,e),h(this,"destination",void 0),h(this,"effect",void 0),this.destination=t,this.effect=n}return y(e,[{key:"next",value:function(e){try{this.effect(e)}catch(e){throw this.error(e),e}this.destination.next(e)}},{key:"error",value:function(e){var t,n;null===(t=(n=this.destination).error)||void 0===t||t.call(n,e)}}]),e}(),sa=n(573);(aa=Jr||(Jr={})).STOPPED="stopped",aa.PLAYING="playing",aa.PAUSED="paused",function(e){e.MPEG="MPEG",e.DASH="DASH",e.DASH_SEP="DASH_SEP",e.DASH_SEP_VK="DASH_SEP",e.DASH_WEBM="DASH_WEBM",e.DASH_WEBM_VK="DASH_WEBM",e.DASH_ONDEMAND="DASH_ONDEMAND",e.DASH_ONDEMAND_VK="DASH_ONDEMAND",e.DASH_LIVE="DASH_LIVE",e.DASH_LIVE_WEBM="DASH_LIVE_WEBM",e.HLS="HLS",e.HLS_ONDEMAND="HLS_ONDEMAND",e.HLS_JS="HLS",e.HLS_LIVE="HLS_LIVE",e.WEB_RTC_LIVE="WEB_RTC_LIVE"}(Zr||(Zr={})),function(e){e.SCREEN="SCREEN",e.CHROMECAST="CHROMECAST"}(ea||(ea={})),function(e){e.NOT_AVAILABLE="NOT_AVAILABLE",e.AVAILABLE="AVAILABLE",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED"}(ta||(ta={})),function(e){e.SuccessWithSound="success_with_sound",e.SuccessWithoutSound="success_without_sound",e.Failed="failed"}(na||(na={})),function(e){e.HTTP1="http1",e.HTTP2="http2",e.QUIC="quic"}(ia||(ia={})),function(e){e.None="none",e.Requested="requested",e.Applying="applying"}(ra||(ra={}));var ua,la=function(){function e(t){var n,i=this;m(this,e),h(this,"connection$",new dr(void 0)),h(this,"castState$",new dr(ta.NOT_AVAILABLE)),h(this,"errorEvent$",new ir),h(this,"contentId",void 0),h(this,"realCastState$",new dr(ta.NOT_AVAILABLE)),h(this,"subscription",new Zi),h(this,"log",void 0),h(this,"params",void 0),this.params=t,this.log=this.params.dependencies.logger.createComponentLog("ChromecastInitializer");var r="chrome"in window;(this.log({message:"[constructor] receiverApplicationId: ".concat(this.params.receiverApplicationId,", isDisabled: ").concat(this.params.isDisabled,", isSupported: ").concat(r)}),!t.isDisabled&&r)&&(or(null===(n=window.chrome)||void 0===n?void 0:n.cast)?this.initializeCastApi():(window.__onGCastApiAvailable=function(e){e&&i.initializeCastApi()},("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",new Promise((function(e,t){var n=document.createElement("script");n.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),n.onload=function(){return e},n.onerror=function(){return t},document.body.appendChild(n)}))).catch((function(){return i.errorEvent$.next({id:"ChromecastLoading",message:"Script loading failed!"})}))))}return y(e,[{key:"connect",value:function(){var e;null===(e=cast.framework.CastContext.getInstance())||void 0===e||e.requestSession()}},{key:"disconnect",value:function(){var e,t;null===(e=cast.framework.CastContext.getInstance())||void 0===e||null===(t=e.getCurrentSession())||void 0===t||t.endSession(!0)}},{key:"stopMedia",value:function(){return new Promise((function(e,t){var n,i,r;null===(n=cast.framework.CastContext.getInstance())||void 0===n||null===(i=n.getCurrentSession())||void 0===i||null===(r=i.getMediaSession())||void 0===r||r.stop(new chrome.cast.media.StopRequest,e,t)}))}},{key:"toggleConnection",value:function(){or(this.connection$.getValue())?this.disconnect():this.connect()}},{key:"setVolume",value:function(e){var t=this.connection$.getValue();sr(t)||(t.remotePlayer.volumeLevel=e,t.remotePlayerController.setVolumeLevel())}},{key:"setMuted",value:function(e){var t=this.connection$.getValue();sr(t)||e!==t.remotePlayer.isMuted&&t.remotePlayerController.muteOrUnmute()}},{key:"destroy",value:function(){this.subscription.unsubscribe()}},{key:"initListeners",value:function(){var e=this,t=new cast.framework.RemotePlayer,n=new cast.framework.RemotePlayerController(t),i=cast.framework.CastContext.getInstance();this.subscription.add(vr(i,cast.framework.CastContextEventType.SESSION_STATE_CHANGED).subscribe((function(t){var n,r;switch(t.sessionState){case cast.framework.SessionState.SESSION_STARTED:case cast.framework.SessionState.SESSION_STARTING:case cast.framework.SessionState.SESSION_RESUMED:e.contentId=null===(n=i.getCurrentSession())||void 0===n||null===(r=n.getMediaSession())||void 0===r?void 0:r.media.contentId;break;case cast.framework.SessionState.NO_SESSION:case cast.framework.SessionState.SESSION_ENDING:case cast.framework.SessionState.SESSION_ENDED:case cast.framework.SessionState.SESSION_START_FAILED:e.contentId=void 0;break;default:return er(t.sessionState)}}))).add(pr(vr(i,cast.framework.CastContextEventType.CAST_STATE_CHANGED).pipe(_r((function(t){e.log({message:"[cast.framework.RemotePlayerEventType.CAST_STATE_CHANGED]: ".concat(JSON.stringify(t))})})),$r((function(e){return e.castState}))),hr([i.getCastState()])).pipe(Er(),$r(ca),_r((function(t){e.log({message:"realCastState$: ".concat(t)})}))).subscribe(this.realCastState$)).add(this.realCastState$.subscribe((function(r){var a=r===ta.CONNECTED,o=or(e.connection$.getValue());if(a&&!o){var s,u=i.getCurrentSession();ar(u);var l=u.getCastDevice(),c=null===(s=u.getMediaSession())||void 0===s?void 0:s.media.contentId;(sr(c)||c===e.contentId)&&(e.log({message:"connection created"}),e.connection$.next({remotePlayer:t,remotePlayerController:n,session:u,castDevice:l}))}else!a&&o&&(e.log({message:"connection destroyed"}),e.connection$.next(void 0));e.castState$.next(r===ta.CONNECTED?or(e.connection$.getValue())?ta.CONNECTED:ta.AVAILABLE:r)})))}},{key:"initializeCastApi",value:function(){var e,t,n;try{e=cast.framework.CastContext.getInstance(),t=chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,n=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}catch(e){return}try{var i;e.setOptions({receiverApplicationId:null!==(i=this.params.receiverApplicationId)&&void 0!==i?i:t,autoJoinPolicy:n}),this.initListeners()}catch(e){this.errorEvent$.next({id:"ChromecastInitializer",message:"[initializeCastApi] failed",thrown:e})}}}]),e}(),ca=function(e){switch(e){case cast.framework.CastState.NO_DEVICES_AVAILABLE:return ta.NOT_AVAILABLE;case cast.framework.CastState.NOT_CONNECTED:return ta.AVAILABLE;case cast.framework.CastState.CONNECTING:return ta.CONNECTING;case cast.framework.CastState.CONNECTED:return ta.CONNECTED;default:return er(e)}};!function(e){e[e.OFFSET_P=0]="OFFSET_P",e[e.PLAYBACK_SHIFT=1]="PLAYBACK_SHIFT"}(ua||(ua={}));var da,fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ua.OFFSET_P;switch(n){case ua.OFFSET_P:return e.replace("_offset_p",0===t?"":"_"+t.toFixed(0));case ua.PLAYBACK_SHIFT:if(0===t)return e;var i=new URL(e);return i.searchParams.append("playback_shift",t.toFixed(0)),i.toString();default:er(n)}return e},pa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getTransition();!n&&i&&i.to!==t||e.setState(t)};!function(e){e.INVARIANT="Invariant quality",e.Q_144P="144p",e.Q_240P="240p",e.Q_360P="360p",e.Q_480P="480p",e.Q_720P="720p",e.Q_1080P="1080p",e.Q_1440P="1440p",e.Q_2160P="2160p",e.Q_4320P="4320p"}(da||(da={}));var ha,va=(h(Rr={},da.Q_144P,{width:256,height:144}),h(Rr,da.Q_240P,{width:428,height:240}),h(Rr,da.Q_360P,{width:640,height:360}),h(Rr,da.Q_480P,{width:856,height:480}),h(Rr,da.Q_720P,{width:1280,height:720}),h(Rr,da.Q_1080P,{width:1920,height:1080}),h(Rr,da.Q_1440P,{width:2560,height:1440}),h(Rr,da.Q_2160P,{width:3840,height:2160}),h(Rr,da.Q_4320P,{width:7680,height:4320}),Rr),ma=function(e,t){return va[e].height>va[t].height},ga=function(e,t){return va[e].height<va[t].height},ya=Object.keys(va).sort((function(e,t){return ga(e,t)?-1:1})),ba=function(e){var t=e.width,n=e.height,i=Math.min(t,n),r=Math.max(t,n);return ya.find((function(e){var t=va[e];return t.width>=r&&t.height>=i}))},wa=function(e){return e===da.INVARIANT},Sa=function(){function e(t){m(this,e),h(this,"state",void 0),h(this,"transition",void 0),h(this,"transitionStarted$",new ir),h(this,"transitionEnded$",new ir),h(this,"transitionUpdated$",new ir),h(this,"forceChanged$",new ir),h(this,"stateChangeStarted$",pr(this.transitionStarted$,this.transitionUpdated$)),h(this,"stateChangeEnded$",pr(this.transitionEnded$,this.forceChanged$)),this.state=t}return y(e,[{key:"setState",value:function(e){var t=this.transition,n=this.state;this.transition=void 0,this.state=e,t?t.to===e?this.transitionEnded$.next(t):this.forceChanged$.next({from:t.from,to:e,canceledTransition:t}):this.forceChanged$.next({from:n,to:e,canceledTransition:t})}},{key:"startTransitionTo",value:function(e){var t=this.transition,n=this.state;n===e||or(t)&&t.to===e||(this.state=e,t?(this.transition={from:t.from,to:e,canceledTransition:t},this.transitionUpdated$.next(this.transition)):(this.transition={from:n,to:e},this.transitionStarted$.next(this.transition)))}},{key:"getTransition",value:function(){return this.transition}},{key:"getState",value:function(){return this.state}}]),e}();!function(e){e.STOPPED="stopped",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(ha||(ha={}));var ka=function(){function e(t){var n=this;m(this,e),h(this,"subscription",new Zi),h(this,"loadMediaTimeoutSubscription",new Zi),h(this,"videoState",new Sa(ha.STOPPED)),h(this,"params",void 0),h(this,"log",void 0),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.videoState.getTransition(),i=n.params.desiredState.playbackState.getState(),r=n.params.desiredState.playbackState.getTransition(),a=n.params.desiredState.seekState.getState();if(n.log({message:"[syncPlayback] videoState: ".concat(e,"; videoTransition: ").concat(JSON.stringify(t),"; desiredPlaybackState: ").concat(i,"; desiredPlaybackStateTransition: ").concat(n.params.desiredState.playbackState.getTransition(),"; seekState: ").concat(JSON.stringify(a),";")}),i!==Jr.STOPPED){if(!t)if((null===r||void 0===r?void 0:r.to)===Jr.PAUSED||a.state!==ra.Requested||e===ha.STOPPED)switch(i){case Jr.PLAYING:switch(e){case ha.PLAYING:break;case ha.PAUSED:case ha.READY:n.videoState.startTransitionTo(ha.PLAYING),n.params.connection.remotePlayerController.playOrPause();break;case ha.STOPPED:n.videoState.startTransitionTo(ha.READY),n.prepare();break;default:er(e)}break;case Jr.PAUSED:switch(e){case ha.PLAYING:n.videoState.startTransitionTo(ha.PAUSED),n.params.connection.remotePlayerController.playOrPause();break;case ha.PAUSED:break;case ha.READY:n.videoState.startTransitionTo(ha.PAUSED),n.videoState.setState(ha.PAUSED);break;case ha.STOPPED:n.videoState.startTransitionTo(ha.READY),n.prepare();break;default:er(e)}break;default:er(i)}else n.seek(a.position)}else e!==ha.STOPPED&&(n.videoState.startTransitionTo(ha.STOPPED),n.stop())})),this.params=t,this.log=this.params.dependencies.logger.createComponentLog("ChromecastProvider"),this.log({message:"constructor, format: ".concat(t.format)}),this.params.output.isLive$.next(function(e){switch(e){case Zr.MPEG:case Zr.DASH:case Zr.DASH_SEP:case Zr.DASH_ONDEMAND:case Zr.DASH_WEBM:case Zr.HLS:case Zr.HLS_ONDEMAND:return!1;case Zr.HLS_LIVE:case Zr.DASH_LIVE:case Zr.DASH_LIVE_WEBM:case Zr.WEB_RTC_LIVE:return!0;default:return er(e)}}(t.format)),this.handleRemoteVolumeChange({volume:this.params.connection.remotePlayer.volumeLevel,muted:this.params.connection.remotePlayer.isMuted});var i=this.params.connection.session.getMediaSession();i&&this.restoreSession(i),this.subscribe()}return y(e,[{key:"destroy",value:function(){this.log({message:"[destroy]"}),this.subscription.unsubscribe()}},{key:"subscribe",value:function(){var e=this;this.subscription.add(this.loadMediaTimeoutSubscription);var t=new Zi;this.subscription.add(t),this.subscription.add(pr(this.videoState.stateChangeStarted$.pipe($r((function(e){return"stateChangeStarted$ ".concat(JSON.stringify(e))}))),this.videoState.stateChangeEnded$.pipe($r((function(e){return"stateChangeEnded$ ".concat(JSON.stringify(e))})))).subscribe((function(t){return e.log({message:"[videoState] ".concat(t)})})));var n=function(t,n){return e.subscription.add(t.subscribe(n))};if(this.params.output.isLive$.getValue())this.params.output.position$.next(0),this.params.output.duration$.next(0);else{var i=new ir;t.add(i.pipe(gr(500)).subscribe((function(){e.params.output.seekedEvent$.next()})));var r=NaN;t.add(vr(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED).subscribe((function(t){e.logRemoteEvent(t);var n=t.value;e.params.output.position$.next(n),(e.params.desiredState.seekState.getState().state===ra.Applying||Math.abs(n-r)>5)&&i.next(n),r=n}))),t.add(vr(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.DURATION_CHANGED).subscribe((function(t){e.logRemoteEvent(t),e.params.output.duration$.next(t.value)})))}n(vr(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED),(function(n){e.logRemoteEvent(n),n.value?e.handleRemoteReady():(e.handleRemoteStop(),t.unsubscribe())})),n(vr(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED),(function(t){e.logRemoteEvent(t),t.value?e.handleRemotePause():e.handleRemotePlay()})),n(vr(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED),(function(t){e.logRemoteEvent(t);var n=e.params.connection.remotePlayer,i=t.value,r=e.params.output.isBuffering$.getValue(),a=i===chrome.cast.media.PlayerState.BUFFERING;switch(r!==a&&e.params.output.isBuffering$.next(a),i){case chrome.cast.media.PlayerState.IDLE:!e.params.output.isLive$.getValue()&&n.duration-n.currentTime<5&&e.params.output.endedEvent$.next(),e.handleRemoteStop(),pa(e.params.desiredState.playbackState,Jr.STOPPED);break;case chrome.cast.media.PlayerState.PAUSED:e.handleRemotePause();break;case chrome.cast.media.PlayerState.PLAYING:e.handleRemotePlay();break;case chrome.cast.media.PlayerState.BUFFERING:break;default:er(i)}})),n(vr(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED),(function(t){e.logRemoteEvent(t),e.handleRemoteVolumeChange({volume:t.value})})),n(vr(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED),(function(t){e.logRemoteEvent(t),e.handleRemoteVolumeChange({muted:t.value})})),n(pr(this.params.desiredState.playbackState.stateChangeStarted$,this.params.desiredState.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0)),this.syncPlayback)}},{key:"restoreSession",value:function(e){this.log({message:"restoreSession"});var t=this.params.connection.remotePlayer;if(e.playerState!==chrome.cast.media.PlayerState.IDLE){t.isPaused?(this.videoState.setState(ha.PAUSED),pa(this.params.desiredState.playbackState,Jr.PAUSED)):(this.videoState.setState(ha.PLAYING),pa(this.params.desiredState.playbackState,Jr.PLAYING));var n=this.params.output.isLive$.getValue();this.params.output.duration$.next(n?0:t.duration),this.params.output.position$.next(n?0:t.currentTime),this.params.desiredState.seekState.setState({state:ra.None})}}},{key:"prepare",value:function(){var e=this.params.format;this.log({message:"[prepare] format: ".concat(e)});var t=this.createMediaInfo(e),n=this.createLoadRequest(t);this.loadMedia(n)}},{key:"handleRemotePause",value:function(){var e,t=this.videoState.getState();(null===(e=this.videoState.getTransition())||void 0===e?void 0:e.to)!==ha.PAUSED&&t!==ha.PLAYING||(this.videoState.setState(ha.PAUSED),pa(this.params.desiredState.playbackState,Jr.PAUSED))}},{key:"handleRemotePlay",value:function(){var e,t=this.videoState.getState();(null===(e=this.videoState.getTransition())||void 0===e?void 0:e.to)!==ha.PLAYING&&t!==ha.PAUSED||(this.videoState.setState(ha.PLAYING),pa(this.params.desiredState.playbackState,Jr.PLAYING))}},{key:"handleRemoteReady",value:function(){var e;(null===(e=this.videoState.getTransition())||void 0===e?void 0:e.to)===ha.READY&&this.videoState.setState(ha.READY)}},{key:"handleRemoteStop",value:function(){this.videoState.getState()!==ha.STOPPED&&this.videoState.setState(ha.STOPPED)}},{key:"handleRemoteVolumeChange",value:function(e){var t,n,i=this.params.output.volume$.getValue(),r={volume:null!==(t=e.volume)&&void 0!==t?t:i.volume,muted:null!==(n=e.muted)&&void 0!==n?n:i.muted};r.volume===i.volume&&r.muted==r.muted||this.params.output.volume$.next(r)}},{key:"seek",value:function(e){this.params.output.willSeekEvent$.next();var t=this.params.connection,n=t.remotePlayer,i=t.remotePlayerController;n.currentTime=e,i.seek()}},{key:"stop",value:function(){this.params.connection.remotePlayerController.stop()}},{key:"createMediaInfo",value:function(e){var t,n,i,r,a=this.params.source;switch(e){case Zr.MPEG:var o=a[e];ar(o);var s=Object.keys(o).sort((function(e,t){return e===t?0:e===da.INVARIANT?1:t===da.INVARIANT?-1:ga(e,t)?1:-1}))[0];ar(s);var u=o[s];ar(u),n=u,i="video/mp4",r=chrome.cast.media.StreamType.BUFFERED;break;case Zr.HLS:case Zr.HLS_ONDEMAND:var l=a[e];ar(l),n=l.url,i="application/x-mpegurl",r=chrome.cast.media.StreamType.BUFFERED;break;case Zr.DASH_SEP:case Zr.DASH_ONDEMAND:case Zr.DASH_WEBM:var c=a[e];ar(c),n=c.url,i="application/dash+xml",r=chrome.cast.media.StreamType.BUFFERED;break;case Zr.HLS_LIVE:var d=a[e];ar(d),n=fa(d.url),i="application/x-mpegurl",r=chrome.cast.media.StreamType.LIVE;break;case Zr.DASH:case Zr.DASH_LIVE:case Zr.WEB_RTC_LIVE:var f="Unsupported format for Chromecast",p=new Error(f);throw this.params.output.error$.next({id:"ChromecastProvider.createMediaInfo()",message:f,thrown:p}),p;case Zr.DASH_LIVE_WEBM:throw new Error("DASH_LIVE_WEBM is no longer supported");default:return er(e)}var h=new chrome.cast.media.MediaInfo(null!==(t=this.params.meta.videoId)&&void 0!==t?t:n,i);h.contentUrl=n,h.streamType=r,h.metadata=new chrome.cast.media.GenericMediaMetadata;var v=this.params.meta,m=v.title,g=v.subtitle;return or(m)&&(h.metadata.title=m),or(g)&&(h.metadata.subtitle=g),h}},{key:"createLoadRequest",value:function(e){var t=new chrome.cast.media.LoadRequest(e);t.autoplay=!1;var n=this.params.desiredState.seekState.getState();return n.state===ra.Applying||n.state===ra.Requested?t.currentTime=this.params.output.isLive$.getValue()?0:n.position/1e3:t.currentTime=0,t}},{key:"loadMedia",value:function(e){var t=this,n=this.params.connection.session.loadMedia(e),i=new Promise((function(e,n){t.loadMediaTimeoutSubscription.add(function(e){return new nr((function(t){var n=window.setTimeout((function(){try{t.next()}catch(e){if(!t.error)throw e;t.error(e)}}),e);return function(){return window.clearTimeout(n)}}))}(7e3).subscribe((function(){return n("timeout(7000)")})))}));Promise.race([n,i]).then((function(){t.log({message:"[loadMedia] completed, format: ".concat(t.params.format)}),t.params.desiredState.seekState.getState().state===ra.Applying&&t.params.output.seekedEvent$.next(),t.handleRemoteReady()}),(function(e){var n="[prepare] loadMedia failed, format: ".concat(t.params.format,", reason: ").concat(e);t.log({message:n}),t.params.output.error$.next({id:"ChromecastProvider.loadMedia",message:n,thrown:e})})).finally((function(){t.loadMediaTimeoutSubscription.unsubscribe()}))}},{key:"logRemoteEvent",value:function(e){this.log({message:"[remoteEvent] ".concat(JSON.stringify(e))})}}]),e}(),Ea=function(){function e(){m(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return y(e,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i].callback===t)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,i=t.length;n<i;n++){var r=t[n];try{r.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}r.options&&r.options.once&&this.removeEventListener(e.type,r.callback)}return!e.defaultPrevented}}}]),e}(),xa=function(e){R(n,e);var t=I(n);function n(){var e;return m(this,n),(e=t.call(this)).listeners||Ea.call(C(e)),Object.defineProperty(C(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(C(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return y(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),Qi(L(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(Ea),Ta=function(){function e(){m(this,e),Object.defineProperty(this,"signal",{value:new xa,writable:!0,configurable:!0})}return y(e,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(Vl){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function $a(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(Ta.prototype[Symbol.toStringTag]="AbortController",xa.prototype[Symbol.toStringTag]="AbortSignal");var Pa=$a({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}),Aa=Pa?function(e){"function"==typeof e&&(e={fetch:e});var t=e,n=t.fetch,i=t.Request,r=void 0===i?n.Request:i,a=t.AbortController,o=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==o&&o;if(!$a({fetch:n,Request:r,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:u};var u=r;(u&&!u.prototype.hasOwnProperty("signal")||s)&&(u=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var i=new r(e,t);return n&&Object.defineProperty(i,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),i},u.prototype=r.prototype);var l=n;return{fetch:function(e,t){var n=u&&u.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var i;try{i=new DOMException("Aborted","AbortError")}catch(e){(i=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(i);var r=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(i)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([r,l(e,t)])}return l(e,t)},Request:u}}({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}):void 0,Ca=Pa?Aa.fetch:window.fetch;Pa?Aa.Request:window.Request;var _a,Ra=Pa?Ta:window.AbortController,La=function(e){return e.range?e.range.split("-").map((function(e){return parseInt(e,10)})):[NaN,NaN]},Na=function(){function e(t){m(this,e),h(this,"dashJsRequestQueue",void 0),h(this,"activeRequests",void 0),h(this,"dashMetrics",void 0),h(this,"params",void 0),this.params=t,this.dashJsRequestQueue=new Map,this.activeRequests=new Map}return y(e,[{key:"setMetrics",value:function(e){this.dashMetrics=e}},{key:"queueDashJSRequest",value:function(e){var t,n=e.request.url,i=null!==(t=this.dashJsRequestQueue.get(n))&&void 0!==t?t:[];i.push(e),this.dashJsRequestQueue.set(n,i)}},{key:"executeNextRequests",value:function(){var e=Gi(ji().mark((function e(){var t,n,i,r,a,o,u,l,c,d,f,p;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Hi(this.dashJsRequestQueue.entries()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=18;break}if(i=s(n.value,2),r=i[0],a=i[1],!(o=this.activeRequests.get(r))){e.next=15;break}if(a.length&&this.onBigRequestProgress(o),(u=a[0])&&u.request.range){e.next=11;break}return e.abrupt("continue",16);case 11:if(l=La(u.request),c=s(l,2),d=c[0],f=c[1],!(d>=o.from&&f<=o.to)){e.next=14;break}return e.abrupt("continue",16);case 14:this.activeRequests.delete(r);case 15:a.length&&(p=this.sendBigRequest(r,a.map((function(e){return e.request}))),this.activeRequests.set(r,p));case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),t.e(e.t0);case 23:return e.prev=23,t.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[1,20,23,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"abort",value:function(e){if(e){var t,n=e.request,i=(null!==(t=this.dashJsRequestQueue.get(n.url))&&void 0!==t?t:[]).includes(e),r=this.activeRequests.get(n.url);i&&r&&r.abortController.abort()}else{var a,o=Hi(this.activeRequests.values());try{for(o.s();!(a=o.n()).done;){a.value.abortController.abort()}}catch(s){o.e(s)}finally{o.f()}}}},{key:"destroy",value:function(){this.abort(),this.dashMetrics=void 0,this.dashJsRequestQueue.clear(),this.activeRequests.clear()}},{key:"sendBigRequest",value:function(t,n){for(var i=this,r=n.map(La),a=r[0][0],o=r[0][1],u=1;u<r.length&&o<this.params.minDataSize;u++){var l=r[u][1];l-a<=2*this.params.minDataSize&&(o=Math.max(o,l))}o=0===a?Math.max(o,a+this.params.minInitSize):Math.max(o,a+this.params.minDataSize);var c=new URL(t,location.href);c.searchParams.append("bytes","".concat(a,"-").concat(o));var d=c.toString(),f=new Ra,p=f.signal,h={url:t,from:a,to:o,loaded:0,data:null,abortController:f};p.addEventListener("abort",(function(){return i.onBigRequestAbort(h)}));var v=function(e){var t,n;throw null!==(t=(n=i.params).onError)&&void 0!==t&&t.call(n,{id:"BigRequestParsing",message:"Error parsing response data",thrown:e}),e};return Ca(d,{signal:p}).then((function(t){var n,r,u;if(h.response=t,t.ok&&t.body){var l=s(t.body.tee(),2),c=l[0],d=l[1];null===(n=(r=i.params).onDownloadStream)||void 0===n||n.call(r,d);var f=c.getReader(),p=parseInt(null!==(u=t.headers.get("Content-Length"))&&void 0!==u?u:"",10)||o-a+1;h.data=new ArrayBuffer(p);var m=new Uint8Array(h.data),g=function(){var t=Gi(ji().mark((function t(n){var r,a;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.done,a=n.value,!r){t.next=5;break}i.onBigRequestProgress(h),t.next=12;break;case 5:if(t.t0=a,!t.t0){t.next=12;break}return m.set(a,h.loaded),h.loaded+=a.byteLength,i.onBigRequestProgress(h),t.next=12,null===f||void 0===f?void 0:f.read().then(g,e.suppressStreamErrors).catch(v);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();null===f||void 0===f||f.read().then(g,e.suppressStreamErrors).catch(v)}else i.onBigRequestError(h)}),e.suppressAbort).catch((function(e){return i.onBigRequestError(h,e)})),h}},{key:"onBigRequestProgress",value:function(e){var t,n=this,i=e.url,r=e.from,a=e.to,o=e.loaded,u=e.data,l=e.response;if(this.activeRequests.has(i)&&u){var c,d=Hi(null!==(t=this.dashJsRequestQueue.get(i))&&void 0!==t?t:[]);try{var f=function(){var e,t,d,f=c.value,p=f.request,h=s(La(p),2),v=h[0],m=h[1],g=v>=r&&m<=r+o,y=r>=v&&r+o<m,b=u.slice(v-r,Math.min(m-r+1,o));if((g||y)&&(p.requestStartDate=null!==(e=p.requestStartDate)&&void 0!==e?e:new Date,p.firstByteDate=null!==(t=p.firstByteDate)&&void 0!==t?t:new Date,p.bytesLoaded=b.byteLength,p.bytesTotal=a-r),g){var w,S,k,E;p.requestEndDate=new Date,n.dashJsRequestQueue.set(i,(null!==(w=n.dashJsRequestQueue.get(i))&&void 0!==w?w:[]).filter((function(e){return e!==f}))),null===(S=f.success)||void 0===S||S.call(f,b,"",i);var x=l?Array.from(l.headers.entries()).map((function(e){var t=s(e,2),n=t[0],i=t[1];return"".concat(n,": ").concat(i)})).join("\r\n"):"";null===(k=n.dashMetrics)||void 0===k||k.addHttpRequest(p,i,null!==(E=null===l||void 0===l?void 0:l.status)&&void 0!==E?E:200,x,[])}else y&&(null===(d=f.progress)||void 0===d||d.call(f,{loaded:o,total:a-r,lengthComputable:!0,stream:!0}))};for(d.s();!(c=d.n()).done;)f()}catch(p){d.e(p)}finally{d.f()}}}},{key:"onBigRequestError",value:function(e,t){var n,i,r,a=e.url,o=e.from,u=e.to;if(null!==(n=(i=this.params).onError)&&void 0!==n&&n.call(i,{id:"BigRequest",message:"Download error",thrown:t}),this.activeRequests.has(a)){var l,c=Hi(null!==(r=this.dashJsRequestQueue.get(a))&&void 0!==r?r:[]);try{for(c.s();!(l=c.n()).done;){var d,f=l.value,p=s(La(f.request),2),h=p[0],v=p[1];(h>=o&&h<u||v>o&&v<=u)&&(null===f||void 0===f||null===(d=f.error)||void 0===d||d.call(f,f.request,String(t)))}}catch(m){c.e(m)}finally{c.f()}if(this.activeRequests.delete(a),t)throw t}}},{key:"onBigRequestAbort",value:function(e){var t,n=e.url,i=e.from,r=e.to;if(this.activeRequests.has(n)){var a,o=Hi(null!==(t=this.dashJsRequestQueue.get(n))&&void 0!==t?t:[]);try{for(o.s();!(a=o.n()).done;){var u,l=a.value,c=s(La(l.request),2),d=c[0],f=c[1];(d>=i&&d<r||f>i&&f<=r)&&(null===l||void 0===l||null===(u=l.abort)||void 0===u||u.call(l,l.request))}}catch(p){o.e(p)}finally{o.f()}this.activeRequests.delete(n)}}}],[{key:"suppressAbort",value:function(e){if(!(e instanceof DOMException)||"AbortError"!==e.name&&20!==e.code)throw e}},{key:"suppressStreamErrors",value:function(){}}]),e}(),Ma=function(){function e(t,n,i){m(this,e),h(this,"baseLoader",void 0),h(this,"config",void 0),h(this,"bigRequest",void 0),this.baseLoader=t,this.config=i,this.bigRequest=n,n.setMetrics(i.dashMetrics)}return y(e,[{key:"load",value:function(t){var n=t.request;if(e.shouldDelegateToBase(n))return this.baseLoader.load(t);this.bigRequest.queueDashJSRequest(t),this.bigRequest.executeNextRequests()}},{key:"abort",value:function(t){if(!t)return this.baseLoader.abort(),void this.bigRequest.abort();var n=t.request;e.shouldDelegateToBase(n)?this.baseLoader.abort(t):this.bigRequest.abort(t)}}],[{key:"shouldDelegateToBase",value:function(e){return"download"!==e.action||"text"===e.mediaType||!e.range||"arraybuffer"!==e.responseType}}]),e}(),Ia=function(e){var t=new URL(e);return t.searchParams.set("quic","1"),t.toString()},Da=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.equal,a=void 0===r?function(e,t){return e===t}:r,o=i.changed$,s=i.onError,u=e.getState(),l=t(),c=sr(o),d=new Zi;return o&&d.add(o.subscribe((function(t){var n=e.getState();a(t,n)&&e.setState(t)}),s)),a(l,u)||(n(u),c&&e.setState(u)),d.add(e.stateChangeStarted$.subscribe((function(t){n(t.to),c&&e.setState(t.to)}),s)),d},Oa=function(e,t,n){return Da(t,(function(){return e.loop}),(function(t){or(t)&&(e.loop=t)}),{onError:n})},Ba=function(e,t,n,i){return Da(t,(function(){return{muted:e.muted,volume:e.volume}}),(function(t){or(t)&&(e.muted=t.muted,e.volume=t.volume)}),{equal:function(e,t){return e===t||(null===e||void 0===e?void 0:e.muted)===(null===t||void 0===t?void 0:t.muted)&&(null===e||void 0===e?void 0:e.volume)===(null===t||void 0===t?void 0:t.volume)},changed$:n,onError:i})},Va=function(e,t,n,i){return Da(t,(function(){return e.playbackRate}),(function(t){or(t)&&(e.playbackRate=t)}),{changed$:n,onError:i})},za=function(e,t){if(e.id===t)return!0;var n=s(t.split("|"),3),i=(n[0],n[1]),r=n[2];return e.language===i&&e.label===r},Ua=function(){function e(){m(this,e),h(this,"available$",new ir),h(this,"current$",new dr(void 0)),h(this,"error$",new ir),h(this,"video",void 0),h(this,"cueSettings",void 0),h(this,"subscription",new Zi),h(this,"externalTracks",new Map)}return y(e,[{key:"connect",value:function(e,t,n){var i=this;this.video=e,this.cueSettings=t.textTrackCuesSettings,this.subscribe();var r=function(e){i.error$.next({id:"TextTracksManager",message:"Generic HtmlVideoTextTrackManager error",thrown:e})};this.subscription.add(this.available$.subscribe(n.availableTextTracks$)),this.subscription.add(this.current$.subscribe(n.currentTextTrack$)),this.subscription.add(this.error$.subscribe(n.error$)),this.subscription.add(Da(t.externalTextTracks,(function(){return Object.values(i.externalTracks)}),(function(e){or(e)&&i.setExternal(e)}),{equal:function(e,t){return or(e)&&or(t)&&e.length===t.length&&e.every((function(e,n){return e.id===t[n].id}))},changed$:this.available$.pipe($r((function(e){return e.filter((function(e){return"external"===e.type}))}))),onError:r})),this.subscription.add(Da(t.currentTextTrack,(function(){if(!i.video){var e=i.htmlTextTracksAsArray().find((function(e){return"showing"===e.mode}));return e&&i.htmlTextTrackToITextTrack(e).id}}),(function(e){return i.select(e)}),{changed$:this.current$,onError:r})),this.subscription.add(Da(t.textTrackCuesSettings,(function(){return{}}),(function(){if(i.video){var e,t=Hi(i.htmlTextTracksAsArray());try{for(t.s();!(e=t.n()).done;){var n=e.value;i.applyCueSettings(n.cues),i.applyCueSettings(n.activeCues)}}catch(r){t.e(r)}finally{t.f()}}})))}},{key:"subscribe",value:function(){var e=this;ar(this.video);var t=this.video.textTracks;this.subscription.add(vr(t,"addtrack").subscribe((function(){var t=e.current$.getValue();e.select(t)}))),this.subscription.add(pr(vr(t,"addtrack"),vr(t,"removetrack"),hr(["init"])).pipe($r((function(){return e.htmlTextTracksAsArray().map((function(t){return e.htmlTextTrackToITextTrack(t)}))})),Er((function(e,t){return e.length===t.length&&e.every((function(e,n){return e.id===t[n].id}))}))).subscribe(this.available$)),this.subscription.add(pr(vr(t,"change"),hr(["init"])).pipe($r((function(){return e.htmlTextTracksAsArray().find((function(e){return"showing"===e.mode}))})),$r((function(t){return t&&e.htmlTextTrackToITextTrack(t).id})),Er()).subscribe(this.current$));var n=function(t){var n,i;return e.applyCueSettings(null!==(n=null===(i=t.target)||void 0===i?void 0:i.activeCues)&&void 0!==n?n:null)};this.subscription.add(vr(t,"addtrack").subscribe((function(t){var i,r;null===(i=t.track)||void 0===i||i.addEventListener("cuechange",n);null===(r=t.track)||void 0===r||r.addEventListener("cuechange",(function t(n){var i,r,a,o,s,u=null!==(i=null===(r=n.target)||void 0===r?void 0:r.cues)&&void 0!==i?i:null;u&&u.length&&(e.applyCueSettings(null!==(a=null===(o=n.target)||void 0===o?void 0:o.cues)&&void 0!==a?a:null),null===(s=n.target)||void 0===s||s.removeEventListener("cuechange",t))}))}))),this.subscription.add(vr(t,"removetrack").subscribe((function(e){var t;null===(t=e.track)||void 0===t||t.removeEventListener("cuechange",n)})))}},{key:"applyCueSettings",value:function(e){if(e&&e.length)for(var t=this.cueSettings.getState(),n=0,i=Array.from(e);n<i.length;n++){var r=i[n];or(t.align)&&(r.align=t.align),or(t.position)&&(r.position=t.position),or(t.size)&&(r.size=t.size),or(t.line)&&(r.line=t.line)}}},{key:"htmlTextTracksAsArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ar(this.video);var n=Et(this.video.textTracks);return t?n:n.filter(e.isHealthyTrack)}},{key:"htmlTextTrackToITextTrack",value:function(e){var t=e.language,n=e.label,i=""!==e.id?e.id:function(e){return["__",e.language,e.label].join("|")}(e);return this.externalTracks.has(i)?{id:i,type:"external",language:t,label:n,url:this.externalTracks.get(i).url}:{id:i,type:"internal",language:t,label:n}}},{key:"setExternal",value:function(e){var t=this;e.filter((function(e){var n=e.id;return!t.externalTracks.has(n)})).forEach((function(e){return t.attach(e)})),Array.from(this.externalTracks.keys()).filter((function(t){return!e.find((function(e){return e.id===t}))})).forEach((function(e){return t.detach(e)}))}},{key:"select",value:function(e){ar(this.video);var t,n=Hi(this.htmlTextTracksAsArray(!0));try{for(n.s();!(t=n.n()).done;){var i=t.value;or(e)&&za(i,e)?i.mode="showing":i.mode="disabled"}}catch(r){n.e(r)}finally{n.f()}}},{key:"destroy",value:function(){if(this.subscription.unsubscribe(),this.video)for(var e=0,t=Array.from(this.video.getElementsByTagName("track"));e<t.length;e++){var n=t[e],i=n.getAttribute("id");i&&this.externalTracks.has(i)&&this.video.removeChild(n)}this.externalTracks.clear()}},{key:"attach",value:function(e){ar(this.video);var t=document.createElement("track");t.setAttribute("src",e.url),t.setAttribute("id",e.id),e.label&&t.setAttribute("label",e.label),e.language&&t.setAttribute("srclang",e.language),this.externalTracks.set(e.id,e),this.video.appendChild(t)}},{key:"detach",value:function(e){ar(this.video);var t=Array.prototype.find.call(this.video.getElementsByTagName("track"),(function(t){return t.getAttribute("id")===e}));t&&this.video.removeChild(t),this.externalTracks.delete(e)}}],[{key:"isHealthyTrack",value:function(e){return"metadata"!==e.kind&&(""!==e.id||""!==e.label||""!==e.language)}}]),e}(),Fa=function(e){var t=document.createElement("video");return t.setAttribute("crossorigin","anonymous"),t.setAttribute("playsinline","playsinline"),e.appendChild(t),t},qa=function(){function e(){m(this,e),h(this,"pausedTime",0),h(this,"streamOffset",0),h(this,"pauseTimestamp",0)}return y(e,[{key:"getTotalPausedTime",value:function(){return this.pausedTime+this.getCurrentPausedTime()}},{key:"getCurrentPausedTime",value:function(){return this.pauseTimestamp>0?Date.now()-this.pauseTimestamp:0}},{key:"getStreamOffset",value:function(){return this.streamOffset}},{key:"getTotalOffset",value:function(){return this.getTotalPausedTime()+this.streamOffset}},{key:"pause",value:function(){0===this.pauseTimestamp&&(this.pauseTimestamp=Date.now())}},{key:"resume",value:function(){this.pauseTimestamp>0&&(this.pausedTime+=this.getCurrentPausedTime(),this.pauseTimestamp=0)}},{key:"resetTo",value:function(e){this.streamOffset=e,this.pauseTimestamp=0,this.pausedTime=0}}]),e}(),Ha=function(){function e(t){m(this,e),h(this,"_buffer",[]),h(this,"_source",void 0),this._source=t}return y(e,[{key:"fill",value:function(){this._buffer=[];for(var e=this._source.currentTime,t=0,n=this._source.buffered.length;t<n;t++){var i=this._source.buffered.start(t),r=this._source.buffered.end(t);i>e&&i-e<3&&(i=e),this._buffer.push({from:i,to:r,i:t})}return this._buffer.sort((function(e,t){return e.from-t.from})),this._buffer}},{key:"getByTime",value:function(e){return this._buffer.find((function(t){return e>=t.from&&e<t.to}))}},{key:"getNextWithGap",value:function(e,t){var n=this.getNext(e);if(n&&n.from-e.to<(t||3))return n}},{key:"getNext",value:function(e){var t=this._buffer.indexOf(e);if(~t&&this._buffer.length-1>t)return this._buffer[++t]}},{key:"smartRemove",value:function(e,t,n){this._buffer.forEach((function(i){var r=i.from,a=i.to,o=r>=e&&r<t,s=a>=e&&a<t;o&&s||(o?n(t,a):s?n(r,e):r<e&&a>t?(n(t,a),n(r,e)):n(r,a))}))}},{key:"destroy",value:function(){this._buffer=[]}}]),e}(),ja=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0,r=0,a=0;a<e.length;a++){var o=e.start(a),s=e.end(a);if(o<=t&&t<=s){if(i=o,r=s,!n)return{from:i,to:r};for(var u=a-1;u>=0;u--)e.end(u)+n>=i&&(i=e.start(u));for(var l=a+1;l<e.length;l++)e.start(l)-n<=r&&(r=e.end(l))}}return{from:i,to:r}},Wa=function(e){var t,n=function(t){return vr(e,t).pipe(Ar(void 0))},i=pr.apply(void 0,Et(["waiting","pause","canplay","play","canplaythrough","playing","seeking","seeked","ended"].map((function(t){return vr(e,t)})))).pipe($r((function(){return e.readyState<3})),Er()),r=pr(vr(e,"progress"),vr(e,"timeupdate")).pipe($r((function(){return ja(e.buffered,e.currentTime)}))),a=vr(e,"volumechange").pipe(gr(0),$r((function(){return{muted:e.muted,volume:e.volume}}))),o=vr(e,"ratechange").pipe($r((function(){return e.playbackRate}))),s=vr(e,"error").pipe($r((function(){var t=e.error;return{id:t?"MediaError#".concat(t.code):"HtmlVideoError",message:t?t.message:"Error event from HTML video element"}}))),u=vr(e,"timeupdate").pipe($r((function(){return e.currentTime}))),l=new ir;return u.subscribe((function(n){e.loop&&or(t)&&or(n)&&t>=e.duration-.3&&n<=.3&&l.next(t),t=n})),{playing$:n("playing"),pause$:n("pause").pipe(Sr((function(){return!e.error}))),canplay$:n("canplay"),ended$:n("ended"),looped$:l,error$:s,seeked$:n("seeked"),seeking$:n("seeking"),progress$:n("progress"),loadStart$:n("loadstart"),loadedMetadata$:n("loadedmetadata"),loadedData$:n("loadeddata"),timeUpdate$:u,durationChange$:vr(e,"durationchange").pipe($r((function(){return e.duration}))),isBuffering$:i,currentBuffer$:r,volumeState$:a,playbackRateState$:o}},Ga=function(e){if(e.includes("/")){var t=e.split("/");return parseInt(t[0])/parseInt(t[1])}return parseFloat(e)},Ya=!1,Qa={},Ka=function(e){e(Qa)},Xa=function(e,t){var n;Ya&&(Qa.meta=null!==(n=Qa.meta)&&void 0!==n?n:{},Qa.meta[e]=t)},Ja=function(){function e(t){m(this,e),h(this,"name",void 0),this.name=t}return y(e,[{key:"next",value:function(e){var t,n;if(Ya){Qa.series=null!==(t=Qa.series)&&void 0!==t?t:{};var i=null!==(n=Qa.series[this.name])&&void 0!==n?n:[];i.push([Date.now(),e]),Qa.series[this.name]=i}}}]),e}(),Za=new Ja("best_bitrate"),eo=function(){function e(){m(this,e),h(this,"last",void 0),h(this,"history",{})}return y(e,[{key:"recordSelection",value:function(e){this.history[e.id]=ur()}},{key:"recordSwitch",value:function(e){this.last=e}},{key:"clear",value:function(){this.last=void 0,this.history={}}}]),e}(),to=function(e,t){var n,i,r,a,o,s,u=t.container,l=t.throughput,c=t.tuning,d=t.limits,f=t.reserve,p=void 0===f?0:f,h=t.forwardBufferHealth,v=t.playbackRate,m=t.current,g=t.history,y=c.usePixelRatio&&null!==(n=window.devicePixelRatio)&&void 0!==n?n:1,b=c.limitByContainer&&u&&u.width>0&&u.height>0&&{width:u.width*y*c.containerSizeFactor,height:u.height*y*c.containerSizeFactor},w=b&&ba(b),S=c.considerPlaybackRate&&or(v)?v:1,k=e.filter((function(e){return!wa(e.quality)})).sort((function(e,t){return ma(e.quality,t.quality)?-1:1})),E=null===(i=k.at(-1))||void 0===i?void 0:i.quality,x=null===(r=k.at(0))||void 0===r?void 0:r.quality,T=sr(d)||or(d.min)&&or(d.max)&&ga(d.max,d.min)||or(d.min)&&x&&ma(d.min,x)||or(d.max)&&E&&ga(d.max,E),$=S*(o=null!==h&&void 0!==h?h:.5,(c.bitrateFactorAtEmptyBuffer-(s=c.bitrateFactorAtFullBuffer))*Math.pow(2,-10*o)+s),P=k.filter((function(e){var t,n,i=!w||ga(e.quality,w),r=!(or(l)&&isFinite(l)&&or(e.bitrate))||l-p>=e.bitrate*$,a=c.lazyQualitySwitch&&or(c.minBufferToSwitchUp)&&m&&!wa(m.quality)&&(null!==h&&void 0!==h?h:0)<c.minBufferToSwitchUp&&ma(e.quality,m.quality),o=T||(sr(d.max)||(t=e.quality,n=d.max,va[t].height<=va[n].height))&&(sr(d.min)||function(e,t){return va[e].height>=va[t].height}(e.quality,d.min));return i&&r&&!a&&o}))[0];P&&P.bitrate&&Za.next(P.bitrate);var A=null!==(a=null!==P&&void 0!==P?P:k[Math.ceil((k.length-1)/2)])&&void 0!==a?a:e[0],C=A&&g&&g.history[A.id]&&ur()-g.history[A.id]<=c.trackCooldown&&(!g.last||A.id!==g.last.id);if(null!==A&&void 0!==A&&A.id&&g&&!C&&g.recordSelection(A),C&&null!==g&&void 0!==g&&g.last){var _=g.last;return null!==g&&void 0!==g&&g.recordSwitch(_),_}return null!==g&&void 0!==g&&g.recordSwitch(A),A},no=function(e){return new URL(e).hostname},io=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return new nr((function(n){var i=e.getBoundingClientRect(),r=i.width,a=i.height;if(n.next({width:r,height:a}),window.ResizeObserver){var o=new ResizeObserver(sa((function(e){var t,i,r=e[0];r&&(r.contentBoxSize&&r.contentBoxSize[0]?(i=r.contentBoxSize[0].blockSize,t=r.contentBoxSize[0].inlineSize):r.contentRect&&(t=r.contentRect.width,i=r.contentRect.height),or(t)&&or(i)&&n.next({width:t,height:i}))}),t));return o.observe(e),function(){return o.disconnect()}}}))},ro={};!function(e){e.DOWNLOADING_LIB="downloading_lib",e.STOPPED="stopped",e.STREAM_INITIALIZED="stream_initialized",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(_a||(_a={}));var ao=function(e,t){return new nr((function(n){var i=function(e){return n.next(e)};return e.on(t,i),function(){return e.off(t,i)}}))},oo=function(){function e(t){var n=this;m(this,e),h(this,"subscription",new Zi),h(this,"videoState",new Sa(_a.DOWNLOADING_LIB)),h(this,"video",void 0),h(this,"player",void 0),h(this,"params",void 0),h(this,"textTracksManager",new Ua),h(this,"videoTracks",[]),h(this,"frameRatesByFrameHeight",{}),h(this,"isLive$",new dr(void 0)),h(this,"maxSeekBackTime$",new dr(1/0)),h(this,"availableFrom$",new dr(void 0)),h(this,"elementSize$",new dr(void 0)),h(this,"liveOffset",new qa),h(this,"destroyBigRequest",void 0),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.params.desiredState.playbackState.getState(),i=n.params.desiredState.playbackState.getTransition(),r=n.params.desiredState.seekState.getState(),a=n.isLive$.getValue();if(!n.videoState.getTransition()&&e!==_a.DOWNLOADING_LIB&&e!==_a.STREAM_INITIALIZED)switch((null===i||void 0===i?void 0:i.to)!==Jr.PAUSED&&r.state===ra.Requested&&e!==_a.STOPPED&&t!==Jr.STOPPED&&(a?n.seek(r.position-n.liveOffset.getTotalPausedTime()):n.seek(r.position)),t){case Jr.STOPPED:switch(e){case _a.STOPPED:break;case _a.PLAYING:case _a.PAUSED:case _a.READY:n.stop();break;default:er(e)}break;case Jr.PLAYING:switch(e){case _a.PLAYING:break;case _a.PAUSED:a&&(n.liveOffset.getTotalPausedTime()<n.params.config.maxPausedTime&&n.liveOffset.getTotalOffset()<n.maxSeekBackTime$.getValue()?(n.liveOffset.resume(),n.params.output.position$.next(-n.liveOffset.getTotalOffset()/1e3)):n.seek(-n.liveOffset.getTotalOffset())),n.play();break;case _a.READY:n.play();break;case _a.STOPPED:n.prepare();break;default:er(e)}break;case Jr.PAUSED:switch(e){case _a.PLAYING:n.pause(),n.liveOffset.pause();break;case _a.PAUSED:break;case _a.READY:n.videoState.setState(_a.PAUSED),pa(n.params.desiredState.playbackState,Jr.PAUSED);break;case _a.STOPPED:n.prepare();break;default:er(e)}break;default:er(t)}})),this.video=Fa(t.container),this.params=t,this.params.output.element$.next(this.video),this.params.output.availableVideoTracks$.next([]),this.params.output.hostname$.next(no(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.loadDashJs()}return y(e,[{key:"loadDashJs",value:function(){var e=this,t=!1,i=function(n){var i;t||e.params.output.error$.next({id:"timeout"===n?"DashJSTimedOut":"DashJSLoadingError",message:"Dash.js failed to load: ".concat(null===n||void 0===n||null===(i=n.toString)||void 0===i?void 0:i.call(n)),thrown:n}),t=!0},r=window.setTimeout((function(){return i("timeout")}),5e3);n.e(792).then(n.t.bind(n,792,19)).then((function(n){t||(ro.MediaPlayer=n.MediaPlayer,ro.Debug=n.Debug,e.init())}),i).finally((function(){window.clearTimeout(r),t=!0}))}},{key:"init",value:function(){var e=this;ar(ro.MediaPlayer,"dashjs not loaded"),ar(ro.Debug,"dashjs not loaded"),this.player=ro.MediaPlayer().create(),this.player.updateSettings({debug:{logLevel:3},streaming:{buffer:{fastSwitchEnabled:!0},abr:{limitBitrateByPortal:this.params.tuning.autoTrackSelection.limitByContainer,usePixelRatioInLimitBitrateByPortal:this.params.tuning.autoTrackSelection.usePixelRatio,additionalAbrRules:{insufficientBufferRule:!1}},utcSynchronization:{useManifestDateHeaderTimeSource:!0}}}),this.player.registerCustomCapabilitiesFilter((function(t){return t.height&&(e.frameRatesByFrameHeight[t.height]=t.frameRate?Ga(t.frameRate+""):void 0),!0})),this.params.format!==Zr.DASH_WEBM&&this.params.format!==Zr.DASH_LIVE_WEBM||!this.params.tuning.useWebmBigRequest?this.params.tuning.stripRangeHeader&&function(e){e.extend("HTTPLoader",(function(){var e=this.parent.load;return{load:function(t){if(t.request&&t.request.range){var n=s(t.request.range.split("-").map((function(e){return parseInt(e,10)})),2),i=n[0],r=n[1],a=new URL(t.request.url,location.href);a.searchParams.append("bytes","".concat(i,"-").concat(r)),t.request.url=a.toString(),t.request.range=void 0}e(t)}}}),!0)}(this.player):this.destroyBigRequest=function(e,t){var n=new Na(t);return e.extend("SchemeLoaderFactory",(function(){var e=this.parent.getLoader;return{getLoader:function(t){return function(e,t){return function(n){return{create:function(i){var r=e(n).create(i);return new Ma(r,t,i)}}}}(e(t),n)}}}),!0),function(){return n.destroy()}}(this.player,{minInitSize:this.params.tuning.bigRequestMinInitSize,minDataSize:this.params.tuning.bigRequestMinDataSize,onError:function(t){return e.params.output.error$.next(t)},onDownloadStream:function(t){return e.params.dependencies.throughputEstimator.trackStream(t)}}),function(e){var t,n=!1,i=!1;e.on("playbackTimeUpdated",(function(e){var r,a=e.timeToEnd;i=a<=3,n&&i&&(null===(r=t)||void 0===r||r())})),e.extend("MediaSourceController",(function(){var e=this.parent.signalEndOfStream;return{signalEndOfStream:function(r){var a;t=function(){return e(r)},(n=!0)&&i&&(null===(a=t)||void 0===a||a())}}}),!0)}(this.player),this.params.tuning.requestQuick&&this.player.extend("RequestModifier",(function(){return{modifyRequestURL:Ia}}),!0),this.player.clearDefaultUTCTimingSources(),this.subscribe(),this.videoState.setState(_a.STOPPED)}},{key:"subscribe",value:function(){var e=this,t=this.params,n=t.output,i=t.desiredState,r=function(e){n.error$.next({id:"DashIFProvider",message:"DashIFProvider internal logic error",thrown:e})},a=function(t,n){return e.subscription.add(t.subscribe(n,r))};a(io(this.video),this.elementSize$),a(ao(this.player,"error").pipe($r((function(e){return{id:"DashJS#".concat("object"==typeof e.error?e.error.code:e.error),message:"object"==typeof e.error?e.error.message:void 0}}))),n.error$),a(ao(this.player,"playbackError").pipe($r((function(e){return{id:"DashJSPlayback",message:e.error}}))),n.error$);var o=ao(this.player,"qualityChangeRendered").pipe(Sr((function(e){return"video"===e.mediaType})),$r((function(t){var n,i=t.newQuality;return null===(n=e.videoTracks.find((function(e){return e.bitrateInfo.qualityIndex===i})))||void 0===n?void 0:n.track})));o.pipe(Sr(or)).subscribe(n.currentVideoTrack$),this.subscription.add(this.videoState.transitionEnded$.pipe(Sr((function(e){return e.to===_a.STREAM_INITIALIZED})),Cr()).subscribe((function(){e.subscription.add(Da(i.videoTrack,(function(){var t,n,i=e.player.getQualityFor("video");return null===(t=e.videoTracks.find((function(e){return e.bitrateInfo.qualityIndex===i})))||void 0===t||null===(n=t.track)||void 0===n?void 0:n.id}),(function(t){var n;if(!sr(t)){var i=null===(n=e.videoTracks.find((function(e){return e.track.id===t})))||void 0===n?void 0:n.bitrateInfo;i&&e.player.setQualityFor("video",i.qualityIndex)}}),{changed$:o.pipe($r((function(e){return null===e||void 0===e?void 0:e.id}))),onError:r}))}),r)),this.subscription.add(Da(i.autoVideoTrackSwitching,(function(){var t,n,i;return null===(t=e.player.getSettings().streaming)||void 0===t||null===(n=t.abr)||void 0===n||null===(i=n.autoSwitchBitrate)||void 0===i?void 0:i.video}),(function(t){return e.player.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:t}}}})}),{onError:r})),a(ao(this.player,"bufferStateChanged").pipe(Sr((function(e){return"video"===e.mediaType})),$r((function(e){return"bufferStalled"===e.state}))),n.isBuffering$),a(ao(this.player,"fragmentLoadingStarted"),(function(t){var i,r,a=t.mediaType,o=t.request.url,s=e.player.getDashMetrics(),u=s.getLatestFragmentRequestHeaderValueByID(a,"X-Reused"),l=null!==(i=s.getLatestFragmentRequestHeaderValueByID(a,"X-Delivery-Type"))&&void 0!==i?i:ia.HTTP1,c=null!==(r={1:!0,0:!1}[u])&&void 0!==r?r:void 0;e.params.output.httpConnectionType$.next(l),e.params.output.httpConnectionReused$.next(c),n.hostname$.next(no(o))})),a(ao(this.player,"streamInitialized"),(function(t){var i=t.streamInfo,r=i.duration,a=i.manifestInfo,o=a.isDynamic,s=a.availableFrom;e.isLive$.next(o),e.availableFrom$.next(s.getTime()),o||n.duration$.next(r),e.videoTracks=[];var u,l,c=e.player.getQualityFor("video"),d=Hi(e.player.getBitrateInfoListFor("video"));try{for(d.s();!(l=d.n()).done;){var f=l.value,p=f.qualityIndex.toString(10),h=ba(f),v=f.bitrate/1e3,m={width:f.width,height:f.height},g=e.frameRatesByFrameHeight[f.height];if(h){var y={id:p,quality:h,bitrate:v,size:m,fps:g};e.videoTracks.push({track:y,bitrateInfo:f}),f.qualityIndex===c&&(u=y)}}}catch(b){d.e(b)}finally{d.f()}n.availableVideoTracks$.next(e.videoTracks.map((function(e){return e.track}))),u&&n.currentVideoTrack$.next(u),e.videoState.setState(_a.STREAM_INITIALIZED),e.videoState.startTransitionTo(_a.READY)})),a(ao(this.player,"fragmentLoadingCompleted"),(function(t){var n=t.request;if(n.requestEndDate&&n.firstByteDate&&n.bytesLoaded){var i=n.requestEndDate.getTime()-n.firstByteDate.getTime(),r=n.bytesLoaded;e.params.dependencies.throughputEstimator.addRawSpeed(r,i)}})),a(pr(this.params.dependencies.throughputEstimator.throughput$,this.elementSize$,i.autoVideoTrackLimits.stateChangeEnded$),(function(){if(e.params.desiredState.autoVideoTrackSwitching.getState()&&e.videoTracks.length){var t=e.params.dependencies.throughputEstimator.throughput$.getValue(),n=to(e.videoTracks.map((function(e){return e.track})),{container:e.elementSize$.getValue(),throughput:t,tuning:e.params.tuning.autoTrackSelection,limits:i.autoVideoTrackLimits.getState()}),r=e.videoTracks.find((function(e){return e.track===n}));(null===r||void 0===r?void 0:r.bitrateInfo)&&e.player.setQualityFor("video",null===r||void 0===r?void 0:r.bitrateInfo.qualityIndex,!1)}})),a(fr({maxSeekBackTime:this.maxSeekBackTime$,isLive:this.isLive$.pipe(Sr(or))}).pipe(Sr((function(e){return e.isLive})),$r((function(e){return-e.maxSeekBackTime/1e3}))),this.params.output.duration$);var s=ao(this.player,"playbackTimeUpdated").pipe($r((function(e){var t=e.time;return null!==t&&void 0!==t?t:0})));a(fr({availableFrom:this.availableFrom$.pipe(Sr(or)),currentTime:s}),(function(t){var n=t.availableFrom,i=t.currentTime;return e.params.output.liveTime$.next(n+1e3*i)})),a(s.pipe(Sr((function(){return!1===e.isLive$.getValue()}))),n.position$),a(ao(this.player,"playbackSeeked"),(function(){return n.seekedEvent$.next()})),a(ao(this.player,"playbackEnded"),n.endedEvent$),a(ao(this.player,"playbackProgress").pipe($r((function(){return ja(e.video.buffered,e.video.currentTime)}))),n.currentBuffer$),a(ao(this.player,"playbackPlaying"),(function(){e.videoState.setState(_a.PLAYING),pa(i.playbackState,Jr.PLAYING)})),a(ao(this.player,"playbackNotAllowed"),(function(){e.player.isMuted()?(e.player.setMute(!1),e.videoState.setState(_a.PAUSED),pa(e.params.desiredState.playbackState,Jr.PAUSED,!0)):(e.player.setMute(!0),e.player.play())})),a(ao(this.player,"playbackPaused"),(function(){e.videoState.setState(_a.PAUSED),pa(i.playbackState,Jr.PAUSED)})),a(ao(this.player,"canPlay"),(function(){var t;(null===(t=e.videoState.getTransition())||void 0===t?void 0:t.to)===_a.READY&&e.videoState.setState(_a.READY)})),a(this.isLive$,n.isLive$),a(io(this.video),(function(){e.player.isReady()&&e.player.updatePortalSize()})),a(pr(i.playbackState.stateChangeStarted$,i.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0)),this.syncPlayback);var u=function(e){var t=new dr(1/0),n=new ir,i=new dr(void 0),r=new dr(void 0),a=NaN,o=!1;return e.extend("XHRLoader",(function(){var e=this.parent,s=e.load.bind(e);return{load:function(e){if("MPD"===e.request.type){var u=e.onload,l=e.progress;e.onload=function(){return function(e){var n,a,o=Object.fromEntries(e.getAllResponseHeaders().trim().split(/[\n\r]+/).map((function(e){return e.split(": ")})));if("x-playback-duration"in o||"x-playback-duration-millis"in o){var s,u,l,c,d=parseInt(null!==(s=e.getResponseHeader("X-Playback-Duration"))&&void 0!==s?s:"",10),f=null!==(u=null!==(l=parseInt(null!==(c=e.getResponseHeader("X-Playback-Duration-Millis"))&&void 0!==c?c:"",10))&&void 0!==l?l:1e3*d)&&void 0!==u?u:NaN;or(f)&&!isNaN(f)&&t.next(f)}var p=null!==(n=o["x-delivery-type"])&&void 0!==n?n:ia.HTTP1,h=null!==(a={1:!0,0:!1}[o["x-reused"]])&&void 0!==a?a:void 0;i.next(p),r.next(h)}(this),u.apply(void 0,arguments)},e.progress=function(){return this.readyState>=2&&!o&&(o=!0,n.next(Date.now()-a)),l.apply(void 0,arguments)},a=Date.now(),o=!1}return s(e)}}}),!0),{playbackDuration$:t,ping$:n,connectionReused$:r,connectionType$:i}}(this.player),l=u.playbackDuration$,c=u.ping$,d=u.connectionType$,f=u.connectionReused$;a(d,this.params.output.httpConnectionType$),a(f,this.params.output.httpConnectionReused$),a(l,this.maxSeekBackTime$),a(c.pipe(Cr()),n.firstBytesEvent$),a(ao(this.player,"canPlay"),n.canplay$),this.params.tuning.flushShortLoopedBuffers&&a(fr({isLive:this.isLive$,isShort:n.duration$.pipe($r((function(e){return e<60})))}),(function(t){var n=t.isLive,i=t.isShort,r=!n&&i;e.player.updateSettings({streaming:{buffer:{flushBufferAtTrackSwitch:r}}})})),a(s.pipe(Sr((function(t){return t>e.params.tuning.insufficientBufferRuleMargin})),Cr()),(function(){return e.player.updateSettings({streaming:{abr:{additionalAbrRules:{insufficientBufferRule:!0}}}})})),this.textTracksManager.connect(this.video,i,n),this.subscription.add(ao(this.player,"manifestLoaded").pipe(Cr()).subscribe((function(){e.subscription.add(ao(e.player,"playbackPlaying").pipe(Cr(),Ar(void 0)).subscribe(n.firstFrameEvent$,r))}),r)),this.subscription.add(Oa(this.video,i.isLooped,r));var p=Wa(this.video),h=p.volumeState$,v=p.looped$,m=p.playbackRateState$;this.subscription.add(Ba(this.video,i.volume,h,r)),this.subscription.add(h.subscribe(n.volume$,r)),this.subscription.add(v.subscribe(n.loopedEvent$)),this.subscription.add(Va(this.video,i.playbackRate,m,r))}},{key:"stop",value:function(){this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.player.attachSource(null),this.player.attachView(null),this.player.initialize(),this.player.clearDefaultUTCTimingSources(),this.videoState.setState(_a.STOPPED),pa(this.params.desiredState.playbackState,Jr.STOPPED,!0)}},{key:"prepare",value:function(){this.videoState.startTransitionTo(_a.STREAM_INITIALIZED),this.player.initialize(),this.player.clearDefaultUTCTimingSources(),this.player.attachView(this.video),this.player.attachSource(this.params.source.url)}},{key:"seek",value:function(e){if(this.params.output.willSeekEvent$.next(),this.isLive$.getValue()){var t=-e,n=t<this.maxSeekBackTime$.getValue()?t:0;this.liveOffset.resetTo(n),this.params.output.position$.next(-n/1e3);var i=fa(this.params.source.url,this.liveOffset.getTotalOffset()/1e3,ua.PLAYBACK_SHIFT);this.player.attachSource(i)}else this.player.seek(e/1e3)}},{key:"play",value:function(){this.videoState.startTransitionTo(_a.PLAYING),this.player.play()}},{key:"pause",value:function(){this.videoState.startTransitionTo(_a.PAUSED),this.video.pause()}},{key:"destroy",value:function(){var e;this.subscription.unsubscribe(),this.textTracksManager.destroy();try{var t;null===(t=this.player)||void 0===t||t.destroy()}catch(aa){}this.video.remove(),this.params.output.element$.next(void 0),null===(e=this.destroyBigRequest)||void 0===e||e.call(this)}}]),e}(),so=function(e){switch(e){case"mobile":return da.Q_144P;case"lowest":return da.Q_240P;case"low":return da.Q_360P;case"sd":case"medium":return da.Q_480P;case"hd":case"high":return da.Q_720P;case"fullhd":case"full":return da.Q_1080P;case"quadhd":case"quad":return da.Q_1440P;case"ultrahd":case"ultra":return da.Q_2160P}},uo=function(){var e=Gi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.muted,e.prev=1,e.next=4,t.play();case 4:case 16:e.next=21;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(e.t0 instanceof DOMException)||20!==e.t0.code&&"AbortError"!==e.t0.name){e.next=10;break}return e.abrupt("return",!1);case 10:if(!n){e.next=12;break}return e.abrupt("return",(console.warn(e.t0),!1));case 12:return t.muted=!0,e.prev=13,e.next=16,t.play();case 18:return e.prev=18,e.t1=e.catch(13),e.abrupt("return",(t.muted=!1,console.warn(e.t1),!1));case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,null,[[1,6],[13,18]])})));return function(t){return e.apply(this,arguments)}}();function lo(){return ur()}function co(e){return lo()-e}function fo(e){var t=e.split("/"),n=t.slice(0,t.length-1).join("/"),i=/^([a-z]+:)?\/\//i;return{resolve:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(e){return i.test(e)})(e)||(e.startsWith("/")||(e="/"+e),e=n+e);var a=e.indexOf("?")>-1?"&":"?";return r&&(e+=a+"lowLat=1",a="&"),t&&(e+=a+"_rnd="+Math.floor(999999999*Math.random())),e}}}function po(e,t,n,i){var r,a,o,s,u,l=window.XMLHttpRequest,c=!1,d=0,f=!1,p="arraybuffer",h=7e3,v=2e3,m=function e(){if(!c){ar(s);var t=co(s);if(t<v)return void setTimeout(e,v-t);(v*=2)>h&&(v=h),a&&a.abort(),a=new l,y()}},g=function(){if(!c){if(--d>=0)return m(),void(i&&i());c=!0,u&&u(),n&&n()}},y=function(){s=lo(),(a=new l).open("get",e);var n,i=0,d=0,h=function(){return ar(s),Math.max(s,Math.max(n||0,d||0))};if(r&&a.addEventListener("progress",(function(e){var t=lo();r.updateChunk&&e.loaded>i&&(r.updateChunk(h(),e.loaded-i),i=e.loaded,n=t)})),o&&(a.timeout=o,a.addEventListener("timeout",(function(){return g()}))),a.addEventListener("load",(function(){if(!c){ar(a);var e=a.status;if(e>=200&&e<300){if(a.response.byteLength&&r){var n=a.response.byteLength-i;n&&r.updateChunk&&r.updateChunk(h(),n)}u&&u(),a&&t(a.response)}else g()}})),a.addEventListener("error",(function(){g()})),f){a.addEventListener("readystatechange",(function e(){ar(a),a.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(d=lo(),a.removeEventListener("readystatechange",e))}))}return a.responseType=p,a.send(),b},b={withBitrateReporting:function(e){return r=e,b},withParallel:function(e){return f=e,b},withJSONResponse:function(){return p="json",b},withRetryCount:function(e){return d=e,b},withRetryInterval:function(e,t){return or(e)&&(v=e),or(t)&&(h=t),b},withTimeout:function(e){return o=e,b},withFinally:function(e){return u=e,b},send:y,abort:function(){a&&(a.abort(),a=void 0),c=!0,u&&u()}};return b}var ho,vo=function(){function e(t){m(this,e),h(this,"intervals",[]),h(this,"currentRate",0),h(this,"logger",void 0),this.logger=t}return y(e,[{key:"_updateRate",value:function(e){var t=.2;this.currentRate&&(e<.1*this.currentRate?t=.8:e<.5*this.currentRate?t=.5:e<.7*this.currentRate&&(t=.3)),e=Math.max(1,Math.min(e,104857600)),this.currentRate=this.currentRate?this.currentRate*(1-t)+e*t:e}},{key:"_createInterval",value:function(e,t,n){return{start:e,end:t,bytes:n}}},{key:"_doMergeIntervals",value:function(e,t){e.start=Math.min(t.start,e.start),e.end=Math.max(t.end,e.end),e.bytes+=t.bytes}},{key:"_mergeIntervals",value:function(e,t){return e.start<=t.end&&t.start<=e.end&&(this._doMergeIntervals(e,t),!0)}},{key:"_flushIntervals",value:function(){if(!this.intervals.length)return!1;var e=this.intervals[0].start,t=this.intervals[this.intervals.length-1].end-500;if(t-e>2e3){for(var n=0,i=0;this.intervals.length>0;){var r=this.intervals[0];if(r.end<=t)n+=r.end-r.start,i+=r.bytes,this.intervals.splice(0,1);else{if(r.start>=t)break;var a=t-r.start,o=r.end-r.start;n+=a;var s=r.bytes*a/o;i+=s,r.start=t,r.bytes-=s}}if(i>0&&n>0){var u=8*i/(n/1e3);return this._updateRate(u),this.logger("rate updated, new=".concat(Math.round(u/1024),"K; average=").concat(Math.round(this.currentRate/1024),"K bytes/ms=").concat(Math.round(i),"/").concat(Math.round(n)," interval=").concat(Math.round(t-e))),!0}}return!1}},{key:"_joinIntervals",value:function(){var e;do{e=!1;for(var t=0;t<this.intervals.length-1;++t)this._mergeIntervals(this.intervals[t],this.intervals[t+1])&&(this.intervals.splice(t+1,1),e=!0)}while(e)}},{key:"addInterval",value:function(e,t,n){return this.intervals.push(this._createInterval(e,t,n)),this._joinIntervals(),this.intervals.length>100&&(this.logger("too many intervals (".concat(this.intervals.length,"); will merge"),{type:"warn"}),this._doMergeIntervals(this.intervals[1],this.intervals[0]),this.intervals.splice(0,1)),this._flushIntervals()}},{key:"getBitRate",value:function(){return this.currentRate}}]),e}(),mo=function(){function e(t,n,i,r,a){m(this,e),h(this,"pendingQueue",[]),h(this,"activeRequests",{}),h(this,"completeRequests",{}),h(this,"averageSegmentDuration",2e3),h(this,"lastPrefetchStart",0),h(this,"throttleTimeout",null),h(this,"RETRY_COUNT",void 0),h(this,"TIMEOUT",void 0),h(this,"BITRATE_ESTIMATOR",void 0),h(this,"MAX_PARALLEL_REQUESTS",void 0),h(this,"logger",void 0),this.RETRY_COUNT=t,this.TIMEOUT=n,this.BITRATE_ESTIMATOR=i,this.MAX_PARALLEL_REQUESTS=r,this.logger=a}return y(e,[{key:"limitCompleteCount",value:function(){for(var e;(e=Object.keys(this.completeRequests)).length>this._getParallelRequestCount()+2;){var t=e[Math.floor(Math.random()*e.length)];this.logger("Dropping completed request for url ".concat(t),{type:"warn"}),delete this.completeRequests[t]}}},{key:"_sendRequest",value:function(e,t){var n=this,i=lo();e._request=po(t,(function(r){e._complete=1,e._responseData=r,e._downloadTime=lo()-i,delete n.activeRequests[t],n._sendPending(),e._cb?e._cb(r,e._downloadTime):(n.limitCompleteCount(),n.completeRequests[t]=e)}),(function(){return function(i){delete n.activeRequests[t],n.limitCompleteCount(),n.completeRequests[t]=e,n._sendPending(),e._error=1,e._errorMsg=i,e._errorCB?e._errorCB(i):(n.limitCompleteCount(),n.completeRequests[t]=e)}("error")}),(function(){e._retry=1,e._retryCB&&e._retryCB()})),e._request.withRetryCount(this.RETRY_COUNT).withTimeout(this.TIMEOUT).withBitrateReporting(this.BITRATE_ESTIMATOR).withParallel(this._getParallelRequestCount()>1).withFinally((function(){e._finallyCB&&e._finallyCB()})),this.activeRequests[t]=e,e._request.send(),this.lastPrefetchStart=lo()}},{key:"_getParallelRequestCount",value:function(){return Math.min(this.MAX_PARALLEL_REQUESTS,this.averageSegmentDuration<3e3?3:2)}},{key:"_getPrefetchDelay",value:function(){return Math.max(100,Math.min(5e3,this.averageSegmentDuration/3))}},{key:"_canSendPending",value:function(){var e=this,t=this._getParallelRequestCount(),n=lo();if(Object.keys(this.activeRequests).length>=t)return!1;var i=this._getPrefetchDelay()-(n-this.lastPrefetchStart);return this.throttleTimeout&&clearTimeout(this.throttleTimeout),!(i>0)||(this.throttleTimeout=window.setTimeout((function(){return e._sendPending()}),i),!1)}},{key:"_sendPending",value:function(){for(;this._canSendPending();){var e=this.pendingQueue.pop();if(!e)return;this.activeRequests[e]||this.completeRequests[e]||(this.logger("Submitting pending request url=".concat(e)),this._sendRequest({},e))}}},{key:"_removeFromActive",value:function(e){delete this.completeRequests[e],delete this.activeRequests[e]}},{key:"abortAll",value:function(){Object.values(this.activeRequests).forEach((function(e){e&&e._request&&e._request.abort()})),this.activeRequests={},this.pendingQueue=[],this.completeRequests={}}},{key:"requestData",value:function(e,t,n,i){var r=this,a={send:function(){var o=r.activeRequests[e]||r.completeRequests[e];if(o)o._cb=t,o._errorCB=n,o._retryCB=i,o._finallyCB=a._finallyCB,o._error||o._complete?(r._removeFromActive(e),setTimeout((function(){o._complete?(r.logger("Requested url already prefetched, url=".concat(e)),t(o._responseData,o._downloadTime)):(r.logger("Requested url already prefetched with error, url=".concat(e)),n(o._errorMsg)),a._finallyCB&&a._finallyCB()}),0)):r.logger("Attached to active request, url=".concat(e));else{var s=r.pendingQueue.indexOf(e);-1!==s&&r.pendingQueue.splice(s,1),r.logger("Request not prefetched, starting new request, url=".concat(e).concat(-1===s?"":"; removed pending")),r._sendRequest(a,e)}}};return a._cb=t,a._errorCB=n,a._retryCB=i,a.abort=function(){a.request&&a.request.abort()},a.withFinally=function(e){return a._finallyCB=e,a},a}},{key:"prefetch",value:function(e){this.activeRequests[e]||this.completeRequests[e]?this.logger("Request already active for url=".concat(e)):(this.logger("Added to pending queue; url=".concat(e)),this.pendingQueue.unshift(e),this._sendPending())}},{key:"optimizeForSegDuration",value:function(e){this.averageSegmentDuration=e}}]),e}(),go=function(){function e(t){m(this,e),h(this,"paused",!1),h(this,"autoQuality",!0),h(this,"maxAutoQuality",void 0),h(this,"buffering",!0),h(this,"destroyed",!1),h(this,"videoPlayStarted",!1),h(this,"lowLatency",!1),h(this,"rep",void 0),h(this,"bitrate",0),h(this,"manifest",[]),h(this,"bitrateSwitcher",void 0),h(this,"filesFetcher",void 0),h(this,"sourceBuffer",0),h(this,"mediaSource",void 0),h(this,"currentManifestEntry",void 0),h(this,"manifestRequest",void 0),h(this,"manifestRefetchTimer",void 0),h(this,"bufferStates",[]),h(this,"downloadRate",void 0),h(this,"sourceJitter",-1),h(this,"chunkRateEstimator",void 0),h(this,"manifestUrl",void 0),h(this,"urlResolver",void 0),h(this,"params",void 0),this.params=t,this.chunkRateEstimator=new vo(this.params.logger),this._initVideo()}return y(e,[{key:"attachSource",value:function(e){this.manifestUrl=e,this.urlResolver=fo(e),this.bitrateSwitcher=this._initBitrateSwitcher(),this._initManifest()}},{key:"setAutoQualityEnabled",value:function(e){this.autoQuality=e}},{key:"setMaxAutoQuality",value:function(e){this.maxAutoQuality=e}},{key:"switchByName",value:function(e){for(var t,n=0;n<this.manifest.length;++n)if((t=this.manifest[n]).name===e)return void this._switchToQuality(t)}},{key:"catchUp",value:function(){this.rep&&this.rep.stop(),this.currentManifestEntry&&(this.paused=!1,this._initPlayerWith(this.currentManifestEntry),this._notifyBuffering(!0))}},{key:"stop",value:function(){this.params.videoElement.pause(),this.rep&&(this.rep.stop(),this.rep=null)}},{key:"pause",value:function(){this.paused=!0,this.params.videoElement.pause(),this.videoPlayStarted=!1,this._notifyBuffering(!1)}},{key:"play",value:function(e){this.paused=!1;var t=this.lowLatency&&this._getBufferSizeSec()>this.sourceJitter+5;this.rep&&!t?(this.bufferStates=[],this.videoPlayStarted=!1,this.shouldPlay()?this._playVideoElement(e):this._notifyBuffering(!0)):this.catchUp()}},{key:"startPlay",value:function(e,t){this.autoQuality=t,this._initPlayerWith(e)}},{key:"destroy",value:function(){this.destroyed=!0,this.rep&&(this.rep.stop(),this.rep=null),this.manifestRequest&&this.manifestRequest.abort(),this.manifestRefetchTimer&&(clearTimeout(this.manifestRefetchTimer),this.manifestRefetchTimer=void 0)}},{key:"reinit",value:function(e){this.manifestUrl=e,this.urlResolver=fo(e),this.catchUp()}},{key:"_handleNetworkError",value:function(){this.params.logger("Fatal network error"),this.params.playerCallback({name:"error",type:"network"})}},{key:"_retryCallback",value:function(){this.params.playerCallback({name:"retry"})}},{key:"_getBufferSizeSec",value:function(){var e=this.params.videoElement,t=0,n=e.buffered.length;return 0!==n&&(t=e.buffered.end(n-1)-Math.max(e.currentTime,e.buffered.start(0))),t}},{key:"_notifyBuffering",value:function(e){this.destroyed||(this.params.logger("buffering: ".concat(e)),this.params.playerCallback({name:"buffering",isBuffering:e}),this.buffering=e)}},{key:"_initVideo",value:function(){var e=this,t=this.params,n=t.videoElement,i=t.logger;n.addEventListener("error",(function(t){var r;e.destroyed||(i("Video element error: ".concat(null===(r=n.error)||void 0===r?void 0:r.code)),e.params.playerCallback({name:"error",type:"media"}))})),n.addEventListener("timeupdate",(function(){var t=e._getBufferSizeSec();!e.paused&&t<.3?e.buffering||(e.buffering=!0,window.setTimeout((function(){!e.paused&&e.buffering&&e._notifyBuffering(!0),n.pause(),e.videoPlayStarted=!1}),1e3*(t+.1))):e.buffering&&e.videoPlayStarted&&e._notifyBuffering(!1)})),n.addEventListener("playing",(function(){i("playing")})),n.addEventListener("stalled",(function(){return e._fixupStall()})),n.addEventListener("waiting",(function(){return e._fixupStall()}))}},{key:"_fixupStall",value:function(){var e,t=this.params,n=t.logger,i=t.videoElement,r=i.buffered.length;0!==r&&(e=i.buffered.start(r-1),i.currentTime<e&&(n("Fixup stall"),i.currentTime=e))}},{key:"_selectQuality",value:function(e){for(var t,n,i,r=this.params.videoElement,a=r&&1.62*(window.devicePixelRatio||1)*r.offsetHeight||520,o=0;o<this.manifest.length;++o)i=this.manifest[o],this.maxAutoQuality&&i.video.height>this.maxAutoQuality||(i.bitrate<e&&a>Math.min(i.video.height,i.video.width)?(!n||i.bitrate>n.bitrate)&&(n=i):(!t||t.bitrate>i.bitrate)&&(t=i));return n||t}},{key:"shouldPlay",value:function(){if(this.paused)return!1;var e=this._getBufferSizeSec()-Math.max(1,this.sourceJitter);return e>3||or(this.downloadRate)&&(this.downloadRate>1.5&&e>2||this.downloadRate>2&&e>1)}},{key:"_setVideoSrc",value:function(e,t){var n=this,i=this.params,r=i.logger,a=i.videoElement,o=i.playerCallback;this.mediaSource=new window.MediaSource,r("setting video src"),a.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",(function(){n.mediaSource&&(n.sourceBuffer=n.mediaSource.addSourceBuffer(e.codecs),n.bufferStates=[],t())})),this.videoPlayStarted=!1,a.addEventListener("canplay",(function(){n.shouldPlay()&&(n.videoPlayStarted=!0,n._playVideoElement())}));!function e(){!function(e,t,n){e.addEventListener(t,(function i(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n.apply(null,a),e.removeEventListener(t,i)}))}(a,"progress",(function(){a.buffered.length?(a.currentTime=a.buffered.start(0),o({name:"playing"})):e()}))}()}},{key:"_initPlayerWith",value:function(e){var t=this;this.bitrate=0,this.rep=0,this.sourceBuffer=0,this.bufferStates=[],this.filesFetcher&&this.filesFetcher.abortAll(),this.filesFetcher=new mo(3,1e4,this.bitrateSwitcher,this.params.config.maxParallelRequests,this.params.logger),this._setVideoSrc(e,(function(){return t._switchToQuality(e)}))}},{key:"_representation",value:function(e){var t=this,n=this.params,i=n.logger,r=n.videoElement,a=n.playerCallback,o=!1,s=null,u=null,l=null,c=null,d=!1,f=function(){var e=o&&(!d||d===t.rep);return e||i("Not running!"),e},p=function(e,n,i){l&&l.abort(),l=po(t.urlResolver.resolve(e,!1),n,i,(function(){return t._retryCallback()})).withTimeout(1e4).withBitrateReporting(t.bitrateSwitcher).withRetryCount(3).withFinally((function(){l=null})).send()},h=function(e,n,i){var r;ar(t.filesFetcher),null!==(r=u)&&void 0!==r&&r.abort(),u=t.filesFetcher.requestData(t.urlResolver.resolve(e,!1),n,i,(function(){return t._retryCallback()})).withFinally((function(){u=null})).send()},v=function(e){var t=r.playbackRate;r.playbackRate!==e&&(i("Playback rate switch: ".concat(t,"=>").concat(e)),r.playbackRate=e)},m=function(e){t.lowLatency=e,i("lowLatency changed to ".concat(e)),g()},g=function(){if(t.lowLatency){var e=t._getBufferSizeSec();if(t.bufferStates.length<5)return void v(1);for(var n=lo()-6e4,r=0,a=0;a<t.bufferStates.length;a++){var o=t.bufferStates[a];e=Math.min(e,o.buf),o.ts<n&&r++}t.bufferStates.splice(0,r),i("update playback rate;  minBuffer=".concat(e," drop=").concat(r," jitter=").concat(t.sourceJitter));var s=e-1;t.sourceJitter>=0?s-=t.sourceJitter/2:t.sourceJitter-=1,v(s>3?1.15:s>1?1.1:s>.3?1.01:1)}else v(1)},y=function(e){var n,r=function(){return n&&n.start?n.start.length:0},o=function(e){return n.start[e]/1e3},s=function(e){return n.dur[e]/1e3},u=function(e){return n.fragIndex+e},l=function(e,t){return{chunkIdx:u(e),startTS:o(e),dur:s(e),discontinuity:t}},d=function(){var e=0;if(n&&n.dur){var i=t.lowLatency?t.params.config.lowLatencyMinBuffer:t.params.config.minBuffer,r=t.lowLatency?t.params.config.lowLatencyMinBufferSegments:t.params.config.minBufferSegments,a=i;t.sourceJitter>1&&(a+=t.sourceJitter-1);for(var o=n.dur.length-1;o>=0&&!((a-=n.dur[o])<=0);--o);e=Math.min(o,n.dur.length-1-r),e=Math.max(e,0)}return l(e,!0)};return{seek:function(i,s){!function(e,n,i){c&&c.abort(),c=po(t.urlResolver.resolve(e,!0,t.lowLatency),n,i,(function(){return t._retryCallback()})).withTimeout(1e4).withRetryCount(3).withFinally((function(){c=null})).withJSONResponse().send()}(e,(function(e){if(f()){n=e;var u=Boolean(n.lowLatency);u!==t.lowLatency&&m(u);for(var c=0,p=0;p<n.dur.length;++p)c+=n.dur[p];c>0&&(ar(t.filesFetcher),t.filesFetcher.optimizeForSegDuration(c/n.dur.length)),a({name:"index",zeroTime:n.zeroTime,shiftDuration:n.shiftDuration}),t.sourceJitter=n.hasOwnProperty("jitter")?Math.min(10,Math.max(.01,n.jitter/1e3)):1,i(function(e){var t=r();if(!(t<=0)){if(or(e))for(var n=0;n<t;n++)if(o(n)>e)return l(n);return d()}}(s))}}),(function(){return t._handleNetworkError()}))},nextChunk:function(e){var t=r(),a=e?e.chunkIdx+1:0,o=a-n.fragIndex;if(!(t<=0)){if(!e||o<0||o-t>10)return i("Resync: offset=".concat(o," bChunks=").concat(t," chunk=")+JSON.stringify(e)),d();if(!(o>=t))return l(a-n.fragIndex,!1)}}}},b=function(){o=!1,u&&u.abort(),l&&l.abort(),c&&c.abort(),ar(t.filesFetcher),t.filesFetcher.abortAll()};return d={start:function(n){var i,r,a,u,l,d,v,m=t.params,w=m.videoElement,S=m.logger,k=y(e.jidxUrl),E=0,x=function e(){l&&(clearTimeout(l),l=void 0);var n=Math.max(500,1e3*(t._getBufferSizeSec()-t.sourceJitter-5)),i=E+n,r=lo(),a=Math.min(1e4,i-r);E=r;var o=function(){c||f()&&k.seek((function(){f()&&(E=lo(),T(),e())}))};a>0?l=window.setTimeout((function(){t.paused?e():o()}),a):o()},T=function(){for(var n;n=k.nextChunk(u);)u=n,_(n);var i=k.nextChunk(a);if(i){if(a&&i.discontinuity)return S("Detected discontinuity; restarting playback"),void(t.paused?x():(b(),t._initPlayerWith(e)));C(i)}else x()},$=function e(n,i){if(f()&&t.sourceBuffer){var r,a,o=function(t){window.setTimeout((function(){f()&&e(n,i)}),t)};if(t.sourceBuffer.updating)S("Source buffer is updating; delaying appendBuffer"),o(100);else{var s=lo(),u=w.currentTime;!t.paused&&w.buffered.length>1&&d===u&&s-v>500&&(S("Stall suspected; trying to fix"),t._fixupStall()),d!==u&&(d=u,v=s);var l=t._getBufferSizeSec();if(l>30)S("Buffered ".concat(l," seconds; delaying appendBuffer")),o(2e3);else try{t.sourceBuffer.appendBuffer(n),t.videoPlayStarted?(t.bufferStates.push({ts:s,buf:l}),g(),t.bufferStates.length>200&&t.bufferStates.shift()):t.shouldPlay()&&(t.videoPlayStarted=!0,t._playVideoElement()),i&&i()}catch(n){if("QuotaExceededError"!==n.name)throw n;S("QuotaExceededError; delaying appendBuffer"),0!==t.sourceBuffer.buffered.length&&((a=u)-(r=t.sourceBuffer.buffered.start(0))>4&&t.sourceBuffer.remove(r,a-3)),o(1e3)}}}},P=function(){r&&i&&(S(["Appending chunk, sz=".concat(r.byteLength,":"),JSON.stringify(a)]),$(r,(function(){r=null,T()})))},A=function(t){return e.fragUrlTemplate.replace("%%id%%",t.chunkIdx)},C=function(e){f()&&h(A(e),(function(n,i){if(f()){if(i/=1e3,r=n,a=e,s=e.startTS,i){var o=Math.min(10,e.dur/i);t.downloadRate=t.downloadRate?.7*t.downloadRate+.3*o:o}P()}}),(function(){return t._handleNetworkError()}))},_=function(e){f()&&(ar(t.filesFetcher),t.filesFetcher.prefetch(t.urlResolver.resolve(A(e),!1)))},R=function(t){f()&&(e.cachedHeader=t,$(t,(function(){i=!0,P()})))};o=!0,k.seek((function(e){f()&&(E=lo(),e?(u=e,!sr(n)||e.startTS>n?C(e):(a=e,T())):x())}),n),e.cachedHeader?R(e.cachedHeader):p(e.headerUrl,R,(function(){return t._handleNetworkError()}))},stop:b,getTimestampSec:function(){return s}},d}},{key:"_switchToQuality",value:function(e){var t,n=this.params,i=n.logger,r=n.playerCallback;e.bitrate!==this.bitrate&&(this.rep&&(or(t=this.rep.getTimestampSec())&&(t+=.1),this.rep.stop()),this.currentManifestEntry=e,this.rep=this._representation(e),i("switch to quality: codecs=".concat(e.codecs,"; headerUrl=").concat(e.headerUrl,"; bitrate=").concat(e.bitrate)),this.bitrate=e.bitrate,ar(this.bitrateSwitcher),this.bitrateSwitcher.notifySwitch(this.bitrate),this.rep.start(t),r({name:"qualitySwitch",quality:e}))}},{key:"_qualityAvailable",value:function(e){return or(this.manifest.find((function(t){return t.name===e})))}},{key:"_initBitrateSwitcher",value:function(){var e,t=this,n=this.params,i=n.logger,r=n.playerCallback,a=function(e){var n,r,a;t.autoQuality&&(t.currentManifestEntry&&t._qualityAvailable(t.currentManifestEntry.name)&&e<t.bitrate&&(r=t._getBufferSizeSec(),a=e/t.bitrate,r>10&&a>.8||r>15&&a>.5||r>20&&a>.3)?i("Not switching: buffer=".concat(Math.floor(r),"; bitrate=").concat(t.bitrate,"; newRate=").concat(Math.floor(e))):(n=t._selectQuality(e),n?t._switchToQuality(n):i("Could not find quality by bitrate ".concat(e))))},o={updateChunk:function(e,n){var i=lo();if(t.chunkRateEstimator.addInterval(e,i,n)){var a=t.chunkRateEstimator.getBitRate();return r({name:"bandwidth",size:n,duration:i-e,speed:a}),!0}},get:function(){var e=t.chunkRateEstimator.getBitRate();return e?.85*e:0}},s=-1/0,u=!0,l=function(){var n=o.get();if(n&&e&&t.autoQuality){if(u&&n>e&&co(s)<3e4)return;a(n)}u=t.autoQuality};return{updateChunk:function(e,t){var n=o.updateChunk(e,t);return n&&l(),n},notifySwitch:function(t){var n=lo();t<e&&(s=n),e=t}}}},{key:"_fetchManifest",value:function(e,t,n){var i=this;this.manifestRequest=po(this.urlResolver.resolve(e,!0),t,n,(function(){return i._retryCallback()})).withJSONResponse().withTimeout(1e4).withRetryCount(3).withRetryInterval(300,2e3).send().withFinally((function(){i.manifestRequest=void 0}))}},{key:"_playVideoElement",value:function(e){var t=this.params.videoElement;uo(t).then((function(t){t||null===e||void 0===e||e()}))}},{key:"_handleManifestUpdate",value:function(e){var t=this,n=this.params,i=n.logger,r=n.playerCallback,a=n.videoElement;this.manifest=function(e){var n=[];return null!==e&&void 0!==e&&e.length?(e.forEach((function(e,t){e.video&&a.canPlayType(e.codecs).replace(/no/,"")&&window.MediaSource.isTypeSupported(e.codecs)&&(e.index=t,n.push(e))})),n.sort((function(e,t){return e.video&&t.video?t.video.height-e.video.height:t.bitrate-e.bitrate})),n):(t.params.playerCallback({name:"error",type:"partial_metadata"}),[])}(e),i("Valid manifest entries: ".concat(this.manifest.length,"/").concat(e.length)),r({name:"manifest",manifest:this.manifest})}},{key:"_refetchManifest",value:function(e){var t=this;this.destroyed||(this.manifestRefetchTimer&&clearTimeout(this.manifestRefetchTimer),this.manifestRefetchTimer=window.setTimeout((function(){t._fetchManifest(e,(function(n){t.destroyed||(t._handleManifestUpdate(n),t._refetchManifest(e))}),(function(){return t._refetchManifest(e)}))}),6e4))}},{key:"_initManifest",value:function(){var e=this;this._fetchManifest(this.manifestUrl,(function(t){e.destroyed||(e._handleManifestUpdate(t),e._refetchManifest(e.manifestUrl))}),(function(){return e._handleNetworkError()}))}}]),e}();!function(e){e.STOPPED="stopped",e.MANIFEST_READY="manifest_ready",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(ho||(ho={}));var yo,bo=[ho.PAUSED,ho.PLAYING,ho.READY],wo=[ho.PAUSED,ho.PLAYING,ho.READY],So=function(){function e(t){var n=this;m(this,e),h(this,"subscription",new Zi),h(this,"video",void 0),h(this,"videoState",new Sa(ho.STOPPED)),h(this,"dash",void 0),h(this,"representations$",new dr([])),h(this,"textTracksManager",new Ua),h(this,"maxSeekBackTime$",new dr(1/0)),h(this,"zeroTime$",new dr(void 0)),h(this,"liveOffset",new qa),h(this,"log",void 0),h(this,"params",void 0),h(this,"_dashCb",(function(e){switch(e.name){case"buffering":var t=e.isBuffering;n.params.output.isBuffering$.next(t);break;case"error":n.params.output.error$.next({id:"DashLiveProviderInternal:".concat(e.type),message:"LiveDashPlayer reported error"});break;case"manifest":var i,r,a=[],o=Hi(e.manifest);try{for(o.s();!(r=o.n()).done;){var s,u,l=r.value,c=null!==(s=l.name)&&void 0!==s?s:l.index.toString(10),d=null!==(u=so(l.name))&&void 0!==u?u:ba(l.video),f=l.bitrate/1e3,p=re({},l.video);if(d){var h={id:c,quality:d,bitrate:f,size:p};a.push({track:h,representation:l})}}}catch(w){o.e(w)}finally{o.f()}n.representations$.next(a),n.params.output.availableVideoTracks$.next(a.map((function(e){return e.track}))),(null===(i=n.videoState.getTransition())||void 0===i?void 0:i.to)===ho.MANIFEST_READY&&n.videoState.setState(ho.MANIFEST_READY);break;case"qualitySwitch":var v,m=e.quality,g=null===(v=n.representations$.getValue().find((function(e){return e.representation===m})))||void 0===v?void 0:v.track;n.params.output.hostname$.next(new URL(m.headerUrl,n.params.source.url).hostname),or(g)&&n.params.output.currentVideoTrack$.next(g);break;case"bandwidth":var y=e.size,b=e.duration;n.params.dependencies.throughputEstimator.addRawSpeed(y,b);break;case"index":n.maxSeekBackTime$.next(e.shiftDuration),n.zeroTime$.next(e.zeroTime)}})),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.videoState.getTransition(),i=n.params.desiredState.playbackState.getState(),r=n.params.desiredState.playbackState.getTransition(),a=n.params.desiredState.seekState.getState();if(n.log({message:"[syncPlayback] videoState: ".concat(e,"; videoTransition: ").concat(JSON.stringify(t),"; desiredPlaybackState: ").concat(i,"; seekState: ").concat(JSON.stringify(a),";")}),i!==Jr.STOPPED){if(!t){if(wo.includes(e)){var o,s=null===(o=n.params.desiredState.videoTrack.getTransition())||void 0===o?void 0:o.to;or(s)&&n.setVideoTrack(s);var u=n.params.desiredState.autoVideoTrackSwitching.getTransition();u&&n.setAutoQuality(u.to)}if((null===r||void 0===r?void 0:r.to)!==Jr.PAUSED&&a.state===ra.Requested&&bo.includes(e))n.seek(a.position-n.liveOffset.getTotalPausedTime());else switch(e){case ho.STOPPED:return n.videoState.startTransitionTo(ho.MANIFEST_READY),void n.dash.attachSource(fa(n.params.source.url));case ho.MANIFEST_READY:n.videoState.startTransitionTo(ho.READY),n.prepare();break;case ho.READY:return void(i===Jr.PAUSED?n.videoState.setState(ho.PAUSED):i===Jr.PLAYING&&(n.videoState.startTransitionTo(ho.PLAYING),n.dash.play((function(){n.liveOffset.pause(),n.videoState.setState(ho.PAUSED)}))));case ho.PLAYING:return void(i===Jr.PAUSED&&(n.videoState.startTransitionTo(ho.PAUSED),n.liveOffset.pause(),n.dash.pause()));case ho.PAUSED:return void(i===Jr.PLAYING&&(n.videoState.startTransitionTo(ho.PLAYING),n.liveOffset.getTotalPausedTime()<n.params.config.maxPausedTime&&n.liveOffset.getTotalOffset()<n.maxSeekBackTime$.getValue()?(n.liveOffset.resume(),n.dash.play((function(){n.liveOffset.pause(),n.videoState.setState(ho.PAUSED)})),n.params.output.position$.next(-n.liveOffset.getTotalOffset()/1e3)):n.seek(-n.liveOffset.getTotalOffset())));default:return er(e)}}}else e!==ho.STOPPED&&(n.videoState.startTransitionTo(ho.STOPPED),n.dash.destroy(),n.video.setAttribute("src",""),n.video.load(),n.videoState.setState(ho.STOPPED))})),this.params=t,this.log=this.params.dependencies.logger.createComponentLog("DashLiveProvider");var i=function(e){t.output.error$.next({id:"DashLiveProvider",message:"DashLiveProvider internal logic error",thrown:e})};pr(this.videoState.stateChangeStarted$.pipe($r((function(e){return{transition:e,type:"start"}}))),this.videoState.stateChangeEnded$.pipe($r((function(e){return{transition:e,type:"end"}})))).subscribe((function(e){var t=e.transition,i=e.type;n.log({message:"[videoState change] ".concat(i,": ").concat(JSON.stringify(t))})})),this.video=Fa(t.container),this.params.output.element$.next(this.video),this.dash=this.createLiveDashPlayer(),this.params.output.duration$.next(1/0),this.params.output.position$.next(0),this.params.output.isLive$.next(!0),this.params.output.hostname$.next(no(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.textTracksManager.connect(this.video,this.params.desiredState,this.params.output);var r=Wa(this.video);this.subscription.add(r.canplay$.subscribe((function(){var e;(null===(e=n.videoState.getTransition())||void 0===e?void 0:e.to)===ho.READY&&n.videoState.setState(ho.READY)}),i)).add(r.pause$.subscribe((function(){n.videoState.setState(ho.PAUSED)}),i)).add(r.playing$.subscribe((function(){n.params.desiredState.seekState.getState().state===ra.Applying&&n.params.output.seekedEvent$.next(),n.videoState.setState(ho.PLAYING)}),i)).add(r.error$.subscribe(this.params.output.error$)).add(this.maxSeekBackTime$.pipe(Er(),$r((function(e){return-e/1e3}))).subscribe(this.params.output.duration$)).add(fr({zeroTime:this.zeroTime$.pipe(Sr(or)),position:r.timeUpdate$}).subscribe((function(e){var t=e.zeroTime,i=e.position;return n.params.output.liveTime$.next(t+1e3*i)}),i)).add(Oa(this.video,this.params.desiredState.isLooped,i)).add(Ba(this.video,this.params.desiredState.volume,r.volumeState$,i)).add(r.volumeState$.subscribe(this.params.output.volume$,i)).add(Va(this.video,this.params.desiredState.playbackRate,r.playbackRateState$,i)).add(r.loadStart$.subscribe(this.params.output.firstBytesEvent$)).add(r.playing$.subscribe(this.params.output.firstFrameEvent$)).add(r.canplay$.subscribe(this.params.output.canplay$)).add(this.params.desiredState.autoVideoTrackLimits.stateChangeEnded$.subscribe((function(e){var t=e.to.max,i=t&&va[t].height;n.dash.setMaxAutoQuality(i)}))).add(this.videoState.stateChangeEnded$.subscribe((function(e){switch(e.to){case ho.STOPPED:n.params.output.position$.next(0),n.params.output.duration$.next(1/0),n.params.desiredState.playbackState.setState(Jr.STOPPED);break;case ho.MANIFEST_READY:case ho.READY:break;case ho.PAUSED:n.params.desiredState.playbackState.setState(Jr.PAUSED);break;case ho.PLAYING:n.params.desiredState.playbackState.setState(Jr.PLAYING);break;default:return er(e.to)}}),i)).add(pr(t.desiredState.playbackState.stateChangeStarted$,t.desiredState.seekState.stateChangeEnded$,t.desiredState.videoTrack.stateChangeStarted$,t.desiredState.autoVideoTrackSwitching.stateChangeStarted$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0)).subscribe(this.syncPlayback,i))}return y(e,[{key:"destroy",value:function(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0),this.dash.destroy()}},{key:"createLiveDashPlayer",value:function(){var e=this,t=new go({videoElement:this.video,config:{maxParallelRequests:this.params.config.maxParallelRequests,minBuffer:this.params.tuning.live.minBuffer,minBufferSegments:this.params.tuning.live.minBufferSegments,lowLatencyMinBuffer:this.params.tuning.live.lowLatencyMinBuffer,lowLatencyMinBufferSegments:this.params.tuning.live.lowLatencyMinBufferSegments},playerCallback:this._dashCb,logger:function(t){e.params.dependencies.logger.log({message:String(t),component:"LiveDashPlayer"})}});return t.pause(),t}},{key:"prepare",value:function(){var e,t,n,i,r,a,o=this.representations$.getValue(),s=null!==(e=null===(t=this.params.desiredState.videoTrack.getTransition())||void 0===t?void 0:t.to)&&void 0!==e?e:this.params.desiredState.videoTrack.getState(),u=null!==(n=null===(i=this.params.desiredState.autoVideoTrackSwitching.getTransition())||void 0===i?void 0:i.to)&&void 0!==n?n:this.params.desiredState.autoVideoTrackSwitching.getState(),l=!u&&or(s)?s:null===(r=to(o.map((function(e){return e.track})),{container:{width:this.video.offsetWidth,height:this.video.offsetHeight},throughput:this.params.dependencies.throughputEstimator.throughput$.getValue(),tuning:this.params.tuning.autoTrackSelection,limits:this.params.desiredState.autoVideoTrackLimits.getState()}))||void 0===r?void 0:r.id,c=null===(a=o.find((function(e){return e.track.id===l})))||void 0===a?void 0:a.representation;ar(c,"Representations missing"),this.dash.startPlay(c,u),this.params.desiredState.videoTrack.getTransition()&&this.params.desiredState.videoTrack.setState(l),this.params.desiredState.autoVideoTrackSwitching.getTransition()&&this.params.desiredState.autoVideoTrackSwitching.setState(u)}},{key:"setVideoTrack",value:function(e){var t,n=null===(t=this.representations$.getValue().find((function(t){return t.track.id===e})))||void 0===t?void 0:t.representation;ar(n,"No such representation ".concat(e)),this.dash.switchByName(n.name),this.params.desiredState.videoTrack.setState(e)}},{key:"setAutoQuality",value:function(e){this.dash.setAutoQualityEnabled(e),this.params.desiredState.autoVideoTrackSwitching.setState(e)}},{key:"seek",value:function(e){this.log({message:"[seek] position: ".concat(e)}),this.params.output.willSeekEvent$.next();var t=-e,n=t<this.maxSeekBackTime$.getValue()?t:0;this.liveOffset.resetTo(n),this.dash.reinit(fa(this.params.source.url,n))}}]),e}(),ko=function(e){var t,n=e.get("X-Delivery-Type"),i=e.get("X-Reused");return{type:null===n?ia.HTTP1:null!==n&&void 0!==n?n:void 0,reused:null===i?void 0:null!==(t={1:!0,0:!1}[i])&&void 0!==t?t:void 0}},Eo=function(e,t){for(var n=0,i=0;i<e.length;i++){var r=1e3*e.start(i),a=1e3*e.end(i);r<=t&&t<=a&&(n=a)}return Math.max(n-t,0)},xo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;m(this,e),h(this,"_failoverIndex",0),h(this,"_failoverCount",0),h(this,"_xhr",null),h(this,"_url",void 0),h(this,"_failoverHosts",void 0),h(this,"_completeCb",void 0),h(this,"_progressCb",void 0),h(this,"_headersCb",void 0),h(this,"_errorCb",void 0),h(this,"_retryTimeout",0),this._url=t,this._failoverHosts=n,this._completeCb=i,this._progressCb=r,this._headersCb=a,this._errorCb=o,this._request()}return y(e,[{key:"_request",value:function(){var e=this;this._xhr=new XMLHttpRequest,this._xhr.open("GET",this._url,!0),this._xhr.overrideMimeType("text/plain; charset=x-user-defined");var t=!1;this._xhr.onreadystatechange=function(){var n,i,r,a;if(ar(e._xhr),(null===(n=e._xhr)||void 0===n?void 0:n.status)>=400)return null!==(i=e._errorCb)&&void 0!==i&&i.call(e,"Http".concat(null===(r=e._xhr)||void 0===r?void 0:r.status),"XHR response code ".concat(null===(a=e._xhr)||void 0===a?void 0:a.status)),void e.abort();if(4!==e._xhr.readyState||0!==e._xhr.status)try{var o,s;if(e._xhr.readyState>=2&&!t){var u;t=!0;var l=Object.fromEntries(e._xhr.getAllResponseHeaders().trim().split(/[\n\r]+/).map((function(e){return e.split(":").map((function(e){return e.trim()}))})));null===(u=e._headersCb)||void 0===u||u.call(e,new Headers(l))}else 4===e._xhr.readyState?null===(o=e._completeCb)||void 0===o||o.call(e,e._xhr.response):3===e._xhr.readyState&&(null===(s=e._progressCb)||void 0===s||s.call(e,e._xhr.response))}catch(t){var c;throw null!==(c=e._errorCb)&&void 0!==c&&c.call(e,"XHR2CallbackError","xhr2 callback threw ".concat(String(t)),t),t}},this._xhr.onerror=function(){var t;null!==(t=e._xhr)&&void 0!==t&&t.abort(),e._retryTimeout=window.setTimeout((function(){var t;if(e._xhr)if(++e._failoverCount>=30)e._xhr=null,null===(t=e._errorCb)||void 0===t||t.call(e,"XHR2Failover","XHR failed, retrying failover host");else{var n;e._failoverIndex>=e._failoverHosts.length?(n=e._url,e._failoverIndex=0):(n=e._url.replace(function(e){var t=document.createElement("a");return t.href=e,t.host}(e._url),e._failoverHosts[e._failoverIndex]),e._failoverIndex++),e._xhr.open("GET",n,!0),e._xhr.send(null)}}),500)},this._xhr.send(null)}},{key:"abort",value:function(){window.clearTimeout(this._retryTimeout),this._completeCb=this._progressCb=this._errorCb=void 0,this._xhr&&(this._xhr.abort(),this._xhr=null)}}]),e}(),To=function(){function e(t){m(this,e),h(this,"_appendPromiseUint8Array",void 0),h(this,"_lastXhr",void 0),h(this,"_lastStreamUpdatingCallback",void 0),h(this,"_maxBufferDuration",Number.POSITIVE_INFINITY),h(this,"_isFull",!1),h(this,"_mediaSource",void 0),h(this,"_sourceBuffer",void 0),h(this,"_onDashCallback",void 0),h(this,"_params",void 0),this._params=t,this._mediaSource=t.mediaSource,this._sourceBuffer=t.sourceBuffer,this._onDashCallback=t.onDashCallback}return y(e,[{key:"_appendBuffer",value:function(e,t){try{this._isFull=!1,(this._sourceBuffer.appendBuffer||this._sourceBuffer.append).bind(this._sourceBuffer)(e),null===t||void 0===t||t()}catch(e){if("QuotaExceededError"!==e.name)throw this._params.onError("AppendBuffer","Unknown Buffer error",e),e;this._isFull=!0;for(var n=this._sourceBuffer.buffered,i=0,r=0,a=n.length;r<a;r++)i+=n.end(r)-n.start(r);i&&(this._maxBufferDuration=Math.round(i))}}},{key:"getMaxBufferDuration",value:function(){return this._maxBufferDuration}},{key:"isFull",value:function(){return this._isFull}},{key:"load",value:function(t,n,i,r,a,o,s){var u=this;this.abort((function(){var l=0,c=Date.now(),d=0,f=0,p=0,h=function(t){r(e._str2ua(t.substr(l))),l=t.length},v=t.baseURL+"&bytes="+n+"-"+i;u._params.requestQuic&&(v=Ia(v)),u._lastXhr=new xo(v,t.failoverHosts,(function(e){u._lastXhr=void 0,h(e);var t=Date.now()-c;u._params.onBandwidthChange({size:e.length,duration:t,speed:8*e.length/(t/1e3)}),u._onDashCallback("loading",{size:e.length,done:!0}),null===a||void 0===a||a()}),(function(e){if(e.length-l>s&&h(e),0!==f){p=e.length-d;var t=Date.now()-f;p>=102400&&t>=1e3&&(u._params.onBandwidthChange({size:p,duration:t,speed:8*p/(t/1e3)}),p=0,d=e.length,f=Date.now()),u._onDashCallback("loading",{size:e.length,done:!1})}else f=Date.now()}),o,(function(e,t,n){return u._params.onError(e,t,n)}))}))}},{key:"abort",value:function(e){var t,n=this;null!==(t=this._lastXhr)&&void 0!==t&&t.abort(),this._lastXhr=void 0,this._sbUpdatingStop(this._lastStreamUpdatingCallback),this._lastStreamUpdatingCallback=this._sbUpdatingWatch((function(){n._appendPromiseUint8Array&&(n._appendBuffer(n._appendPromiseUint8Array),n._appendPromiseUint8Array=void 0),n._lastStreamUpdatingCallback=n._sbUpdatingWatch((function(){"open"===n._mediaSource.readyState&&n._sourceBuffer.abort(),null===e||void 0===e||e()}))}))}},{key:"_sbUpdatingWatch",value:function(e){var t=this;if(this._sourceBuffer.updating){var n=function n(){try{t._sbUpdatingStop(n),t._sbUpdatingWatch(e)}catch(e){throw t._params.onError("SourceBuffer","Source Buffer update error",e),e}};return this._sourceBuffer.addEventListener("updateend",n,!1),n}e()}},{key:"_sbUpdatingStop",value:function(e){e&&this._sourceBuffer.removeEventListener("updateend",e,!1)}},{key:"append",value:function(t,n){var i=this;this._appendPromiseUint8Array?this._appendPromiseUint8Array=e._concatUint8(this._appendPromiseUint8Array,t):(this._appendPromiseUint8Array=t,this._lastStreamUpdatingCallback=this._sbUpdatingWatch((function(){i._appendPromiseUint8Array&&i._appendBuffer(i._appendPromiseUint8Array,(function(){i._appendPromiseUint8Array=void 0,n&&i._sbUpdatingWatch(n)}))})))}},{key:"endOfStream",value:function(){var e=this;"open"===this._mediaSource.readyState&&this._sbUpdatingWatch((function(){return e._mediaSource.endOfStream()}))}},{key:"remove",value:function(e,t){var n=this;this._sbUpdatingWatch((function(){!n._sourceBuffer.updating&&n._sourceBuffer.remove&&n._sourceBuffer.remove(e,t),n._maxBufferDuration=Number.POSITIVE_INFINITY}))}},{key:"destroy",value:function(){var e;null!==(e=this._lastXhr)&&void 0!==e&&e.abort(),this._sbUpdatingStop(this._lastStreamUpdatingCallback),"open"===this._mediaSource.readyState&&this._sourceBuffer.abort()}}],[{key:"_concatUint8",value:function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}},{key:"_str2ua",value:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}}]),e}(),$o=function(){function e(t){var n;m(this,e),h(this,"_params",void 0),h(this,"_representations",[]),h(this,"_appendVector",{}),h(this,"_currentRepresentation",void 0),h(this,"_stream",void 0),h(this,"_lastLoadOffset",void 0),h(this,"_loopTimeout",void 0),h(this,"_cachingPaused",!1),h(this,"_duration",0),h(this,"STREAM_END_THRESHOLD",1),h(this,"_video",void 0),h(this,"_buffer",void 0),h(this,"_onDashCallback",void 0),h(this,"_config",void 0),this._params=t,this._video=t.video,this._buffer=t.buffer,this._onDashCallback=null!==(n=t.onDashCallback)&&void 0!==n?n:function(){},this._config=t.config}return y(e,[{key:"_parseDurationFromISO8601",value:function(e){var t=function(e,t){var n=e?parseFloat(e.replace(",",".")):NaN;return(isNaN(n)?0:n)*t},n=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/.exec(e),i="-"===(null===n||void 0===n?void 0:n[1])?-1:1;return t(null===n||void 0===n?void 0:n[2],i),t(null===n||void 0===n?void 0:n[3],i),t(null===n||void 0===n?void 0:n[4],i),t(null===n||void 0===n?void 0:n[5],i),3600*t(null===n||void 0===n?void 0:n[6],i)+60*t(null===n||void 0===n?void 0:n[7],i)+t(null===n||void 0===n?void 0:n[8],i)}},{key:"getRepresentations",value:function(){return this._representations}},{key:"attachSource",value:function(e,t){var n=this,i=e;this._config.REQUEST_QUIC&&(i=Ia(i)),new xo(i,t,(function(e){n.attachManifest(e,t,function(e){var t=document.createElement("a");return t.href=e,t.origin}(i))}),void 0,(function(e){n._params.onResponseHeaders(e)}),(function(e,t,i){return n._params.onError(e,t,i)}))}},{key:"attachManifest",value:function(e,t,n){var i=this,r=(new DOMParser).parseFromString(e,"text/xml").documentElement,a=function(e,t){var n=e.attributes.getNamedItem(t);return n?n.value:null};this._duration=this._parseDurationFromISO8601(String(a(r,"mediaPresentationDuration")));var o=[],s=[];Array.prototype.forEach.call(r.getElementsByTagName("Representation"),(function(e){var i,r,u,l,c,d,f,p,h,v,m,g,y,b=e.getElementsByTagName("SegmentBase")[0],w=b&&a(b,"indexRange").split("-"),S=b&&b.getElementsByTagName("Initialization")[0],k=S&&a(S,"range").split("-");if(k&&w){var E,x=Number(null===(i=e.attributes.getNamedItem("bandwidth"))||void 0===i?void 0:i.value),T=(n?n+"/":"")+e.getElementsByTagName("BaseURL")[0].childNodes[0].data,$=null!==(r=null===(u=e.attributes.getNamedItem("frameRate"))||void 0===u?void 0:u.value)&&void 0!==r?r:void 0;E=$?Ga($):void 0,o.push({width:Number(null===(l=e.attributes.getNamedItem("width"))||void 0===l?void 0:l.value),height:Number(null===(c=e.attributes.getNamedItem("height"))||void 0===c?void 0:c.value),bandwidth:x,baseURL:T,failoverHosts:t,indexFrom:Number(w[0]),indexTo:Number(w[1]),initFrom:Number(k[0]),initTo:Number(k[1]),codecs:null!==(d=null===(f=e.attributes.getNamedItem("codecs"))||void 0===f?void 0:f.value)&&void 0!==d?d:void 0,mimeType:null!==(p=null===(h=e.attributes.getNamedItem("mimeType"))||void 0===h?void 0:h.value)&&void 0!==p?p:void 0,fps:E,bufferSize:.1*x/8,bufferLength:.1,name:null!==(v=null===(m=e.attributes.getNamedItem("okQuality"))||void 0===m?void 0:m.value)&&void 0!==v?v:void 0,id:null!==(g=null===(y=e.attributes.getNamedItem("id"))||void 0===y?void 0:y.value)&&void 0!==g?g:void 0})}else{var P=e.parentElement;if("text"===(null===P||void 0===P?void 0:P.getAttribute("contentType"))){var A,C,_,R,L,N,M=null!==(A=e.getAttribute("id"))&&void 0!==A?A:void 0,I=(n?n+"/":"")+(null===(C=e.getElementsByTagName("BaseURL"))||void 0===C||null===(_=C[0])||void 0===_||null===(R=_.childNodes)||void 0===R||null===(L=R[0])||void 0===L?void 0:L.data),D=null!==(N=P.getAttribute("lang"))&&void 0!==N?N:void 0;I&&s.push({id:M,url:I,language:D})}}})),o.length?(this._representations=o,s.forEach((function(e){var t=e.id,n=e.language,r=e.url,a=document.createElement("track");a.setAttribute("src",r),t&&a.setAttribute("id",t),n&&a.setAttribute("srclang",n),i._video.appendChild(a)})),this._representations.sort((function(e,t){return t.bandwidth-e.bandwidth})),this._params.onManifestReady(this._representations)):this._onDashCallback("error")}},{key:"_loadInitAndSidx",value:function(e,t){var n=this;if(e!==this._currentRepresentation)if(e.refs)this._stream.abort((function(){n._stream.append(e.initMessage,t)}));else{var i=Date.now();this._stream.load(e,e.initFrom,e.indexTo,(function(i){var r=e.initTo-e.initFrom+1;if(i.byteLength){e.initMessage=new Uint8Array(i.buffer,0,r);var a=new DataView(i.buffer);r+=12;var o=a.getUint32(r+4,!1);r+=8;var s=a.getUint32(r,!1),u=a.getUint32(r+4,!1)+(e.indexTo+1);r+=8;var l=a.getUint16(r+2,!1);r+=4,e.refs=[];for(var c=0;c<l;c+=1){var d=u+(2147483647&a.getUint32(r,!1)),f=s+a.getUint32(r+4,!1);r+=12,e.refs.push({fromTime:s/o,toTime:f/o,fromOffset:u,toOffset:d-1}),u=d,s=f}var p=e.refs[e.refs.length-1];p.toTime-p.fromTime<.3&&e.refs.pop(),n._stream.append(e.initMessage,t)}else n._params.onError("EmptyResponse","Empty response")}),void 0,(function(e){n._params.onResponseHeaders(e),n._params.onIdxRequestPing(Date.now()-i)}),e.indexTo-e.initFrom+1)}else t&&t()}},{key:"startPlay",value:function(e){var t=this,n=window.MediaSource||window.WebKitMediaSource;if(n){var i,r,a=new n,o=function n(){t._loopTimeout=window.setTimeout((function(){try{!function(){var n=t._findRef(t._video.currentTime);if(n&&!t._video.paused){if(!t._cachingPaused&&void 0!==t._lastLoadOffset&&t._lastLoadOffset-t._video.currentTime<t._config.FRONT_CACHE_DURATION&&t._lastLoadOffset-t._video.currentTime<t._stream.getMaxBufferDuration()){var a=t._stream.isFull()?t._findBufferRangeEnd(t._video.currentTime):t._lastLoadOffset;t._loadRef(t._params.selectRepresentation(t._representations),a)}var o,s=t._appendVector[String(n.fromTime)];if(s!==i&&(i=s,t._params.onRepresentationPlay(s)),t._findRef(n.toTime)){var u=t._buffer.getByTime(t._video.currentTime);if(!u)return void t._onDashCallback("buffering");(o=u.to-t._video.currentTime)<e.bufferLength&&(t._onDashCallback("buffering"),r!==u.to&&(r=u.to,window.setTimeout((function(){try{var n=t._buffer.getNextWithGap(u);n&&(t._video.currentTime=n.from)}catch(e){throw t._params.onError("GapSyncError","Seek Error ".concat(String(e)),e),e}}),1e3*o)))}}}()}catch(e){throw t._params.onError("LoopError","Dash Loop exception ".concat(String(e)),e),e}n()}),250)},s=function n(){if(!t._stream)try{var i=a.addSourceBuffer("".concat(e.mimeType,'; codecs="').concat(e.codecs,'"'));t._stream=new To({mediaSource:a,sourceBuffer:i,requestQuic:t._params.config.REQUEST_QUIC,onBandwidthChange:t._params.onBandwidthChange,onError:t._params.onError,onDashCallback:t._onDashCallback})}catch(e){throw t._params.onError("DashSourceOpen","Source open exception ".concat(String(e)),e),e}t._loadInitAndSidx(e),a.duration||(a.duration=t._duration),t._loopTimeout||o(),a.removeEventListener("sourceopen",n),a.removeEventListener("webkitsourceopen",n)};a.addEventListener("sourceopen",s,!1),a.addEventListener("webkitsourceopen",s,!1),this._video&&(this._video.src=window.URL.createObjectURL(a),this._video.addEventListener("waiting",(function(){var e=t._video&&t._video.played.length;e&&!t._video.currentTime&&t._video.loop?t._video.duration-t._video.played.end(e-1)<t.STREAM_END_THRESHOLD&&t.seek(0):t._video.duration-t._video.currentTime<t.STREAM_END_THRESHOLD&&t._stream.endOfStream()})))}else this._params.onError("MediaSourceNotSupported","MediaSource is not supported")}},{key:"_loadRef",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._lastLoadOffset=void 0,this._loadInitAndSidx(e,(function(){n._currentRepresentation=e;var a=n._findRef(t);if(a){if(i){n._isLastRef(a)&&t>=a.toTime&&(t=a.fromTime);var o=n._findRef(n._video.currentTime),s=Math.abs(n._video.currentTime-t),u=r||n._video.duration<n._config.SEEK_IN_SEGMENT_THRESHOLD/1e3||a===o||s<=n._config.SEEK_IN_SEGMENT_DELTA/1e3;n._video.currentTime=u?t:a.fromTime}n._appendVector[String(a.fromTime)]=e,n._stream.load(e,a.fromOffset,a.toOffset,(function(e,t){return n._stream.append(e,t)}),(function(){n._lastLoadOffset=a.toTime,n._video.duration-n._lastLoadOffset<n.STREAM_END_THRESHOLD&&n._stream.endOfStream()}),(function(e){return n._params.onResponseHeaders(e)}),e.bufferSize)}}))}},{key:"setQualityByRepresentation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._buffer.getByTime(this._video.currentTime),r=this._findRef(this._video.currentTime);if(i&&r){var a=.1;if(r.toTime<i.to+a){var o=this._findRef(r.toTime);o&&o.toTime<i.to+a?(this._buffer.smartRemove(r.fromTime-a,o.toTime+a,(function(e,n){return t._stream.remove(e,n)})),this._loadRef(e,o.toTime)):(this._buffer.smartRemove(r.fromTime-a,r.toTime+a,(function(e,n){return t._stream.remove(e,n)})),this._loadRef(e,r.toTime))}}else this._video.currentTime&&n&&this._loadRef(e,this._video.currentTime)}},{key:"setQuality",value:function(e){return this.setQualityByRepresentation(this._representations[e])}},{key:"pauseCaching",value:function(){this._cachingPaused=!0}},{key:"resumeCaching",value:function(){this._cachingPaused=!1}},{key:"seek",value:function(e,t){this._stream&&this._buffer.getByTime(e)?this._video.currentTime=e:this._loadRef(this._params.selectRepresentation(this._representations),e,!0,t)}},{key:"updateRefsForCurrentTime",value:function(){var e=this._video.currentTime;this._stream&&!sr(this._buffer.getByTime(e))||this._loadRef(this._params.selectRepresentation(this._representations),e,!1)}},{key:"_findRef",value:function(e){var t,n=null===(t=this._currentRepresentation)||void 0===t?void 0:t.refs;if(n){if(!Array.isArray(n)||0!==n.length){for(var i,r=0;r<n.length;r++){var a=n[r];if(a.fromTime<=e&&a.toTime>e)return a;a.fromTime>e&&(!i||a.fromTime<i.fromTime)&&(i=a)}if(!i){var o=n[n.length-1];if(e>o.toTime)return o}return i}this._params.onError("emptyrefs","Empty refs")}}},{key:"_isLastRef",value:function(e){var t,n=null===(t=this._currentRepresentation)||void 0===t?void 0:t.refs;if(!n)return!1;var i=n[n.length-1];return e.fromTime===i.fromTime}},{key:"_findBufferRangeEnd",value:function(e){for(var t=this._video.buffered.length;t-- >0;){var n=this._video.buffered.start(t),i=this._video.buffered.end(t);if(e>n&&e<i)return Math.round(10*i)/10}return e}},{key:"destroy",value:function(){this._stream&&this._stream.destroy(),clearTimeout(this._loopTimeout),this._loopTimeout=void 0}}]),e}();!function(e){e.STOPPED="stopped",e.MANIFEST_LOADED="manifest-loaded",e.INITIAL_REPRESENTATION_SELECTED="initial-representation-selected",e.METADATA_LOADED="metadata-loaded",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(yo||(yo={}));var Po,Ao,Co,_o,Ro,Lo=[yo.PAUSED,yo.PLAYING],No=function(){function e(t){var n=this;m(this,e),h(this,"videoState",new Sa(yo.STOPPED)),h(this,"subscription",new Zi),h(this,"video",void 0),h(this,"buffer",void 0),h(this,"dash",void 0),h(this,"representations$",new dr([])),h(this,"currentRepresentation$",new dr(void 0)),h(this,"params",void 0),h(this,"textTracksManager",new Ua),h(this,"elementSize$",new dr(void 0)),h(this,"dashLiteEvents",{idxRequestPing$:new ir,responseHeaders$:new ir,manifestReady$:new ir,representationPlay$:new ir,error$:new ir}),h(this,"log",void 0),h(this,"handleManifestReady",(function(e){var t,i=[],r=Hi(e);try{for(r.s();!(t=r.n()).done;){var a,o,s,u=t.value,l=null!==(a=null!==(o=u.name)&&void 0!==o?o:u.id)&&void 0!==a?a:u.height.toString(10),c=null!==(s=u.name&&so(u.name))&&void 0!==s?s:ba(u),d=u.bandwidth/1e3,f={width:u.width,height:u.height},p=u.fps;if(c){var h={id:l,quality:c,bitrate:d,size:f,fps:p};i.push({track:h,representation:u})}}}catch(v){r.e(v)}finally{r.f()}n.representations$.next(i),n.params.output.availableVideoTracks$.next(i.map((function(e){return e.track}))),n.videoState.setState(yo.MANIFEST_LOADED)})),h(this,"handleRepresentationPlay",(function(e){var t,i=null===(t=n.representations$.getValue().find((function(t){return t.representation===e})))||void 0===t?void 0:t.track;i&&(n.params.output.currentVideoTrack$.next(i),n.params.desiredState.videoTrack.getTransition()&&n.params.desiredState.videoTrack.setState(i.id))})),h(this,"selectRepresentation",(function(){var e=n.currentRepresentation$.getValue();return ar(e,"Can't select representation. something went wrong"),e})),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.videoState.getTransition(),i=n.params.desiredState.playbackState.getState(),r=n.params.desiredState.playbackState.getTransition(),a=n.params.desiredState.seekState.getState();if(n.log({message:"[syncPlayback] videoState: ".concat(e,"; videoTransition: ").concat(JSON.stringify(t),"; desiredPlaybackState: ").concat(i,"; seekState: ").concat(JSON.stringify(a),";")}),i!==Jr.STOPPED){if(!t)switch((null===r||void 0===r?void 0:r.to)!==Jr.PAUSED&&a.state===ra.Requested&&Lo.includes(e)&&n.seek(a.position,a.forcePrecise),e){case yo.STOPPED:return n.videoState.startTransitionTo(yo.MANIFEST_LOADED),void n.prepare();case yo.MANIFEST_LOADED:return void n.videoState.startTransitionTo(yo.INITIAL_REPRESENTATION_SELECTED);case yo.INITIAL_REPRESENTATION_SELECTED:return n.videoState.startTransitionTo(yo.METADATA_LOADED),void n.dash.startPlay(n.selectRepresentation());case yo.METADATA_LOADED:return n.videoState.startTransitionTo(yo.READY),void n.dash.updateRefsForCurrentTime();case yo.READY:return void(i===Jr.PAUSED?(n.videoState.setState(yo.PAUSED),pa(n.params.desiredState.playbackState,Jr.PAUSED)):i===Jr.PLAYING&&(n.videoState.startTransitionTo(yo.PLAYING),n.playIfAllowed()));case yo.PLAYING:return void(i===Jr.PAUSED?(n.videoState.startTransitionTo(yo.PAUSED),n.video.pause()):(null===r||void 0===r?void 0:r.to)===Jr.PLAYING&&pa(n.params.desiredState.playbackState,Jr.PLAYING));case yo.PAUSED:return void(i===Jr.PLAYING?(n.videoState.startTransitionTo(yo.PLAYING),n.playIfAllowed()):(null===r||void 0===r?void 0:r.to)===Jr.PAUSED&&pa(n.params.desiredState.playbackState,Jr.PAUSED));default:return er(e)}}else e!==yo.STOPPED&&(n.videoState.startTransitionTo(yo.STOPPED),n.dash.destroy(),n.video.setAttribute("src",""),n.video.load(),n.params.output.position$.next(0),n.params.output.duration$.next(1/0),n.params.output.currentBuffer$.next(void 0),n.params.output.hostname$.next(void 0),n.videoState.setState(yo.STOPPED),pa(n.params.desiredState.playbackState,Jr.STOPPED,!0))})),this.params=t,this.log=this.params.dependencies.logger.createComponentLog("DashProvider"),pr(this.videoState.stateChangeStarted$.pipe($r((function(e){return{transition:e,type:"start"}}))),this.videoState.stateChangeEnded$.pipe($r((function(e){return{transition:e,type:"end"}})))).subscribe((function(e){var t=e.transition,i=e.type;n.log({message:"[videoState change] ".concat(i,": ").concat(JSON.stringify(t))})})),this.video=Fa(t.container),this.params.output.element$.next(this.video),this.params.output.isLive$.next(!1),"url"===this.params.source.type&&this.params.output.hostname$.next(no(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.buffer=new Ha(this.video),this.dash=new $o({video:this.video,buffer:this.buffer,selectRepresentation:this.selectRepresentation,onIdxRequestPing:function(e){return n.dashLiteEvents.idxRequestPing$.next(e)},onResponseHeaders:function(e){return n.dashLiteEvents.responseHeaders$.next(e)},onManifestReady:function(e){return n.dashLiteEvents.manifestReady$.next(e)},onRepresentationPlay:function(e){return n.dashLiteEvents.representationPlay$.next(e)},onBandwidthChange:function(e){return n.params.dependencies.throughputEstimator.addRawSpeed(e.size,e.duration)},onError:function(e,t,i){n.log({message:"[DashLite error], ".concat(e)}),n.dashLiteEvents.error$.next({id:e,message:t,thrown:i})},config:{SEEK_IN_SEGMENT_THRESHOLD:this.params.tuning.dashSeekInSegmentDurationThreshold,SEEK_IN_SEGMENT_DELTA:this.params.tuning.dashSeekInSegmentAlwaysSeekDelta,FRONT_CACHE_DURATION:this.params.config.cacheDuration/1e3,REQUEST_QUIC:this.params.tuning.requestQuick}}),this.subscribe()}return y(e,[{key:"subscribe",value:function(){var e=this,t=this.params,n=t.output,i=t.desiredState,r=function(e){n.error$.next({id:"DashProvider",message:"DashProvider internal logic error",thrown:e})},a=function(){var t=e.params.desiredState.autoVideoTrackSwitching.getState(),n=e.params.desiredState.autoVideoTrackSwitching.getTransition();return n?n.to:t},o=Wa(this.video),s=function(t,n){return e.subscription.add(t.subscribe(n,r))};s(o.timeUpdate$,n.position$),s(o.durationChange$,n.duration$),s(o.ended$,n.endedEvent$),s(o.looped$,n.loopedEvent$),s(o.error$,n.error$),s(o.isBuffering$,n.isBuffering$),s(o.playing$,n.firstFrameEvent$),s(o.canplay$,n.canplay$),this.subscription.add(o.seeking$.subscribe((function(){sr(e.params.desiredState.seekState.getState().state!==ra.Applying)&&(e.videoState.getState()===yo.PLAYING||e.videoState.getState()===yo.PAUSED)&&e.dash.updateRefsForCurrentTime()}))),this.subscription.add(o.seeked$.subscribe(n.seekedEvent$,r)),this.subscription.add(Oa(this.video,i.isLooped,r)),this.subscription.add(Ba(this.video,i.volume,o.volumeState$,r)),this.subscription.add(o.volumeState$.subscribe(this.params.output.volume$)),this.subscription.add(Va(this.video,i.playbackRate,o.playbackRateState$,r)),this.textTracksManager.connect(this.video,i,n),s(io(this.video),this.elementSize$),this.subscription.add(o.canplay$.subscribe((function(){var t;(null===(t=e.videoState.getTransition())||void 0===t?void 0:t.to)===yo.READY&&e.videoState.setState(yo.READY)}),r)).add(o.pause$.subscribe((function(){e.videoState.setState(yo.PAUSED),pa(e.params.desiredState.playbackState,Jr.PAUSED)}))).add(o.playing$.subscribe((function(){e.videoState.setState(yo.PLAYING),pa(e.params.desiredState.playbackState,Jr.PLAYING)}),r)).add(o.loadedMetadata$.subscribe((function(){e.videoState.setState(yo.METADATA_LOADED)}),r)).add(o.currentBuffer$.subscribe((function(t){e.buffer.fill(),n.currentBuffer$.next(t)}),r)).add(this.dashLiteEvents.error$.pipe($r((function(e){var t=e.id,n=e.message,i=e.thrown;return{id:"DashLite_".concat(t),message:n,thrown:i}}))).subscribe(this.params.output.error$)).add(pr(this.params.desiredState.videoTrack.transitionStarted$,this.params.desiredState.autoVideoTrackSwitching.transitionStarted$,this.representations$,this.params.dependencies.throughputEstimator.rttAdjustedThroughput$,this.params.desiredState.autoVideoTrackLimits.stateChangeEnded$,this.params.output.element$,this.elementSize$,vr(this.video,"progress")).pipe($r((function(){var t,n,i=e.currentRepresentation$.getValue(),r=e.representations$.getValue(),o=e.params.desiredState.autoVideoTrackSwitching.getTransition(),s=e.params.desiredState.videoTrack.getState(),u=e.params.dependencies.throughputEstimator.rttAdjustedThroughput$.getValue(),l=e.elementSize$.getValue(),c=a();if(o&&e.params.desiredState.autoVideoTrackSwitching.setState(o.to),!c&&or(s))n=s;else{var d,f,p=Eo(e.video.buffered,1e3*e.video.currentTime),h=c?e.params.tuning.dash.forwardBufferTargetAuto:e.params.tuning.dash.forwardBufferTargetManual,v=Math.min(p/h,1);n=null===(d=to(r.map((function(e){return e.track})),{container:l,throughput:u,tuning:e.params.tuning.autoTrackSelection,limits:e.params.desiredState.autoVideoTrackLimits.getState(),forwardBufferHealth:v,playbackRate:e.video.playbackRate,current:null===(f=r.find((function(e){return e.representation===i})))||void 0===f?void 0:f.track}))||void 0===d?void 0:d.id}return or(n)?null===(t=r.find((function(e){return e.track.id===n})))||void 0===t?void 0:t.representation:void 0})),Er()).subscribe(this.currentRepresentation$,r)).add(fr({needToSelectRepresentation:this.videoState.stateChangeStarted$.pipe(Sr((function(e){return e.to===yo.INITIAL_REPRESENTATION_SELECTED}))),currentRepresentationSelected:this.currentRepresentation$.pipe(Sr(or))}).pipe(Cr()).subscribe((function(){return e.videoState.setState(yo.INITIAL_REPRESENTATION_SELECTED)}),r)).add(this.currentRepresentation$.pipe(Sr(or),Er((function(t,n){return e.params.tuning.autoTrackSelection.lazyQualitySwitch&&a()?t.height<=n.height:t===n}))).subscribe((function(t){var n=Eo(e.video.buffered,1e3*e.video.currentTime),i=Math.min(n/e.params.tuning.dash.forwardBufferTarget,1);(!e.params.tuning.autoTrackSelection.lazyQualitySwitch||i<=.5||!a())&&(e.dash.setQualityByRepresentation(t,!0),e.params.output.hostname$.next(no(t.baseURL)))}),r)).add(this.dashLiteEvents.responseHeaders$.subscribe((function(t){var n=ko(t),i=n.type,r=n.reused;e.params.output.httpConnectionType$.next(i),e.params.output.httpConnectionReused$.next(r)}))).add(this.dashLiteEvents.idxRequestPing$.pipe(Cr(),Ar(void 0)).subscribe(this.params.output.firstBytesEvent$)).add(this.dashLiteEvents.idxRequestPing$.subscribe((function(t){return e.params.dependencies.throughputEstimator.addRawRtt(t)}))).add(this.dashLiteEvents.manifestReady$.subscribe(this.handleManifestReady,r)).add(this.dashLiteEvents.representationPlay$.pipe(Sr(or)).subscribe(this.handleRepresentationPlay,r)).add(pr(i.playbackState.stateChangeStarted$,i.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0)).subscribe(this.syncPlayback,r))}},{key:"destroy",value:function(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0),this.buffer.destroy(),this.dash.destroy()}},{key:"prepare",value:function(){var e=this.params.source;switch(e.type){case"url":this.dash.attachSource(e.url);break;case"raw":this.dash.attachManifest(e.raw);break;default:return er(e)}}},{key:"seek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.log({message:"[seek] position: ".concat(e)}),this.params.output.willSeekEvent$.next(),this.dash.seek(e/1e3,t)}},{key:"playIfAllowed",value:function(){var e=this;uo(this.video).then((function(t){t||(e.videoState.setState(yo.PAUSED),pa(e.params.desiredState.playbackState,Jr.PAUSED,!0))}))}}]),e}();!function(e){e.VIDEO="video",e.AUDIO="audio",e.TEXT="text"}(Po||(Po={})),function(e){e.WEBM_AS_IN_SPEC="urn:mpeg:dash:profile:webm-on-demand:2012",e.WEBM_AS_IN_FFMPEG="urn:webm:dash:profile:webm-on-demand:2012"}(Ao||(Ao={})),function(e){e.BYTE_RANGE="byteRange",e.TEMPLATE="template"}(Co||(Co={})),function(e){e.NONE="none",e.DOWNLOADING="downloading",e.DOWNLOADED="downloaded",e.PARTIALLY_FED="partially_fed",e.FED="fed"}(_o||(_o={})),function(e){e.MP4="mp4",e.WEBM="webm"}(Ro||(Ro={}));var Mo=function(e,t){for(var n=0;n<e.length;n++)if(1e3*e.start(n)<=t&&1e3*e.end(n)>t)return!0;return!1},Io="function"!=typeof window.requestIdleCallback||"function"!=typeof window.cancelIdleCallback?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeout||1,i=performance.now();return window.setTimeout((function(){e({get didTimeout(){return!t.timeout&&performance.now()-i-1>n},timeRemaining:function(){return Math.max(0,performance.now()-i+1)}})}),1)}:window.requestIdleCallback,Do=function(){var e=window.navigator.userAgent;return!/chrome/i.test(e)&&/webkit|safari|khtml/i.test(e)},Oo=!1;try{var Bo,Vo;Oo=Do()&&parseInt(null!==(Bo=null===(Vo=navigator.userAgent.match(/Version\/(\d+)/))||void 0===Vo?void 0:Vo[1])&&void 0!==Bo?Bo:"",10)<16}catch(aa){console.error(aa)}var zo,Uo=function(){function e(t){var n=this;m(this,e),h(this,"bufferFull$",new ir),h(this,"error$",new ir),h(this,"buffer",void 0),h(this,"queue",[]),h(this,"currentTask",null),h(this,"destroyed",!1),h(this,"completeTask",(function(){try{if(n.currentTask){var e,t=null===(e=n.currentTask.signal)||void 0===e?void 0:e.aborted;n.currentTask.callback(!t),n.currentTask=null}n.queue.length&&n.pull()}catch(aa){n.error$.next({id:"BufferTaskQueueUnknown",message:"Buffer appending or removal failed",thrown:aa})}})),this.buffer=t,this.buffer.addEventListener("updateend",this.completeTask)}return y(e,[{key:"append",value:function(){var e=Gi(ji().mark((function e(t,n){var i=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(!n||!n.aborted)&&new Promise((function(e){var r={operation:"append",data:t,signal:n,callback:e};i.queue.push(r),i.pull()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Gi(ji().mark((function e(t,n,i){var r=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(!i||!i.aborted)&&new Promise((function(e){var a={operation:"remove",from:t,to:n,signal:i,callback:e};r.queue.unshift(a),r.pull()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"abort",value:function(){var e=Gi(ji().mark((function e(t){var n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i;i=Oo&&t?{operation:"safariAbort",init:t,callback:e}:{operation:"abort",callback:e};var r,a=Hi(n.queue);try{for(a.s();!(r=a.n()).done;){(0,r.value.callback)(!1)}}catch(o){a.e(o)}finally{a.f()}i&&(n.queue=[i]),n.pull()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.destroyed=!0,this.buffer.removeEventListener("updateend",this.completeTask)}},{key:"pull",value:function(){var e;if(!(this.buffer.updating||this.currentTask||this.destroyed)){var t=this.queue.shift();if(t){if(null!==(e=t.signal)&&void 0!==e&&e.aborted)return t.callback(!1),void this.pull();this.currentTask=t;var n=this.currentTask.operation;try{this.execute(this.currentTask)}catch(t){t instanceof DOMException&&"QuotaExceededError"===t.name&&"append"===n&&this.bufferFull$.next(this.currentTask.data.byteLength),t instanceof DOMException&&"InvalidStateError"===t.name&&"remove"===n||this.error$.next({id:"BufferTaskQueue:".concat(n),message:"Buffer operation failed",thrown:t}),this.currentTask.callback(!1),this.currentTask=null}this.currentTask&&"abort"===this.currentTask.operation&&this.completeTask()}}}},{key:"execute",value:function(e){var t=e.operation;switch(t){case"append":this.buffer.appendBuffer(e.data);break;case"remove":this.buffer.remove(e.from/1e3,e.to/1e3);break;case"abort":this.buffer.abort();break;case"safariAbort":this.buffer.abort(),this.buffer.appendBuffer(e.init);break;default:er(t)}}}]),e}();!function(e){e[e.HEADER=0]="HEADER",e[e.PARAM=1]="PARAM"}(zo||(zo={}));var Fo,qo,Ho=function(){function e(t){var n=t.throughputEstimator,i=t.requestQuic;m(this,e),h(this,"throughputEstimator",void 0),h(this,"requestQuic",void 0),h(this,"lastConnectionType$",new dr(void 0)),h(this,"lastConnectionReused$",new dr(void 0)),h(this,"lastRequestFirstBytes$",new dr(void 0)),h(this,"abortAllController",new Ra),h(this,"subscription",new Zi),h(this,"fetchManifest",lr(this.abortAllController.signal,function(){var e=Ji(ji().mark((function e(t){var n,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,this.requestQuic&&(n=Ia(n)),e.next=4,Ca(n,{signal:this.abortAllController.signal}).catch(jo);case 4:return i=e.sent,e.abrupt("return",i?(this.onHeadersReceived(i.headers),i.text()):null);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this))),h(this,"fetch",lr(this.abortAllController.signal,function(){var e=Ji(ji().mark((function e(t){var n,i,r,a,o,u,l,c,d,f,p,h,v,m,g,y,b,w,S,k,E,x,T,$,P,A,C,_,R,L,N,M,I,D,O,B,V=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=V.length>1&&void 0!==V[1]?V[1]:{},o=a.rangeMethod,u=void 0===o?zo.HEADER:o,l=a.range,c=a.onProgress,d=a.priority,f=void 0===d?"auto":d,p=a.signal,h=a.measureThroughput,v=void 0===h||h,m=t,g=new Headers,!l){e.next=13;break}e.t0=u,e.next=e.t0===zo.HEADER?7:e.t0===zo.PARAM?9:12;break;case 7:return g.append("Range","".concat(l.from,"-").concat(l.to)),e.abrupt("break",13);case 9:return(y=new URL(m,location.href)).searchParams.append("bytes","".concat(l.from,"-").concat(l.to)),m=y.toString(),e.abrupt("break",13);case 12:er(u);case 13:if(this.requestQuic&&(m=Ia(m)),b=this.abortAllController.signal,p){if(w=new Ra,this.subscription.add(pr(vr(this.abortAllController.signal,"abort"),vr(p,"abort")).subscribe((function(){try{w.abort()}catch(t){jo(t)}}))),this.abortAllController.signal.aborted||p.aborted)try{w.abort()}catch(t){jo(t)}b=w.signal}return S=ur(),e.next=19,Ca(m,{priority:f,headers:g,signal:b}).catch(jo);case 19:if(k=e.sent,E=ur(),null!==(n=this.throughputEstimator)&&void 0!==n&&n.addRawRtt(E-S),k){e.next=23;break}return e.abrupt("return",null);case 23:if(k.ok&&k.body){e.next=25;break}return e.abrupt("return",Promise.reject(new Error("Fetch error ".concat(k.status,": ").concat(k.statusText))));case 25:if(this.onHeadersReceived(k.headers),x=parseInt(null!==(i=k.headers.get("Content-Length"))&&void 0!==i?i:"",10)||l&&l.to-l.from+1||NaN){e.next=32;break}return e.next=30,k.arrayBuffer();case 30:return $=e.sent,e.abrupt("return",(null!==(T=this.throughputEstimator)&&void 0!==T&&T.addRawSpeed($.byteLength,ur()-E),null!==c&&void 0!==c&&c(new DataView($),$.byteLength),$));case 32:if(c||v){e.next=34;break}return e.abrupt("return",k.arrayBuffer());case 34:return P=k.body.tee(),A=s(P,2),C=A[0],_=A[1],R=C.getReader(),v&&(null===(r=this.throughputEstimator)||void 0===r||r.trackStream(_)),L=0,N=new ArrayBuffer(x),M=new Uint8Array(N),I=new DataView(N),D=!1,O=function(e){D=!0,jo(e)},B=lr(b,function(){var e=Ji(ji().mark((function e(t){var n,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.done,i=t.value,0===L&&this.lastRequestFirstBytes$.next(ur()-S),e.t0=b.aborted,e.t0){e.next=15;break}if(!n){e.next=8;break}null===c||void 0===c||c(I,L),e.next=15;break;case 8:if(e.t1=i,!e.t1){e.next=15;break}return M.set(i,L),L+=i.byteLength,null!==c&&void 0!==c&&c(I,L),e.next=15,null===R||void 0===R?void 0:R.read().then(B,O);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),e.next=42,null===R||void 0===R?void 0:R.read().then(B,O);case 42:return e.abrupt("return",D?null:N);case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this))),h(this,"fetchByteRangeRepresentation",lr(this.abortAllController.signal,function(){var e=Ji(ji().mark((function e(t,n,i){var r,a,o,s,u,l,c,d,f,p,h,v,m,g,y;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===Co.BYTE_RANGE){e.next=2;break}return e.abrupt("return",null);case 2:return r=t.initRange,a=r.from,o=r.to,l=a,c=o,d=!1,t.indexRange&&(s=t.indexRange.from,u=t.indexRange.to,(d=o+1===s)&&(l=Math.min(s,a),c=Math.max(u,o))),l=Math.min(l,0),e.next=7,this.fetch(t.url,{rangeMethod:zo.PARAM,range:{from:l,to:c},priority:i,measureThroughput:!1});case 7:if(f=e.sent){e.next=10;break}return e.abrupt("return",null);case 10:if(p=new DataView(f,a-l,o-l+1),n.validateData(p)){e.next=13;break}throw new Error("Invalid media file");case 13:if(h=n.parseInit(p),!d||void 0===s||void 0===u){e.next=18;break}v=new DataView(f,s-l,u-s+1),e.next=26;break;case 18:if(!(m=n.getIndexRange(h))){e.next=26;break}return e.next=22,this.fetch(t.url,{rangeMethod:zo.PARAM,range:m,priority:i,measureThroughput:!1});case 22:if(g=e.sent){e.next=25;break}return e.abrupt("return",null);case 25:v=new DataView(g);case 26:if(v){e.next=28;break}throw new ReferenceError("No way to load representation index");case 28:return y=n.parseSegments(v,h),e.abrupt("return",{dataView:new DataView(f),segments:y});case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}().bind(this))),h(this,"fetchTemplateRepresentation",lr(this.abortAllController.signal,function(){var e=Ji(ji().mark((function e(t,n){var i,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===Co.TEMPLATE){e.next=2;break}return e.abrupt("return",null);case 2:return i=new URL(t.initUrl,t.baseUrl).toString(),e.next=5,this.fetch(i,{priority:n,measureThroughput:!1});case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",{segments:t.segments.map((function(e){return re(re({},e),{},{status:_o.NONE,size:void 0})})),dataView:new DataView(r)});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}().bind(this))),this.throughputEstimator=n,this.requestQuic=i}return y(e,[{key:"onHeadersReceived",value:function(e){var t=ko(e),n=t.type,i=t.reused;this.lastConnectionType$.next(n),this.lastConnectionReused$.next(i)}},{key:"fetchRepresentation",value:function(){var e=Gi(ji().mark((function e(t,n){var i,r,a,o,s=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.length>2&&void 0!==s[2]?s[2]:"auto",o=t.type,e.t0=o,e.next=e.t0===Co.BYTE_RANGE?5:e.t0===Co.TEMPLATE?17:29;break;case 5:return e.next=7,this.fetchByteRangeRepresentation(t,n,a);case 7:if(e.t2=i=e.sent,e.t1=null!==e.t2,!e.t1){e.next=11;break}e.t1=void 0!==i;case 11:if(!e.t1){e.next=15;break}e.t3=i,e.next=16;break;case 15:e.t3=null;case 16:return e.abrupt("return",e.t3);case 17:return e.next=19,this.fetchTemplateRepresentation(t,a);case 19:if(e.t5=r=e.sent,e.t4=null!==e.t5,!e.t4){e.next=23;break}e.t4=void 0!==r;case 23:if(!e.t4){e.next=27;break}e.t6=r,e.next=28;break;case 27:e.t6=null;case 28:return e.abrupt("return",e.t6);case 29:er(o);case 30:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.abortAllController.abort(),this.subscription.unsubscribe()}}]),e}(),jo=function(e){if(!(e instanceof DOMException)||"AbortError"!==e.name&&20!==e.code)throw e},Wo=new TextDecoder("ascii"),Go=function(e){var t=0,n=e.getUint32(t);t+=4;var i=new DataView(e.buffer,e.byteOffset+t,4),r=Wo.decode(i);t+=4,0===n?n=1/0:1===n&&(t+=8,n=1/0);var a=Math.min(n,e.byteLength)-t;return{id:r,size:n,contents:new DataView(e.buffer,e.byteOffset+t,a)}},Yo={validateData:function(e){return"ftyp"===Wo.decode(new DataView(e.buffer,e.byteOffset+4,4))},parseInit:function(){return null},getIndexRange:function(){},parseSegments:function(e){var t=Go(e),n=[],i=0,r=function(){var e=t.contents.getUint32(i);return i+=4,e};if(0!==(4278190080&r()))throw new SyntaxError("Unsupported sidx version");r();for(var a=r(),o=r(),s=r(),u=4294967295&r(),l=o/a*1e3,c=e.byteOffset+e.byteLength+s,d=0;d<u;d++){var f=r(),p=f>>>31,h=f<<1>>>1,v=r();if(r(),0!==p)throw new Error("Unsupported multilevel sidx");var m=v/a*1e3;n.push({status:_o.NONE,time:{from:l,to:l+m},byte:{from:c,to:c+h-1}}),l+=m,c+=h}return n},parseFeedableSegmentChunk:function(e){for(var t=0,n=!1,i=!1;t<=e.byteLength&&!n;){var r=new DataView(e.buffer,e.byteOffset+t);try{var a=Go(r);if(i||(i="mdat"===a.id),!(t+a.size<=e.byteLength))break;t+=a.size}catch(e){n=!0}}return t>0&&t<=e.byteLength&&i?new DataView(e.buffer,e.byteOffset,t):null}};!function(e){e[e.EBML=440786851]="EBML",e[e.EBMLVersion=17030]="EBMLVersion",e[e.EBMLReadVersion=17143]="EBMLReadVersion",e[e.EBMLMaxIDLength=17138]="EBMLMaxIDLength",e[e.EBMLMaxSizeLength=17139]="EBMLMaxSizeLength",e[e.DocType=17026]="DocType",e[e.DocTypeVersion=17031]="DocTypeVersion",e[e.DocTypeReadVersion=17029]="DocTypeReadVersion",e[e.Void=236]="Void",e[e.Segment=408125543]="Segment",e[e.SeekHead=290298740]="SeekHead",e[e.Seek=19899]="Seek",e[e.SeekID=21419]="SeekID",e[e.SeekPosition=21420]="SeekPosition",e[e.Info=357149030]="Info",e[e.TimestampScale=2807729]="TimestampScale",e[e.Duration=17545]="Duration",e[e.Tracks=374648427]="Tracks",e[e.Chapters=272869232]="Chapters",e[e.Cluster=524531317]="Cluster",e[e.Timestamp=231]="Timestamp",e[e.SilentTracks=22612]="SilentTracks",e[e.SilentTrackNumber=22743]="SilentTrackNumber",e[e.Position=167]="Position",e[e.PrevSize=171]="PrevSize",e[e.SimpleBlock=163]="SimpleBlock",e[e.BlockGroup=160]="BlockGroup",e[e.EncryptedBlock=175]="EncryptedBlock",e[e.Attachments=423732329]="Attachments",e[e.Tags=307544935]="Tags",e[e.Cues=475249515]="Cues",e[e.CuePoint=187]="CuePoint",e[e.CueTime=179]="CueTime",e[e.CueTrackPositions=183]="CueTrackPositions",e[e.CueTrack=247]="CueTrack",e[e.CueClusterPosition=241]="CueClusterPosition",e[e.CueRelativePosition=240]="CueRelativePosition",e[e.CueDuration=178]="CueDuration",e[e.CueBlockNumber=21368]="CueBlockNumber",e[e.CueCodecState=234]="CueCodecState",e[e.CueReference=219]="CueReference",e[e.CueRefTime=150]="CueRefTime"}(Fo||(Fo={})),function(e){e.SignedInteger="int",e.UnsignedInteger="uint",e.Float="float",e.String="string",e.UTF8="utf8",e.Date="date",e.Master="master",e.Binary="binary"}(qo||(qo={}));var Qo,Ko,Xo=(h(Lr={},Fo.EBML,{type:qo.Master}),h(Lr,Fo.EBMLVersion,{type:qo.UnsignedInteger}),h(Lr,Fo.EBMLReadVersion,{type:qo.UnsignedInteger}),h(Lr,Fo.EBMLMaxIDLength,{type:qo.UnsignedInteger}),h(Lr,Fo.EBMLMaxSizeLength,{type:qo.UnsignedInteger}),h(Lr,Fo.DocType,{type:qo.String}),h(Lr,Fo.DocTypeVersion,{type:qo.UnsignedInteger}),h(Lr,Fo.DocTypeReadVersion,{type:qo.UnsignedInteger}),h(Lr,Fo.Void,{type:qo.Binary}),h(Lr,Fo.Segment,{type:qo.Master}),h(Lr,Fo.SeekHead,{type:qo.Master}),h(Lr,Fo.Seek,{type:qo.Master}),h(Lr,Fo.SeekID,{type:qo.Binary}),h(Lr,Fo.SeekPosition,{type:qo.UnsignedInteger}),h(Lr,Fo.Info,{type:qo.Master}),h(Lr,Fo.TimestampScale,{type:qo.UnsignedInteger}),h(Lr,Fo.Duration,{type:qo.Float}),h(Lr,Fo.Tracks,{type:qo.Master}),h(Lr,Fo.Chapters,{type:qo.Master}),h(Lr,Fo.Cluster,{type:qo.Master}),h(Lr,Fo.Timestamp,{type:qo.UnsignedInteger}),h(Lr,Fo.SilentTracks,{type:qo.Master}),h(Lr,Fo.SilentTrackNumber,{type:qo.UnsignedInteger}),h(Lr,Fo.Position,{type:qo.UnsignedInteger}),h(Lr,Fo.PrevSize,{type:qo.UnsignedInteger}),h(Lr,Fo.SimpleBlock,{type:qo.Binary}),h(Lr,Fo.BlockGroup,{type:qo.Master}),h(Lr,Fo.EncryptedBlock,{type:qo.Binary}),h(Lr,Fo.Attachments,{type:qo.Master}),h(Lr,Fo.Tags,{type:qo.Master}),h(Lr,Fo.Cues,{type:qo.Master}),h(Lr,Fo.CuePoint,{type:qo.Master}),h(Lr,Fo.CueTime,{type:qo.UnsignedInteger}),h(Lr,Fo.CueTrackPositions,{type:qo.Master}),h(Lr,Fo.CueTrack,{type:qo.UnsignedInteger}),h(Lr,Fo.CueClusterPosition,{type:qo.UnsignedInteger}),h(Lr,Fo.CueRelativePosition,{type:qo.UnsignedInteger}),h(Lr,Fo.CueDuration,{type:qo.UnsignedInteger}),h(Lr,Fo.CueBlockNumber,{type:qo.UnsignedInteger}),h(Lr,Fo.CueCodecState,{type:qo.UnsignedInteger}),h(Lr,Fo.CueReference,{type:qo.Master}),h(Lr,Fo.CueRefTime,{type:qo.UnsignedInteger}),Lr),Jo=function(e){var t=e.getUint8(0),n=0;128&t?n=1:64&t?n=2:32&t?n=3:16&t&&(n=4);var i=Zo(e,n),r=i in Xo,a=r?Xo[i].type:qo.Binary,o=e.getUint8(n),s=0;128&o?s=1:64&o?s=2:32&o?s=3:16&o?s=4:8&o?s=5:4&o?s=6:2&o?s=7:1&o&&(s=8);var u,l=new DataView(e.buffer,e.byteOffset+n+1,s-1),c=((o&255>>s)<<8*(s-1))+Zo(l),d=n+s;return u=d+c>e.byteLength?new DataView(e.buffer,e.byteOffset+d):new DataView(e.buffer,e.byteOffset+d,c),{tag:r?i:"0x"+i.toString(16).toUpperCase(),type:a,tagHeaderSize:d,tagSize:d+c,value:u,valueSize:c}},Zo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.byteLength;switch(t){case 1:return e.getUint8(0);case 2:return e.getUint16(0);case 3:return e.getUint16(0)<<8|e.getUint8(2);case 4:return e.getUint32(0);case 5:return e.getUint32(0)<<8|e.getUint8(4);case 6:return e.getUint32(0)<<16|e.getUint16(4);case 7:return e.getUint32(0)<<32|e.getUint16(4)<<8|e.getUint8(6);case 8:return e.getUint32(0)<<32|e.getUint32(4)}return 0},es=function(e,t){switch(t){case qo.SignedInteger:return e.getInt8(0);case qo.UnsignedInteger:return Zo(e);case qo.Float:return 4===e.byteLength?e.getFloat32(0):e.getFloat64(0);case qo.String:return new TextDecoder("ascii").decode(e);case qo.UTF8:return new TextDecoder("utf-8").decode(e);case qo.Date:return new Date(Date.UTC(2001,0)+e.getInt8(0)).getTime();case qo.Master:case qo.Binary:return e;default:er(t)}},ts=function e(t,n){for(var i=0;i<t.byteLength;){var r=new DataView(t.buffer,t.byteOffset+i),a=Jo(r);if(!n(a))return;a.type===qo.Master&&e(a.value,n),i=a.value.byteOffset-t.byteOffset+a.valueSize}},ns=[Fo.Info,Fo.SeekHead,Fo.Tracks,Fo.Chapters,Fo.Cluster,Fo.Cues,Fo.Attachments,Fo.Tags],is=[Fo.Timestamp,Fo.SilentTracks,Fo.SilentTrackNumber,Fo.Position,Fo.PrevSize,Fo.SimpleBlock,Fo.BlockGroup,Fo.EncryptedBlock],rs={validateData:function(e){if(e.getUint32(0)!==Fo.EBML)return!1;var t,n,i,r=Jo(e);return ts(r.value,(function(e){var r=e.tag,a=e.type,o=e.value;return r===Fo.EBMLReadVersion?t=es(o,a):r===Fo.DocType?n=es(o,a):r===Fo.DocTypeReadVersion&&(i=es(o,a)),!0})),(void 0===t||t<=1)&&void 0!==n&&"webm"===n&&(void 0===i||i<=2)},parseInit:function(e){var t,n,i,r,a,o,s,u=!1,l=!1,c=!1;return ts(e,(function(e){var t=e.tag,d=e.type,f=e.value,p=e.valueSize;if(t===Fo.SeekID){var h=es(f,d);s=Zo(h)}else t!==Fo.SeekPosition&&(s=void 0);return t===Fo.Segment?(n=f.byteOffset,i=f.byteOffset+p):t===Fo.Info?u=!0:t===Fo.SeekHead?l=!0:t===Fo.TimestampScale?r=es(f,d):t===Fo.Duration?a=es(f,d):t===Fo.SeekPosition&&s===Fo.Cues?o=es(f,d):u&&l&&ns.includes(t)&&(c=!0),!c})),ar(n,"Failed to parse webm Segment start"),ar(i,"Failed to parse webm Segment end"),ar(a,"Failed to parse webm Segment duration"),r=null!==(t=r)&&void 0!==t?t:1e6,{segmentStart:Math.round(n/1e9*r*1e3),segmentEnd:Math.round(i/1e9*r*1e3),timeScale:r,segmentDuration:Math.round(a/1e9*r*1e3),cuesSeekPosition:o}},getIndexRange:function(e){if(!sr(e.cuesSeekPosition)){var t=e.segmentStart+e.cuesSeekPosition;return{from:t,to:t+1048576}}},parseSegments:function(e,t){var n,i=!1,r=!1,a=function(e){return or(e.time)&&or(e.position)},o=[];return ts(e,(function(e){var t=e.tag,s=e.type,u=e.value;switch(t){case Fo.Cues:i=!0;break;case Fo.CuePoint:n&&a(n)&&o.push(n),n={};break;case Fo.CueTime:n&&(n.time=es(u,s));break;case Fo.CueTrackPositions:break;case Fo.CueClusterPosition:n&&(n.position=es(u,s));break;default:i&&ns.includes(t)&&(r=!0)}return!(i&&r)})),n&&a(n)&&o.push(n),o.map((function(e,n){var i=e.time,r=e.position,a=o[n+1];return{status:_o.NONE,time:{from:i,to:a?a.time:t.segmentDuration},byte:{from:t.segmentStart+r,to:a?t.segmentStart+a.position-1:t.segmentEnd-1}}}))},parseFeedableSegmentChunk:function(e){var t=0,n=!1;try{ts(e,(function(i){return i.tag===Fo.Cluster?i.tagSize<=e.byteLength?(t=i.tagSize,!1):(t+=i.tagHeaderSize,!0):!!is.includes(i.tag)&&(t+i.tagSize<=e.byteLength&&(t+=i.tagSize,n||(n=[Fo.SimpleBlock,Fo.BlockGroup,Fo.EncryptedBlock].includes(i.tag))),!0)}))}catch(e){}return t>0&&t<=e.byteLength&&n?new DataView(e.buffer,e.byteOffset,t):null}},as=function(){function e(t,n,i,r,a){var o=a.fetcher,s=a.tuning,u=a.getCurrentPosition;switch(m(this,e),h(this,"onLastSegment$",new dr(!1)),h(this,"fullyBuffered$",new dr(!1)),h(this,"playingRepresentation$",new dr(void 0)),h(this,"error$",new ir),h(this,"gaps",[]),h(this,"subscription",new Zi),h(this,"kind",void 0),h(this,"container",void 0),h(this,"containerParser",void 0),h(this,"initData",void 0),h(this,"representations",void 0),h(this,"segments",void 0),h(this,"allInitsLoaded",!1),h(this,"activeSegments",new Set),h(this,"mediaSource",void 0),h(this,"playingRepresentationId",void 0),h(this,"downloadingRepresentationId",void 0),h(this,"switchingToRepresentationId",void 0),h(this,"sourceBuffer",void 0),h(this,"downloadAbortController",new Ra),h(this,"destroyAbortController",new Ra),h(this,"getCurrentPosition",void 0),h(this,"tuning",void 0),h(this,"forwardBufferTarget",void 0),h(this,"fetcher",void 0),h(this,"bufferLimit",1/0),h(this,"sourceBufferTaskQueue",void 0),h(this,"gapDetectionIdleCallback",void 0),h(this,"initLoadIdleCallback",void 0),h(this,"failedDownloads",0),h(this,"startWith",lr(this.destroyAbortController.signal,function(){var e=Ji(ji().mark((function e(t){var n,i,r,a,o,s,u,l=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ar(n=this.representations.get(t),"Cannot find representation ".concat(t)),this.playingRepresentationId=t,this.downloadingRepresentationId=t,this.sourceBuffer=this.mediaSource.addSourceBuffer("".concat(n.mime,'; codecs="').concat(n.codecs,'"')),this.sourceBufferTaskQueue=new Uo(this.sourceBuffer),this.subscription.add(vr(this.sourceBuffer,"updateend").subscribe((function(){return l.checkEjectedSegments()}),(function(e){return l.error$.next({id:"SegmentEjection",message:"Error when trying to clear segments ejected by browser",thrown:e})}))),this.subscription.add(vr(this.sourceBuffer,"error").subscribe((function(){return l.error$.next({id:"SourceBuffer",message:"SourceBuffer Error event fired"})}))),this.subscription.add(this.sourceBufferTaskQueue.bufferFull$.subscribe((function(e){return l.pruneBuffer(e)}))),this.subscription.add(this.sourceBufferTaskQueue.error$.subscribe((function(e){return l.error$.next(e)}))),e.next=12,this.loadInit(n,"high",!0);case 12:if(i=this.initData.get(n.id),r=this.segments.get(n.id),ar(i,"No init buffer for starting representation"),ar(r,"No segments for starting representation"),i instanceof ArrayBuffer){e.next=15;break}return e.abrupt("return");case 15:a=0,o=Hi(r);try{for(o.s();!(s=o.n()).done;)(u=s.value).time.from-a>=300&&this.gaps.push({representation:n.id,from:a,to:u.time.from}),a=u.time.to}catch(c){o.e(c)}finally{o.f()}return or(n.duration)&&n.duration-a>=300&&this.gaps.push({representation:n.id,from:a,to:n.duration}),e.next=21,this.sourceBufferTaskQueue.append(i,this.destroyAbortController.signal);case 21:this.playingRepresentation$.next(this.playingRepresentationId);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this))),h(this,"switchTo",lr(this.destroyAbortController.signal,function(){var e=Ji(ji().mark((function e(t){var n,i,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.downloadingRepresentationId&&t!==this.switchingToRepresentationId){e.next=2;break}return e.abrupt("return");case 2:if(this.switchingToRepresentationId=t,ar(n=this.representations.get(t),"No such representation ".concat(t)),!sr(i=this.initData.get(t))){e.next=11;break}return e.next=9,this.loadInit(n,"high",!1);case 9:e.next=15;break;case 11:if(e.t0=i instanceof Promise,!e.t0){e.next=15;break}return e.next=15,i;case 15:if((i=this.initData.get(t))&&i instanceof ArrayBuffer&&this.sourceBuffer){e.next=18;break}return e.abrupt("return");case 18:return this.switchingToRepresentationId=void 0,this.downloadingRepresentationId=t,this.abort(),e.next=23,this.sourceBufferTaskQueue.append(i,this.downloadAbortController.signal);case 23:or(r=this.getCurrentPosition())&&this.maintain(r);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this))),this.fetcher=o,this.tuning=s,this.forwardBufferTarget=s.dash.forwardBufferTargetAuto,this.getCurrentPosition=u,this.container=i,i){case Ro.MP4:this.containerParser=Yo;break;case Ro.WEBM:this.containerParser=rs;break;default:er(i)}this.initData=new Map(r.map((function(e){return[e.id,null]}))),this.segments=new Map,this.representations=new Map(r.map((function(e){return[e.id,e]}))),this.kind=t,this.mediaSource=n,this.sourceBuffer=null}return y(e,[{key:"abort",value:function(){var e,t=Hi(this.activeSegments);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.abortSegment(n.segment)}}catch(i){t.e(i)}finally{t.f()}this.activeSegments.clear(),this.downloadAbortController.abort(),this.downloadAbortController=new Ra,this.abortBuffer()}},{key:"maintain",value:function(e){if(!(sr(this.downloadingRepresentationId)||sr(this.playingRepresentationId)||sr(this.sourceBuffer))){var t=this.representations.get(this.downloadingRepresentationId),n=this.segments.get(this.downloadingRepresentationId);if(ar(t,"No such representation ".concat(this.downloadingRepresentationId)),n){var i=n.find((function(t){return e>=t.time.from&&e<t.time.to})),r=e;if(this.playingRepresentationId!==this.downloadingRepresentationId){var a=Eo(this.sourceBuffer.buffered,e),o=i?i.time.to+100:-1/0;i&&a>=i.time.to-e+100&&(r=o)}var s=[];if(isFinite(this.bufferLimit)&&function(e){for(var t=0,n=0;n<e.length;n++)t+=e.end(n)-e.start(n);return 1e3*t}(this.sourceBuffer.buffered)>=.8*this.bufferLimit)this.pruneBuffer(1/0);else if(!this.activeSegments.size&&(s=this.selectForwardBufferSegments(n,t.segmentReference.type,r)).length){var u="auto";if(this.tuning.dash.useFetchPriorityHints&&i)if(s.includes(i))u="high";else{var l=s.at(0);l&&l.time.from-i.time.to>=this.forwardBufferTarget/2&&(u="low")}this.loadSegments(s,t,u)}!this.allInitsLoaded&&i&&i.status===_o.FED&&!s.length&&Eo(this.sourceBuffer.buffered,e)>3e3&&this.loadNextInit();var c=n.at(-1);c&&c.status===_o.FED&&(this.fullyBuffered$.next(!0),this.onLastSegment$.next(i===c))}}}},{key:"findSegmentStartTime",value:function(e){var t,n,i,r,a=null!==(t=null!==(n=this.switchingToRepresentationId)&&void 0!==n?n:this.downloadingRepresentationId)&&void 0!==t?t:this.playingRepresentationId;if(a){var o=this.segments.get(a);if(o)return null!==(i=null===(r=o.find((function(t){return t.time.from<=e&&t.time.to>=e})))||void 0===r?void 0:r.time.from)&&void 0!==i?i:void 0}}},{key:"setTarget",value:function(e){this.forwardBufferTarget=e}},{key:"destroy",value:function(){var e;this.initData.clear(),this.segments.clear(),this.representations.clear(),null!==(e=this.sourceBufferTaskQueue)&&void 0!==e&&e.destroy(),this.gapDetectionIdleCallback&&window.cancelIdleCallback&&window.cancelIdleCallback(this.gapDetectionIdleCallback),this.initLoadIdleCallback&&window.cancelIdleCallback&&window.cancelIdleCallback(this.initLoadIdleCallback),this.subscription.unsubscribe(),this.sourceBuffer&&"open"===this.mediaSource.readyState&&(this.abortBuffer(),this.mediaSource.removeSourceBuffer(this.sourceBuffer)),this.sourceBuffer=null,this.downloadAbortController.abort(),this.destroyAbortController.abort()}},{key:"selectForwardBufferSegments",value:function(e,t,n){var i=this,r=e.findIndex((function(e){var t=e.status,r=e.time,a=r.from,o=r.to;return t===_o.NONE&&(a>n||a<=n&&o>=n)&&o<=n+i.forwardBufferTarget}));if(-1===r)return[];if(t!==Co.BYTE_RANGE)return e.slice(r,r+1);for(var a=e,o=0,s=[],u=r;u<a.length&&o<=this.tuning.dash.segmentRequestSize;u++){var l=a[u];if(o+=l.byte.to+1-l.byte.from,l.status!==_o.NONE)break;s.push(l)}return s}},{key:"loadSegments",value:function(){var e=Gi(ji().mark((function e(t,n){var i,r,a,o,s,u,l,c,d,f,p,h,v,m=this,g=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"auto",t.length){e.next=3;break}return e.abrupt("return");case 3:o=t,s=n.segmentReference.type,e.t0=s,e.next=e.t0===Co.BYTE_RANGE?8:e.t0===Co.TEMPLATE?10:13;break;case 8:return r=n.segmentReference.url,a={from:t.at(0).byte.from,to:t.at(-1).byte.to},e.abrupt("break",14);case 10:return u=t.at(0),r=new URL(u.url,n.segmentReference.baseUrl).toString(),o=[u],e.abrupt("break",14);case 13:er(s);case 14:l=Hi(o);try{for(l.s();!(c=l.n()).done;)(d=c.value).status=_o.DOWNLOADING,this.activeSegments.add({segment:d,loadedBytes:0,fedBytes:0,representationId:n.id})}catch(y){l.e(y)}finally{l.f()}if(f=this.downloadAbortController.signal,e.t1=this.failedDownloads,!e.t1){e.next=22;break}return e.next=21,lr(f,Ji(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=cr(this.failedDownloads,this.tuning.downloadBackoff),e.next=3,new Promise((function(e){return setTimeout(e,t)}));case 3:case"end":return e.stop()}}),e,this)}))).bind(this))();case 21:e.t1=f.aborted;case 22:if(!e.t1){e.next=25;break}p=Hi(this.activeSegments);try{for(p.s();!(h=p.n()).done;)v=h.value,t.includes(v.segment)&&this.abortSegment(v.segment)}catch(y){p.e(y)}finally{p.f()}case 25:this.fetcher.fetch(r,{rangeMethod:zo.PARAM,range:a,onProgress:function(e,t){if(!f.aborted)try{m.onSomeDataLoaded(e,n.id,a?a.from:0,t,f)}catch(e){m.error$.next({id:"SegmentFeeding",message:"Error when feeding segments",thrown:e})}},signal:f,priority:i}).then((function(){return m.failedDownloads=0}),(function(e){var n,i=Hi(m.activeSegments);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.includes(r.segment)&&m.abortSegment(r.segment)}}catch(y){i.e(y)}finally{i.f()}m.onSegmentDownloadError(e)}));case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onSegmentDownloadError",value:function(e){var t,n=!1,i=this.getCurrentPosition();this.sourceBuffer&&or(i)&&(n=Eo(null===(t=this.sourceBuffer)||void 0===t?void 0:t.buffered,i)>=this.tuning.downloadBackoff.bufferThreshold);this.failedDownloads++,n||this.error$.next({id:"SegmentDownload",message:"Error when fetching segments",thrown:e})}},{key:"onSomeDataLoaded",value:function(e,t,n,i,r){var a=this;if(this.activeSegments.size){var o=function(e){a.abortSegment(e.segment)},s=function(e){a.playingRepresentationId=t,a.playingRepresentation$.next(a.playingRepresentationId),e.segment.status=_o.FED,"size"in e.segment&&(e.segment.size=e.fedBytes);var n,i=Hi(a.representations.values());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.id!==t){var o,s,u=Hi(null!==(o=a.segments.get(r.id))&&void 0!==o?o:[]);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.status===_o.FED&&l.time.from===e.segment.time.from&&l.time.to===e.segment.time.to&&(l.status=_o.NONE)}}catch(c){u.e(c)}finally{u.f()}}}}catch(c){i.e(c)}finally{i.f()}a.activeSegments.delete(e),a.detectGapsWhenIdle(t,[e.segment])},u=this.representations.get(t);if(u){var l,c=u.segmentReference.type,d=e.byteLength,f=Hi(this.activeSegments);try{var p=function(){var u=l.value,f=u.segment,p=c===Co.BYTE_RANGE,h=p?f.byte.to-f.byte.from+1:d;if(u.representationId!==t)return"continue";if(p&&!(f.byte.from>=n&&f.byte.to<n+e.byteLength))return"continue";if(r.aborted)return o(u),"continue";var v=p?f.byte.from-n:0,m=v<i,g=(p?f.byte.to-n:e.byteLength)<=i;if(f.status===_o.DOWNLOADING&&m&&g){f.status=_o.DOWNLOADED,a.activeSegments.delete(u);var y=new DataView(e.buffer,e.byteOffset+v,h);a.sourceBufferTaskQueue.append(y,r).then((function(e){return e&&!r.aborted?s(u):o(u)}))}else if(a.tuning.dash.enableSubSegmentBufferFeeding&&m&&(u.loadedBytes=Math.min(h,i-v),u.loadedBytes>u.fedBytes)){var b=new DataView(e.buffer,e.byteOffset+v+u.fedBytes,u.loadedBytes-u.fedBytes),w=u.loadedBytes===h?b:a.containerParser.parseFeedableSegmentChunk(b);(null===w||void 0===w?void 0:w.byteLength)&&(f.status=_o.PARTIALLY_FED,u.fedBytes+=w.byteLength,a.sourceBufferTaskQueue.append(w,r).then((function(e){!e||r.aborted?o(u):u.fedBytes===h&&s(u)})))}};for(f.s();!(l=f.n()).done;)p()}catch(h){f.e(h)}finally{f.f()}}}}},{key:"abortSegment",value:function(e){e.status===_o.PARTIALLY_FED?(this.sourceBufferTaskQueue.remove(e.time.from,e.time.to).then((function(){return e.status=_o.NONE})),e.status=_o.NONE):e.status=_o.NONE;var t,n=Hi(this.activeSegments.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.segment===e){this.activeSegments.delete(i);break}}}catch(r){n.e(r)}finally{n.f()}}},{key:"loadNextInit",value:function(){var e=this;if(!this.allInitsLoaded&&!this.initLoadIdleCallback){var t,n=null,i=!1,r=Hi(this.initData.entries());try{for(r.s();!(t=r.n()).done;){var a=s(t.value,2),o=a[0],u=a[1];i||(i=u instanceof Promise),null===u&&(n=o)}}catch(c){r.e(c)}finally{r.f()}if(n){if(!i){var l=this.representations.get(n);l&&(this.initLoadIdleCallback=Io((function(){return e.loadInit(l,"low",!1).finally((function(){return e.initLoadIdleCallback=null}))})))}}else this.allInitsLoaded=!0}}},{key:"loadInit",value:function(){var e=Gi(ji().mark((function e(t){var n,i,r,a,o=this,s=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"auto",i=s.length>2&&void 0!==s[2]&&s[2],r=this.tuning.dash.useFetchPriorityHints?n:"auto",a=(!i&&this.failedDownloads>0?lr(this.destroyAbortController.signal,Ji(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=cr(this.failedDownloads,this.tuning.downloadBackoff),e.next=3,new Promise((function(e){return setTimeout(e,t)}));case 3:case"end":return e.stop()}}),e,this)}))).bind(this))():Promise.resolve()).then((function(){return o.fetcher.fetchRepresentation(t.segmentReference,o.containerParser,r)})).then((function(e){if(e){var n=e.dataView,i=e.segments,r=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);o.initData.set(t.id,r),o.segments.set(t.id,i)}})).then((function(){return o.failedDownloads=0}),(function(e){o.initData.set(t.id,null),i&&o.error$.next({id:"LoadInits",message:"loadInit threw",thrown:e})})),e.abrupt("return",(this.initData.set(t.id,a),a));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pruneBuffer",value:function(){var e=Gi(ji().mark((function e(t){var n,i,r,a,o,s,u,l,c,d,f,p;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getCurrentPosition(),this.sourceBuffer&&this.playingRepresentationId&&!sr(n)){e.next=3;break}return e.abrupt("return",!1);case 3:if(!this.sourceBuffer.updating){e.next=5;break}return e.abrupt("return",!1);case 5:if(i=this.segments.get(this.playingRepresentationId)){e.next=8;break}return e.abrupt("return",!1);case 8:r=0,a=1/0,o=-1/0,!1,s=function(e){var t;a=Math.min(a,e.time.from),o=Math.max(o,e.time.to);var n="size"in e?null!==(t=e.size)&&void 0!==t?t:0:e.byte.to-e.byte.from;r+=n},u=Hi(i),e.prev=11,u.s();case 13:if((l=u.n()).done){e.next=20;break}if(!((c=l.value).time.to>=n||r>=t)){e.next=17;break}return e.abrupt("break",20);case 17:c.status===_o.FED&&s(c);case 18:e.next=13;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),u.e(e.t0);case 25:return e.prev=25,u.f(),e.finish(25);case 28:if(isFinite(a)&&isFinite(o)){e.next=48;break}r=0,a=1/0,o=-1/0,d=Hi(i),e.prev=31,d.s();case 33:if((f=d.n()).done){e.next=40;break}if(!((p=f.value).time.from<n+this.forwardBufferTarget||r>t)){e.next=37;break}return e.abrupt("break",40);case 37:p.status===_o.FED&&s(p);case 38:e.next=33;break;case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(31),d.e(e.t1);case 45:return e.prev=45,d.f(),e.finish(45);case 48:return e.abrupt("return",!!(isFinite(a)&&isFinite(o))&&this.sourceBufferTaskQueue.remove(a/1e3,o/1e3));case 49:case"end":return e.stop()}}),e,this,[[11,22,25,28],[31,42,45,48]])})));return function(t){return e.apply(this,arguments)}}()},{key:"abortBuffer",value:function(){if(this.sourceBuffer&&"open"===this.mediaSource.readyState){var e=this.playingRepresentationId&&this.initData.get(this.playingRepresentationId),t=e instanceof ArrayBuffer?e:void 0;this.sourceBufferTaskQueue.abort(t)}}},{key:"detectGaps",value:function(e,t){if(this.sourceBuffer){var n,i=Hi(t);try{for(i.s();!(n=i.n()).done;){for(var r=n.value,a={representation:e,from:r.time.from,to:r.time.to},o=0;o<this.sourceBuffer.buffered.length;o++){var s=1e3*this.sourceBuffer.buffered.start(o),u=1e3*this.sourceBuffer.buffered.end(o);if(!(u<=r.time.from||s>=r.time.to)){if(s<=r.time.from&&u>=r.time.to){a=void 0;break}u>r.time.from&&u<r.time.to&&(a.from=u),s<r.time.to&&s>r.time.from&&(a.to=s)}}a&&a.to-a.from>=1&&this.gaps.push(a)}}catch(l){i.e(l)}finally{i.f()}}}},{key:"detectGapsWhenIdle",value:function(e,t){var n=this;this.gapDetectionIdleCallback||(this.gapDetectionIdleCallback=Io((function(){try{n.detectGaps(e,t)}catch(e){n.error$.next({id:"GapDetection",message:"detectGaps threw",thrown:e})}finally{n.gapDetectionIdleCallback=null}})))}},{key:"checkEjectedSegments",value:function(){if(!sr(this.sourceBuffer)&&!sr(this.playingRepresentationId)){for(var e=[],t=0;t<this.sourceBuffer.buffered.length;t++){var n=1e3*this.sourceBuffer.buffered.start(t),i=1e3*this.sourceBuffer.buffered.end(t);e.push({from:n,to:i})}var r,a=this.tuning.dash.segmentTimelineTolerance,o=Hi(this.segments.values());try{for(o.s();!(r=o.n()).done;){var s,u=Hi(r.value);try{var l=function(){var t=s.value,n=e.some((function(e){return e.from-a<=t.time.from&&e.to+a>=t.time.to}));t.status!==_o.FED||n||(t.status=_o.NONE)};for(u.s();!(s=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}}}catch(c){o.e(c)}finally{o.f()}}}}]),e}(),os=function(e){if(e.startsWith("P")){var t=function(e,t){var n=e?parseFloat(e.replace(",",".")):NaN;return(isNaN(n)?0:n)*t},n=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/.exec(e),i="-"===(null===n||void 0===n?void 0:n[1])?-1:1;return 24*t(null===n||void 0===n?void 0:n[5],i)*60*60*1e3+60*t(null===n||void 0===n?void 0:n[6],i)*60*1e3+60*t(null===n||void 0===n?void 0:n[7],i)*1e3+1e3*t(null===n||void 0===n?void 0:n[8],i)}},ss=function(e,t){var n=e;n=n.replaceAll("$$","$");for(var i={RepresentationID:t.representationId,Number:t.segmentNumber,Bandwidth:t.bandwidth,Time:t.segmentTime},r=function(){var e=s(o[a],2),t=e[0],i=e[1],r=new RegExp("\\$".concat(t,"(?:%0(\\d+)d)?\\$"),"g");n=n.replaceAll(r,(function(e,t){return sr(i)?e:sr(t)?i:i.padStart(parseInt(t,10),"0")}))},a=0,o=Object.entries(i);a<o.length;a++)r();return n},us=["timeupdate","progress","play","seeked","stalled"];!function(e){e.NONE="none",e.MANIFEST_LOADED="manifest_loaded",e.REPRESENTATION_SELECTED="representation_selected"}(Qo||(Qo={}));var ls=function(){function e(t){var n=this;m(this,e),h(this,"element",null),h(this,"source",null),h(this,"manifest",null),h(this,"tuning",void 0),h(this,"videoBufferManager",void 0),h(this,"audioBufferManager",void 0),h(this,"bufferManagers",void 0),h(this,"throughputEstimator",void 0),h(this,"subscription",new Zi),h(this,"fetcher",void 0),h(this,"state$",new Sa(Qo.NONE)),h(this,"currentVideoRepresentation$",new dr(void 0)),h(this,"error$",new ir),h(this,"lastConnectionType$",new dr(void 0)),h(this,"lastConnectionReused$",new dr(void 0)),h(this,"lastRequestFirstBytes$",new dr(void 0)),h(this,"forceEnded$",new ir),h(this,"gapWatchdogStarted",!1),h(this,"gapWatchdogSubscription",void 0),h(this,"destroyController",new Ra),h(this,"initManifest",lr(this.destroyController.signal,function(){var e=Ji(ji().mark((function e(t,n){var i,r,a,o=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.element=t,this.state$.startTransitionTo(Qo.MANIFEST_LOADED),e.next=3,this.fetcher.fetchManifest(n).catch((function(e){return o.error$.next({id:"LoadManifest",message:"Failed to load manifest",thrown:e})}));case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:try{r=function(e,t){var n,i,r,a={video:[],audio:[],text:[]},o=(new DOMParser).parseFromString(e,"application/xml").children[0],u=o.getElementsByTagName("Period")[0],l=u.children,c=o.getAttribute("mediaPresentationDuration"),d=u.getAttribute("duration");if(c)r=os(c);else if(d){var f=os(d);or(f)&&(r=f)}var p,h=0,v=null!==(n=null===(i=o.getAttribute("profiles"))||void 0===i?void 0:i.split(","))&&void 0!==n?n:[],m=v.includes(Ao.WEBM_AS_IN_FFMPEG)||v.includes(Ao.WEBM_AS_IN_SPEC)?Ro.WEBM:Ro.MP4,g=Hi(l);try{for(g.s();!(p=g.n()).done;){var y,b,w,S=p.value,k=S.getAttribute("mimeType"),E=S.getAttribute("codecs"),x=null!==(y=S.getAttribute("contentType"))&&void 0!==y?y:null===k||void 0===k?void 0:k.split("/")[0],T=null!==(b=null===(w=S.getAttribute("profiles"))||void 0===w?void 0:w.split(","))&&void 0!==b?b:[],$=S.querySelectorAll("Representation");if("text"!==x){var P,A=Hi($);try{for(A.s();!(P=A.n()).done;){var C,_,R,L,N,M,I,D,O,B,V,z,U,F,q,H,j=P.value,W=null!==(C=j.getAttribute("mimeType"))&&void 0!==C?C:k,G=null!==(_=null!==(R=j.getAttribute("codecs"))&&void 0!==R?R:E)&&void 0!==_?_:"",Y=null!==(L=null!==(N=j.getAttribute("contentType"))&&void 0!==N?N:null===W||void 0===W?void 0:W.split("/")[0])&&void 0!==L?L:x,Q=null!==(M=null===(I=S.getAttribute("profiles"))||void 0===I?void 0:I.split(","))&&void 0!==M?M:[],K=parseInt(null!==(D=j.getAttribute("width"))&&void 0!==D?D:"",10),X=parseInt(null!==(O=j.getAttribute("height"))&&void 0!==O?O:"",10),J=parseInt(null!==(B=j.getAttribute("bandwidth"))&&void 0!==B?B:"",10)/1e3,Z=null!==(V=j.getAttribute("frameRate"))&&void 0!==V?V:"",ee=null!==(z=j.getAttribute("quality"))&&void 0!==z?z:void 0,te=Z?Ga(Z):void 0,ne="".concat(null!==(U=j.getAttribute("id"))&&void 0!==U?U:(h++).toString(10),"@").concat("video"===Y?"".concat(X,"p"):"audio"===Y?"".concat(J,"Kbps"):G),ie=null!==(F=null===(q=j.querySelector("BaseURL"))||void 0===q||null===(H=q.textContent)||void 0===H?void 0:H.trim())&&void 0!==F?F:"",ae=new URL(ie,t).toString(),oe=[].concat(Et(v),Et(T),Et(Q)),se=void 0,ue=j.querySelector("SegmentBase"),le=j.querySelector("SegmentTemplate");if(ue){var ce,de,fe,pe=(null!==(ce=null===(de=j.querySelector("SegmentBase Initialization"))||void 0===de?void 0:de.getAttribute("range"))&&void 0!==ce?ce:"").split("-").map((function(e){return parseInt(e,10)})),he=s(pe,2),ve={from:he[0],to:he[1]},me=null===(fe=j.querySelector("SegmentBase"))||void 0===fe?void 0:fe.getAttribute("indexRange"),ge=me?me.split("-").map((function(e){return parseInt(e,10)})):[],ye=s(ge,2),be=ye[0],we=ye[1],Se=me?{from:be,to:we}:void 0;se={type:Co.BYTE_RANGE,url:ae,initRange:ve,indexRange:Se}}else{if(!le)throw new ReferenceError("Unknown MPD segment referencing type");var ke,Ee,xe,Te,$e,Pe,Ae,Ce={representationId:null!==(ke=j.getAttribute("id"))&&void 0!==ke?ke:void 0,bandwidth:null!==(Ee=j.getAttribute("bandwidth"))&&void 0!==Ee?Ee:void 0},_e=parseInt(null!==(xe=le.getAttribute("timescale"))&&void 0!==xe?xe:"",10),Re=null!==(Te=le.getAttribute("initialization"))&&void 0!==Te?Te:"",Le=le.getAttribute("media"),Ne=null!==($e=parseInt(null!==(Pe=le.getAttribute("startNumber"))&&void 0!==Pe?Pe:"",10))&&void 0!==$e?$e:1,Me=ss(Re,Ce);if(!Le)throw new ReferenceError("No media attribute in SegmentTemplate");var Ie,De=null!==(Ae=le.querySelectorAll("SegmentTimeline S"))&&void 0!==Ae?Ae:[],Oe=[],Be=Ne,Ve=0,ze=Hi(De);try{for(ze.s();!(Ie=ze.n()).done;)for(var Ue,Fe,qe,He,je=Ie.value,We=1e3*parseInt(null!==(Ue=je.getAttribute("d"))&&void 0!==Ue?Ue:"",10),Ge=parseInt(null!==(Fe=je.getAttribute("r"))&&void 0!==Fe?Fe:"",10)||0,Ye=null!==(qe=parseInt(null!==(He=je.getAttribute("t"))&&void 0!==He?He:"",10))&&void 0!==qe?qe:void 0,Qe=0;Qe<Ge+1;Qe++){var Ke=ss(Le,re(re({},Ce),{},{segmentNumber:Be.toString(10),segmentTime:Ye.toString(10)})),Xe=Ye?Ye/_e:Ve,Je=Ve+=We/_e;Be++,Oe.push({time:{from:Xe,to:Je},url:Ke})}}catch(et){ze.e(et)}finally{ze.f()}se={type:Co.TEMPLATE,baseUrl:ae,initUrl:Me,segments:Oe}}if(Y&&W){var Ze={video:Po.VIDEO,audio:Po.AUDIO,text:Po.TEXT}[Y];Ze&&a[Ze].push({id:ne,kind:Ze,segmentReference:se,profiles:oe,duration:r,bitrate:J,mime:W,codecs:G,width:K,height:X,fps:te,quality:ee})}}}catch(et){A.e(et)}finally{A.f()}}}}catch(et){g.e(et)}finally{g.f()}return{duration:r,container:m,representations:a}}(null!==i&&void 0!==i?i:"",n)}catch(t){this.error$.next({id:"ManifestParsing",message:"Failed to parse MPD manifest",thrown:t})}if(r){e.next=9;break}return e.abrupt("return",null);case 9:return a=function(e){var n,i,r,a=e.mime,o=e.codecs;return Boolean((null===(n=t.canPlayType)||void 0===n?void 0:n.call(t,a))&&(null===(i=window.MediaSource)||void 0===i||null===(r=i.isTypeSupported)||void 0===r?void 0:r.call(i,"".concat(a,'; codecs="').concat(o,'"'))))},e.abrupt("return",(this.manifest=re(re({},r),{},{representations:Object.fromEntries(Object.entries(r.representations).map((function(e){var t=s(e,2);return[t[0],t[1].filter(a)]})))}),this.manifest.representations.video.length?this.state$.setState(Qo.MANIFEST_LOADED):this.error$.next({id:"NoRepresentations",message:"No playable video representations"}),this.manifest));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}().bind(this))),h(this,"initRepresentations",lr(this.destroyController.signal,function(){var e=Ji(ji().mark((function e(t,n){var i,r,a,o=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ar(this.manifest),ar(this.element),this.state$.startTransitionTo(Qo.REPRESENTATION_SELECTED),this.source=new MediaSource,this.element.src=URL.createObjectURL(this.source),i={fetcher:this.fetcher,tuning:this.tuning,getCurrentPosition:function(){return o.element?1e3*o.element.currentTime:void 0}},this.videoBufferManager=new as(Po.VIDEO,this.source,this.manifest.container,this.manifest.representations.video,i),this.bufferManagers=[this.videoBufferManager],or(n)&&(this.audioBufferManager=new as(Po.AUDIO,this.source,this.manifest.container,this.manifest.representations.audio,i),this.bufferManagers.push(this.audioBufferManager)),this.subscription.add(this.fetcher.lastConnectionType$.subscribe(this.lastConnectionType$)),this.subscription.add(this.fetcher.lastConnectionReused$.subscribe(this.lastConnectionReused$)),this.subscription.add(this.fetcher.lastRequestFirstBytes$.subscribe(this.lastRequestFirstBytes$)),r=pr.apply(void 0,Et(this.bufferManagers.map((function(e){return e.fullyBuffered$})))).pipe($r((function(){return o.bufferManagers.every((function(e){return e.fullyBuffered$.getValue()}))}))),a=pr.apply(void 0,Et(this.bufferManagers.map((function(e){return e.onLastSegment$})))).pipe($r((function(){return o.bufferManagers.some((function(e){return e.onLastSegment$.getValue()}))}))),this.subscription.add(pr(this.forceEnded$,fr({allBuffersFull:r,someBufferEnded:a}).pipe(Sr((function(e){var t=e.allBuffersFull,n=e.someBufferEnded;return t&&n})))).subscribe((function(){if(o.source&&"open"===o.source.readyState&&Array.from(o.source.sourceBuffers).every((function(e){return!e.updating})))try{var e;null===(e=o.source)||void 0===e||e.endOfStream()}catch(t){o.error$.next({id:"EndOfStream",message:"Failed to end MediaSource stream",thrown:t})}}))),this.subscription.add(pr.apply(void 0,Et(this.bufferManagers.map((function(e){return e.error$})))).subscribe(this.error$)),this.subscription.add(this.videoBufferManager.playingRepresentation$.subscribe(this.currentVideoRepresentation$)),e.t0="open"!==this.source.readyState,!e.t0){e.next=11;break}return e.next=11,new Promise((function(e){var t;return null===(t=o.source)||void 0===t?void 0:t.addEventListener("sourceopen",e)}));case 11:if(or(this.manifest.duration)&&(this.source.duration=this.manifest.duration/1e3),!this.audioBufferManager||!or(n)){e.next=17;break}return e.next=15,Promise.all([this.videoBufferManager.startWith(t),this.audioBufferManager.startWith(n)]);case 15:e.next=19;break;case 17:return e.next=19,this.videoBufferManager.startWith(t);case 19:this.state$.setState(Qo.REPRESENTATION_SELECTED),ar(this.element),this.subscription.add(pr.apply(void 0,Et(us.map((function(e){return vr(o.element,e)}))).concat([vr(window,"online")])).subscribe(this.tick,(function(e){o.error$.next({id:"DashVKPlayer",message:"Internal logic error",thrown:e})}))),this.subscription.add(vr(this.element,"progress").subscribe((function(){o.element&&2===o.element.readyState&&!o.element.seeking&&(o.element.currentTime=o.element.currentTime)}))),this.subscription.add(vr(this.element,"waiting").subscribe((function(){o.element&&2===o.element.readyState&&!o.element.seeking&&Mo(o.element.buffered,1e3*o.element.currentTime)&&(o.element.currentTime=o.element.currentTime)}))),this.tick();case 25:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}().bind(this))),h(this,"tick",(function(){var e,t;if(n.element&&n.videoBufferManager){var i=1e3*n.element.currentTime;n.videoBufferManager.maintain(i),null!==(e=n.audioBufferManager)&&void 0!==e&&e.maintain(i),!n.videoBufferManager.gaps.length&&(null===(t=n.audioBufferManager)||void 0===t||!t.gaps.length)||n.gapWatchdogStarted||(n.gapWatchdogStarted=!0,n.gapWatchdogSubscription=function(e){return new nr((function(t){var n=window.setInterval((function(){return t.next()}),e);return function(){return window.clearInterval(n)}}))}(n.tuning.gapWatchdogInterval).subscribe((function(){return n.jumGap()}),(function(e){n.error$.next({id:"GapWatchdog",message:"Error handling gaps",thrown:e})})),n.subscription.add(n.gapWatchdogSubscription))}})),this.throughputEstimator=t.throughputEstimator,this.tuning=t.tuning,this.fetcher=new Ho({throughputEstimator:this.throughputEstimator,requestQuic:this.tuning.requestQuick})}return y(e,[{key:"switchRepresentation",value:function(){var e=Gi(ji().mark((function e(t,n){var i,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(i=(r={},h(r,Po.VIDEO,this.videoBufferManager),h(r,Po.AUDIO,this.audioBufferManager),h(r,Po.TEXT,null),r)[t])||void 0===i?void 0:i.switchTo(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"seek",value:function(e,t){var n,i,r,a,o,s;ar(this.element),ar(this.videoBufferManager),s=t||1e3*this.element.duration<=this.tuning.dashSeekInSegmentDurationThreshold||Math.abs(1e3*this.element.currentTime-e)<=this.tuning.dashSeekInSegmentAlwaysSeekDelta?e:Math.max(null!==(n=this.videoBufferManager.findSegmentStartTime(e))&&void 0!==n?n:e,null!==(i=null===(r=this.audioBufferManager)||void 0===r?void 0:r.findSegmentStartTime(e))&&void 0!==i?i:e),Mo(this.element.buffered,s)||(this.videoBufferManager.abort(),null!==(a=this.audioBufferManager)&&void 0!==a&&a.abort()),this.videoBufferManager.maintain(s),null!==(o=this.audioBufferManager)&&void 0!==o&&o.maintain(s),this.element.currentTime=s/1e3}},{key:"stop",value:function(){var e,t;this.element=null,this.source=null,this.manifest=null,this.currentVideoRepresentation$.next(void 0),null!==(e=this.videoBufferManager)&&void 0!==e&&e.destroy(),this.videoBufferManager=null,null!==(t=this.audioBufferManager)&&void 0!==t&&t.destroy(),this.audioBufferManager=null,this.bufferManagers=[],this.state$.setState(Qo.NONE)}},{key:"setBufferTarget",value:function(e){var t,n=Hi(this.bufferManagers);try{for(n.s();!(t=n.n()).done;){t.value.setTarget(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"destroy",value:function(){this.subscription.unsubscribe(),this.destroyController.abort(),this.fetcher.destroy(),this.stop(),this.source=null}},{key:"jumGap",value:function(){if(this.element&&this.videoBufferManager){var e,t=1e3*this.element.currentTime,n=1===this.element.readyState?this.tuning.endGapTolerance:0,i=Hi(this.bufferManagers);try{for(i.s();!(e=i.n()).done;){var r,a=e.value,o=Hi(a.gaps);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(a.playingRepresentation$.getValue()===s.representation&&s.from-n<=t&&s.to+n>t){if(1e3*this.element.duration-s.to<this.tuning.endGapTolerance)return this.forceEnded$.next(),this.gapWatchdogSubscription.unsubscribe(),void(this.gapWatchdogStarted=!1);this.element.currentTime=s.to/1e3;break}}}catch(u){o.e(u)}finally{o.f()}}}catch(u){i.e(u)}finally{i.f()}}}}]),e}();!function(e){e.STOPPED="stopped",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(Ko||(Ko={}));var cs,ds=function(e){var t,n=e.id,i=e.width,r=e.height,a=e.bitrate,o=e.fps,s=e.quality,u=null!==(t=s?so(s):void 0)&&void 0!==t?t:ba({width:i,height:r});return u&&{id:n,quality:u,bitrate:a,size:{width:i,height:r},fps:o}},fs=function(e,t,n){var i,r=t.indexOf(n);return null!==(i=e.at(Math.round(e.length*r/t.length)))&&void 0!==i?i:e.at(-1)},ps=function(){function e(t){var n=this;m(this,e),h(this,"subscription",new Zi),h(this,"videoState",new Sa(Ko.STOPPED)),h(this,"video",void 0),h(this,"player",void 0),h(this,"params",void 0),h(this,"elementSize$",new dr(void 0)),h(this,"textTracksManager",new Ua),h(this,"videoTracks",[]),h(this,"audioRepresentations",new Map),h(this,"videoTrackSwitchHistory",new eo),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.params.desiredState.playbackState.getState(),i=n.params.desiredState.playbackState.getTransition(),r=n.params.desiredState.seekState.getState();if(!n.videoState.getTransition())if(r.state===ra.Requested&&(null===i||void 0===i?void 0:i.to)!==Jr.PAUSED&&e!==Ko.STOPPED&&t!==Jr.STOPPED&&n.seek(r.position,r.forcePrecise),t!==Jr.STOPPED){if(e===Ko.STOPPED)return n.videoState.startTransitionTo(Ko.READY),void n.prepare();switch(e){case Ko.READY:return void(t===Jr.PAUSED?(n.videoState.setState(Ko.PAUSED),pa(n.params.desiredState.playbackState,Jr.PAUSED)):t===Jr.PLAYING&&(n.videoState.startTransitionTo(Ko.PLAYING),n.playIfAllowed()));case Ko.PLAYING:return void(t===Jr.PAUSED?(n.videoState.startTransitionTo(Ko.PAUSED),n.video.pause()):(null===i||void 0===i?void 0:i.to)===Jr.PLAYING&&pa(n.params.desiredState.playbackState,Jr.PLAYING));case Ko.PAUSED:return void(t===Jr.PLAYING?(n.videoState.startTransitionTo(Ko.PLAYING),n.playIfAllowed()):(null===i||void 0===i?void 0:i.to)===Jr.PAUSED&&pa(n.params.desiredState.playbackState,Jr.PAUSED));default:return er(e)}}else e!==Ko.STOPPED&&(n.videoState.startTransitionTo(Ko.STOPPED),n.player.stop(),n.video.setAttribute("src",""),n.video.load(),n.params.output.position$.next(0),n.params.output.duration$.next(1/0),n.params.output.currentBuffer$.next(void 0),n.params.output.hostname$.next(void 0),n.videoState.setState(Ko.STOPPED),pa(n.params.desiredState.playbackState,Jr.STOPPED,!0))})),this.params=t,this.video=Fa(this.params.container),this.params.output.element$.next(this.video),this.params.output.availableVideoTracks$.next([]),this.params.output.hostname$.next(no(this.params.source.url)),this.params.output.isLive$.next(!1),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.player=new ls({throughputEstimator:this.params.dependencies.throughputEstimator,tuning:this.params.tuning}),this.subscribe()}return y(e,[{key:"subscribe",value:function(){var e=this,t=this.params,n=t.output,i=t.desiredState,r=Wa(this.video),a=function(e){n.error$.next({id:"DashVKProvider",message:"DashVKProvider internal logic error",thrown:e})},o=function(t,n){return e.subscription.add(t.subscribe(n,a))};o(r.timeUpdate$,n.position$),o(r.durationChange$,n.duration$),o(r.ended$,n.endedEvent$),o(r.looped$,n.loopedEvent$),o(r.error$,n.error$),o(r.isBuffering$,n.isBuffering$),o(r.currentBuffer$,n.currentBuffer$),o(r.playing$,n.firstFrameEvent$),o(r.canplay$,n.canplay$),o(this.player.error$,n.error$),o(this.player.lastConnectionType$,n.httpConnectionType$),o(this.player.lastConnectionReused$,n.httpConnectionReused$),o(this.player.lastRequestFirstBytes$.pipe(Sr(or),Cr(),Ar(void 0)),n.firstBytesEvent$),this.subscription.add(r.seeked$.subscribe(n.seekedEvent$,a)),this.subscription.add(Oa(this.video,i.isLooped,a)),this.subscription.add(Ba(this.video,i.volume,r.volumeState$,a)),this.subscription.add(r.volumeState$.subscribe(this.params.output.volume$,a)),this.subscription.add(Va(this.video,i.playbackRate,r.playbackRateState$,a)),o(io(this.video),this.elementSize$),this.subscription.add(r.playing$.subscribe((function(){e.videoState.setState(Ko.PLAYING),pa(i.playbackState,Jr.PLAYING)}),a)).add(r.pause$.subscribe((function(){e.videoState.setState(Ko.PAUSED),pa(i.playbackState,Jr.PAUSED)}),a)).add(r.canplay$.subscribe((function(){e.videoState.getState()===Ko.PLAYING&&e.playIfAllowed()}),a)),this.subscription.add(this.player.state$.stateChangeEnded$.pipe(Sr((function(e){return e.to===Qo.REPRESENTATION_SELECTED}))).subscribe((function(){e.videoState.setState(Ko.READY)})));var s=function(e){return n.error$.next({id:"RepresentationSwitch",message:"Switching representations threw",thrown:e})};this.subscription.add(pr(this.player.state$.stateChangeEnded$,i.videoTrack.stateChangeStarted$,i.autoVideoTrackSwitching.transitionStarted$,this.params.dependencies.throughputEstimator.rttAdjustedThroughput$,i.autoVideoTrackLimits.stateChangeEnded$,this.elementSize$,vr(this.video,"progress")).subscribe((function(){var t,r,a,o,u,l=e.player.state$.getState(),c=e.player.state$.getTransition();if(l!==Qo.NONE&&e.videoTracks.length){var d=l===Qo.MANIFEST_LOADED&&!c,f=l===Qo.REPRESENTATION_SELECTED&&!c,p=i.autoVideoTrackSwitching.getState(),h=i.videoTrack.getState(),v=null===(t=e.videoTracks.find((function(e){return e.track.id===h})))||void 0===t?void 0:t.track,m=n.currentVideoTrack$.getValue(),g=Eo(e.video.buffered,1e3*e.video.currentTime),y=p?e.params.tuning.dash.forwardBufferTargetAuto:e.params.tuning.dash.forwardBufferTargetManual,b=Math.min(g/Math.min(y,(1e3*e.video.duration||1/0)-1e3*e.video.currentTime),1),w=Math.max(v&&!p&&null!==(r=null===(a=e.audioRepresentations.get(v.id))||void 0===a?void 0:a.bitrate)&&void 0!==r?r:0,m&&null!==(o=null===(u=e.audioRepresentations.get(m.id))||void 0===u?void 0:u.bitrate)&&void 0!==o?o:0),S=to(e.videoTracks.map((function(e){return e.track})),{container:e.elementSize$.getValue(),throughput:e.params.dependencies.throughputEstimator.rttAdjustedThroughput$.getValue(),tuning:e.params.tuning.autoTrackSelection,limits:i.autoVideoTrackLimits.getState(),reserve:w,forwardBufferHealth:b,current:m,history:e.videoTrackSwitchHistory,playbackRate:e.video.playbackRate}),k=p?null!==S&&void 0!==S?S:v:null!==v&&void 0!==v?v:S;if(i.autoVideoTrackSwitching.getTransition()&&(i.autoVideoTrackSwitching.setState(p),e.player.setBufferTarget(y)),d){var E,x,T=k&&(null===(E=e.videoTracks.find((function(e){return e.track===k})))||void 0===E?void 0:E.representation);ar(T),e.player.initRepresentations(T.id,null===(x=e.audioRepresentations.get(T.id))||void 0===x?void 0:x.id)}else if(f){var $,P=k&&(null===($=e.videoTracks.find((function(e){return e.track===k})))||void 0===$?void 0:$.representation);if(P){var A=e.audioRepresentations.get(P.id);e.player.switchRepresentation(Po.VIDEO,P.id).catch(s),A&&e.player.switchRepresentation(Po.AUDIO,A.id).catch(s)}}}}),a)),this.subscription.add(this.player.currentVideoRepresentation$.pipe(Er(),$r((function(t){var n;return t&&(null===(n=e.videoTracks.find((function(e){return e.representation.id===t})))||void 0===n?void 0:n.track)}))).subscribe(n.currentVideoTrack$,a)),this.textTracksManager.connect(this.video,i,n);var u=pr(i.playbackState.stateChangeStarted$,i.videoTrack.stateChangeStarted$,i.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0));this.subscription.add(u.subscribe(this.syncPlayback,a))}},{key:"prepare",value:function(){var e=Gi(ji().mark((function e(){var t,n,i,r,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.initManifest(this.video,this.params.source.url);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:this.videoTracks=[],n=Array.from(t.representations.audio).sort((function(e,t){return t.bitrate-e.bitrate})),i=Array.from(t.representations.video).sort((function(e,t){return t.bitrate-e.bitrate})),r=Hi(i);try{for(r.s();!(a=r.n()).done;)o=a.value,(s=ds(o))&&(this.videoTracks.push({track:s,representation:o}),(u=fs(n,i,o))&&this.audioRepresentations.set(o.id,u))}catch(l){r.e(l)}finally{r.f()}this.params.output.availableVideoTracks$.next(this.videoTracks.map((function(e){return e.track})));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"seek",value:function(e,t){this.params.output.willSeekEvent$.next(),this.player.seek(e,t)}},{key:"destroy",value:function(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0),this.player.destroy()}},{key:"playIfAllowed",value:function(){var e=this;uo(this.video).then((function(t){t||(e.videoState.setState(Ko.PAUSED),pa(e.params.desiredState.playbackState,Jr.PAUSED,!0))}))}}]),e}(),hs={};!function(e){e.INITIALIZING="initializing",e.STOPPED="stopped",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(cs||(cs={}));var vs,ms,gs,ys=function(e,t){return new nr((function(n){var i=function(e,t){return n.next(t)};return e.on(t,i),function(){return e.off(t,i)}}))},bs=function(){function e(t){var n=this;m(this,e),h(this,"subscription",new Zi),h(this,"videoState",new Sa(cs.INITIALIZING)),h(this,"video",void 0),h(this,"params",void 0),h(this,"hls",void 0),h(this,"textTracksManager",new Ua),h(this,"trackLevels",new Map),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.params.desiredState.playbackState.getState(),i=n.params.desiredState.playbackState.getTransition(),r=n.params.desiredState.seekState.getState();if(e!==cs.INITIALIZING)switch((null===i||void 0===i?void 0:i.to)!==Jr.PAUSED&&r.state===ra.Requested&&n.seek(r.position),t){case Jr.STOPPED:switch(e){case cs.STOPPED:break;case cs.READY:case cs.PLAYING:case cs.PAUSED:n.stop();break;default:er(e)}break;case Jr.PLAYING:switch(e){case cs.PLAYING:break;case cs.STOPPED:n.prepare();break;case cs.READY:case cs.PAUSED:n.playIfAllowed();break;default:er(e)}break;case Jr.PAUSED:switch(e){case cs.PAUSED:break;case cs.STOPPED:n.prepare();break;case cs.READY:n.videoState.setState(cs.PAUSED),pa(n.params.desiredState.playbackState,Jr.PAUSED);break;case cs.PLAYING:n.pause();break;default:er(e)}break;default:er(t)}})),this.video=Fa(t.container),this.params=t,this.params.output.element$.next(this.video),this.params.output.isLive$.next(!1),this.params.output.hostname$.next(no(this.params.source.url)),this.loadHlsJs()}return y(e,[{key:"destroy",value:function(){var e,t;this.subscription.unsubscribe(),this.trackLevels.clear(),this.textTracksManager.destroy(),null!==(e=this.hls)&&void 0!==e&&e.detachMedia(),null!==(t=this.hls)&&void 0!==t&&t.destroy(),this.video.remove(),this.params.output.element$.next(void 0)}},{key:"loadHlsJs",value:function(){var e=this,t=!1,i=function(n){t||e.params.output.error$.next({id:"timeout"===n?"HlsJsTimeout":"HlsJsLoadError",message:"Failed to load Hls.js",thrown:n}),t=!0},r=window.setTimeout((function(){return i("timeout")}),5e3);n.e(843).then(n.t.bind(n,843,19)).then((function(n){t||(hs.Hls=n.default,hs.Events=n.default.Events,e.init())}),i).finally((function(){window.clearTimeout(r),t=!0}))}},{key:"init",value:function(){ar(hs.Hls,"hls.js not loaded"),this.hls=new hs.Hls({fragLoadingMaxRetry:5,levelLoadingMaxRetry:2,manifestLoadingMaxRetry:2,fragLoadingMaxRetryTimeout:16e3,manifestLoadingMaxRetryTimeout:2e3,levelLoadingMaxRetryTimeout:2e3}),this.subscribe(),this.videoState.setState(cs.STOPPED)}},{key:"subscribe",value:function(){var e=this;ar(hs.Events,"hls.js not loaded");var t=this.params,n=t.desiredState,i=t.output,r=function(e){i.error$.next({id:"HlsJsProvider",message:"HlsJsProvider internal logic error",thrown:e})},a=Wa(this.video),o=function(t,n){return e.subscription.add(t.subscribe(n,r))};o(a.timeUpdate$,i.position$),o(a.durationChange$,i.duration$),o(a.ended$,i.endedEvent$),o(a.looped$,i.loopedEvent$),o(a.error$,i.error$),o(a.isBuffering$,i.isBuffering$),o(a.currentBuffer$,i.currentBuffer$),o(a.loadStart$,i.firstBytesEvent$),o(a.playing$,i.firstFrameEvent$),o(a.canplay$,i.canplay$),o(a.seeked$,i.seekedEvent$),this.subscription.add(Oa(this.video,n.isLooped,r)),this.subscription.add(Ba(this.video,n.volume,a.volumeState$,r)),this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$)),this.subscription.add(Va(this.video,n.playbackRate,a.playbackRateState$,r)),this.subscription.add(ys(this.hls,hs.Events.ERROR).subscribe((function(e){var t;e.fatal&&i.error$.next({id:["HlsJsFatal",e.type,e.details].join("_"),message:"HlsJs fatal ".concat(e.type," ").concat(e.details,", ").concat(null===(t=e.err)||void 0===t?void 0:t.message," ").concat(e.reason),thrown:e.error})}))),this.subscription.add(a.playing$.subscribe((function(){e.videoState.setState(cs.PLAYING),pa(n.playbackState,Jr.PLAYING)}),r)).add(a.pause$.subscribe((function(){e.videoState.setState(cs.PAUSED),pa(n.playbackState,Jr.PAUSED)}),r)).add(a.canplay$.subscribe((function(){var t;(null===(t=e.videoState.getTransition())||void 0===t?void 0:t.to)===cs.READY&&e.videoState.setState(cs.READY),e.videoState.getState()===cs.PLAYING&&e.playIfAllowed()}),r)),o(ys(this.hls,hs.Events.MANIFEST_PARSED).pipe($r((function(t){return t.levels.reduce((function(t,n){var i,r,a=n.name||n.height.toString(10),o=n.width,s=n.height,u=null!==(i=so(null!==(r=n.attrs.QUALITY)&&void 0!==r?r:""))&&void 0!==i?i:ba({width:o,height:s});if(!u)return t;var l=n.attrs["FRAME-RATE"]?parseFloat(n.attrs["FRAME-RATE"]):void 0,c={id:a.toString(),quality:u,bitrate:n.bitrate/1e3,size:{width:o,height:s},fps:l};return e.trackLevels.set(a,{track:c,level:n}),t.push(c),t}),[])}))),i.availableVideoTracks$),o(ys(this.hls,hs.Events.LEVEL_LOADING).pipe($r((function(e){var t=e.url;return no(t)}))),i.hostname$),this.subscription.add(Da(n.autoVideoTrackSwitching,(function(){return e.hls.autoLevelEnabled}),(function(t){e.hls.nextLevel=t?-1:e.hls.currentLevel,e.hls.loadLevel=t?-1:e.hls.loadLevel}),{onError:r}));var s=function(t){var n;return null===(n=Array.from(e.trackLevels.values()).find((function(e){return e.level===t})))||void 0===n?void 0:n.track},u=ys(this.hls,hs.Events.LEVEL_SWITCHED).pipe($r((function(t){var n=t.level;return s(e.hls.levels[n])})));u.pipe(Sr(or)).subscribe(i.currentVideoTrack$,r),this.subscription.add(Da(n.videoTrack,(function(){var t;return null===(t=s(e.hls.levels[e.hls.currentLevel]))||void 0===t?void 0:t.id}),(function(t){var n;if(!sr(t)){var i=null===(n=e.trackLevels.get(t))||void 0===n?void 0:n.level;if(i){var r=e.hls.levels.indexOf(i),a=e.hls.currentLevel,o=e.hls.levels[a];!o||i.bitrate>o.bitrate?e.hls.nextLevel=r:(e.hls.loadLevel=r,e.hls.loadLevel=r)}}}),{changed$:u.pipe($r((function(e){return null===e||void 0===e?void 0:e.id}))),onError:r})),o(a.progress$,(function(){e.params.dependencies.throughputEstimator.addRawThroughput(e.hls.bandwidthEstimate/1e3)})),this.textTracksManager.connect(this.video,n,i);var l=pr(n.playbackState.stateChangeStarted$,n.videoTrack.stateChangeStarted$,n.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0));this.subscription.add(l.subscribe(this.syncPlayback,r))}},{key:"prepare",value:function(){this.videoState.startTransitionTo(cs.READY),this.hls.attachMedia(this.video),this.hls.loadSource(this.params.source.url)}},{key:"playIfAllowed",value:function(){var e=Gi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.videoState.startTransitionTo(cs.PLAYING),e.next=3,uo(this.video);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}this.videoState.setState(cs.PAUSED),pa(this.params.desiredState.playbackState,Jr.PAUSED,!0);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){this.videoState.startTransitionTo(cs.PAUSED),this.video.pause()}},{key:"seek",value:function(e){this.params.output.willSeekEvent$.next(),this.video.currentTime=e/1e3}},{key:"stop",value:function(){this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.hls.stopLoad(),this.hls.detachMedia(),this.video.setAttribute("src",""),this.video.load(),this.videoState.setState(cs.STOPPED),pa(this.params.desiredState.playbackState,Jr.STOPPED,!0)}}]),e}(),ws=function(e){var t,n=null;if(e.QUALITY&&(n=so(e.QUALITY)),!n&&e.RESOLUTION){var i=s(e.RESOLUTION.split("x").map((function(e){return parseInt(e,10)})),2),r=i[0],a=i[1];n=ba({width:r,height:a})}return null!==(t=n)&&void 0!==t?t:null},Ss=function(){var e=Gi(ji().mark((function e(t){var n,i,r,a,o,u,l,c,d,f,p,h,v,m,g,y,b,w,S=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.length>1&&void 0!==S[1]?S[1]:t,e.next=3,Ca(t);case 3:return i=e.sent,e.next=6,i.text();case 6:r=e.sent.split("\n"),a=[],o=0;case 9:if(!(o<r.length)){e.next=24;break}if(l=r[o].match(/^#EXT-X-STREAM-INF:(.+)/)){e.next=13;break}return e.abrupt("continue",21);case 13:c=Object.fromEntries(l[1].split(",").map((function(e){return e.split("=")}))),d=null!==(u=c.QUALITY)&&void 0!==u?u:"stream-".concat(c.BANDWIDTH),f=ws(c),p=void 0,c.BANDWIDTH&&(p=parseInt(c.BANDWIDTH,10)/1e3||void 0),!p&&c["AVERAGE-BANDWIDTH"]&&(p=parseInt(c["AVERAGE-BANDWIDTH"],10)/1e3||void 0),h=c["FRAME-RATE"]?parseFloat(c["FRAME-RATE"]):void 0,v=void 0,c.RESOLUTION&&(m=c.RESOLUTION.split("x").map((function(e){return parseInt(e,10)})),g=s(m,2),y=g[0],b=g[1],y&&b&&(v={width:y,height:b})),w=new URL(r[++o],n).toString(),f&&a.push({id:d,quality:f,url:w,bandwidth:p,size:v,fps:h});case 21:o++,e.next=9;break;case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.STOPPED="stopped",e.READY="ready",e.PLAYING="playing",e.CHANGING_MANIFEST="changing_manifest",e.PAUSED="paused"}(vs||(vs={}));var ks=function(){function e(t){var n,i=this;m(this,e),h(this,"subscription",new Zi),h(this,"videoState",new Sa(vs.STOPPED)),h(this,"video",void 0),h(this,"params",void 0),h(this,"textTracksManager",new Ua),h(this,"manifests$",new dr([])),h(this,"maxSeekBackTime$",void 0),h(this,"liveOffset",new qa),h(this,"manifestStartTime$",new dr(void 0)),h(this,"syncPlayback",(function(){var e=i.videoState.getState(),t=i.params.desiredState.playbackState.getState(),n=i.params.desiredState.playbackState.getTransition(),r=i.params.desiredState.videoTrack.getTransition(),a=i.params.desiredState.autoVideoTrackSwitching.getTransition();if(t!==Jr.STOPPED){if(!i.videoState.getTransition()){var o=i.params.desiredState.seekState.getState();if(e===vs.STOPPED)return i.videoState.startTransitionTo(vs.READY),void i.prepare();if(r||a){var s=i.videoState.getState();return i.videoState.setState(vs.CHANGING_MANIFEST),i.videoState.startTransitionTo(s),i.prepare(),void(o.state===ra.None&&i.params.desiredState.seekState.setState({state:ra.Requested,position:-i.liveOffset.getTotalOffset(),forcePrecise:!0}))}if((null===n||void 0===n?void 0:n.to)!==Jr.PAUSED&&o.state===ra.Requested)return i.videoState.startTransitionTo(vs.READY),i.seek(o.position-i.liveOffset.getTotalPausedTime()),void i.prepare();switch(e){case vs.READY:return void(t===Jr.PAUSED?(i.videoState.setState(vs.PAUSED),i.liveOffset.pause(),pa(i.params.desiredState.playbackState,Jr.PAUSED)):t===Jr.PLAYING&&(i.videoState.startTransitionTo(vs.PLAYING),i.playIfAllowed()));case vs.PLAYING:return void(t===Jr.PAUSED?(i.videoState.startTransitionTo(vs.PAUSED),i.liveOffset.pause(),i.video.pause()):(null===n||void 0===n?void 0:n.to)===Jr.PLAYING&&pa(i.params.desiredState.playbackState,Jr.PLAYING));case vs.PAUSED:return void(t===Jr.PLAYING?(i.videoState.startTransitionTo(vs.PLAYING),i.liveOffset.getTotalPausedTime()<i.params.config.maxPausedTime&&i.liveOffset.getTotalOffset()<i.maxSeekBackTime$.getValue()?(i.liveOffset.resume(),i.playIfAllowed(),i.params.output.position$.next(-i.liveOffset.getTotalOffset()/1e3)):i.seek(-i.liveOffset.getTotalOffset())):(null===n||void 0===n?void 0:n.to)===Jr.PAUSED&&(pa(i.params.desiredState.playbackState,Jr.PAUSED),i.liveOffset.pause()));case vs.CHANGING_MANIFEST:break;default:return er(e)}}}else e!==vs.STOPPED&&(i.videoState.startTransitionTo(vs.STOPPED),i.video.setAttribute("src",""),i.video.load(),i.params.output.position$.next(0),i.params.output.duration$.next(1/0),i.params.output.currentBuffer$.next(void 0),i.params.output.hostname$.next(void 0),i.videoState.setState(vs.STOPPED),pa(i.params.desiredState.playbackState,Jr.STOPPED,!0))})),this.params=t,this.video=Fa(t.container),this.params.output.element$.next(this.video);var r={id:"master",quality:da.INVARIANT,url:this.params.source.url};this.manifests$.next([r]),Ss(fa(this.params.source.url),this.params.source.url).then((function(e){i.manifests$.next([r].concat(Et(e)))}),(function(e){return i.params.output.error$.next({id:"ExtractHlsQualities",message:"Error fetching manifest and extracting qualities",thrown:e})})),this.params.output.isLive$.next(!0),this.params.output.hostname$.next(no(this.params.source.url)),this.maxSeekBackTime$=new dr(null!==(n=t.source.maxSeekBackTime)&&void 0!==n?n:1/0),this.subscribe()}return y(e,[{key:"selectManifest",value:function(){var e,t,n=this.params.desiredState,i=n.autoVideoTrackSwitching,r=n.videoTrack,a=i.getState(),o=r.getTransition(),s=null!==(e=null!==(t=null===o||void 0===o?void 0:o.to)&&void 0!==t?t:r.getState())&&void 0!==e?e:"master",u=this.manifests$.getValue();if(u){var l=a?"master":s;return a&&!o&&r.startTransitionTo("master"),u.find((function(e){return e.id===l}))}}},{key:"subscribe",value:function(){var e=this,t=this.params,n=t.output,i=t.desiredState,r=function(e){n.error$.next({id:"HlsLiveProvider",message:"HlsLiveProvider internal logic error",thrown:e})},a=Wa(this.video),o=function(t,n){return e.subscription.add(t.subscribe(n,r))};o(a.ended$,n.endedEvent$),o(a.error$,n.error$),o(a.isBuffering$,n.isBuffering$),o(a.currentBuffer$,n.currentBuffer$),o(a.loadedMetadata$,n.firstBytesEvent$),o(a.playing$,n.firstFrameEvent$),o(a.canplay$,n.canplay$),this.subscription.add(i.isLooped.stateChangeStarted$.subscribe((function(){return i.isLooped.setState(!1)}),r)),this.subscription.add(Ba(this.video,i.volume,a.volumeState$,r)),this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$,r)),this.subscription.add(Va(this.video,i.playbackRate,a.playbackRateState$,r)),this.textTracksManager.connect(this.video,i,n),this.subscription.add(a.playing$.subscribe((function(){e.videoState.setState(vs.PLAYING),pa(i.playbackState,Jr.PLAYING)}),r)).add(a.pause$.subscribe((function(){e.videoState.setState(vs.PAUSED),pa(i.playbackState,Jr.PAUSED)}),r)).add(a.canplay$.subscribe((function(){var t;(null===(t=e.videoState.getTransition())||void 0===t?void 0:t.to)===vs.READY&&e.videoState.setState(vs.READY),e.videoState.getState()===vs.PLAYING&&e.playIfAllowed()}),r)),this.subscription.add(this.maxSeekBackTime$.pipe(Er(),$r((function(e){return-e/1e3}))).subscribe(this.params.output.duration$,r)),this.subscription.add(a.loadedMetadata$.subscribe((function(){var t=e.params.desiredState.seekState.getState(),n=e.videoState.getTransition(),i=e.params.desiredState.videoTrack.getTransition(),r=e.params.desiredState.autoVideoTrackSwitching.getTransition();if(i&&or(i.to)){var a=i.to;e.params.desiredState.videoTrack.setState(a);var o=e.manifests$.getValue().find((function(e){return e.id===a}));o&&(e.params.output.currentVideoTrack$.next(o),e.params.output.hostname$.next(no(o.url)))}r&&e.params.desiredState.autoVideoTrackSwitching.setState(r.to),n&&n.from===vs.CHANGING_MANIFEST&&e.videoState.setState(n.to),t&&t.state===ra.Requested&&e.seek(t.position)}),r)),this.subscription.add(a.loadedData$.subscribe((function(){var t,n,i=null===(t=e.video)||void 0===t||null===(n=t.getStartDate())||void 0===n?void 0:n.getTime();e.manifestStartTime$.next(i||void 0)}),r)),this.subscription.add(fr({startTime:this.manifestStartTime$.pipe(Sr(or)),currentTime:a.timeUpdate$}).subscribe((function(t){var n=t.startTime,i=t.currentTime;return e.params.output.liveTime$.next(n+1e3*i)}),r)),this.subscription.add(this.manifests$.pipe($r((function(e){return e.map((function(e){var t=e.id,n=e.quality,i=e.size,r=e.bandwidth;return{id:t,quality:n,size:i,fps:e.fps,bitrate:r}}))}))).subscribe(this.params.output.availableVideoTracks$,r));var s=pr(i.playbackState.stateChangeStarted$,i.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,i.videoTrack.stateChangeStarted$,i.autoVideoTrackSwitching.stateChangeStarted$,hr(["init"])).pipe(gr(0));this.subscription.add(s.subscribe(this.syncPlayback,r))}},{key:"destroy",value:function(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0)}},{key:"prepare",value:function(){var e=this,t=this.selectManifest();if(!sr(t)){var n=fa(t.url,this.liveOffset.getTotalOffset());this.video.setAttribute("src",n),this.video.load(),function(){var e=Gi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(t,{method:"HEAD"});case 2:return n=e.sent,e.abrupt("return",n.headers.has("X-Playback-Duration")?parseInt(n.headers.get("X-Playback-Duration"),10):void 0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n).then((function(t){sr(t)||e.maxSeekBackTime$.next(t)}))}}},{key:"playIfAllowed",value:function(){var e=this;uo(this.video).then((function(t){t||(e.videoState.setState(vs.PAUSED),e.liveOffset.pause(),pa(e.params.desiredState.playbackState,Jr.PAUSED,!0))}))}},{key:"seek",value:function(e){this.params.output.willSeekEvent$.next();var t=-e,n=t<this.maxSeekBackTime$.getValue()?t:0;this.liveOffset.resetTo(n),this.params.output.position$.next(-n/1e3),this.params.output.seekedEvent$.next()}}]),e}();!function(e){e.STOPPED="stopped",e.READY="ready",e.PLAYING="playing",e.CHANGING_MANIFEST="changing_manifest",e.PAUSED="paused"}(ms||(ms={}));var Es=function(){function e(t){var n=this;m(this,e),h(this,"subscription",new Zi),h(this,"videoState",new Sa(ms.STOPPED)),h(this,"video",void 0),h(this,"params",void 0),h(this,"textTracksManager",new Ua),h(this,"manifests$",new dr([])),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.params.desiredState.playbackState.getState(),i=n.params.desiredState.playbackState.getTransition(),r=n.params.desiredState.videoTrack.getTransition(),a=n.params.desiredState.autoVideoTrackSwitching.getTransition();if(t!==Jr.STOPPED){if(!n.videoState.getTransition()){var o=n.params.desiredState.seekState.getState();if(e===ms.STOPPED)return n.videoState.startTransitionTo(ms.READY),void n.prepare();if(r||a){var s=n.videoState.getState();n.videoState.setState(ms.CHANGING_MANIFEST),n.videoState.startTransitionTo(s);var u=n.video.currentTime;return n.prepare(),void(o.state===ra.None&&n.params.desiredState.seekState.setState({state:ra.Requested,position:1e3*u,forcePrecise:!0}))}switch((null===i||void 0===i?void 0:i.to)!==Jr.PAUSED&&o.state===ra.Requested&&n.seek(o.position),e){case ms.READY:return void(t===Jr.PAUSED?(n.videoState.setState(ms.PAUSED),pa(n.params.desiredState.playbackState,Jr.PAUSED)):t===Jr.PLAYING&&(n.videoState.startTransitionTo(ms.PLAYING),n.playIfAllowed()));case ms.PLAYING:return void(t===Jr.PAUSED?(n.videoState.startTransitionTo(ms.PAUSED),n.video.pause()):(null===i||void 0===i?void 0:i.to)===Jr.PLAYING&&pa(n.params.desiredState.playbackState,Jr.PLAYING));case ms.PAUSED:return void(t===Jr.PLAYING?(n.videoState.startTransitionTo(ms.PLAYING),n.playIfAllowed()):(null===i||void 0===i?void 0:i.to)===Jr.PAUSED&&pa(n.params.desiredState.playbackState,Jr.PAUSED));case ms.CHANGING_MANIFEST:break;default:return er(e)}}}else e!==ms.STOPPED&&(n.videoState.startTransitionTo(ms.STOPPED),n.video.setAttribute("src",""),n.video.load(),n.params.output.position$.next(0),n.params.output.duration$.next(1/0),n.params.output.currentBuffer$.next(void 0),n.params.output.hostname$.next(void 0),n.videoState.setState(ms.STOPPED),pa(n.params.desiredState.playbackState,Jr.STOPPED,!0))})),this.params=t,this.video=Fa(t.container),this.params.output.element$.next(this.video);var i={id:"master",quality:da.INVARIANT,url:this.params.source.url};this.manifests$.next([i]),this.params.output.isLive$.next(!1),this.params.output.hostname$.next(no(this.params.source.url)),Ss(this.params.source.url).then((function(e){n.manifests$.next([i].concat(Et(e)))}),(function(e){return n.params.output.error$.next({id:"ExtractHlsQualities",message:"Error fetching manifest and extracting qualities",thrown:e})})),this.subscribe()}return y(e,[{key:"selectManifest",value:function(){var e,t,n=this.params.desiredState,i=n.autoVideoTrackSwitching,r=n.videoTrack,a=i.getState(),o=r.getTransition(),s=null!==(e=null!==(t=null===o||void 0===o?void 0:o.to)&&void 0!==t?t:r.getState())&&void 0!==e?e:"master",u=this.manifests$.getValue();if(u){var l=a?"master":s;return a&&!o&&r.startTransitionTo("master"),u.find((function(e){return e.id===l}))}}},{key:"subscribe",value:function(){var e=this,t=this.params,n=t.output,i=t.desiredState,r=function(e){n.error$.next({id:"HlsProvider",message:"HlsProvider internal logic error",thrown:e})},a=Wa(this.video),o=function(t,n){return e.subscription.add(t.subscribe(n))};o(a.timeUpdate$,n.position$),o(a.durationChange$,n.duration$),o(a.ended$,n.endedEvent$),o(a.looped$,n.loopedEvent$),o(a.error$,n.error$),o(a.isBuffering$,n.isBuffering$),o(a.currentBuffer$,n.currentBuffer$),o(a.loadedMetadata$,n.firstBytesEvent$),o(a.playing$,n.firstFrameEvent$),o(a.canplay$,n.canplay$),o(a.seeked$,n.seekedEvent$),this.subscription.add(Oa(this.video,i.isLooped,r)),this.subscription.add(Ba(this.video,i.volume,a.volumeState$,r)),this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$,r)),this.subscription.add(Va(this.video,i.playbackRate,a.playbackRateState$,r)),this.textTracksManager.connect(this.video,i,n),this.subscription.add(a.playing$.subscribe((function(){e.videoState.setState(ms.PLAYING),pa(i.playbackState,Jr.PLAYING)}),r)).add(a.pause$.subscribe((function(){e.videoState.setState(ms.PAUSED),pa(i.playbackState,Jr.PAUSED)}),r)).add(a.canplay$.subscribe((function(){var t;(null===(t=e.videoState.getTransition())||void 0===t?void 0:t.to)===ms.READY&&e.videoState.setState(ms.READY),e.videoState.getState()===ms.PLAYING&&e.playIfAllowed()}),r).add(a.loadedMetadata$.subscribe((function(){var t=e.params.desiredState.seekState.getState(),n=e.videoState.getTransition(),i=e.params.desiredState.videoTrack.getTransition(),r=e.params.desiredState.autoVideoTrackSwitching.getTransition();if(i&&or(i.to)){var a=i.to;e.params.desiredState.videoTrack.setState(a);var o=e.manifests$.getValue().find((function(e){return e.id===a}));o&&(e.params.output.currentVideoTrack$.next(o),e.params.output.hostname$.next(no(o.url)))}r&&e.params.desiredState.autoVideoTrackSwitching.setState(r.to),n&&n.from===ms.CHANGING_MANIFEST&&e.videoState.setState(n.to),t.state===ra.Requested&&e.seek(t.position)}),r))),this.subscription.add(this.manifests$.pipe($r((function(e){return e.map((function(e){var t=e.id,n=e.quality,i=e.size,r=e.bandwidth;return{id:t,quality:n,size:i,fps:e.fps,bitrate:r}}))}))).subscribe(this.params.output.availableVideoTracks$,r));var s=pr(i.playbackState.stateChangeStarted$,i.seekState.stateChangeEnded$,i.videoTrack.stateChangeStarted$,i.autoVideoTrackSwitching.stateChangeStarted$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0));this.subscription.add(s.subscribe(this.syncPlayback,r))}},{key:"destroy",value:function(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0)}},{key:"prepare",value:function(){var e=this.selectManifest();sr(e)||(this.video.setAttribute("src",e.url),this.video.load())}},{key:"playIfAllowed",value:function(){var e=this;uo(this.video).then((function(t){t||(e.videoState.setState(ms.PAUSED),pa(e.params.desiredState.playbackState,Jr.PAUSED,!0))}))}},{key:"seek",value:function(e){this.params.output.willSeekEvent$.next(),this.video.currentTime=e/1e3}}]),e}();!function(e){e.STOPPED="stopped",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(gs||(gs={}));var xs,Ts=function(){function e(t){var n=this;m(this,e),h(this,"subscription",new Zi),h(this,"videoState",new Sa(gs.STOPPED)),h(this,"video",void 0),h(this,"trackUrls",{}),h(this,"params",void 0),h(this,"textTracksManager",new Ua),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.params.desiredState.playbackState.getState(),i=n.params.desiredState.playbackState.getTransition();if(t!==Jr.STOPPED){if(!n.videoState.getTransition()){var r=n.params.desiredState.videoTrack.getTransition(),a=n.params.desiredState.seekState.getState();if(e===gs.STOPPED)return n.videoState.startTransitionTo(gs.READY),void n.prepare();if(r){var o=n.video.currentTime;return n.prepare(),void(a.state===ra.None&&n.params.desiredState.seekState.setState({state:ra.Requested,position:1e3*o,forcePrecise:!0}))}switch((null===i||void 0===i?void 0:i.to)!==Jr.PAUSED&&a.state===ra.Requested&&n.seek(a.position),e){case gs.READY:return void(t===Jr.PAUSED?(n.videoState.setState(gs.PAUSED),pa(n.params.desiredState.playbackState,Jr.PAUSED)):t===Jr.PLAYING&&(n.videoState.startTransitionTo(gs.PLAYING),n.playIfAllowed()));case gs.PLAYING:return void(t===Jr.PAUSED?(n.videoState.startTransitionTo(gs.PAUSED),n.video.pause()):(null===i||void 0===i?void 0:i.to)===Jr.PLAYING&&pa(n.params.desiredState.playbackState,Jr.PLAYING));case gs.PAUSED:return void(t===Jr.PLAYING?(n.videoState.startTransitionTo(gs.PLAYING),n.playIfAllowed()):(null===i||void 0===i?void 0:i.to)===Jr.PAUSED&&pa(n.params.desiredState.playbackState,Jr.PAUSED));default:return er(e)}}}else e!==gs.STOPPED&&(n.videoState.startTransitionTo(gs.STOPPED),n.video.setAttribute("src",""),n.video.load(),n.params.output.position$.next(0),n.params.output.duration$.next(1/0),n.params.output.currentBuffer$.next(void 0),n.params.output.hostname$.next(void 0),n.videoState.setState(gs.STOPPED),pa(n.params.desiredState.playbackState,Jr.STOPPED,!0))})),this.params=t,this.video=Fa(t.container),this.params.output.element$.next(this.video),Object.entries(this.params.source).forEach((function(e,t){var i=s(e,2),r=i[0],a=i[1],o=t.toString(10);n.trackUrls[o]={track:{quality:r,id:o},url:a}})),this.params.output.availableVideoTracks$.next(Object.values(this.trackUrls).map((function(e){return e.track}))),this.params.output.isLive$.next(!1),this.subscribe()}return y(e,[{key:"subscribe",value:function(){var e=this,t=this.params,n=t.output,i=t.desiredState,r=function(e){n.error$.next({id:"MpegProvider",message:"MpegProvider internal logic error",thrown:e})},a=Wa(this.video),o=function(t,n){return e.subscription.add(t.subscribe(n,r))};o(a.timeUpdate$,n.position$),o(a.durationChange$,n.duration$),o(a.ended$,n.endedEvent$),o(a.looped$,n.loopedEvent$),o(a.error$,n.error$),o(a.isBuffering$,n.isBuffering$),o(a.currentBuffer$,n.currentBuffer$),o(a.loadedMetadata$,n.firstBytesEvent$),o(a.playing$,n.firstFrameEvent$),o(a.canplay$,n.canplay$),o(a.seeked$,n.seekedEvent$),this.subscription.add(Oa(this.video,i.isLooped,r)),this.subscription.add(Ba(this.video,i.volume,a.volumeState$,r)),this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$,r)),this.subscription.add(Va(this.video,i.playbackRate,a.playbackRateState$,r)),this.subscription.add(a.playing$.subscribe((function(){e.videoState.setState(gs.PLAYING),pa(i.playbackState,Jr.PLAYING)}),r)).add(a.pause$.subscribe((function(){e.videoState.setState(gs.PAUSED),pa(i.playbackState,Jr.PAUSED)}),r)).add(a.canplay$.subscribe((function(){var t;(null===(t=e.videoState.getTransition())||void 0===t?void 0:t.to)===gs.READY&&e.videoState.setState(gs.READY);var n=e.params.desiredState.videoTrack.getTransition();n&&or(n.to)&&(e.params.desiredState.videoTrack.setState(n.to),e.params.output.currentVideoTrack$.next(e.trackUrls[n.to].track)),e.videoState.getState()===gs.PLAYING&&e.playIfAllowed()}),r)),this.subscription.add(i.autoVideoTrackSwitching.stateChangeStarted$.subscribe((function(){return i.autoVideoTrackSwitching.setState(!1)}),r)),this.textTracksManager.connect(this.video,i,n);var s=pr(i.playbackState.stateChangeStarted$,i.videoTrack.stateChangeStarted$,i.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0));this.subscription.add(s.subscribe(this.syncPlayback,r))}},{key:"destroy",value:function(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.trackUrls={},this.video.remove(),this.params.output.element$.next(void 0)}},{key:"prepare",value:function(){var e,t,n=null!==(e=null===(t=this.params.desiredState.videoTrack.getTransition())||void 0===t?void 0:t.to)&&void 0!==e?e:this.params.desiredState.videoTrack.getState();ar(n,"MpegProvider: track is not selected");var i=this.trackUrls[n].url;ar(i,"MpegProvider: No url for ".concat(n)),this.params.tuning.requestQuick&&(i=Ia(i)),this.video.setAttribute("src",i),this.video.load(),this.params.output.hostname$.next(no(i))}},{key:"playIfAllowed",value:function(){var e=this;uo(this.video).then((function(t){t||(e.videoState.setState(gs.PAUSED),pa(e.params.desiredState.playbackState,Jr.PAUSED,!0))}))}},{key:"seek",value:function(e){this.params.output.willSeekEvent$.next(),this.video.currentTime=e/1e3}}]),e}(),$s=["stun:videostun.mycdn.me:80"],Ps=function(){return null},As=function(){function e(t,n){m(this,e),h(this,"options",void 0),h(this,"ws",null),h(this,"peerConnection",null),h(this,"serverUrl",""),h(this,"streamKey",""),h(this,"stream",null),h(this,"signalingType","JOIN"),h(this,"retryTimeout",void 0),h(this,"retryCount",0),h(this,"externalStartCallback",Ps),h(this,"externalStopCallback",Ps),h(this,"externalErrorCallback",Ps),this.options=this.normalizeOptions(n);var i=t.split("/");this.serverUrl=i.slice(0,i.length-1).join("/"),this.streamKey=i[i.length-1]}return y(e,[{key:"onStart",value:function(e){try{this.externalStartCallback=e}catch(e){this.handleSystemError(e)}}},{key:"onStop",value:function(e){try{this.externalStopCallback=e}catch(e){this.handleSystemError(e)}}},{key:"onError",value:function(e){try{this.externalErrorCallback=e}catch(e){this.handleSystemError(e)}}},{key:"connect",value:function(){this.connectWS()}},{key:"disconnect",value:function(){try{this.externalStopCallback(),this.closeConnections()}catch(aa){this.handleSystemError(aa)}}},{key:"connectWS",value:function(){this.ws||(this.ws=new WebSocket(this.serverUrl),this.ws.onopen=this.onSocketOpen.bind(this),this.ws.onmessage=this.onSocketMessage.bind(this),this.ws.onclose=this.onSocketClose.bind(this),this.ws.onerror=this.onSocketError.bind(this))}},{key:"onSocketOpen",value:function(){this.handleLogin()}},{key:"onSocketClose",value:function(e){try{if(!this.ws)return;this.ws=null,e.code>1e3?(this.retryCount++,this.retryCount>this.options.maxRetryNumber?this.handleNetworkError():this.scheduleRetry()):this.externalStopCallback()}catch(e){this.handleRTCError(e)}}},{key:"onSocketError",value:function(e){try{this.externalErrorCallback(new Error(e.toString()))}catch(e){this.handleRTCError(e)}}},{key:"onSocketMessage",value:function(e){try{var t=this.parseMessage(e.data);switch(t.type){case"JOIN":case"CALL_JOIN":this.handleJoinMessage(t);break;case"UPDATE":this.handleUpdateMessage(t);break;case"STATUS":this.handleStatusMessage(t)}}catch(e){this.handleRTCError(e)}}},{key:"handleJoinMessage",value:function(e){switch(e.inviteType){case"ANSWER":this.handleAnswer(e.sdp);break;case"CANDIDATE":this.handleCandidate(e.candidate)}}},{key:"handleStatusMessage",value:function(e){if("UNPUBLISHED"===e.status)this.handleUnpublished()}},{key:"handleUpdateMessage",value:function(){var e=Gi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.createOffer();case 3:if(n=e.sent,e.t0=this.peerConnection,!e.t0){e.next=8;break}return e.next=8,this.peerConnection.setLocalDescription(n);case 8:this.handleAnswer(t.sdp),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),this.handleRTCError(e.t1);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleLogin",value:function(){var e=Gi(ji().mark((function e(){var t,n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={iceServers:[{urls:$s}]},this.peerConnection=new RTCPeerConnection(t),this.peerConnection.ontrack=this.onPeerConnectionStream.bind(this),this.peerConnection.onicecandidate=this.onPeerConnectionIceCandidate.bind(this),this.peerConnection.oniceconnectionstatechange=this.onPeerConnectionIceConnectionStateChange.bind(this),e.next=5,this.createOffer();case 5:return n=e.sent,e.next=8,this.peerConnection.setLocalDescription(n);case 8:this.send({type:this.signalingType,inviteType:"OFFER",streamKey:this.streamKey,sdp:n.sdp,callSupport:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.handleRTCError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleAnswer",value:function(){var e=Gi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=this.peerConnection,!e.t0){e.next=5;break}return e.next=5,this.peerConnection.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:t}));case 5:e.next=10;break;case 7:e.prev=7,e.t1=e.catch(0),this.handleRTCError(e.t1);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCandidate",value:function(){var e=Gi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}if(e.prev=1,e.t0=this.peerConnection,!e.t0){e.next=6;break}return e.next=6,this.peerConnection.addIceCandidate(t);case 6:e.next=11;break;case 8:e.prev=8,e.t1=e.catch(1),this.handleRTCError(e.t1);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUnpublished",value:function(){try{this.closeConnections(),this.externalStopCallback()}catch(aa){this.handleRTCError(aa)}}},{key:"handleSystemError",value:function(e){this.options.errorChanel&&this.options.errorChanel.next({id:"webrtc-provider-error",message:e.message})}},{key:"onPeerConnectionStream",value:function(){var e=Gi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.streams[0],this.stream&&this.stream.id===n.id||(this.stream=n,this.externalStartCallback(this.stream));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onPeerConnectionIceCandidate",value:function(e){e.candidate&&this.send({type:this.signalingType,inviteType:"CANDIDATE",candidate:e.candidate})}},{key:"onPeerConnectionIceConnectionStateChange",value:function(){if(this.peerConnection){var e=this.peerConnection.iceConnectionState;["failed","closed"].indexOf(e)>-1&&(this.retryCount++,this.retryCount>this.options.maxRetryNumber?this.handleNetworkError():(this.closeConnections(),this.scheduleRetry()))}}},{key:"createOffer",value:function(){var e=Gi(ji().mark((function e(){var t,n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.peerConnection){e.next=2;break}throw new Error("Can not create offer - no peer connection instance ");case 2:return e.next=4,this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0,voiceActivityDetection:!1});case 4:if(t=e.sent,n=t.sdp||"",/^a=rtpmap:\d+ H264\/\d+$/m.test(n)){e.next=8;break}throw new Error("No h264 codec support error");case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleRTCError",value:function(e){try{this.externalErrorCallback(e||new Error("RTC connection error"))}catch(e){this.handleSystemError(e)}}},{key:"handleNetworkError",value:function(){try{this.externalErrorCallback(new Error("Network error"))}catch(aa){this.handleSystemError(aa)}}},{key:"send",value:function(e){this.ws&&this.ws.send(JSON.stringify(e))}},{key:"parseMessage",value:function(e){try{return JSON.parse(e)}catch(e){throw new Error("Can not parse socket message")}}},{key:"closeConnections",value:function(){var e=this.ws;e&&(this.ws=null,e.close(1e3)),this.removePeerConnection()}},{key:"removePeerConnection",value:function(){var e=this.peerConnection;e&&(this.peerConnection=null,e.close(),e.ontrack=null,e.onicecandidate=null,e.oniceconnectionstatechange=null,e=null)}},{key:"scheduleRetry",value:function(){this.retryTimeout=setTimeout(this.connectWS.bind(this),1e3)}},{key:"normalizeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={stunServerList:$s,maxRetryNumber:3,errorChanel:null};return e.stunServerList&&(t.stunServerList=e.stunServerList),e.maxRetryNumber&&e.maxRetryNumber>0&&(t.maxRetryNumber=e.maxRetryNumber),t}}]),e}();!function(e){e.STOPPED="stopped",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused"}(xs||(xs={}));var Cs,_s=function(){function e(t){var n=this;m(this,e),h(this,"subscription",void 0),h(this,"params",void 0),h(this,"log",void 0),h(this,"video",void 0),h(this,"videoState",new Sa(xs.STOPPED)),h(this,"liveStreamClient",void 0),h(this,"maxSeekBackTime$",new dr(0)),h(this,"syncPlayback",(function(){var e=n.videoState.getState(),t=n.params.desiredState.playbackState.getState(),i=n.params.desiredState.playbackState.getTransition();if(t!==Jr.STOPPED){if(!n.videoState.getTransition()){var r=n.params.desiredState.videoTrack.getTransition();if(e===xs.STOPPED)return n.videoState.startTransitionTo(xs.READY),void n.prepare();if(r)n.prepare();else switch(e){case xs.READY:return void(t===Jr.PAUSED?(n.videoState.setState(xs.PAUSED),pa(n.params.desiredState.playbackState,Jr.PAUSED)):t===Jr.PLAYING&&(n.videoState.startTransitionTo(xs.PLAYING),n.playIfAllowed()));case xs.PLAYING:return void(t===Jr.PAUSED?(n.videoState.startTransitionTo(xs.PAUSED),n.video.pause()):(null===i||void 0===i?void 0:i.to)===Jr.PLAYING&&pa(n.params.desiredState.playbackState,Jr.PLAYING));case xs.PAUSED:return void(t===Jr.PLAYING?(n.videoState.startTransitionTo(xs.PLAYING),n.playIfAllowed()):(null===i||void 0===i?void 0:i.to)===Jr.PAUSED&&pa(n.params.desiredState.playbackState,Jr.PAUSED));default:return er(e)}}}else e!==xs.STOPPED&&(n.videoState.startTransitionTo(xs.STOPPED),n.video.pause(),n.video.srcObject=null,n.params.output.position$.next(0),n.params.output.duration$.next(0),n.params.output.currentBuffer$.next(void 0),n.params.output.hostname$.next(void 0),n.videoState.setState(xs.STOPPED),pa(n.params.desiredState.playbackState,Jr.STOPPED,!0))})),this.subscription=new Zi,this.params=t,this.log=this.params.dependencies.logger.createComponentLog("WebRTCLiveProvider"),this.video=Fa(t.container),this.liveStreamClient=new As(this.params.source.url,{maxRetryNumber:this.params.tuning.webrtc.connectionRetryMaxNumber,errorChanel:this.params.output.error$}),this.liveStreamClient.onStart(this.onLiveStreamStart.bind(this)),this.liveStreamClient.onStop(this.onLiveStreamStop.bind(this)),this.liveStreamClient.onError(this.onLiveStreamError.bind(this)),this.subscribe()}return y(e,[{key:"destroy",value:function(){this.subscription.unsubscribe(),this.video.remove(),this.params.output.element$.next(void 0),this.liveStreamClient.disconnect()}},{key:"subscribe",value:function(){var e=this,t=this.params,n=t.output,i=t.desiredState,r=function(e){n.error$.next({id:"WebRTCLiveProvider",message:"WebRTCLiveProvider internal logic error",thrown:e})};pr(this.videoState.stateChangeStarted$.pipe($r((function(e){return{transition:e,type:"start"}}))),this.videoState.stateChangeEnded$.pipe($r((function(e){return{transition:e,type:"end"}})))).subscribe((function(t){var n=t.transition,i=t.type;e.log({message:"[videoState change] ".concat(i,": ").concat(JSON.stringify(n))})}));var a=Wa(this.video),o=function(t,n){return e.subscription.add(t.subscribe(n,r))};o(a.timeUpdate$,n.liveTime$),o(a.ended$,n.endedEvent$),o(a.looped$,n.loopedEvent$),o(a.error$,n.error$),o(a.isBuffering$,n.isBuffering$),o(a.currentBuffer$,n.currentBuffer$),this.subscription.add(a.durationChange$.subscribe((function(e){n.duration$.next(e===1/0?0:e)}))).add(a.canplay$.subscribe((function(){var t;(null===(t=e.videoState.getTransition())||void 0===t?void 0:t.to)===xs.READY&&e.videoState.setState(xs.READY)}),r)).add(a.pause$.subscribe((function(){e.videoState.setState(xs.PAUSED)}),r)).add(a.playing$.subscribe((function(){e.videoState.setState(xs.PLAYING)}),r)).add(a.error$.subscribe(n.error$)).add(this.maxSeekBackTime$.subscribe(this.params.output.duration$)).add(Ba(this.video,i.volume,a.volumeState$,r)).add(a.volumeState$.subscribe(n.volume$,r)).add(this.videoState.stateChangeEnded$.subscribe((function(e){switch(e.to){case xs.STOPPED:n.position$.next(0),n.duration$.next(0),i.playbackState.setState(Jr.STOPPED);break;case xs.READY:break;case xs.PAUSED:i.playbackState.setState(Jr.PAUSED);break;case xs.PLAYING:i.playbackState.setState(Jr.PLAYING);break;default:return er(e.to)}}),r)).add(pr(i.playbackState.stateChangeStarted$,this.videoState.stateChangeEnded$,hr(["init"])).pipe(gr(0)).subscribe(this.syncPlayback.bind(this),r)),this.subscription.add(i.isLooped.stateChangeStarted$.subscribe((function(){return i.isLooped.setState(!1)}),r)),this.subscription.add(i.autoVideoTrackSwitching.stateChangeStarted$.subscribe((function(){return i.autoVideoTrackSwitching.setState(!1)}),r))}},{key:"onLiveStreamStart",value:function(e){this.params.output.element$.next(this.video),this.params.output.duration$.next(0),this.params.output.position$.next(0),this.params.output.isLive$.next(!0),this.params.output.hostname$.next(no(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!1),this.params.output.availableVideoTracks$.next([]),this.params.output.currentVideoTrack$.next({id:"webrtc",quality:da.INVARIANT}),this.video.srcObject=e,pa(this.params.desiredState.playbackState,Jr.PLAYING)}},{key:"onLiveStreamStop",value:function(){this.videoState.startTransitionTo(xs.STOPPED),this.syncPlayback(),this.params.output.position$.next(0),this.params.output.duration$.next(0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.params.output.endedEvent$.next()}},{key:"onLiveStreamError",value:function(e){this.onLiveStreamStop(),this.params.output.error$.next({id:"WebRTC stream runtime error",message:e.message,thrown:e})}},{key:"playIfAllowed",value:function(){var e=this;uo(this.video).then((function(t){t||(e.videoState.setState(xs.PAUSED),pa(e.params.desiredState.playbackState,Jr.PAUSED,!0))}))}},{key:"prepare",value:function(){this.liveStreamClient.connect()}}]),e}(),Rs=function(){function e(t){m(this,e),h(this,"iterator",void 0),h(this,"current",void 0),this.iterator=t[Symbol.iterator](),this.next()}return y(e,[{key:"next",value:function(){this.current=this.iterator.next()}},{key:"getValue",value:function(){if(this.current.done)throw new Error("Iterable is completed");return this.current.value}},{key:"isCompleted",value:function(){return Boolean(this.current.done)}}]),e}(),Ls=Do(),Ns=(null===(Nr=navigator)||void 0===Nr||null===(Mr=Nr.userAgentData)||void 0===Mr?void 0:Mr.mobile)||/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion),Ms=document.createElement("video"),Is={mse:Boolean(window.MediaSource&&window.MediaStreamTrack&&(null===(Ir=window.SourceBuffer)||void 0===Ir||null===(Dr=Ir.prototype)||void 0===Dr?void 0:Dr.appendBuffer)),hls:Boolean((null===(Or=Ms.canPlayType)||void 0===Or?void 0:Or.call(Ms,"application/x-mpegurl"))||(null===(Br=Ms.canPlayType)||void 0===Br?void 0:Br.call(Ms,"vnd.apple.mpegURL"))),webrtc:Boolean(window.RTCPeerConnection)},Ds={mp4:Boolean(null===(Vr=Ms.canPlayType)||void 0===Vr?void 0:Vr.call(Ms,"video/mp4")),webm:Boolean(null===(zr=Ms.canPlayType)||void 0===zr?void 0:zr.call(Ms,"video/webm"))},Os={h264:Boolean(null===(Ur=window.MediaSource)||void 0===Ur||null===(Fr=Ur.isTypeSupported)||void 0===Fr?void 0:Fr.call(Ur,'video/mp4; codecs="avc1.42000a,mp4a.40.2"')),h265:Boolean(null===(qr=window.MediaSource)||void 0===qr||null===(Hr=qr.isTypeSupported)||void 0===Hr?void 0:Hr.call(qr,'video/mp4; codecs="hev1.1.6.L93.B0"')),vp9:Boolean(null===(jr=window.MediaSource)||void 0===jr||null===(Wr=jr.isTypeSupported)||void 0===Wr?void 0:Wr.call(jr,'video/webm; codecs="vp9"')),aac:Boolean(null===(Gr=window.MediaSource)||void 0===Gr||null===(Yr=Gr.isTypeSupported)||void 0===Yr?void 0:Yr.call(Gr,'audio/mp4; codecs="mp4a.40.2"')),opus:Boolean(null===(Qr=window.MediaSource)||void 0===Qr||null===(Kr=Qr.isTypeSupported)||void 0===Kr?void 0:Kr.call(Qr,'audio/webm; codecs="opus"'))},Bs=(Os.h264||Os.h265)&&Os.aac,Vs=!Ls,zs=Is.hls&&Ds.mp4&&(Ns||Ls),Us=Boolean(window.WebSocket),Fs={cacheDuration:12e4},qs={maxPausedTime:3e4,chunkDuration:5e3,maxParallelRequests:5},Hs={maxPausedTime:3e4},js={maxPausedTime:3e4},Ws=function(){function e(t){m(this,e),h(this,"current$",new dr({type:void 0})),h(this,"providerError$",new ir),h(this,"noAvailableProvidersError$",new ir),h(this,"providerOutput",{position$:new dr(0),duration$:new dr(1/0),volume$:new dr({muted:!1,volume:1}),currentVideoTrack$:new dr(void 0),availableVideoTracks$:new dr([]),autoVideoTrackLimitingAvailable$:new dr(!1),currentBuffer$:new dr(void 0),isBuffering$:new dr(!0),error$:new ir,willSeekEvent$:new ir,seekedEvent$:new ir,loopedEvent$:new ir,endedEvent$:new ir,firstBytesEvent$:new ir,firstFrameEvent$:new ir,canplay$:new ir,isLive$:new dr(void 0),liveTime$:new dr(void 0),availableTextTracks$:new dr([]),currentTextTrack$:new dr(void 0),hostname$:new dr(void 0),httpConnectionType$:new dr(void 0),httpConnectionReused$:new dr(void 0),element$:new dr(void 0)}),h(this,"subscription",new Zi),h(this,"screenFormatsIterator",void 0),h(this,"chromecastFormatsIterator",void 0),h(this,"log",void 0),h(this,"params",void 0),this.params=t,this.log=this.params.dependencies.logger.createComponentLog("ProviderContainer");var n=this.params.tuning.formatsToAvoid,i=n.length?[].concat(Et(t.screenFormatsPriority.filter((function(e){return!n.includes(e)}))),Et(t.screenFormatsPriority.filter((function(e){return n.includes(e)})))):t.screenFormatsPriority;this.screenFormatsIterator=new Rs(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.filter((function(e){switch(e){case Zr.DASH:return Is.mse&&Ds.mp4&&Bs&&Vs;case Zr.DASH_SEP:return Is.mse&&Ds.mp4&&Bs;case Zr.DASH_WEBM:return Is.mse&&Ds.webm&&Os.vp9&&Os.opus;case Zr.DASH_LIVE:case Zr.DASH_ONDEMAND:return Is.mse&&Ds.mp4&&Bs;case Zr.HLS:case Zr.HLS_LIVE:case Zr.HLS_ONDEMAND:return zs||t&&Is.mse&&Ds.mp4&&Bs;case Zr.MPEG:return Ds.mp4;case Zr.DASH_LIVE_WEBM:return!1;case Zr.WEB_RTC_LIVE:return Is.webrtc&&Us&&Os.h264&&(Ds.mp4||Ds.webm);default:return er(e)}}))}(i.filter((function(e){return or(t.sources[e])})),this.params.tuning.useHlsJs)),this.chromecastFormatsIterator=new Rs(t.chromecastFormatsPriority.filter((function(e){return or(t.sources[e])})))}return y(e,[{key:"init",value:function(){var e=this;this.subscription.add(this.initProviderErrorHandling()),this.subscription.add(this.params.dependencies.chromecastInitializer.connection$.subscribe((function(){e.reinitProvider()})))}},{key:"destroy",value:function(){this.destroyProvider(),this.current$.next({type:void 0}),this.subscription.unsubscribe()}},{key:"initProvider",value:function(){var e=this.chooseDestination(),t=this.chooseFormat(e);if(sr(t))this.handleNoFormatsError(e);else{var n;try{n=this.createProvider(e,t)}catch(e){this.providerError$.next({id:"ProviderNotConstructed",message:"Failed to create provider",thrown:e})}n?this.current$.next({type:t,provider:n,destination:e}):this.switchToNextProvider()}}},{key:"reinitProvider",value:function(){this.destroyProvider(),this.initProvider()}},{key:"switchToNextProvider",value:function(){this.destroyProvider();var e=this.current$.getValue().destination;ar(e,"No current provider"),this.skipFormat(e),this.initProvider()}},{key:"destroyProvider",value:function(){var e=this.current$.getValue().provider;if(e){this.log({message:"destroyProvider"});var t=1e3*this.providerOutput.position$.getValue(),n=this.params.desiredState.seekState.getState(),i=n.state!==ra.None;this.params.desiredState.seekState.setState({state:ra.Requested,position:i?n.position:t,forcePrecise:!!i&&n.forcePrecise}),e.destroy();var r=this.providerOutput.isBuffering$;r.getValue()||r.next(!0)}}},{key:"createProvider",value:function(e,t){switch(this.log({message:"createProvider: ".concat(e,":").concat(t)}),e){case ea.SCREEN:return this.createScreenProvider(t);case ea.CHROMECAST:return this.createChromecastProvider(t);default:return er(e)}}},{key:"createScreenProvider",value:function(e){var t=this.params,n=t.sources,i=t.container,r=t.desiredState,a=this.providerOutput,o={container:i,source:null,desiredState:r,output:a,dependencies:this.params.dependencies,tuning:this.params.tuning};switch(e){case Zr.DASH:var s=n[e];return ar(s),new No(re(re({},o),{},{source:s,config:Fs}));case Zr.DASH_SEP:case Zr.DASH_WEBM:case Zr.DASH_ONDEMAND:var u=n[e];return ar(u),this.params.tuning.useDashJs?new oo(re(re({},o),{},{source:u,format:e,config:js})):new ps(re(re({},o),{},{source:u}));case Zr.HLS:case Zr.HLS_ONDEMAND:var l=n[e];return ar(l),zs||!this.params.tuning.useHlsJs?new Es(re(re({},o),{},{source:l})):new bs(re(re({},o),{},{source:l}));case Zr.HLS_LIVE:var c=n[e];return ar(c),new ks(re(re({},o),{},{source:c,config:Hs}));case Zr.MPEG:var d=n[e];return ar(d),new Ts(re(re({},o),{},{source:d}));case Zr.DASH_LIVE:var f=n[e];return ar(f),new So(re(re({},o),{},{source:f,config:qs}));case Zr.WEB_RTC_LIVE:var p=n[e];return ar(p),new _s({container:i,source:p,desiredState:r,output:a,dependencies:this.params.dependencies,tuning:this.params.tuning});case Zr.DASH_LIVE_WEBM:throw new Error("DASH_LIVE_WEBM is no longer supported");default:return er(e)}}},{key:"createChromecastProvider",value:function(e){var t=this.params,n=t.sources,i=t.container,r=t.desiredState,a=t.meta,o=this.providerOutput,s=this.params.dependencies.chromecastInitializer.connection$.getValue();return ar(s),new ka({connection:s,meta:a,container:i,source:n,format:e,desiredState:r,output:o,dependencies:this.params.dependencies,tuning:this.params.tuning})}},{key:"chooseDestination",value:function(){return this.params.dependencies.chromecastInitializer.connection$.getValue()?ea.CHROMECAST:ea.SCREEN}},{key:"chooseFormat",value:function(e){switch(e){case ea.SCREEN:return this.screenFormatsIterator.isCompleted()?void 0:this.screenFormatsIterator.getValue();case ea.CHROMECAST:return this.chromecastFormatsIterator.isCompleted()?void 0:this.chromecastFormatsIterator.getValue();default:return er(e)}}},{key:"skipFormat",value:function(e){switch(e){case ea.SCREEN:return this.screenFormatsIterator.next();case ea.CHROMECAST:return this.chromecastFormatsIterator.next();default:return er(e)}}},{key:"handleNoFormatsError",value:function(e){switch(e){case ea.SCREEN:return this.noAvailableProvidersError$.next(),void this.current$.next({type:void 0});case ea.CHROMECAST:return void this.params.dependencies.chromecastInitializer.disconnect();default:return er(e)}}},{key:"initProviderErrorHandling",value:function(){var e,t=this,n=[],i=0,r=new Zi;return r.add(pr(this.providerOutput.error$,(e={desiredPlaybackState$:this.params.desiredState.playbackState,maxTransitionInterval:3e4,position$:this.providerOutput.position$,providerChanged$:this.current$.pipe(Sr((function(e){return void 0!==e.type})))},new nr((function(t){var n=new Zi,i=e.desiredPlaybackState$.stateChangeStarted$.pipe($r((function(e){var t=e.from,n=e.to;return"".concat(t,"-").concat(n)}))),r=e.desiredPlaybackState$.stateChangeEnded$,a=e.providerChanged$,o=new ir,s=0,u="unknown";return n.add(i.subscribe((function(t){s&&window.clearTimeout(s),u=t,s=window.setTimeout((function(){return o.next(t)}),e.maxTransitionInterval)}))),n.add(r.subscribe((function(){window.clearTimeout(s),u="provider change",s=0}))),n.add(a.subscribe((function(){s&&(window.clearTimeout(s),s=window.setTimeout((function(){return o.next(u)}),e.maxTransitionInterval))}))),n.add(o.subscribe(t)),function(){window.clearTimeout(s),n.unsubscribe()}}))).pipe($r((function(e){return{id:"ProviderHangup:".concat(e),message:"A ".concat(e," transition failed to complete within reasonable time")}})))).subscribe(this.providerError$)),r.add(this.providerError$.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:br;return function(n){return new nr((function(i){return n.subscribe(new wr(i,e,t))}))}}(100,{leading:!1,trailing:!0})).subscribe((function(){var e=Date.now();t.current$.getValue().destination===ea.CHROMECAST?(t.destroyProvider(),t.params.dependencies.chromecastInitializer.stopMedia().then((function(){t.switchToNextProvider()}),(function(){t.params.dependencies.chromecastInitializer.disconnect()}))):or(n[i])&&e<n[i]+18e4?(n=[],t.switchToNextProvider()):(n[i]=e,t.reinitProvider()),i=(i+1)%3}))),r}}]),e}(),Gs=function(e,t,n){return n*t+(1-n)*e},Ys=function(){function e(t){var n;m(this,e),h(this,"prevReported",void 0),h(this,"slow",void 0),h(this,"fast",void 0),h(this,"smoothed",void 0),h(this,"pastMeasures",[]),h(this,"measuresCursor",0),h(this,"params",void 0),h(this,"rawSeries$",void 0),h(this,"smoothedSeries$",void 0),h(this,"reportedSeries$",void 0),h(this,"smoothed$",void 0),h(this,"debounced$",void 0),this.params=t,this.pastMeasures=Array(t.deviationDepth),this.slow=this.fast=this.smoothed=this.prevReported=t.initial,this.smoothed$=new dr(t.initial),this.debounced$=new dr(t.initial);var i=null!==(n=t.label)&&void 0!==n?n:"value"+Math.random().toString(16).substring(2,6);this.rawSeries$=new Ja("raw_".concat(i)),this.smoothedSeries$=new Ja("smoothed_".concat(i)),this.reportedSeries$=new Ja("reported_".concat(i)),this.rawSeries$.next(t.initial),this.smoothedSeries$.next(t.initial),this.reportedSeries$.next(t.initial)}return y(e,[{key:"next",value:function(e){for(var t=0,n=0,i=0;i<this.pastMeasures.length;i++)void 0!==this.pastMeasures[i]&&(t+=Math.pow(this.pastMeasures[i]-this.smoothed,2),n++);t/=n;var r=Math.sqrt(t),a=this.smoothed+this.params.deviationFactor*r,o=this.smoothed-this.params.deviationFactor*r;this.pastMeasures[this.measuresCursor]=e,this.measuresCursor=(this.measuresCursor+1)%this.pastMeasures.length,this.rawSeries$.next(e),this.slow=Gs(this.slow,e,this.params.emaAlphaSlow),this.fast=Gs(this.fast,e,this.params.emaAlphaFast);var s=this.params.fastDirection>0?Math.max:Math.min;this.smoothed=s(this.slow,this.fast),this.smoothed$.next(this.smoothed),this.smoothedSeries$.next(this.smoothed),this.smoothed>a||this.smoothed<o||(sr(this.prevReported)||Math.abs(this.smoothed-this.prevReported)/this.prevReported>=this.params.changeThreshold)&&(this.prevReported=this.smoothed,this.debounced$.next(this.smoothed),this.reportedSeries$.next(this.smoothed))}}]),e}();!function(e){e[e.LOCAL_STORAGE=0]="LOCAL_STORAGE",e[e.SESSION_STORAGE=1]="SESSION_STORAGE",e[e.RUNTIME=2]="RUNTIME"}(Cs||(Cs={}));var Qs=new Map,Ks=Cs.RUNTIME,Xs="vk-videoplayer-dummy-key-".concat(Math.random());!function(){try{localStorage.setItem(Xs,"test"),localStorage.removeItem(Xs),Ks=Cs.LOCAL_STORAGE}catch(aa){if(!(aa instanceof DOMException||aa instanceof TypeError))throw aa;try{sessionStorage.getItem(Xs),Ks=Cs.SESSION_STORAGE}catch(aa){if(!(aa instanceof DOMException||aa instanceof TypeError))throw aa;Ks=Cs.RUNTIME}}}();var Js,Zs,eu,tu,nu,iu,ru,au,ou=function(e,t){switch(Ks){case Cs.LOCAL_STORAGE:try{localStorage.setItem(e,t)}catch(e){if(!(e instanceof DOMException))throw e;console.error(e)}break;case Cs.SESSION_STORAGE:try{sessionStorage.setItem(e,t)}catch(e){if(!(e instanceof DOMException))throw e;console.error(e)}break;case Cs.RUNTIME:return void Qs.set(e,t);default:er(Ks)}},su=window.navigator.connection,uu=function(){var e=null===su||void 0===su?void 0:su.downlink;if(or(e)&&10!==e)return 1e3*e},lu=function(){var e=null===su||void 0===su?void 0:su.rtt;if(or(e)&&3e3!==e)return e},cu=function(e,t,n){var i=8*n;return i/(i/e+t)},du=function(){function e(t){var n,i,r=this;m(this,e),h(this,"throughput",void 0),h(this,"rtt",void 0),h(this,"subscription",new Zi),h(this,"tuningConfig",void 0),h(this,"concurrentDownloads",new Set),h(this,"throughput$",void 0),h(this,"rtt$",void 0),h(this,"rttAdjustedThroughput$",void 0),this.tuningConfig=t;var a=e.load("one_video_throughput")||(t.useBrowserEstimation?uu():void 0)||5e3,o=null!==(n=null!==(i=e.load("one_video_rtt"))&&void 0!==i?i:t.useBrowserEstimation?lu():void 0)&&void 0!==n?n:0;if(this.throughput$=new dr(a),this.rtt$=new dr(o),this.rttAdjustedThroughput$=new dr(cu(a,o,t.rttPenaltyRequestSize)),this.throughput=new Ys({initial:a,emaAlphaSlow:t.emaAlphaSlow,emaAlphaFast:t.emaAlphaFast,changeThreshold:t.changeThreshold,fastDirection:-1,deviationDepth:t.deviationDepth,deviationFactor:t.deviationFactor,label:"throughput"}),this.rtt=new Ys({initial:o,emaAlphaSlow:t.emaAlphaSlow,emaAlphaFast:t.emaAlphaFast,changeThreshold:t.changeThreshold,fastDirection:1,deviationDepth:t.deviationDepth,deviationFactor:t.deviationFactor,label:"rtt"}),t.useBrowserEstimation){var s=function(){var e=uu();e&&r.throughput.next(e);var t=lu();or(t)&&r.rtt.next(t)};su&&"onchange"in su&&this.subscription.add(vr(su,"change").subscribe(s)),s()}this.subscription.add(this.throughput.smoothed$.subscribe((function(e){ou("one_video_throughput",e.toFixed(0))}))),this.subscription.add(this.rtt.smoothed$.subscribe((function(e){ou("one_video_rtt",e.toFixed(0))}))),this.subscription.add(this.throughput.debounced$.subscribe(this.throughput$)),this.subscription.add(this.rtt.debounced$.subscribe(this.rtt$)),this.subscription.add(fr({throughput:this.throughput.smoothed$,rtt:this.rtt.smoothed$}).pipe($r((function(e){var n=e.throughput,i=e.rtt;return cu(n,i,t.rttPenaltyRequestSize)})),Sr((function(e){var n=r.rttAdjustedThroughput$.getValue()||0;return Math.abs(e-n)/n>=t.changeThreshold}))).subscribe(this.rttAdjustedThroughput$))}return y(e,[{key:"destroy",value:function(){this.concurrentDownloads.clear(),this.subscription.unsubscribe()}},{key:"trackXHR",value:function(e){var t=this,n=0,i=ur(),r=new Zi;switch(this.subscription.add(r),this.concurrentDownloads.add(e),e.readyState){case 4:break;case 3:case 2:r.add(vr(e,"progress").pipe(Cr()).subscribe((function(e){n=e.loaded,i=ur()})));break;case 1:case 0:r.add(vr(e,"loadstart").subscribe((function(){n=0,i=ur()})))}r.add(vr(e,"loadend").subscribe((function(a){if(200===e.status){var o=a.loaded,s=ur(),u=o-n,l=s-i;t.addRawSpeed(u,l,1)}t.concurrentDownloads.delete(e),r.unsubscribe()})))}},{key:"trackStream",value:function(e){var t=this,n=e.getReader();if(n){var i=0,r=ur(),a=0,o=ur(),s=function(i){t.concurrentDownloads.delete(e),n.releaseLock(),e.cancel("Throughput Estimator error: ".concat(i)).catch((function(){}))},u=function(){var l=Gi(ji().mark((function l(c){var d,f;return ji().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(d=c.done,f=c.value,!d){l.next=5;break}t.addRawSpeed(i,ur()-r,1),t.concurrentDownloads.delete(e),l.next=12;break;case 5:if(l.t0=f,!l.t0){l.next=12;break}return i+=f.byteLength,(a+=f.byteLength)>=t.tuningConfig.streamMinSampleSize&&ur()-o>=t.tuningConfig.streamMinSampleTime&&(t.addRawSpeed(a,ur()-o,t.concurrentDownloads.size),a=0,o=ur()),l.next=12,null===n||void 0===n?void 0:n.read().then(u,s);case 12:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}();this.concurrentDownloads.add(e),null===n||void 0===n||n.read().then(u,s)}else e.cancel("Could not get reader")}},{key:"addRawSpeed",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e.sanityCheck(t,n)){var r=8*t/n;this.throughput.next(r*i)}}},{key:"addRawThroughput",value:function(e){this.throughput.next(e)}},{key:"addRawRtt",value:function(e){this.rtt.next(e)}}],[{key:"sanityCheck",value:function(e,t){var n=8*e/t;return!(!n||!isFinite(n))&&!(n>1e6)&&!(n<30)&&!(e<10240)&&!(t<=20)}},{key:"load",value:function(e){var t,n=function(e){var t,n;switch(Ks){case Cs.LOCAL_STORAGE:return null!==(t=localStorage.getItem(e))&&void 0!==t?t:void 0;case Cs.SESSION_STORAGE:return null!==(n=sessionStorage.getItem(e))&&void 0!==n?n:void 0;case Cs.RUNTIME:return Qs.get(e);default:er(Ks)}}(e);if(or(n))return null!==(t=parseInt(n,10))&&void 0!==t?t:void 0}}]),e}(),fu={throughputEstimator:{emaAlphaSlow:.2,emaAlphaFast:.7,changeThreshold:.05,useBrowserEstimation:!0,rttPenaltyRequestSize:1048576,streamMinSampleSize:10240,streamMinSampleTime:300,deviationDepth:10,deviationFactor:.5},autoTrackSelection:{bitrateFactorAtEmptyBuffer:1.8,bitrateFactorAtFullBuffer:1.2,usePixelRatio:!0,limitByContainer:!0,containerSizeFactor:2,lazyQualitySwitch:!0,minBufferToSwitchUp:.3,considerPlaybackRate:!1,trackCooldown:3e3},dash:{forwardBufferTarget:6e4,forwardBufferTargetAuto:6e4,forwardBufferTargetManual:3e5,segmentRequestSize:1048576,representationSwitchForwardBufferGap:3e3,enableSubSegmentBufferFeeding:!0,segmentTimelineTolerance:100,useFetchPriorityHints:!0},live:{minBuffer:3e3,minBufferSegments:3,lowLatencyMinBuffer:1e3,lowLatencyMinBufferSegments:1},downloadBackoff:{bufferThreshold:100,start:100,factor:2,max:3e3,random:.1},enableTelemetryAtStart:!1,formatsToAvoid:[],disableChromecast:!1,chromecastReceiverId:void 0,useWebmBigRequest:!0,bigRequestMinInitSize:51200,bigRequestMinDataSize:1048576,stripRangeHeader:!0,flushShortLoopedBuffers:!0,insufficientBufferRuleMargin:1e4,dashSeekInSegmentDurationThreshold:18e4,dashSeekInSegmentAlwaysSeekDelta:1e4,endGapTolerance:300,stallIgnoreThreshold:33,gapWatchdogInterval:50,requestQuick:!1,useDashJs:!1,useHlsJs:!0,webrtc:{connectionRetryMaxNumber:3}},pu=function(e){var t=e.playbackState,n=e.seekState,i=e.playbackAbort$,r=e.looped$,a=e.position$;return new nr((function(e){var o,s=t.transitionEnded$.pipe(Sr((function(e){return(e.from===Jr.PAUSED||e.from===Jr.STOPPED)&&e.to===Jr.PLAYING}))),u=t.stateChangeEnded$.pipe(Sr((function(e){return e.from===Jr.PLAYING&&e.to===Jr.PAUSED}))),l=n.stateChangeEnded$.pipe(Sr((function(e){var n,i;return e.to.state===ra.Requested&&(null!==(n=null===(i=t.getTransition())||void 0===i?void 0:i.from)&&void 0!==n?n:t.getState())===Jr.PLAYING}))),c=pr(s,n.stateChangeEnded$.pipe(Sr((function(e){var n,i,r=e.from,a=e.to;return r.state===ra.Applying&&a.state===ra.None&&(null!==(n=null===(i=t.getTransition())||void 0===i?void 0:i.from)&&void 0!==n?n:t.getState())===Jr.PLAYING})))).pipe($r((function(){return a.getValue()})),Sr(or)),d=pr(pr(u,l,i),r).pipe($r((function(){return a.getValue()})),Sr(or));return(new Zi).add(c.subscribe((function(e){o=e}))).add(d.subscribe((function(t){if(!sr(o)&&o!==t){var n={from:o,to:t};o=void 0,e.next(n)}})))}))},hu=(h(Xr={},ea.SCREEN,{vod:[].concat(Et(zs?[Zr.HLS,Zr.HLS_ONDEMAND]:[]),[Zr.DASH_WEBM,Zr.DASH_SEP,Zr.DASH,Zr.DASH_ONDEMAND],Et(zs?[]:[Zr.HLS,Zr.HLS_ONDEMAND]),[Zr.MPEG]),live:zs?[Zr.WEB_RTC_LIVE,Zr.HLS_LIVE,Zr.DASH_LIVE]:[Zr.WEB_RTC_LIVE,Zr.DASH_LIVE,Zr.HLS_LIVE]}),h(Xr,ea.CHROMECAST,{vod:[Zr.DASH_WEBM,Zr.DASH_SEP,Zr.DASH_ONDEMAND,Zr.HLS,Zr.HLS_ONDEMAND,Zr.MPEG],live:[Zr.HLS_LIVE]}),Xr),vu=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m(this,e),h(this,"subscription",new Zi),h(this,"domContainer",void 0),h(this,"providerContainer",void 0),h(this,"chromecastInitializer",void 0),h(this,"logger",new rr),h(this,"explicitInitialQuality",void 0),h(this,"config",void 0),h(this,"tuning",void 0),h(this,"throughputEstimator",void 0),h(this,"isPlaybackStarted",!1),h(this,"initedAt",void 0),h(this,"desiredState",{playbackState:new Sa(Jr.STOPPED),seekState:new Sa({state:ra.None}),volume:new Sa({volume:1,muted:!1}),videoTrack:new Sa(void 0),autoVideoTrackSwitching:new Sa(!0),autoVideoTrackLimits:new Sa({}),isLooped:new Sa(!1),playbackRate:new Sa(1),externalTextTracks:new Sa([]),currentTextTrack:new Sa(void 0),textTrackCuesSettings:new Sa({})}),h(this,"info",{playbackState$:new dr(Jr.STOPPED),position$:new dr(0),duration$:new dr(1/0),muted$:new dr(!1),volume$:new dr(1),availableQualities$:new dr([]),availableQualitiesFps$:new dr({}),currentQuality$:new dr(void 0),isAutoQualityEnabled$:new dr(!0),autoQualityLimitingAvailable$:new dr(!1),autoQualityLimits$:new dr({}),currentPlaybackRate$:new dr(1),currentBuffer$:new dr({start:0,end:0}),isBuffering$:new dr(!0),isStalled$:new dr(!1),isEnded$:new dr(!1),isLooped$:new dr(!1),isLive$:new dr(void 0),liveTime$:new dr(void 0),currentFormat$:new dr(void 0),availableTextTracks$:new dr([]),currentTextTrack$:new dr(void 0),throughputEstimation$:new dr(void 0),rttEstimation$:new dr(void 0),videoBitrate$:new dr(void 0),hostname$:new dr(void 0),httpConnectionType$:new dr(void 0),httpConnectionReused$:new dr(void 0),chromecastState$:new dr(ta.NOT_AVAILABLE),chromecastDeviceName$:new dr(void 0),intrinsicVideoSize$:new dr(void 0)}),h(this,"events",{inited$:new ir,started$:new ir,startAttempt$:new ir,willPause$:new ir,willResume$:new ir,willDestruct$:new ir,watchCoverageRecord$:new ir,watchCoverageLive$:new ir,managedError$:new ir,fatalError$:new ir,ended$:new ir,looped$:new ir,seeked$:new ir,willSeek$:new ir,firstBytes$:new ir,firstFrame$:new ir,canplay$:new ir,log$:new ir}),h(this,"experimental",{element$:new dr(void 0),enableDebugTelemetry$:new dr(!1),dumpTelemetry:Ka}),this.initLogs(),this.tuning=function(e){for(var t={},n=0,i=Object.keys(fu);n<i.length;n++){var r=i[n],a=fu[r],o=e[r];Array.isArray(a)&&Array.isArray(o)?t[r]=o:t[r]="object"==typeof a&&"object"==typeof o?re(re({},a),o):null!==o&&void 0!==o?o:a}return t}(n),this.chromecastInitializer=new la({receiverApplicationId:n.chromecastReceiverId,isDisabled:n.disableChromecast,dependencies:{logger:this.logger}}),this.throughputEstimator=new du(this.tuning.throughputEstimator),this.initChromecastSubscription(),this.initDesiredStateSubscriptions(),Proxy&&Reflect)return new Proxy(this,{get:function(e,n,i){var r=Reflect.get(e,n,i);return"function"!=typeof r?r:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];try{return r.apply(e,a)}catch(e){var s=a.map((function(e){return JSON.stringify(e,(function(e,t){var n=typeof t;return["number","string","boolean"].includes(n)?t:null===t?null:"<".concat(n,">")}))})),u="Player.".concat(String(n)),l="Exception calling ".concat(u," (").concat(s.join(", "),")");throw t.events.fatalError$.next({id:u,message:l,thrown:e}),e}}}})}return y(e,[{key:"initVideo",value:function(e){var t,n;return this.config=e,this.domContainer=function(e){var t="string"==typeof e.container?document.getElementById(e.container):e.container;return ar(t,"Wrong container or containerId {".concat(e.container,"}")),t}(e),this.chromecastInitializer.contentId=null===(t=e.meta)||void 0===t?void 0:t.videoId,this.providerContainer=new Ws({screenFormatsPriority:[].concat(Et(hu[ea.SCREEN].live),Et(hu[ea.SCREEN].vod)),chromecastFormatsPriority:[].concat(Et(hu[ea.CHROMECAST].live),Et(hu[ea.CHROMECAST].vod)),sources:e.sources,meta:null!==(n=e.meta)&&void 0!==n?n:{},container:this.domContainer,desiredState:this.desiredState,dependencies:{throughputEstimator:this.throughputEstimator,chromecastInitializer:this.chromecastInitializer,logger:this.logger},tuning:this.tuning}),this.initProviderContainerSubscription(this.providerContainer),this.initStartingVideoTrack(this.providerContainer),this.providerContainer.init(),this.initDebugTelemetry(),this}},{key:"destroy",value:function(){var e;this.events.willDestruct$.next(),null!==(e=this.providerContainer)&&void 0!==e&&e.destroy(),this.throughputEstimator.destroy(),this.chromecastInitializer.destroy(),this.subscription.unsubscribe()}},{key:"play",value:function(){var e=this.desiredState.playbackState;return e.getState()!==Jr.PLAYING&&e.startTransitionTo(Jr.PLAYING),this}},{key:"pause",value:function(){var e=this.desiredState.playbackState;return e.getState()!==Jr.PAUSED&&e.startTransitionTo(Jr.PAUSED),this}},{key:"stop",value:function(){var e=this.desiredState.playbackState;return e.getState()!==Jr.STOPPED&&e.startTransitionTo(Jr.STOPPED),this}},{key:"seekTime",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.events.willSeek$.next({from:this.getExactTime(),to:e}),this.desiredState.seekState.setState({state:ra.Requested,position:1e3*e,forcePrecise:t}),this}},{key:"seekPercent",value:function(e){var t=this.info.duration$.getValue();return isFinite(t)&&this.seekTime(Math.abs(t)*e),this}},{key:"setVolume",value:function(e){return this.chromecastInitializer.castState$.getValue()===ta.CONNECTED?this.chromecastInitializer.setVolume(e):this.desiredState.volume.startTransitionTo({volume:e,muted:this.desiredState.volume.getState().muted}),this}},{key:"setMuted",value:function(e){return this.chromecastInitializer.castState$.getValue()===ta.CONNECTED?this.chromecastInitializer.setMuted(e):this.desiredState.volume.startTransitionTo({volume:this.desiredState.volume.getState().volume,muted:e}),this}},{key:"setQuality",value:function(e){ar(this.providerContainer);var t=this.providerContainer.providerOutput.availableVideoTracks$.getValue();t.length||(this.explicitInitialQuality=e);var n=t.find((function(t){return t.quality===e}));return n&&this.desiredState.videoTrack.startTransitionTo(n.id),this}},{key:"setAutoQuality",value:function(e){return this.desiredState.autoVideoTrackSwitching.startTransitionTo(e),this}},{key:"setAutoQualityLimits",value:function(e){return this.desiredState.autoVideoTrackLimits.setState(e),this}},{key:"setPlaybackRate",value:function(e){var t;ar(this.providerContainer);var n=null===(t=this.providerContainer)||void 0===t?void 0:t.providerOutput.element$.getValue();return n&&(this.desiredState.playbackRate.setState(e),n.playbackRate=e),this}},{key:"setExternalTextTracks",value:function(e){return this.desiredState.externalTextTracks.startTransitionTo(e.map((function(e){return re({type:"external"},e)}))),this}},{key:"selectTextTrack",value:function(e){var t;return(void 0===e||null!==(t=this.providerContainer)&&void 0!==t&&t.providerOutput.availableTextTracks$.getValue().find((function(t){return t.id===e})))&&this.desiredState.currentTextTrack.startTransitionTo(e),this}},{key:"setTextTrackCueSettings",value:function(e){return this.desiredState.textTrackCuesSettings.startTransitionTo(e),this}},{key:"setLooped",value:function(e){return this.desiredState.isLooped.startTransitionTo(e),this}},{key:"toggleChromecast",value:function(){this.chromecastInitializer.toggleConnection()}},{key:"getExactTime",value:function(){ar(this.providerContainer);var e=this.providerContainer.providerOutput.element$.getValue();if(sr(e))return this.info.position$.getValue();var t=this.desiredState.seekState.getState(),n=t.state===ra.None?void 0:t.position;return or(n)?n/1e3:e.currentTime}},{key:"getAllLogs",value:function(){return this.logger.getAllLogs()}},{key:"initDesiredStateSubscriptions",value:function(){var e=this;this.subscription.add(pr(this.desiredState.playbackState.stateChangeStarted$,this.desiredState.playbackState.forceChanged$).pipe($r((function(e){return e.to}))).subscribe(this.info.playbackState$)).add(this.desiredState.isLooped.stateChangeEnded$.pipe($r((function(e){return e.to}))).subscribe(this.info.isLooped$)).add(this.desiredState.playbackRate.stateChangeEnded$.pipe($r((function(e){return e.to}))).subscribe(this.info.currentPlaybackRate$)).add(this.desiredState.autoVideoTrackSwitching.stateChangeEnded$.pipe($r((function(e){return e.to}))).subscribe(this.info.isAutoQualityEnabled$)).add(this.desiredState.autoVideoTrackLimits.stateChangeEnded$.pipe($r((function(e){return e.to}))).subscribe(this.info.autoQualityLimits$));var t=new Zi;this.subscription.add(t),this.subscription.add(this.desiredState.playbackState.stateChangeStarted$.pipe(Sr((function(e){return e.to===Jr.PLAYING})),Sr((function(){return!e.isPlaybackStarted}))).subscribe((function(){e.initedAt=ur(),e.events.inited$.next(),t.unsubscribe(),t.add(e.desiredState.playbackState.stateChangeEnded$.pipe(Sr((function(e){return e.to===Jr.PLAYING||e.to===Jr.PAUSED})),gr(0),Cr()).subscribe((function(t){var n=t.to===Jr.PLAYING,i=e.info.muted$.getValue(),r=n?i?na.SuccessWithoutSound:na.SuccessWithSound:na.Failed;e.events.startAttempt$.next(r)})))}))),this.subscription.add(this.desiredState.playbackState.stateChangeEnded$.pipe(Sr((function(e){return e.to===Jr.PLAYING}))).subscribe((function(){if(!e.isPlaybackStarted){var t=e.info.muted$.getValue();e.isPlaybackStarted=!0,e.events.started$.next(t)}}))).add(this.desiredState.playbackState.stateChangeStarted$.subscribe((function(t){switch(t.to){case Jr.PAUSED:e.events.willPause$.next();break;case Jr.PLAYING:e.isPlaybackStarted&&e.events.willResume$.next()}})))}},{key:"initProviderContainerSubscription",value:function(e){var t=this;this.subscription.add(e.providerOutput.willSeekEvent$.subscribe((function(){var e=t.desiredState.seekState.getState();e.state===ra.Requested?t.desiredState.seekState.setState(re(re({},e),{},{state:ra.Applying})):t.events.managedError$.next({id:"WillSeekIn".concat(e.state),message:"Received unexpeceted willSeek$"})}))).add(e.providerOutput.seekedEvent$.subscribe((function(){t.desiredState.seekState.getState().state===ra.Applying&&(t.desiredState.seekState.setState({state:ra.None}),t.events.seeked$.next())}))).add(e.current$.pipe($r((function(e){return e.type}))).subscribe(this.info.currentFormat$)).add(e.current$.pipe($r((function(e){return e.destination})),Er()).subscribe((function(){t.isPlaybackStarted=!1}))).add(e.providerOutput.availableVideoTracks$.pipe($r((function(e){return e.map((function(e){return e.quality})).sort((function(e,t){return wa(e)?1:wa(t)?-1:ma(t,e)?1:-1}))}))).subscribe(this.info.availableQualities$)).add(e.providerOutput.availableVideoTracks$.subscribe((function(e){var n,i={},r=Hi(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.fps&&(i[a.quality]=a.fps)}}catch(o){r.e(o)}finally{r.f()}t.info.availableQualitiesFps$.next(i)}))).add(e.providerOutput.currentVideoTrack$.subscribe((function(n){t.info.currentQuality$.next(null===n||void 0===n?void 0:n.quality),t.info.videoBitrate$.next(null===n||void 0===n?void 0:n.bitrate);var i=e.providerOutput.element$.getValue();i&&t.info.intrinsicVideoSize$.next({width:i.videoWidth,height:i.videoHeight})}))).add(e.providerOutput.hostname$.pipe(Er()).subscribe(this.info.hostname$)).add(e.providerOutput.httpConnectionType$.pipe(Er()).subscribe(this.info.httpConnectionType$)).add(e.providerOutput.httpConnectionReused$.pipe(Er()).subscribe(this.info.httpConnectionReused$)).add(e.providerOutput.currentTextTrack$.subscribe(this.info.currentTextTrack$)).add(e.providerOutput.availableTextTracks$.subscribe(this.info.availableTextTracks$)).add(e.providerOutput.autoVideoTrackLimitingAvailable$.subscribe(this.info.autoQualityLimitingAvailable$)).add(e.providerOutput.currentBuffer$.pipe($r((function(e){return e?{start:e.from,end:e.to}:{start:0,end:0}}))).subscribe(this.info.currentBuffer$)).add(e.providerOutput.duration$.subscribe(this.info.duration$)).add(e.providerOutput.isBuffering$.subscribe(this.info.isBuffering$)).add(e.providerOutput.isLive$.subscribe(this.info.isLive$)).add(e.providerOutput.liveTime$.subscribe(this.info.liveTime$)).add(e.providerOutput.volume$.pipe($r((function(e){return e.muted})),Er()).subscribe(this.info.muted$)).add(e.providerOutput.volume$.pipe($r((function(e){return e.volume})),Er()).subscribe(this.info.volume$)).add(function(e){var t=e.seekState,n=e.position$;return pr(t.stateChangeEnded$.pipe($r((function(e){var t,n=e.to;return n.state===ra.None?void 0:(null!==(t=n.position)&&void 0!==t?t:NaN)/1e3})),Sr(or)),n.pipe(Sr((function(){return t.getState().state===ra.None}))))}({seekState:this.desiredState.seekState,position$:e.providerOutput.position$}).subscribe(this.info.position$)).add(pr(e.providerOutput.endedEvent$.pipe(Ar(!0)),e.providerOutput.seekedEvent$.pipe(Ar(!1))).pipe(Er()).subscribe(this.info.isEnded$)).add(e.providerOutput.endedEvent$.subscribe(this.events.ended$)).add(e.providerOutput.loopedEvent$.subscribe(this.events.looped$)).add(e.providerError$.subscribe(this.events.managedError$)).add(e.noAvailableProvidersError$.pipe($r((function(e){return{id:"NoProviders",message:"No suitable providers or all providers failed"}}))).subscribe(this.events.fatalError$)).add(e.providerOutput.element$.subscribe(this.experimental.element$)).add(e.providerOutput.firstBytesEvent$.pipe(Cr(),$r((function(){return ur()-t.initedAt}))).subscribe(this.events.firstBytes$)).add(e.providerOutput.firstFrameEvent$.pipe(Cr(),$r((function(){return ur()-t.initedAt}))).subscribe(this.events.firstFrame$)).add(e.providerOutput.canplay$.pipe(Cr(),$r((function(){return ur()-t.initedAt}))).subscribe(this.events.canplay$)).add(this.throughputEstimator.throughput$.subscribe(this.info.throughputEstimation$)).add(this.throughputEstimator.rtt$.subscribe(this.info.rttEstimation$));var n=new dr(!1);this.subscription.add(e.providerOutput.seekedEvent$.subscribe((function(){return n.next(!1)}))).add(e.providerOutput.willSeekEvent$.subscribe((function(){return n.next(!0)})));var i=new dr(!0);this.subscription.add(e.current$.subscribe((function(){return i.next(!0)}))).add(this.desiredState.playbackState.stateChangeEnded$.pipe(Sr((function(e){return e.to===Jr.PLAYING})),Cr()).subscribe((function(){return i.next(!1)})));var r=0,a=pr(e.providerOutput.isBuffering$,n,i).pipe($r((function(){var t=e.providerOutput.isBuffering$.getValue(),r=n.getValue()||i.getValue();return t&&!r})),Er());this.subscription.add(a.subscribe((function(e){e?r=window.setTimeout((function(){return t.info.isStalled$.next(!0)}),t.tuning.stallIgnoreThreshold):(window.clearTimeout(r),t.info.isStalled$.next(!1))})));var o=new Zi;this.subscription.add(o);var s=pr(vr(window,"beforeunload"),this.events.willDestruct$,e.current$.pipe(Sr((function(e){return Boolean(null===e||void 0===e?void 0:e.provider)}))));e.providerOutput.isLive$.pipe(Er()).subscribe((function(e){switch(ar(t.providerContainer),o.unsubscribe(),e){case!0:o.add(pu({seekState:t.desiredState.seekState,playbackState:t.desiredState.playbackState,playbackAbort$:s,looped$:t.events.looped$,position$:t.providerContainer.providerOutput.liveTime$}).pipe($r((function(e){return{start:e.from,end:e.to}}))).subscribe(t.events.watchCoverageLive$));break;case!1:o.add(pu({seekState:t.desiredState.seekState,playbackState:t.desiredState.playbackState,looped$:t.events.looped$,playbackAbort$:s,position$:t.providerContainer.providerOutput.position$}).pipe($r((function(e){return{start:e.from,end:e.to}}))).subscribe(t.events.watchCoverageRecord$))}}))}},{key:"initChromecastSubscription",value:function(){this.subscription.add(this.chromecastInitializer.castState$.subscribe(this.info.chromecastState$)),this.subscription.add(this.chromecastInitializer.connection$.pipe($r((function(e){return null===e||void 0===e?void 0:e.castDevice.friendlyName}))).subscribe(this.info.chromecastDeviceName$)),this.subscription.add(this.chromecastInitializer.errorEvent$.subscribe(this.events.managedError$))}},{key:"initStartingVideoTrack",value:function(e){var t=this,n=new Zi;this.subscription.add(n),this.subscription.add(e.current$.pipe(Er((function(e,t){return e.provider===t.provider}))).subscribe((function(){n.unsubscribe(),n.add(e.providerOutput.availableVideoTracks$.pipe(Sr((function(e){return e.length>0})),Cr()).subscribe((function(e){t.setStartingVideoTrack(e)})))})))}},{key:"setStartingVideoTrack",value:function(e){var t,n=this;this.explicitInitialQuality&&(t=e.find((function(e){return e.quality===n.explicitInitialQuality})),this.explicitInitialQuality=void 0),t||(t=to(e,{container:this.domContainer.getBoundingClientRect(),throughput:this.throughputEstimator.throughput$.getValue(),tuning:this.tuning.autoTrackSelection,limits:this.desiredState.autoVideoTrackLimits.getState(),playbackRate:this.info.currentPlaybackRate$.getValue(),forwardBufferHealth:0})),this.desiredState.videoTrack.startTransitionTo(t.id),this.info.currentQuality$.next(t.quality),this.info.videoBitrate$.next(t.bitrate)}},{key:"initLogs",value:function(){this.subscription.add(pr(this.desiredState.videoTrack.stateChangeStarted$.pipe($r((function(e){return{transition:e,entity:"quality",type:"start"}}))),this.desiredState.videoTrack.stateChangeEnded$.pipe($r((function(e){return{transition:e,entity:"quality",type:"end"}}))),this.desiredState.autoVideoTrackSwitching.stateChangeStarted$.pipe($r((function(e){return{transition:e,entity:"autoQualityEnabled",type:"start"}}))),this.desiredState.autoVideoTrackSwitching.stateChangeEnded$.pipe($r((function(e){return{transition:e,entity:"autoQualityEnabled",type:"end"}}))),this.desiredState.seekState.stateChangeStarted$.pipe($r((function(e){return{transition:e,entity:"seekState",type:"start"}}))),this.desiredState.seekState.stateChangeEnded$.pipe($r((function(e){return{transition:e,entity:"seekState",type:"end"}}))),this.desiredState.playbackState.stateChangeStarted$.pipe($r((function(e){return{transition:e,entity:"playbackState",type:"start"}}))),this.desiredState.playbackState.stateChangeEnded$.pipe($r((function(e){return{transition:e,entity:"playbackState",type:"end"}})))).pipe($r((function(e){return{component:"desiredState",message:"[".concat(e.entity," change] ").concat(e.type,": ").concat(JSON.stringify(e.transition))}}))).subscribe(this.logger.log)),this.subscription.add(this.logger.log$.subscribe(this.events.log$))}},{key:"initDebugTelemetry",value:function(){var e,t=this,n=null===(e=this.providerContainer)||void 0===e?void 0:e.providerOutput;ar(this.providerContainer),ar(n),Qa={},this.experimental.enableDebugTelemetry$.next(this.tuning.enableTelemetryAtStart),[this.experimental.enableDebugTelemetry$.subscribe((function(e){Ya=e})),this.providerContainer.current$.subscribe((function(e){var t=e.type;return Xa("provider",t)})),n.duration$.subscribe((function(e){return Xa("duration",e)})),n.availableVideoTracks$.pipe(Sr((function(e){return!!e.length})),Cr()).subscribe((function(e){return Xa("tracks",e)})),this.events.fatalError$.subscribe(new Ja("fatalError")),this.events.managedError$.subscribe(new Ja("managedError")),n.position$.subscribe(new Ja("position")),n.currentVideoTrack$.pipe($r((function(e){return null===e||void 0===e?void 0:e.quality}))).subscribe(new Ja("quality")),this.info.currentBuffer$.subscribe(new Ja("buffer")),n.isBuffering$.subscribe(new Ja("isBuffering"))].forEach((function(e){return t.subscription.add(e)})),Xa("codecs",Object.keys(Os).filter((function(e){return Os[e]})))}}]),e}(),mu=function(){try{var e=Date.now().toString(),t=window.localStorage;t.setItem(e,e);var n=t.getItem(e)===e;return t.removeItem(e),n?t:null}catch(aa){return null}}(),gu=function(e){return function(e){var t=mu?mu.getItem("_one-stat_"+e):null;if(null===t)return null;try{return JSON.parse(t)}catch(e){return null}}(e)||null},yu=function(e,t){!function(e,t){try{mu&&mu.setItem("_one-stat_"+e,JSON.stringify(t))}catch(e){}}(e,t)};!function(e){e.PROD="prod",e.VK_ALIAS="vk_alias",e.VIDEOTEST="videotest",e.TEST="test",e.AUTO="auto"}(Zs||(Zs={})),function(e){e.Q144P="144",e.Q240P="240",e.Q360P="360",e.Q480P="480",e.Q720P="720",e.Q1080P="1080",e.Q1440P="1440",e.Q2160P="2160",e.Q4320P="4320",e.UNKNOWN="unknown"}(eu||(eu={})),function(e){e.CHROMECAST="chromecast",e.APPLE_TV="appletv",e.PIP="pip",e.HEADPHONES="externalHeadphones",e.SCREEN=""}(tu||(tu={})),function(e){e.MP4="mp4",e.DASH="dash",e.DASH_SEP="dash_sep",e.ONDEMAND_DASH="ondemand_dash",e.HLS="hls",e.ONDEMAND_HLS="ondemand_hls",e.WEBM="webm",e.RTMP="rtmp",e.UNKNOWN="unknown"}(nu||(nu={})),function(e){e.AUTO="auto",e.MANUAL=""}(iu||(iu={})),function(e){e.HTTP1="http1",e.HTTP2="http2",e.HTTP3="http3"}(ru||(ru={})),function(e){e[e.YES=1]="YES",e[e.NO=0]="NO"}(au||(au={}));var bu,wu=(h(Js={},Zs.PROD,"https://api.ok.ru"),h(Js,Zs.VK_ALIAS,"https://api.mycdn.me"),h(Js,Zs.VIDEOTEST,"https://videotestapi.ok.ru/api"),h(Js,Zs.TEST,"https://apitest.ok.ru"),h(Js,Zs.AUTO,""),Js),Su={start:1e3,factor:1.5,max:3e5,random:.1};!function(e){e[e.PARAM_SESSION_EXPIRED=102]="PARAM_SESSION_EXPIRED",e[e.PARAM_SESSION_KEY=103]="PARAM_SESSION_KEY",e[e.PARAM_SIGNATURE=104]="PARAM_SIGNATURE",e[e.AUTH_LOGIN=401]="AUTH_LOGIN"}(bu||(bu={}));var ku=function(){function e(t){m(this,e),h(this,"params",void 0),h(this,"uuid",void 0),h(this,"authToken",void 0),h(this,"sessionKey",void 0),h(this,"authorizePromise",void 0),h(this,"refreshAuthTokenPromise",void 0),h(this,"consequentAuthErrors",0),h(this,"authorized$",new dr(!1)),h(this,"backoffTimeoutId",void 0),this.params=t;var n=gu("uuid");n?this.uuid=String(n):(this.uuid=function(){var e,t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),r=0;for(t=0;t<36;t++)8===t||13===t||18===t||23===t?i[t]="-":14===t?i[t]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,i[t]=n[19===t?3&e|8:e]);return i.join("")}(),yu("uuid",this.uuid))}return y(e,[{key:"authorize",value:function(){var e=Gi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,this.refreshAuthToken();case 6:e.t0=e.sent;case 7:return this.authToken=e.t0,e.abrupt("return",this._authorizeWithBackoff());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logBeacon",value:function(e){var t=this.createLogParams(e),n=this.sessionKey;n&&(this.params.apiTransport.sendBeacon("log.externalLog",t,n)||this.logRequest(e))}},{key:"logRequest",value:function(){var e=Gi(ji().mark((function e(t){var n,i,r,a,o,s=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="log.externalLog",r=this.createLogParams(t),null===(n=this.sessionKey)||void 0===n){e.next=6;break}e.t0=n,e.next=9;break;case 6:return e.next=8,this._authorizeWithBackoff();case 8:e.t0=e.sent;case 9:if(a=e.t0){e.next=12;break}return e.abrupt("return");case 12:return o=function(){var e=Gi(ji().mark((function e(t){var n,u,l=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:s.params.requestRetryCount,e.prev=1,e.next=4,s.params.apiTransport.sendRequest(i,r,a);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0&&"error_code"in e.t0){e.next=11;break}return e.abrupt("return",void s.params.error$.next({id:"logRequestUnknown",message:"Unknown ".concat(i," error"),thrown:e.t0}));case 11:u=null===e.t0||void 0===e.t0?void 0:e.t0.error_code,e.t1=u,e.next=e.t1===bu.PARAM_SESSION_EXPIRED||e.t1===bu.PARAM_SESSION_KEY||e.t1===bu.PARAM_SIGNATURE?15:e.t1===bu.AUTH_LOGIN?20:28;break;case 15:return s.authorized$.next(!1),e.next=18,s._authorizeWithBackoff();case 18:case 26:return s.sessionKey=e.sent,e.abrupt("return",n>0?o(t,n-1):void 0);case 20:return s.authorized$.next(!1),e.next=23,s.refreshAuthToken();case 23:return s.authToken=e.sent,e.next=26,s._authorizeWithBackoff();case 28:return e.abrupt("return",void s.params.error$.next({id:"LogRequest#".concat(u),message:"".concat(i," error"),data:e.t0}));case 29:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",o(t));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){window.clearTimeout(this.backoffTimeoutId),this.backoffTimeoutId=0}},{key:"refreshAuthToken",value:function(){var e=Gi(ji().mark((function e(){var t=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.params.refreshAuthToken){e.next=2;break}return e.abrupt("return",(this.refreshAuthTokenPromise||(this.refreshAuthTokenPromise=this.params.refreshAuthToken().finally((function(){t.refreshAuthTokenPromise=void 0}))),this.refreshAuthTokenPromise));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createLogParams",value:function(e){return{collector:"ok.mobile.apps.video",data:JSON.stringify({application:"@vkontakte/videoplayer-statistics:1.0.25",platform:"WEB",items:e.map((function(e){return re(re({},e),{},{time:0,type:1})}))})}}},{key:"_authorizeWithBackoff",value:function(){var e=this;if(!this.consequentAuthErrors)return this._authorize();var t=cr(this.consequentAuthErrors,Su);return new Promise((function(n){e.backoffTimeoutId||(e.backoffTimeoutId=window.setTimeout((function(){e._authorize().then(n).catch((function(t){return e.params.error$.next({id:"AuthorizeBackoff",message:"Otherwise unhandle errror in authrization",thrown:t})})).finally((function(){return e.backoffTimeoutId=0}))}),t))}))}},{key:"_authorize",value:function(){var e=Gi(ji().mark((function e(){var t,n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.authorizePromise){e.next=2;break}return e.abrupt("return",this.authorizePromise);case 2:return this.sessionKey=void 0,this.authorized$.next(!1),t={session_data:{version:2,device_id:this.uuid,client_version:"1.0.25".split("-")[0],client_type:"SDK_JS"}},e.abrupt("return",(void 0!==this.authToken&&(t.session_data.auth_token=this.authToken,t.session_data.version=3),this.authorizePromise=this.params.apiTransport.sendRequest("auth.anonymLogin",t).then((function(e){var t;return e&&e.session_key||n.params.error$.next({id:"AuthorizeFailed",message:"No session key",data:e}),n.sessionKey=null!==(t=null===e||void 0===e?void 0:e.session_key)&&void 0!==t?t:void 0,n.sessionKey})).catch(function(){var e=Gi(ji().mark((function e(t){var i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sessionKey=void 0,i=null===t||void 0===t?void 0:t.error_code,e.t0=i,e.next=e.t0===bu.AUTH_LOGIN?5:9;break;case 5:return e.next=7,n.refreshAuthToken();case 7:return n.authToken=e.sent,e.abrupt("return",n._authorizeWithBackoff());case 9:i?n.params.error$.next({id:"Authorize#".concat(i),message:"authorize error",data:t}):n.params.error$.next({id:"AuthorizeUnknown",message:"authorize error",thrown:t});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){n.authorizePromise=void 0,n.consequentAuthErrors=n.sessionKey?0:n.consequentAuthErrors+1,n.authorized$.next(void 0!==n.sessionKey)})),this.authorizePromise));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Eu(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}var xu=Eu({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}),Tu=xu?function(e){"function"==typeof e&&(e={fetch:e});var t=e,n=t.fetch,i=t.Request,r=void 0===i?n.Request:i,a=t.AbortController,o=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==o&&o;if(!Eu({fetch:n,Request:r,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:u};var u=r;(u&&!u.prototype.hasOwnProperty("signal")||s)&&(u=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var i=new r(e,t);return n&&Object.defineProperty(i,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),i},u.prototype=r.prototype);var l=n;return{fetch:function(e,t){var n=u&&u.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var i;try{i=new DOMException("Aborted","AbortError")}catch(e){(i=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(i);var r=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(i)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([r,l(e,t)])}return l(e,t)},Request:u}}({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}):void 0,$u=xu?Tu.fetch:window.fetch;xu?Tu.Request:window.Request;var Pu,Au,Cu=function(){function e(t){m(this,e),h(this,"apiKey",void 0),h(this,"apiBaseUrl",void 0),h(this,"apiEnv",void 0),h(this,"isApiBaseUrlFetched",void 0),h(this,"params",void 0),this.params=t,this.apiKey=t.apiKey,this.apiEnv=t.apiEnv,this.apiBaseUrl=t.apiBaseUrl,this.isApiBaseUrlFetched=!1}return y(e,[{key:"resolveApiBaseUrl",value:function(){var e=Gi(ji().mark((function e(){var t,n,i,r,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.apiEnv===Zs.AUTO&&!this.isApiBaseUrlFetched){e.next=2;break}return e.abrupt("return",this.apiBaseUrl);case 2:return e.prev=2,i=atob("aHR0cHM6Ly9kbnMuZ29vZ2xlL3Jlc29sdmU/bmFtZT12aWRlby5fZW5kcG9pbnQub2sucnUmdHlwZT1UWFQ="),e.next=6,$u(i,{method:"GET",mode:"cors",cache:"no-cache"});case 6:return r=e.sent,e.next=9,r.json();case 9:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=13;break}e.t0=void 0===t;case 13:if(!e.t0){e.next=17;break}e.t2=void 0,e.next=18;break;case 17:e.t2=null===(n=t.Answer[0])||void 0===n?void 0:n.data;case 18:if(a=e.t2){e.next=21;break}throw new Error("Wrong DNS response");case 21:return e.abrupt("return",a);case 24:return e.prev=24,e.t3=e.catch(2),e.abrupt("return",(this.params.error$.next({id:"OneStat:ApiTransport:resolveApiBaseUrl",message:"Unhandled resolve api base url error",thrown:e.t3}),wu[Zs.VK_ALIAS]));case 27:return e.prev=27,this.isApiBaseUrlFetched=!0,e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[2,24,27,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendBeacon",value:function(e,t,n){if(!window.Blob||!window.navigator.sendBeacon)return!1;var i=this._prepareQueryParams({method:e,queryParams:t,sessionKey:n}),r=new window.Blob([i.toString()],{type:"application/x-www-form-urlencoded"});try{return window.navigator.sendBeacon("".concat(this.apiBaseUrl,"/fb.do"),r)}catch(n){this.params.error$.next({id:"OneStat:ApiTransport:sendBeacon",message:"Unhandled beacon error",thrown:n,data:{method:e,params:t}})}return!1}},{key:"sendRequest",value:function(){var e=Gi(ji().mark((function e(t,n,i){var r,a,o=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Date.now(),a=function(e){e instanceof TypeError&&["Failed to fetch","NetworkError when attempting to fetch resource."].includes(e.message)?o.params.error$.next({id:"Network",message:"Request failed",thrown:e}):o.params.error$.next({id:"OneStat:ApiTransport:sendRequest",message:"Unhandled request error",thrown:e,data:{method:t,params:n,sessionKey:i,time:Date.now()-r}})},e.next=3,this.resolveApiBaseUrl();case 3:return this.apiBaseUrl=e.sent,e.abrupt("return",$u("".concat(this.apiBaseUrl,"/fb.do"),{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded"},body:this._prepareQueryParams({method:t,queryParams:n,sessionKey:i})}).then((function(e){return Number(e.headers.get("content-length"))>0?e.json().then((function(e){return Object.prototype.hasOwnProperty.call(e,"error_msg")?Promise.reject(e):e}),a):void 0}),a));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"_prepareQueryParams",value:function(e){var t=new URLSearchParams({format:"JSON",method:e.method,application_key:this.apiKey});return void 0!==e.sessionKey&&t.append("session_key",e.sessionKey),Object.entries(e.queryParams).forEach((function(e){var n=s(e,2),i=n[0],r=n[1];return t.append(i,"string"==typeof r?r:JSON.stringify(r))})),t}}]),e}(),_u=function(){function e(t){var n=this;m(this,e),h(this,"api",void 0),h(this,"error$",void 0),h(this,"requestQueue",[]),h(this,"subscription",void 0),h(this,"isPaused",!1),h(this,"debouncedFlush",sa((function(){try{n.flush()}catch(aa){var e;n.error$.next({id:"LoggerError",message:null!==(e=String(aa))&&void 0!==e?e:"Unknown logger error",thrown:aa})}}),3e3,{maxWait:15e3})),this.api=t.api,this.error$=t.error$,this.subscription=this.api.authorized$.subscribe((function(e){e&&n.debouncedFlush()}))}return y(e,[{key:"log",value:function(e){this.requestQueue.push(e),this.isPaused||this.debouncedFlush()}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0!==this.requestQueue.length&&(this.api.authorized$.getValue()?(e?this.api.logBeacon(this.requestQueue):this.api.logRequest(this.requestQueue),this.requestQueue=[]):e||this.api.authorize(),this.debouncedFlush.cancel())}},{key:"pause",value:function(){this.isPaused=!0,this.debouncedFlush.cancel()}},{key:"resume",value:function(){this.isPaused=!1,this.debouncedFlush()}},{key:"destroy",value:function(){this.subscription.unsubscribe()}}]),e}(),Ru=function(){function e(t,n){var i,r=this;m(this,e),h(this,"api",void 0),h(this,"logger",void 0),h(this,"config",void 0),h(this,"subscription",new Zi),h(this,"experimental",void 0),h(this,"statContext",void 0),this.statContext=t,this.config=re(re({},null!==(i=n.config)&&void 0!==i?i:{}),{},{requestRetryCount:1});var a=new ir;this.experimental={error$:a};var o=new Cu({apiKey:"CIOPGQJGDIHBABABA",apiBaseUrl:wu[n.apiEnv],apiEnv:n.apiEnv,error$:a});this.api=new ku({apiTransport:o,refreshAuthToken:n.refreshAuthToken,requestRetryCount:this.config.requestRetryCount,error$:a}),this.logger=new _u({api:this.api,error$:a}),this.subscription.add(vr(window,"beforeunload").subscribe((function(){return r.logger.flush(!0)})))}return y(e,[{key:"updateContext",value:function(e){this.statContext=re(re({},this.statContext),e)}},{key:"authorize",value:function(e){return this.api.authorize(e)}},{key:"pause",value:function(){this.logger.pause()}},{key:"resume",value:function(){this.logger.resume()}},{key:"destroy",value:function(){this.logger.flush(),this.subscription.unsubscribe(),this.api.destroy(),this.logger.destroy()}},{key:"logInited",value:function(){this.log({operation:"init"})}},{key:"logReady",value:function(e){this.log({operation:"player_ready",param:String(e.time)})}},{key:"logStarted",value:function(e){this.log({operation:"play",param:String(Math.round(e.position))})}},{key:"logPlay",value:function(){this.log({operation:"play_toggle"})}},{key:"logPause",value:function(e){this.log({operation:"pause",param:String(Math.round(e.position))})}},{key:"logSeek",value:function(){this.log({operation:"seek"})}},{key:"logFirstBytes",value:function(e){this.log({operation:"first_bytes",param:String(e.time)})}},{key:"logFirstFrame",value:function(e){this.log({operation:"first_frame",param:String(e.time)})}},{key:"logError",value:function(e){this.log({operation:"error",param:e.errorType})}},{key:"logWatchCoverageRecord",value:function(e){this.log({operation:"watch_coverage_record",param:"".concat(e.start,"-").concat(e.end)}),this.logger.flush(!0)}},{key:"logWatchCoverageLive",value:function(e){this.log({operation:"watch_coverage_live",param:"".concat(e.start,"-").concat(e.end)}),this.logger.flush(!0)}},{key:"logEmptyBuffer",value:function(e){this.log({operation:"empty_buffer",param:String(e.duration)})}},{key:"logDownloadSpeed",value:function(e){this.log({operation:"download_speed",param:String(e.speed)})}},{key:"logAdSlotRequest",value:function(){this.log({operation:"adv",param:"slot_request"})}},{key:"logAdStarted",value:function(e){this.log({operation:"adv",param:e})}},{key:"logAdPaused",value:function(){this.log({operation:"adv",param:"pause"})}},{key:"logAdResumed",value:function(){this.log({operation:"adv",param:"resume"})}},{key:"logAdEnded",value:function(){this.log({operation:"adv",param:"ended"})}},{key:"logAdSkipped",value:function(){this.log({operation:"adv",param:"skip"})}},{key:"logAdClicked",value:function(){this.log({operation:"adv",param:"click"})}},{key:"log",value:function(e){var t=this.crateLogItem(e);this.logger.log(t)}},{key:"crateLogItem",value:function(e){var t=e.operation,n=e.param,i=Date.now(),r={vid:this.statContext.movieId,quality:this.statContext.quality,dst:this.statContext.destination,ct:this.statContext.contentType,aid:this.statContext.albumId,place:this.statContext.place,cdn_host:this.statContext.cdnHostname,connection_type:this.statContext.connectionType,connection_reused:!0===this.statContext.connectionReused?au.YES:!1===this.statContext.connectionReused?au.NO:void 0,stat_type:!0===this.statContext.autoplay?iu.AUTO:!1===this.statContext.autoplay?iu.MANUAL:void 0,vk_playlist_id:this.statContext.vkPlaylistId,vk_app_id:this.statContext.vkAppId,track_code:this.statContext.trackCode};return void 0!==n&&(r.param=n),{operation:t,timestamp:i,custom:r}}}]),e}();function Lu(){}function Nu(e){return e()}function Mu(){return Object.create(null)}function Iu(e){e.forEach(Nu)}function Du(e){return"function"==typeof e}function Ou(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function Bu(e,t){return Pu||(Pu=document.createElement("a")),Pu.href=t,e===Pu.href}function Vu(e){if(null==e)return Lu;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=e.subscribe.apply(e,n);return r.unsubscribe?function(){return r.unsubscribe()}:r}function zu(e){var t;return Vu(e,(function(e){return t=e}))(),t}function Uu(e,t,n){e.$$.on_destroy.push(Vu(t,n))}function Fu(e,t,n,i){return e[1]&&i?function(e,t){for(var n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}function qu(e){return null!==e&&void 0!==e?e:""}function Hu(e,t){e.appendChild(t)}function ju(e,t,n){var i=function(e){if(!e)return document;var t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}(e);if(!i.getElementById(t)){var r=Qu("style");r.id=t,r.textContent=n,function(e,t){Hu(e.head||e,t)}(i,r)}}function Wu(e,t,n){e.insertBefore(t,n||null)}function Gu(e){e.parentNode.removeChild(e)}function Yu(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Qu(e){return document.createElement(e)}function Ku(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Xu(e){return document.createTextNode(e)}function Ju(){return Xu(" ")}function Zu(){return Xu("")}function el(e,t,n,i){return e.addEventListener(t,n,i),function(){return e.removeEventListener(t,n,i)}}function tl(e){return function(t){return t.preventDefault(),e.call(this,t)}}function nl(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function il(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function rl(e,t,n,i){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function al(e,t,n){e.classList[n?"add":"remove"](t)}function ol(e){Au=e}function sl(){if(!Au)throw new Error("Function called outside component initialization");return Au}function ul(e){sl().$$.on_mount.push(e)}function ll(e,t){var n=this,i=e.$$.callbacks[t.type];i&&i.slice().forEach((function(e){return e.call(n,t)}))}var cl=[],dl=[],fl=[],pl=[],hl=Promise.resolve(),vl=!1;function ml(e){fl.push(e)}var gl=new Set,yl=0;function bl(){var e=Au;do{for(;yl<cl.length;){var t=cl[yl];yl++,ol(t),wl(t.$$)}for(ol(null),cl.length=0,yl=0;dl.length;)dl.pop()();for(var n=0;n<fl.length;n+=1){var i=fl[n];gl.has(i)||(gl.add(i),i())}fl.length=0}while(cl.length);for(;pl.length;)pl.pop()();vl=!1,gl.clear(),ol(e)}function wl(e){if(null!==e.fragment){e.update(),Iu(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ml)}}var Sl,kl=new Set;function El(){Sl={r:0,c:[],p:Sl}}function xl(){Sl.r||Iu(Sl.c),Sl=Sl.p}function Tl(e,t){e&&e.i&&(kl.delete(e),e.i(t))}function $l(e,t,n,i){if(e&&e.o){if(kl.has(e))return;kl.add(e),Sl.c.push((function(){kl.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}var Pl="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Al(e){e&&e.c()}function Cl(e,t,n,i){var r=e.$$,a=r.fragment,o=r.on_mount,s=r.on_destroy,u=r.after_update;a&&a.m(t,n),i||ml((function(){var t=o.map(Nu).filter(Du);s?s.push.apply(s,Et(t)):Iu(t),e.$$.on_mount=[]})),u.forEach(ml)}function _l(e,t){var n=e.$$;null!==n.fragment&&(Iu(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Rl(e,t){-1===e.$$.dirty[0]&&(cl.push(e),vl||(vl=!0,hl.then(bl)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ll(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],u=Au;ol(e);var l=e.$$={fragment:null,ctx:null,props:a,update:Lu,not_equal:r,bound:Mu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Mu(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};o&&o(l.root);var c=!1;if(l.ctx=n?n(e,t.props||{},(function(t,n){var i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return l.ctx&&r(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),c&&Rl(e,t)),n})):[],l.update(),c=!0,Iu(l.before_update),l.fragment=!!i&&i(l.ctx),t.target){if(t.hydrate){var d=function(e){return Array.from(e.childNodes)}(t.target);l.fragment&&l.fragment.l(d),d.forEach(Gu)}else l.fragment&&l.fragment.c();t.intro&&Tl(e.$$.fragment),Cl(e,t.target,t.anchor,t.customElement),bl()}ol(u)}var Nl=function(){function e(){m(this,e)}return y(e,[{key:"$destroy",value:function(){_l(this,1),this.$destroy=Lu}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}(),Ml=[];function Il(e,t){return{subscribe:Dl(e,t).subscribe}}function Dl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lu,i=new Set;function r(n){if(Ou(e,n)&&(e=n,t)){var r,a=!Ml.length,o=Hi(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;s[1](),Ml.push(s,e)}}catch(l){o.e(l)}finally{o.f()}if(a){for(var u=0;u<Ml.length;u+=2)Ml[u][0](Ml[u+1]);Ml.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lu,s=[a,o];return i.add(s),1===i.size&&(t=n(r)||Lu),a(e),function(){i.delete(s),0===i.size&&(t(),t=null)}}}}function Ol(e,t,n){var i=!Array.isArray(e),r=i?[e]:e,a=t.length<2;return Il(n,(function(e){var n=!1,o=[],s=0,u=Lu,l=function(){if(!s){u();var n=t(i?o[0]:o,e);a?e(n):u=Du(n)?n:Lu}},c=r.map((function(e,t){return Vu(e,(function(e){o[t]=e,s&=~(1<<t),n&&l()}),(function(){s|=1<<t}))}));return n=!0,l(),function(){Iu(c),u()}}))}var Bl,Vl,zl=Symbol("storeContext"),Ul=function(){var e,t=(e=zl,sl().$$.context.get(e));return ar(t,"Store context is empty!"),t},Fl=function(e){var t;return e&&(t={},h(t,da.INVARIANT,eu.UNKNOWN),h(t,da.Q_144P,eu.Q144P),h(t,da.Q_240P,eu.Q240P),h(t,da.Q_360P,eu.Q360P),h(t,da.Q_480P,eu.Q480P),h(t,da.Q_720P,eu.Q720P),h(t,da.Q_1080P,eu.Q1080P),h(t,da.Q_1440P,eu.Q1440P),h(t,da.Q_2160P,eu.Q2160P),h(t,da.Q_4320P,eu.Q4320P),t)[e]},ql=function(e){var t;return e&&(t={},h(t,ia.HTTP1,ru.HTTP1),h(t,ia.HTTP2,ru.HTTP2),h(t,ia.QUIC,ru.HTTP3),t)[e]},Hl=function(e){if(void 0!==e)switch(e){case Zr.MPEG:return nu.MP4;case Zr.DASH:case Zr.DASH_LIVE:return nu.DASH;case Zr.DASH_SEP:return nu.DASH_SEP;case Zr.DASH_ONDEMAND:return nu.ONDEMAND_DASH;case Zr.DASH_WEBM:case Zr.DASH_LIVE_WEBM:return nu.WEBM;case Zr.HLS:case Zr.HLS_LIVE:return nu.HLS;case Zr.HLS_ONDEMAND:return nu.ONDEMAND_HLS;case Zr.WEB_RTC_LIVE:return nu.RTMP;default:return er(e)}},jl=function(e,t){return Il(e.getValue(),(function(n){var i=e.subscribe((function(e){n(e),null===t||void 0===t||t(e)}));return function(){return i.unsubscribe()}}))};(Vl=Bl||(Bl={})).ArrowLeft="ArrowLeft",Vl.ArrowUp="ArrowUp",Vl.ArrowRight="ArrowRight",Vl.ArrowDown="ArrowDown",Vl.Space="Space",Vl.KeyM="KeyM",Vl.KeyF="KeyF",Vl.KeyK="KeyK",Vl.KeyL="KeyL",Vl.KeyJ="KeyJ";var Wl="data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M13.25 2.833c.222.74.378 1.479 1.574 2.19a.574.574 0 0 0 .12.05c1.355.35 2.028-.021 2.654-.439.663-.442.86-.314 1.124-.053l.644.643c.294.294.412.412 0 1.178-.366.68-.779 1.313-.435 2.662a.469.469 0 0 0 .05.12c.71 1.206 1.448 1.418 2.186 1.566.78.156.83.386.833.757v.91c0 .416 0 .583-.833.833-.74.222-1.479.378-2.19 1.574a.469.469 0 0 0-.05.12c-.35 1.355.021 2.028.439 2.654.442.663.314.86.053 1.124l-.643.644c-.294.294-.412.412-1.178 0-.68-.366-1.313-.779-2.662-.435a.464.464 0 0 0-.12.05c-1.206.71-1.418 1.448-1.566 2.186-.156.78-.386.83-.757.833h-.91c-.416 0-.583 0-.833-.833-.222-.74-.378-1.479-1.574-2.19a.468.468 0 0 0-.12-.05c-1.355-.35-2.028.021-2.654.439-.663.442-.86.314-1.124.053l-.644-.643c-.294-.294-.412-.412 0-1.178.366-.68.779-1.313.435-2.662a.466.466 0 0 0-.05-.12c-.71-1.206-1.448-1.418-2.186-1.566-.78-.156-.83-.386-.833-.757v-.91c0-.416 0-.583.833-.833.74-.222 1.479-.378 2.19-1.574a.467.467 0 0 0 .05-.12c.35-1.355-.021-2.028-.439-2.654-.442-.663-.314-.86-.053-1.124l.643-.644c.294-.294.412-.412 1.178 0 .68.366 1.313.779 2.662.435a.467.467 0 0 0 .12-.05c1.206-.71 1.418-1.448 1.566-2.186.156-.78.386-.83.757-.833h.91c.416 0 .583 0 .833.833zM12 7.25a4.75 4.75 0 1 0 0 9.5 4.75 4.75 0 0 0 0-9.5z' fill='white'/%3e%3c/svg%3e",Gl="data:image/svg+xml,%3csvg height='16' width='16' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 10.2 3.5 7.7a.99.99 0 0 0-1.4 1.4l3.2 3.2a1 1 0 0 0 1.4 0l7.6-7.6a.99.99 0 0 0-1.4-1.4z' fill='white'/%3e%3c/svg%3e",Yl="data:image/svg+xml,%3csvg width='12' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m5.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 0 1 1.272 1.272L5.773 8z' fill='white'/%3e%3c/svg%3e",Ql=function(e){if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}};function Kl(e){ju(e,"svelte-39yuhr","ul.svelte-39yuhr.svelte-39yuhr{margin:0;padding:0}.menu.svelte-39yuhr.svelte-39yuhr{background-color:rgba(17, 17, 17, 0.8);border-radius:8px;line-height:40px;transition:opacity 0.2s, visibility 0.2s}.container-mobile.svelte-39yuhr.svelte-39yuhr{width:100%}.menu-desktop.svelte-39yuhr.svelte-39yuhr{position:absolute;right:0;bottom:0}.menu-mobile.svelte-39yuhr.svelte-39yuhr{width:100%;background:var(--videplayer-mobile-settings-bg);font-size:15px;line-height:48px}.hidden.svelte-39yuhr.svelte-39yuhr{visibility:hidden;opacity:0}.menu-mobile.hidden.svelte-39yuhr.svelte-39yuhr{display:none}.menu-subList.svelte-39yuhr.svelte-39yuhr{min-width:134px;padding-bottom:0}.item.svelte-39yuhr.svelte-39yuhr{align-items:center;color:var(--white);cursor:pointer;display:flex;justify-content:flex-end;padding:0 24px 0 18px;white-space:nowrap;position:relative}.item-mobile.svelte-39yuhr.svelte-39yuhr{padding:0 14px}.item-quality.item-mobile.svelte-39yuhr.svelte-39yuhr{flex-direction:row-reverse}.quality-title-mobile.svelte-39yuhr.svelte-39yuhr{flex-grow:1}.item.svelte-39yuhr.svelte-39yuhr:hover{background-color:rgba(255, 255, 255, 0.08)}.item-mobile.svelte-39yuhr.svelte-39yuhr:hover{background:var(--videplayer-mobile-settings-bg)}.menu-subList.svelte-39yuhr .item.svelte-39yuhr{color:rgba(255, 255, 255, 0.9)}.menu-subList.svelte-39yuhr .item.svelte-39yuhr:last-child{margin-bottom:4px}.menu-icon.svelte-39yuhr.svelte-39yuhr{margin-right:16px}.menu-title.svelte-39yuhr.svelte-39yuhr{flex-grow:1;margin-right:24px;overflow:hidden;text-overflow:ellipsis}.menu-value.svelte-39yuhr.svelte-39yuhr{position:relative;opacity:0.7}.menu-valueIcon.svelte-39yuhr.svelte-39yuhr{position:absolute;top:10px;margin-left:4px;width:15px}.menu-valueIcon-list.svelte-39yuhr.svelte-39yuhr{position:absolute;top:12px;width:15px;right:6px}.menu-divider.svelte-39yuhr.svelte-39yuhr{background-color:rgba(255, 255, 255, 0.3);height:1px;margin-bottom:4px}.menu-header.svelte-39yuhr.svelte-39yuhr{color:var(--white);cursor:pointer;justify-content:space-between;display:flex}.menu-header-back-icon.svelte-39yuhr.svelte-39yuhr{width:16px;height:24px}.menu-header.svelte-39yuhr:hover .menu-header-back-icon.svelte-39yuhr{opacity:0.8;transition:opacity 0.2s}.itemIcon.svelte-39yuhr.svelte-39yuhr{margin-right:auto;opacity:0.9}.items.svelte-39yuhr.svelte-39yuhr::-webkit-scrollbar{width:8px}.items.svelte-39yuhr.svelte-39yuhr::-webkit-scrollbar-track{box-shadow:none;background-color:#3a3a3a;border-radius:4px}.items.svelte-39yuhr.svelte-39yuhr::-webkit-scrollbar-thumb{min-height:40px;border-radius:5px;background-color:#666;border:1px solid transparent;background-clip:padding-box}.items.svelte-39yuhr.svelte-39yuhr::-webkit-scrollbar-thumb:hover{background-color:#777}.items-mobile.svelte-39yuhr.svelte-39yuhr{overflow-y:auto;max-height:160px}.close.svelte-39yuhr.svelte-39yuhr{position:relative;width:12px;height:12px;padding:12px;margin-right:-12px}.close.svelte-39yuhr.svelte-39yuhr:before,.close.svelte-39yuhr.svelte-39yuhr:after{position:absolute;left:18px;content:' ';height:12px;width:2px;background-color:var(--white)}.close.svelte-39yuhr.svelte-39yuhr:before{transform:rotate(45deg)}.close.svelte-39yuhr.svelte-39yuhr:after{transform:rotate(-45deg)}")}function Xl(e,t,n){var i=e.slice();return i[42]=t[n],i}function Jl(e,t,n){var i=e.slice();return i[45]=t[n],i}function Zl(e){var t,n,i,r,a,o,s,u;return{c:function(){t=Qu("div"),(n=Qu("div")).textContent="\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",i=Ju(),r=Qu("div"),a=Ju(),o=Qu("div"),nl(r,"class","close svelte-39yuhr"),nl(t,"class","item menu-header svelte-39yuhr"),al(t,"item-mobile",e[0]),nl(o,"class","menu-divider svelte-39yuhr")},m:function(l,c){Wu(l,t,c),Hu(t,n),Hu(t,i),Hu(t,r),Wu(l,a,c),Wu(l,o,c),s||(u=el(r,"click",e[22]),s=!0)},p:function(e,n){1&n[0]&&al(t,"item-mobile",e[0])},d:function(e){e&&Gu(t),e&&Gu(a),e&&Gu(o),s=!1,u()}}}function ec(e){var t,n;return{c:function(){nl(t=Qu("img"),"class","menu-valueIcon svelte-39yuhr"),Bu(t.src,n=e[6])||nl(t,"src",n),nl(t,"alt","")},m:function(e,n){Wu(e,t,n)},p:function(e,i){64&i[0]&&!Bu(t.src,n=e[6])&&nl(t,"src",n)},d:function(e){e&&Gu(t)}}}function tc(e){var t,n,i,r,a,o,s,u,l,c;return{c:function(){t=Qu("li"),n=Qu("img"),i=Ju(),(r=Qu("div")).textContent="\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",a=Ju(),o=Qu("div"),s=Xu(e[10]),u=Xu("x"),nl(n,"class","menu-icon svelte-39yuhr"),Bu(n.src,"data:image/svg+xml,%3csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cpath d='M0 0h24v24H0z'/%3e%3cpath d='M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69A7.941 7.941 0 0 1 11 4.07zM5.69 7.1 4.26 5.68A9.949 9.949 0 0 0 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM2.05 13c.2 2.01 1 3.84 2.21 5.32l1.43-1.43A7.868 7.868 0 0 1 4.07 13zM11 21.95v-2.02a7.941 7.941 0 0 1-3.9-1.62l-1.42 1.43A9.981 9.981 0 0 0 11 21.95zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12zM10.688 8.576l4.746 2.736a.792.792 0 0 1 0 1.372l-4.746 2.737a.792.792 0 0 1-1.188-.686V9.262a.792.792 0 0 1 1.188-.686z' fill='white' fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e")||nl(n,"src","data:image/svg+xml,%3csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cpath d='M0 0h24v24H0z'/%3e%3cpath d='M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69A7.941 7.941 0 0 1 11 4.07zM5.69 7.1 4.26 5.68A9.949 9.949 0 0 0 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM2.05 13c.2 2.01 1 3.84 2.21 5.32l1.43-1.43A7.868 7.868 0 0 1 4.07 13zM11 21.95v-2.02a7.941 7.941 0 0 1-3.9-1.62l-1.42 1.43A9.981 9.981 0 0 0 11 21.95zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12zM10.688 8.576l4.746 2.736a.792.792 0 0 1 0 1.372l-4.746 2.737a.792.792 0 0 1-1.188-.686V9.262a.792.792 0 0 1 1.188-.686z' fill='white' fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e"),nl(n,"alt",""),nl(r,"class","menu-title svelte-39yuhr"),nl(o,"class","menu-value svelte-39yuhr"),nl(t,"class","item svelte-39yuhr"),nl(t,"role","menuitemradio"),nl(t,"tabindex","0"),al(t,"item-mobile",e[0])},m:function(d,f){Wu(d,t,f),Hu(t,n),Hu(t,i),Hu(t,r),Hu(t,a),Hu(t,o),Hu(o,s),Hu(o,u),l||(c=el(t,"click",e[26]),l=!0)},p:function(e,n){1024&n[0]&&il(s,e[10]),1&n[0]&&al(t,"item-mobile",e[0])},d:function(e){e&&Gu(t),l=!1,c()}}}function nc(e){var t,n,i,r,a,o,s,u,l,c,d,f,p,h,v,m;return{c:function(){t=Qu("li"),n=Qu("img"),i=Ju(),(r=Qu("div")).textContent="\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435",a=Ju(),o=Qu("li"),s=Qu("img"),u=Ju(),(l=Qu("div")).textContent="\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438",c=Ju(),d=Qu("li"),f=Qu("img"),p=Ju(),(h=Qu("div")).textContent="\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",nl(n,"class","menu-icon svelte-39yuhr"),Bu(n.src,"data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.863 2.1h6.274c.674-.002 1.2.211 1.683.697l4.383 4.383c.478.476.699.998.697 1.683v6.274c.002.685-.22 1.207-.697 1.683l-4.383 4.383c-.476.478-.998.699-1.683.697H8.863c-.685.002-1.207-.22-1.683-.697L2.797 16.82c-.478-.476-.699-.998-.697-1.683V8.863c-.002-.685.22-1.207.697-1.683L7.18 2.797c.484-.486 1.009-.699 1.683-.697zm-.445 2.005L4.105 8.418c-.18.18-.205.242-.205.495v6.174c0 .25.025.316.205.495l4.313 4.313c.179.179.24.205.495.205h6.174c.253 0 .316-.026.495-.205l4.313-4.313c.18-.18.205-.245.205-.495V8.913c0-.254-.026-.316-.205-.495l-4.313-4.313c-.18-.18-.242-.205-.495-.205H8.913c-.254 0-.319.029-.495.205zM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-.1-8.1a.9.9 0 0 0-1.8 0v5.2a.9.9 0 1 0 1.8 0V7.9z' fill='white'/%3e%3c/svg%3e")||nl(n,"src","data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.863 2.1h6.274c.674-.002 1.2.211 1.683.697l4.383 4.383c.478.476.699.998.697 1.683v6.274c.002.685-.22 1.207-.697 1.683l-4.383 4.383c-.476.478-.998.699-1.683.697H8.863c-.685.002-1.207-.22-1.683-.697L2.797 16.82c-.478-.476-.699-.998-.697-1.683V8.863c-.002-.685.22-1.207.697-1.683L7.18 2.797c.484-.486 1.009-.699 1.683-.697zm-.445 2.005L4.105 8.418c-.18.18-.205.242-.205.495v6.174c0 .25.025.316.205.495l4.313 4.313c.179.179.24.205.495.205h6.174c.253 0 .316-.026.495-.205l4.313-4.313c.18-.18.205-.245.205-.495V8.913c0-.254-.026-.316-.205-.495l-4.313-4.313c-.18-.18-.242-.205-.495-.205H8.913c-.254 0-.319.029-.495.205zM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-.1-8.1a.9.9 0 0 0-1.8 0v5.2a.9.9 0 1 0 1.8 0V7.9z' fill='white'/%3e%3c/svg%3e"),nl(n,"alt",""),nl(r,"class","menu-title svelte-39yuhr"),nl(t,"class","item item-mobile svelte-39yuhr"),nl(t,"role","menuitemradio"),nl(t,"tabindex","0"),nl(s,"class","menu-icon svelte-39yuhr"),Bu(s.src,"data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 12.3V12c0-1.47.005-2.547.075-3.403.074-.904.216-1.482.454-1.949a4.85 4.85 0 0 1 2.12-2.12c.466-.237 1.044-.379 1.948-.453C9.51 4.001 10.675 4 12.3 4H16.812a2.073 2.073 0 0 0-.174-.49 2.4 2.4 0 0 0-1.048-1.048 2.439 2.439 0 0 0-.931-.239 13.48 13.48 0 0 0-1.026-.023H12.26c-1.576 0-2.814 0-3.81.081-1.014.083-1.856.255-2.62.644A6.65 6.65 0 0 0 2.926 5.83c-.389.763-.56 1.605-.644 2.62-.081.995-.081 2.233-.081 3.809v1.373c0 .392 0 .738.023 1.025.025.306.081.623.239.931a2.4 2.4 0 0 0 1.048 1.05c.162.082.326.136.49.173V12.3zM10.08 6h-.035c-.52 0-.964 0-1.329.03-.383.03-.755.097-1.112.276a2.9 2.9 0 0 0-1.298 1.298c-.179.357-.246.73-.277 1.112C6 9.081 6 9.524 6 10.046v7.909c0 .52 0 .964.03 1.329.03.382.097.755.276 1.112a2.9 2.9 0 0 0 1.298 1.298c.357.179.73.246 1.112.277.365.029.808.029 1.329.029h6.91c.52 0 .964 0 1.329-.03.382-.03.755-.097 1.112-.276a2.9 2.9 0 0 0 1.298-1.298c.179-.357.246-.73.277-1.112.029-.365.029-.808.029-1.33v-7.909c0-.52 0-.964-.03-1.329-.03-.382-.097-.755-.276-1.112a2.9 2.9 0 0 0-1.298-1.298c-.357-.179-.73-.246-1.112-.277C17.919 6 17.476 6 16.954 6H10.08zM8.408 7.916c.065-.032.179-.07.452-.093.284-.022.655-.023 1.22-.023h6.84c.565 0 .936 0 1.22.023.273.022.387.06.452.093a1.1 1.1 0 0 1 .492.492c.032.065.07.179.093.452.022.284.023.655.023 1.22v7.84c0 .565 0 .936-.023 1.22-.023.273-.06.387-.093.452a1.1 1.1 0 0 1-.492.492c-.065.032-.18.07-.452.093-.284.022-.655.023-1.22.023h-6.84c-.565 0-.936 0-1.22-.023-.273-.023-.387-.06-.452-.093a1.1 1.1 0 0 1-.492-.492c-.032-.065-.07-.18-.093-.452a17.057 17.057 0 0 1-.023-1.22v-7.84c0-.565 0-.936.023-1.22.022-.273.06-.387.093-.452a1.1 1.1 0 0 1 .492-.492z' fill='white'/%3e%3c/svg%3e")||nl(s,"src","data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 12.3V12c0-1.47.005-2.547.075-3.403.074-.904.216-1.482.454-1.949a4.85 4.85 0 0 1 2.12-2.12c.466-.237 1.044-.379 1.948-.453C9.51 4.001 10.675 4 12.3 4H16.812a2.073 2.073 0 0 0-.174-.49 2.4 2.4 0 0 0-1.048-1.048 2.439 2.439 0 0 0-.931-.239 13.48 13.48 0 0 0-1.026-.023H12.26c-1.576 0-2.814 0-3.81.081-1.014.083-1.856.255-2.62.644A6.65 6.65 0 0 0 2.926 5.83c-.389.763-.56 1.605-.644 2.62-.081.995-.081 2.233-.081 3.809v1.373c0 .392 0 .738.023 1.025.025.306.081.623.239.931a2.4 2.4 0 0 0 1.048 1.05c.162.082.326.136.49.173V12.3zM10.08 6h-.035c-.52 0-.964 0-1.329.03-.383.03-.755.097-1.112.276a2.9 2.9 0 0 0-1.298 1.298c-.179.357-.246.73-.277 1.112C6 9.081 6 9.524 6 10.046v7.909c0 .52 0 .964.03 1.329.03.382.097.755.276 1.112a2.9 2.9 0 0 0 1.298 1.298c.357.179.73.246 1.112.277.365.029.808.029 1.329.029h6.91c.52 0 .964 0 1.329-.03.382-.03.755-.097 1.112-.276a2.9 2.9 0 0 0 1.298-1.298c.179-.357.246-.73.277-1.112.029-.365.029-.808.029-1.33v-7.909c0-.52 0-.964-.03-1.329-.03-.382-.097-.755-.276-1.112a2.9 2.9 0 0 0-1.298-1.298c-.357-.179-.73-.246-1.112-.277C17.919 6 17.476 6 16.954 6H10.08zM8.408 7.916c.065-.032.179-.07.452-.093.284-.022.655-.023 1.22-.023h6.84c.565 0 .936 0 1.22.023.273.022.387.06.452.093a1.1 1.1 0 0 1 .492.492c.032.065.07.179.093.452.022.284.023.655.023 1.22v7.84c0 .565 0 .936-.023 1.22-.023.273-.06.387-.093.452a1.1 1.1 0 0 1-.492.492c-.065.032-.18.07-.452.093-.284.022-.655.023-1.22.023h-6.84c-.565 0-.936 0-1.22-.023-.273-.023-.387-.06-.452-.093a1.1 1.1 0 0 1-.492-.492c-.032-.065-.07-.18-.093-.452a17.057 17.057 0 0 1-.023-1.22v-7.84c0-.565 0-.936.023-1.22.022-.273.06-.387.093-.452a1.1 1.1 0 0 1 .492-.492z' fill='white'/%3e%3c/svg%3e"),nl(s,"alt",""),nl(l,"class","menu-title svelte-39yuhr"),nl(o,"class","item item-mobile svelte-39yuhr"),nl(o,"role","menuitemradio"),nl(o,"tabindex","0"),nl(f,"class","menu-icon svelte-39yuhr"),Bu(f.src,"data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12 20.105a8.105 8.105 0 1 0 0-16.21 8.105 8.105 0 0 0 0 16.21zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-12.372a1.316 1.316 0 1 1 0-2.632 1.316 1.316 0 0 1 0 2.632zm-.947 2.822c0-.541.424-.98.947-.98.523 0 .947.439.947.98v3.83c0 .54-.424.98-.947.98-.523 0-.947-.44-.947-.98v-3.83z' fill='white'/%3e%3c/svg%3e")||nl(f,"src","data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12 20.105a8.105 8.105 0 1 0 0-16.21 8.105 8.105 0 0 0 0 16.21zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-12.372a1.316 1.316 0 1 1 0-2.632 1.316 1.316 0 0 1 0 2.632zm-.947 2.822c0-.541.424-.98.947-.98.523 0 .947.439.947.98v3.83c0 .54-.424.98-.947.98-.523 0-.947-.44-.947-.98v-3.83z' fill='white'/%3e%3c/svg%3e"),nl(f,"alt",""),nl(h,"class","menu-title svelte-39yuhr"),nl(d,"class","item item-mobile svelte-39yuhr"),nl(d,"role","menuitemradio"),nl(d,"tabindex","0")},m:function(g,y){Wu(g,t,y),Hu(t,n),Hu(t,i),Hu(t,r),Wu(g,a,y),Wu(g,o,y),Hu(o,s),Hu(o,u),Hu(o,l),Wu(g,c,y),Wu(g,d,y),Hu(d,f),Hu(d,p),Hu(d,h),v||(m=[el(t,"click",e[28]),el(o,"click",e[29]),el(d,"click",e[30])],v=!0)},p:Lu,d:function(e){e&&Gu(t),e&&Gu(a),e&&Gu(o),e&&Gu(c),e&&Gu(d),v=!1,Iu(m)}}}function ic(e){var t;return{c:function(){nl(t=Qu("img"),"class","itemIcon svelte-39yuhr"),Bu(t.src,Gl)||nl(t,"src","data:image/svg+xml,%3csvg height='16' width='16' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 10.2 3.5 7.7a.99.99 0 0 0-1.4 1.4l3.2 3.2a1 1 0 0 0 1.4 0l7.6-7.6a.99.99 0 0 0-1.4-1.4z' fill='white'/%3e%3c/svg%3e"),nl(t,"alt","")},m:function(e,n){Wu(e,t,n)},p:Lu,d:function(e){e&&Gu(t)}}}function rc(e){var t,n;return{c:function(){nl(t=Qu("img"),"class","menu-valueIcon-list svelte-39yuhr"),Bu(t.src,n=e[31](e[45].value))||nl(t,"src",n),nl(t,"alt","")},m:function(e,n){Wu(e,t,n)},p:function(e,i){2&i[0]&&!Bu(t.src,n=e[31](e[45].value))&&nl(t,"src",n)},d:function(e){e&&Gu(t)}}}function ac(e){var t,n,i,r,a,o,s,u,l,c=e[45].displayValue+"",d=e[45].selected&&ic(),f=!e[0]&&rc(e);function p(){return e[37](e[45])}return{c:function(){t=Qu("li"),d&&d.c(),n=Ju(),i=Qu("div"),r=Xu(c),a=Ju(),f&&f.c(),o=Ju(),nl(i,"class","svelte-39yuhr"),al(i,"quality-title-mobile",e[0]),nl(t,"class","item item-quality svelte-39yuhr"),nl(t,"data-value",s=e[45].value),nl(t,"role","menuitemradio"),nl(t,"tabindex","0"),al(t,"item-mobile",e[0])},m:function(e,s){Wu(e,t,s),d&&d.m(t,null),Hu(t,n),Hu(t,i),Hu(i,r),Hu(t,a),f&&f.m(t,null),Hu(t,o),u||(l=el(t,"click",p),u=!0)},p:function(a,u){(e=a)[45].selected?d?d.p(e,u):((d=ic()).c(),d.m(t,n)):d&&(d.d(1),d=null),2&u[0]&&c!==(c=e[45].displayValue+"")&&il(r,c),1&u[0]&&al(i,"quality-title-mobile",e[0]),e[0]?f&&(f.d(1),f=null):f?f.p(e,u):((f=rc(e)).c(),f.m(t,o)),2&u[0]&&s!==(s=e[45].value)&&nl(t,"data-value",s),1&u[0]&&al(t,"item-mobile",e[0])},d:function(e){e&&Gu(t),d&&d.d(),f&&f.d(),u=!1,l()}}}function oc(e){var t;return{c:function(){nl(t=Qu("img"),"class","itemIcon svelte-39yuhr"),Bu(t.src,Gl)||nl(t,"src","data:image/svg+xml,%3csvg height='16' width='16' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 10.2 3.5 7.7a.99.99 0 0 0-1.4 1.4l3.2 3.2a1 1 0 0 0 1.4 0l7.6-7.6a.99.99 0 0 0-1.4-1.4z' fill='white'/%3e%3c/svg%3e"),nl(t,"alt","")},m:function(e,n){Wu(e,t,n)},p:Lu,d:function(e){e&&Gu(t)}}}function sc(e){var t,n,i,r,a,o,s,u,l=e[42].displayValue+"",c=e[42].selected&&oc();function d(){return e[38](e[42])}return{c:function(){t=Qu("li"),c&&c.c(),n=Ju(),i=Qu("div"),r=Xu(l),a=Ju(),nl(i,"class","svelte-39yuhr"),al(i,"quality-title-mobile",e[0]),nl(t,"class","item item-quality svelte-39yuhr"),nl(t,"data-value",o=e[42].value),nl(t,"role","menuitemradio"),nl(t,"tabindex","0"),al(t,"item-mobile",e[0])},m:function(e,o){Wu(e,t,o),c&&c.m(t,null),Hu(t,n),Hu(t,i),Hu(i,r),Hu(t,a),s||(u=el(t,"click",d),s=!0)},p:function(a,s){(e=a)[42].selected?c?c.p(e,s):((c=oc()).c(),c.m(t,n)):c&&(c.d(1),c=null),2048&s[0]&&l!==(l=e[42].displayValue+"")&&il(r,l),1&s[0]&&al(i,"quality-title-mobile",e[0]),2048&s[0]&&o!==(o=e[42].value)&&nl(t,"data-value",o),1&s[0]&&al(t,"item-mobile",e[0])},d:function(e){e&&Gu(t),c&&c.d(),s=!1,u()}}}function uc(e){for(var t,n,i,r,a,o,s,u,l,c,d,f,p,h,v,m,g,y,b,w,S,k,E,x,T,$,P,A,C,_,R,L,N,M,I,D,O=e[0]&&Zl(e),B=e[6]&&!e[0]&&ec(e),V=e[0]&&!e[9]&&tc(e),z=e[0]&&nc(e),U=e[1],F=[],q=0;q<U.length;q+=1)F[q]=ac(Jl(e,U,q));for(var H=e[11],j=[],W=0;W<H.length;W+=1)j[W]=sc(Xl(e,H,W));return{c:function(){t=Qu("div"),n=Qu("div"),O&&O.c(),i=Ju(),r=Qu("ul"),a=Qu("li"),o=Qu("img"),s=Ju(),(u=Qu("div")).textContent="\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e",l=Ju(),c=Qu("div"),d=Xu(e[7]),f=Ju(),B&&B.c(),p=Ju(),V&&V.c(),h=Ju(),z&&z.c(),v=Ju(),m=Qu("div"),g=Qu("div"),y=Qu("img"),b=Ju(),(w=Qu("div")).textContent="\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e",S=Ju(),k=Qu("div"),E=Ju(),x=Qu("ul");for(var I=0;I<F.length;I+=1)F[I].c();T=Ju(),$=Qu("div"),P=Qu("div"),A=Qu("img"),C=Ju(),(_=Qu("div")).textContent="\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",R=Ju(),L=Qu("div"),N=Ju(),M=Qu("ul");for(var D=0;D<j.length;D+=1)j[D].c();nl(o,"class","menu-icon svelte-39yuhr"),Bu(o.src,Wl)||nl(o,"src","data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M13.25 2.833c.222.74.378 1.479 1.574 2.19a.574.574 0 0 0 .12.05c1.355.35 2.028-.021 2.654-.439.663-.442.86-.314 1.124-.053l.644.643c.294.294.412.412 0 1.178-.366.68-.779 1.313-.435 2.662a.469.469 0 0 0 .05.12c.71 1.206 1.448 1.418 2.186 1.566.78.156.83.386.833.757v.91c0 .416 0 .583-.833.833-.74.222-1.479.378-2.19 1.574a.469.469 0 0 0-.05.12c-.35 1.355.021 2.028.439 2.654.442.663.314.86.053 1.124l-.643.644c-.294.294-.412.412-1.178 0-.68-.366-1.313-.779-2.662-.435a.464.464 0 0 0-.12.05c-1.206.71-1.418 1.448-1.566 2.186-.156.78-.386.83-.757.833h-.91c-.416 0-.583 0-.833-.833-.222-.74-.378-1.479-1.574-2.19a.468.468 0 0 0-.12-.05c-1.355-.35-2.028.021-2.654.439-.663.442-.86.314-1.124.053l-.644-.643c-.294-.294-.412-.412 0-1.178.366-.68.779-1.313.435-2.662a.466.466 0 0 0-.05-.12c-.71-1.206-1.448-1.418-2.186-1.566-.78-.156-.83-.386-.833-.757v-.91c0-.416 0-.583.833-.833.74-.222 1.479-.378 2.19-1.574a.467.467 0 0 0 .05-.12c.35-1.355-.021-2.028-.439-2.654-.442-.663-.314-.86-.053-1.124l.643-.644c.294-.294.412-.412 1.178 0 .68.366 1.313.779 2.662.435a.467.467 0 0 0 .12-.05c1.206-.71 1.418-1.448 1.566-2.186.156-.78.386-.83.757-.833h.91c.416 0 .583 0 .833.833zM12 7.25a4.75 4.75 0 1 0 0 9.5 4.75 4.75 0 0 0 0-9.5z' fill='white'/%3e%3c/svg%3e"),nl(o,"alt",""),nl(u,"class","menu-title svelte-39yuhr"),nl(c,"class","menu-value svelte-39yuhr"),nl(a,"class","item svelte-39yuhr"),nl(a,"role","menuitemradio"),nl(a,"tabindex","0"),al(a,"item-mobile",e[0]),nl(r,"class","items svelte-39yuhr"),al(r,"items-mobile",e[0]),nl(n,"class","menu svelte-39yuhr"),nl(n,"role","menu"),al(n,"menu-desktop",!e[0]),al(n,"menu-mobile",e[0]),al(n,"hidden",!e[3]),Bu(y.src,Yl)||nl(y,"src","data:image/svg+xml,%3csvg width='12' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m5.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 0 1 1.272 1.272L5.773 8z' fill='white'/%3e%3c/svg%3e"),nl(y,"class","menu-header-back-icon svelte-39yuhr"),nl(y,"alt",""),nl(g,"class","item menu-header svelte-39yuhr"),al(g,"item-mobile",e[0]),nl(k,"class","menu-divider svelte-39yuhr"),nl(x,"class","items svelte-39yuhr"),nl(x,"style",e[8]),al(x,"items-mobile",e[0]),nl(m,"class","menu menu-subList svelte-39yuhr"),al(m,"menu-desktop",!e[0]),al(m,"menu-mobile",e[0]),al(m,"hidden",!e[4]),Bu(A.src,Yl)||nl(A,"src","data:image/svg+xml,%3csvg width='12' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m5.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 0 1 1.272 1.272L5.773 8z' fill='white'/%3e%3c/svg%3e"),nl(A,"class","menu-header-back-icon svelte-39yuhr"),nl(A,"alt",""),nl(P,"class","item menu-header svelte-39yuhr"),al(P,"item-mobile",e[0]),nl(L,"class","menu-divider svelte-39yuhr"),nl(M,"class","items svelte-39yuhr"),al(M,"items-mobile",e[0]),nl($,"class","menu menu-subList svelte-39yuhr"),al($,"menu-desktop",!e[0]),al($,"menu-mobile",e[0]),al($,"hidden",!e[5]),nl(t,"class","svelte-39yuhr"),al(t,"hidden",!e[2]),al(t,"container-mobile",e[0])},m:function(U,q){Wu(U,t,q),Hu(t,n),O&&O.m(n,null),Hu(n,i),Hu(n,r),Hu(r,a),Hu(a,o),Hu(a,s),Hu(a,u),Hu(a,l),Hu(a,c),Hu(c,d),Hu(c,f),B&&B.m(c,null),Hu(r,p),V&&V.m(r,null),Hu(r,h),z&&z.m(r,null),Hu(t,v),Hu(t,m),Hu(m,g),Hu(g,y),Hu(g,b),Hu(g,w),Hu(m,S),Hu(m,k),Hu(m,E),Hu(m,x);for(var H=0;H<F.length;H+=1)F[H].m(x,null);Hu(t,T),Hu(t,$),Hu($,P),Hu(P,A),Hu(P,C),Hu(P,_),Hu($,R),Hu($,L),Hu($,N),Hu($,M);for(var W=0;W<j.length;W+=1)j[W].m(M,null);I||(D=[el(a,"click",e[23]),el(g,"click",e[27]),el(P,"click",e[27])],I=!0)},p:function(e,o){if(e[0]?O?O.p(e,o):((O=Zl(e)).c(),O.m(n,i)):O&&(O.d(1),O=null),128&o[0]&&il(d,e[7]),e[6]&&!e[0]?B?B.p(e,o):((B=ec(e)).c(),B.m(c,null)):B&&(B.d(1),B=null),1&o[0]&&al(a,"item-mobile",e[0]),e[0]&&!e[9]?V?V.p(e,o):((V=tc(e)).c(),V.m(r,h)):V&&(V.d(1),V=null),e[0]?z?z.p(e,o):((z=nc(e)).c(),z.m(r,null)):z&&(z.d(1),z=null),1&o[0]&&al(r,"items-mobile",e[0]),1&o[0]&&al(n,"menu-desktop",!e[0]),1&o[0]&&al(n,"menu-mobile",e[0]),8&o[0]&&al(n,"hidden",!e[3]),1&o[0]&&al(g,"item-mobile",e[0]),16777219&o[0]|1&o[1]){var s;for(U=e[1],s=0;s<U.length;s+=1){var u=Jl(e,U,s);F[s]?F[s].p(u,o):(F[s]=ac(u),F[s].c(),F[s].m(x,null))}for(;s<F.length;s+=1)F[s].d(1);F.length=U.length}if(256&o[0]&&nl(x,"style",e[8]),1&o[0]&&al(x,"items-mobile",e[0]),1&o[0]&&al(m,"menu-desktop",!e[0]),1&o[0]&&al(m,"menu-mobile",e[0]),16&o[0]&&al(m,"hidden",!e[4]),1&o[0]&&al(P,"item-mobile",e[0]),33556481&o[0]){var l;for(H=e[11],l=0;l<H.length;l+=1){var f=Xl(e,H,l);j[l]?j[l].p(f,o):(j[l]=sc(f),j[l].c(),j[l].m(M,null))}for(;l<j.length;l+=1)j[l].d(1);j.length=H.length}1&o[0]&&al(M,"items-mobile",e[0]),1&o[0]&&al($,"menu-desktop",!e[0]),1&o[0]&&al($,"menu-mobile",e[0]),32&o[0]&&al($,"hidden",!e[5]),4&o[0]&&al(t,"hidden",!e[2]),1&o[0]&&al(t,"container-mobile",e[0])},i:Lu,o:Lu,d:function(e){e&&Gu(t),O&&O.d(),B&&B.d(),V&&V.d(),z&&z.d(),Yu(F,e),Yu(j,e),I=!1,Iu(D)}}}function lc(e,t,n){var i,r,a,o,s,u,l,c,d,f,p=t.supportLink,h=Ul(),v=h.state.currentQuality$;Uu(e,v,(function(e){return n(36,u=e)}));var m=h.state.availableQualities$;Uu(e,m,(function(e){return n(1,s=e)}));var g=h.state.isAutoQualityEnabled$;Uu(e,g,(function(e){return n(35,o=e)}));var y=h.state.currentPlaybackRate$;Uu(e,y,(function(e){return n(10,d=e)}));var b=h.state.availablePlaybackRates$;Uu(e,b,(function(e){return n(11,f=e)}));var w=h.ui.settingsMenuVisible;Uu(e,w,(function(e){return n(2,l=e)}));var S=h.ui.isMobile;Uu(e,S,(function(e){return n(0,a=e)}));var k=h.ui.isFullscreen;Uu(e,k,(function(e){return n(34,r=e)}));var E=h.state.isLive$;Uu(e,E,(function(e){return n(9,c=e)}));var x=h.ui.playerSize;Uu(e,x,(function(e){return n(33,i=e)}));var T,$,P,A=h.ui.debugPanelVisible,C=!0,_=!1,R=!1;function L(){w.set(!1)}function N(e){h.actions.internal.setQuality(e),L()}function M(e){h.actions.internal.setPlaybackRate(e),L()}function I(e){switch(e){case da.Q_720P:return"data:image/svg+xml,%3csvg width='15' height='5' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M5.516 5h1.107C8.103 5 9 4.065 9 2.5S8.103 0 6.623 0H5.516C5.191 0 5 .2 5 .537V4.46c0 .342.191.54.516.54zm.516-.854V.852H6.5C7.41.852 8 1.468 8 2.5c0 1.066-.577 1.646-1.5 1.646h-.468zM.516 5c.325 0 .516-.198.516-.536V2.922h1.936v1.542c0 .338.191.536.516.536S4 4.802 4 4.464V.54C4 .198 3.809 0 3.484 0s-.516.198-.516.54v1.531H1.032V.54C1.032.198.841 0 .516 0S0 .198 0 .54v3.989C0 4.867.191 5 .516 5z' fill='%2370C1FF'/%3e%3c/svg%3e";case da.Q_1080P:return"data:image/svg+xml,%3csvg width='15' height='5' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.516 5h1.107C12.103 5 13 4.065 13 2.5S12.103 0 10.623 0H9.516C9.191 0 9 .2 9 .537V4.46c0 .342.191.54.516.54zm.516-.854V.852h.468c.91 0 1.5.616 1.5 1.648 0 1.066-.577 1.646-1.5 1.646h-.468zM4.516 5c.325 0 .516-.198.516-.536V2.922h1.936v1.542c0 .338.191.536.516.536S8 4.802 8 4.464V.54C8 .198 7.809 0 7.484 0s-.516.198-.516.54v1.531H5.032V.54c0-.342-.191-.54-.516-.54S4 .198 4 .54v3.989c0 .338.191.471.516.471zm-4 0c.325 0 .516-.198.516-.537V3h1.332c.27 0 .441-.154.441-.41 0-.253-.174-.407-.44-.407H1.031V.854h1.5c.28 0 .468-.16.468-.427C3 .161 2.815 0 2.532 0H.516C.191 0 0 .198 0 .537v3.926C0 4.802.191 5 .516 5z' fill='%2370C1FF'/%3e%3c/svg%3e";case da.Q_1440P:return"data:image/svg+xml,%3csvg width='15' height='6' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M11.516 5h1.107C14.103 5 15 4.065 15 2.5S14.103 0 12.623 0h-1.107C11.191 0 11 .2 11 .537V4.46c0 .342.191.54.516.54zm.516-.854V.852h.468c.91 0 1.5.616 1.5 1.648 0 1.066-.577 1.646-1.5 1.646h-.468zM6.516 5c.325 0 .516-.198.516-.536V2.922h1.936v1.542c0 .338.191.536.516.536S10 4.802 10 4.464V.54C10 .198 9.809 0 9.484 0s-.516.198-.516.54v1.531H7.032V.54c0-.342-.191-.54-.516-.54S6 .198 6 .54v3.989c0 .338.191.471.516.471z' fill='%2370C1FF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M3.338 4.909A3.9 3.9 0 0 1 2.5 5C1.037 5 0 4.135 0 2.553 0 .983 1.037 0 2.5 0 3.96 0 5 .984 5 2.553c0 .863-.274 1.46-.778 1.88l.194.29a.5.5 0 0 1-.832.554l-.246-.368zm-.52-.78-.234-.352a.5.5 0 1 1 .832-.554l.245.367c.184-.26.286-.615.286-1.037C3.947 1.517 3.307.9 2.5.9c-.81 0-1.447.617-1.447 1.653 0 1.032.637 1.596 1.447 1.596.08 0 .208-.007.318-.02z' fill='%2370C1FF'/%3e%3c/svg%3e";case da.Q_2160P:return"data:image/svg+xml,%3csvg width='15' height='6' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M5.517 5c.325 0 .516-.198.516-.536v-.97l.492-.517 1.46 1.74c.16.205.304.283.516.283A.491.491 0 0 0 9 4.501c0-.14-.068-.287-.222-.478l-1.47-1.73L8.818.868C8.949.731 9 .618 9 .475A.474.474 0 0 0 8.515 0c-.171 0-.301.065-.445.222L6.064 2.25h-.03V.54c0-.342-.192-.54-.517-.54s-.516.198-.516.54v3.924c0 .338.191.536.516.536z' fill='%2370C1FF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='m2.551 1.052-1.51 2.052h1.51V1.052zM3.5 3.104V.832c0-.81-1.089-1.14-1.556-.48L.139 2.821a.75.75 0 0 0 .612 1.183h1.8v.55c0 .248.25.45.499.45a.45.45 0 0 0 .45-.45v-.55h.052a.45.45 0 0 0 0-.9H3.5z' fill='%2370C1FF'/%3e%3c/svg%3e";case da.Q_4320P:return"data:image/svg+xml,%3csvg width='15' height='5' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M5.513 5c.323 0 .513-.198.513-.537v-.97l.49-.516L7.99 4.715c.16.205.302.284.513.284A.49.49 0 0 0 9 4.5c0-.14-.068-.287-.22-.478L7.293 2.293 8.82.868C8.949.731 9 .618 9 .475A.473.473 0 0 0 8.517 0c-.17 0-.299.065-.441.222L6.056 2.25h-.03V.54c0-.342-.19-.54-.513-.54S5 .198 5 .54v3.923c0 .339.19.537.513.537z' fill='%2370C1FF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 0c-.353 0-.671.057-.952.173a1.492 1.492 0 0 0-.654.484c-.154.208-.23.445-.23.71 0 .423.208.756.613.995a1.46 1.46 0 0 0-.547.44c-.154.203-.23.441-.23.71 0 .288.084.548.252.778l.001.001c.173.224.412.398.712.523C1.267 4.939 1.612 5 2 5c.388 0 .733-.061 1.035-.186.3-.125.537-.299.705-.524.174-.23.26-.49.26-.777 0-.27-.076-.508-.23-.711a1.448 1.448 0 0 0-.552-.44c.409-.235.618-.569.618-.994a1.14 1.14 0 0 0-.238-.711 1.436 1.436 0 0 0-.653-.484A2.427 2.427 0 0 0 2 0zm-.573.964C1.563.86 1.75.804 2 .804c.25 0 .434.055.564.16h.001a.512.512 0 0 1 .204.43.52.52 0 0 1-.204.437c-.13.105-.315.161-.565.161-.25 0-.437-.056-.573-.161a.519.519 0 0 1-.203-.437c0-.185.07-.326.203-.43zm-.345 2.522c0-.217.08-.381.233-.503.16-.122.385-.188.685-.188.3 0 .522.066.677.188.16.122.24.287.24.503a.628.628 0 0 1-.24.523c-.155.122-.377.188-.677.188-.3 0-.524-.065-.684-.187a.637.637 0 0 1-.234-.524z' fill='%2370C1FF'/%3e%3c/svg%3e"}}return e.$$set=function(e){"supportLink"in e&&n(32,p=e.supportLink)},e.$$.update=function(){4&e.$$.dirty[0]&&l&&(n(3,C=!0),n(4,_=!1),n(5,R=!1)),32&e.$$.dirty[1]&&n(6,T=I(u)),2&e.$$.dirty[0]|48&e.$$.dirty[1]&&n(7,$=function(e,t,n){if(!e)return"...";var i=t.find((function(t){return t.value===e})),r=i?i.displayValue:e;return n?e===da.INVARIANT?"\u0410\u0432\u0442\u043e":"\u0410\u0432\u0442\u043e ".concat(r):r}(u,s,o)),1&e.$$.dirty[0]|12&e.$$.dirty[1]&&n(8,P=a&&r?"max-height: ".concat(Math.round(.6*i.height),"px"):"")},[a,s,l,C,_,R,T,$,P,c,d,f,v,m,g,y,b,w,S,k,E,x,L,function(){n(3,C=!1),n(4,_=!0)},N,M,function(){n(3,C=!1),n(5,R=!0)},function(){n(3,C=!0),n(4,_=!1),n(5,R=!1)},function(){window.open(p,"_blank"),L(),h.actions.internal.pause()},function(){Ql(h.actions.internal.getDebugTextData()),L()},function(){A.set(!0),L()},I,p,i,r,o,u,function(e){return N(e.value)},function(e){return M(e.value)}]}var cc=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,lc,uc,Ou,{supportLink:32},Kl,[-1,-1]),i}return y(n)}(Nl);function dc(e){ju(e,"svelte-1lsh357",".settingsButton-icon.svelte-1lsh357{display:block;width:40px;height:24px}")}function fc(e){var t,n,i,r,a,o,u;return{c:function(){t=Qu("div"),n=Qu("div"),Bu((i=Qu("img")).src,r=e[7](e[1],e[2]))||nl(i,"src",r),nl(i,"alt",""),nl(n,"class","settingsButton-icon svelte-1lsh357"),nl(t,"class",a=qu(e[0])+" svelte-1lsh357"),nl(t,"aria-label","\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u0438\u0434\u0435\u043e\u043f\u043b\u0435\u0435\u0440\u0430"),nl(t,"tabindex","-1"),nl(t,"role","button")},m:function(r,a){Wu(r,t,a),Hu(t,n),Hu(n,i),o||(u=el(t,"click",e[6]),o=!0)},p:function(e,n){var o=s(n,1)[0];6&o&&!Bu(i.src,r=e[7](e[1],e[2]))&&nl(i,"src",r),1&o&&a!==(a=qu(e[0])+" svelte-1lsh357")&&nl(t,"class",a)},i:Lu,o:Lu,d:function(e){e&&Gu(t),o=!1,u()}}}function pc(e,t,n){var i,r,a,o=t.className,s=void 0===o?"":o,u=Ul(),l=u.state.currentQuality$;Uu(e,l,(function(e){return n(1,r=e)}));var c=u.ui.settingsMenuVisible;Uu(e,c,(function(e){return n(8,i=e)}));var d=u.ui.isMobile;return Uu(e,d,(function(e){return n(2,a=e)})),e.$$set=function(e){"className"in e&&n(0,s=e.className)},[s,r,a,l,c,d,function(){c.set(!i)},function(e,t){if(t)return Wl;switch(e){case da.Q_720P:return"data:image/svg+xml,%3csvg width='34' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.933 4.875a.6.6 0 0 0-.07-.658c-.327-.413-.45-.833-.574-1.253l-.039-.13C13 2 12.833 2 12.417 2h-.91c-.371.003-.6.052-.757.833-.148.738-.36 1.476-1.566 2.186a.466.466 0 0 1-.12.05c-1.27.324-1.905-.023-2.542-.37l-.12-.065c-.766-.412-.884-.294-1.178 0l-.643.644c-.26.264-.389.461.053 1.124.418.626.789 1.299.438 2.654a.466.466 0 0 1-.05.12c-.668 1.126-1.362 1.33-2.058 1.535l-.13.039C2 11 2 11.167 2 11.583v.91c.003.371.052.6.833.757.738.148 1.476.36 2.186 1.566a.465.465 0 0 1 .05.12c.324 1.27-.023 1.905-.37 2.542l-.065.12c-.412.766-.294.884 0 1.178l.644.643c.264.26.461.389 1.124-.053.626-.418 1.299-.789 2.654-.438.041.01.083.028.12.05 1.126.668 1.33 1.362 1.535 2.058l.039.13c.25.834.417.834.833.834h.91c.371-.003.6-.052.757-.833.148-.738.36-1.476 1.566-2.186a.467.467 0 0 1 .12-.05c1.27-.324 1.905.023 2.542.37l.12.065c.766.412.884.294 1.178 0l.643-.644c.26-.264.389-.461-.053-1.124-.26-.39-.503-.799-.563-1.38a.598.598 0 0 0-.413-.519 7.464 7.464 0 0 1-1.918-.871.58.58 0 0 0-.758.134 4.75 4.75 0 1 1-3.163-7.68.581.581 0 0 0 .633-.44 7.448 7.448 0 0 1 .749-1.967z' fill='white'/%3e%3crect x='15' y='3' width='17' height='11' rx='5.5' fill='%23689FF8'/%3e%3cpath d='M24.516 11h1.107C27.103 11 28 10.066 28 8.5S27.103 6 25.623 6h-1.107c-.325 0-.516.2-.516.537v3.923c0 .342.191.54.516.54zm.516-.854V6.852h.468c.91 0 1.5.616 1.5 1.648 0 1.066-.577 1.646-1.5 1.646h-.468zM19.516 11c.325 0 .516-.198.516-.536V8.922h1.936v1.542c0 .338.191.537.516.537s.516-.199.516-.537V6.54c0-.342-.191-.54-.516-.54s-.516.198-.516.54v1.531h-1.936V6.54c0-.342-.191-.54-.516-.54S19 6.198 19 6.54v3.989c0 .338.191.472.516.472z' fill='white'/%3e%3c/svg%3e";case da.Q_1080P:return"data:image/svg+xml,%3csvg width='38' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.933 4.875a.6.6 0 0 0-.07-.658c-.327-.413-.45-.833-.574-1.253l-.039-.13C13 2 12.833 2 12.417 2h-.91c-.371.003-.6.052-.757.833-.148.738-.36 1.476-1.566 2.186a.466.466 0 0 1-.12.05c-1.27.324-1.905-.023-2.542-.37l-.12-.065c-.766-.412-.884-.294-1.178 0l-.643.644c-.26.264-.389.461.053 1.124.418.626.789 1.299.438 2.654a.466.466 0 0 1-.05.12c-.668 1.126-1.362 1.33-2.058 1.535l-.13.039C2 11 2 11.167 2 11.583v.91c.003.371.052.6.833.757.738.148 1.476.36 2.186 1.566a.465.465 0 0 1 .05.12c.324 1.27-.023 1.905-.37 2.542l-.065.12c-.412.766-.294.884 0 1.178l.644.643c.264.26.461.389 1.124-.053.626-.418 1.299-.789 2.654-.438.041.01.083.028.12.05 1.126.668 1.33 1.362 1.535 2.058l.039.13c.25.834.417.834.833.834h.91c.371-.003.6-.052.757-.833.148-.738.36-1.476 1.566-2.186a.467.467 0 0 1 .12-.05c1.27-.324 1.905.023 2.542.37l.12.065c.766.412.884.294 1.178 0l.643-.644c.26-.264.389-.461-.053-1.124-.26-.39-.503-.799-.563-1.38a.598.598 0 0 0-.413-.519 7.464 7.464 0 0 1-1.918-.871.58.58 0 0 0-.758.134 4.75 4.75 0 1 1-3.163-7.68.581.581 0 0 0 .633-.44 7.448 7.448 0 0 1 .749-1.967z' fill='white'/%3e%3crect x='15' y='3' width='21' height='11' rx='5.5' fill='%23689FF8'/%3e%3cpath d='M28.516 11h1.107C31.103 11 32 10.066 32 8.5S31.103 6 29.623 6h-1.107c-.325 0-.516.2-.516.537v3.923c0 .342.191.54.516.54zm.516-.854V6.852h.468c.91 0 1.5.616 1.5 1.648 0 1.066-.577 1.646-1.5 1.646h-.468zM23.516 11c.325 0 .516-.198.516-.536V8.922h1.936v1.542c0 .338.191.537.516.537s.516-.199.516-.537V6.54c0-.342-.191-.54-.516-.54s-.516.198-.516.54v1.531h-1.936V6.54c0-.342-.191-.54-.516-.54S23 6.198 23 6.54v3.989c0 .338.191.472.516.472zm-4 0c.325 0 .516-.198.516-.537V9h1.332c.27 0 .441-.154.441-.41 0-.253-.174-.407-.44-.407h-1.333V6.854h1.5c.28 0 .468-.16.468-.427 0-.266-.185-.427-.468-.427h-2.016c-.325 0-.516.198-.516.537v3.926c0 .339.191.537.516.537z' fill='white'/%3e%3c/svg%3e";case da.Q_1440P:return"data:image/svg+xml,%3csvg width='40' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.933 4.875a.6.6 0 0 0-.07-.658c-.327-.413-.45-.833-.574-1.253l-.039-.13C13 2 12.833 2 12.417 2h-.91c-.371.003-.6.052-.757.833-.148.738-.36 1.476-1.566 2.186a.466.466 0 0 1-.12.05c-1.27.324-1.905-.023-2.542-.37l-.12-.065c-.766-.412-.884-.294-1.178 0l-.643.644c-.26.264-.389.461.053 1.124.418.626.789 1.299.438 2.654a.466.466 0 0 1-.05.12c-.668 1.126-1.362 1.33-2.058 1.535l-.13.039C2 11 2 11.167 2 11.583v.91c.003.371.052.6.833.757.738.148 1.476.36 2.186 1.566a.465.465 0 0 1 .05.12c.324 1.27-.023 1.905-.37 2.542l-.065.12c-.412.766-.294.884 0 1.178l.644.643c.264.26.461.389 1.124-.053.626-.418 1.299-.789 2.654-.438.041.01.083.028.12.05 1.126.668 1.33 1.362 1.535 2.058l.039.13c.25.834.417.834.833.834h.91c.371-.003.6-.052.757-.833.148-.738.36-1.476 1.566-2.186a.467.467 0 0 1 .12-.05c1.27-.324 1.905.023 2.542.37l.12.065c.766.412.884.294 1.178 0l.643-.644c.26-.264.389-.461-.053-1.124-.26-.39-.503-.799-.563-1.38a.598.598 0 0 0-.413-.519 7.464 7.464 0 0 1-1.918-.871.58.58 0 0 0-.758.134 4.75 4.75 0 1 1-3.163-7.68.581.581 0 0 0 .633-.44 7.448 7.448 0 0 1 .749-1.967z' fill='white'/%3e%3cpath d='M15 8.5A5.5 5.5 0 0 1 20.5 3h12a5.5 5.5 0 1 1 0 11h-12A5.5 5.5 0 0 1 15 8.5z' fill='%23689FF8'/%3e%3cpath d='M30.516 11h1.107C33.103 11 34 10.066 34 8.5S33.103 6 31.623 6h-1.107c-.325 0-.516.2-.516.537v3.923c0 .342.191.54.516.54zm.516-.854V6.852h.468c.91 0 1.5.616 1.5 1.648 0 1.066-.577 1.646-1.5 1.646h-.468zM25.516 11c.325 0 .516-.198.516-.536V8.922h1.936v1.542c0 .338.191.537.516.537s.516-.199.516-.537V6.54c0-.342-.191-.54-.516-.54s-.516.198-.516.54v1.531h-1.936V6.54c0-.342-.191-.54-.516-.54S25 6.198 25 6.54v3.989c0 .338.191.472.516.472z' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M22.338 10.909c-.254.06-.58.091-.838.091-1.463 0-2.5-.865-2.5-2.447C19 6.983 20.037 6 21.5 6c1.46 0 2.5.984 2.5 2.553 0 .863-.274 1.46-.777 1.88l.193.29a.5.5 0 1 1-.832.554l-.246-.368zm-.52-.78-.234-.352a.5.5 0 0 1 .832-.554l.245.367c.184-.26.286-.615.286-1.037 0-1.036-.64-1.653-1.447-1.653-.81 0-1.447.617-1.447 1.653 0 1.032.637 1.596 1.447 1.596.08 0 .208-.007.318-.02z' fill='white'/%3e%3c/svg%3e";case da.Q_2160P:return"data:image/svg+xml,%3csvg width='34' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.933 4.875a.6.6 0 0 0-.07-.658c-.327-.413-.45-.833-.574-1.253l-.039-.13C13 2 12.833 2 12.417 2h-.91c-.371.003-.6.052-.757.833-.148.738-.36 1.476-1.566 2.186a.466.466 0 0 1-.12.05c-1.27.324-1.905-.023-2.542-.37l-.12-.065c-.766-.412-.884-.294-1.178 0l-.643.644c-.26.264-.389.461.053 1.124.418.626.789 1.299.438 2.654a.466.466 0 0 1-.05.12c-.668 1.126-1.362 1.33-2.058 1.535l-.13.039C2 11 2 11.167 2 11.583v.91c.003.371.052.6.833.757.738.148 1.476.36 2.186 1.566a.465.465 0 0 1 .05.12c.324 1.27-.023 1.905-.37 2.542l-.065.12c-.412.766-.294.884 0 1.178l.644.643c.264.26.461.389 1.124-.053.626-.418 1.299-.789 2.654-.438.041.01.083.028.12.05 1.126.668 1.33 1.362 1.535 2.058l.039.13c.25.834.417.834.833.834h.91c.371-.003.6-.052.757-.833.148-.738.36-1.476 1.566-2.186a.467.467 0 0 1 .12-.05c1.27-.324 1.905.023 2.542.37l.12.065c.766.412.884.294 1.178 0l.643-.644c.26-.264.389-.461-.053-1.124-.26-.39-.503-.799-.563-1.38a.598.598 0 0 0-.413-.519 7.464 7.464 0 0 1-1.918-.871.58.58 0 0 0-.758.134 4.75 4.75 0 1 1-3.163-7.68.581.581 0 0 0 .633-.44 7.448 7.448 0 0 1 .749-1.967z' fill='white'/%3e%3crect x='15' y='3' width='17' height='11' rx='5.5' fill='%23689FF8'/%3e%3cpath d='M24.517 11c.325 0 .516-.198.516-.536v-.97l.492-.517 1.46 1.74c.16.205.304.284.516.284a.491.491 0 0 0 .499-.5c0-.14-.068-.287-.222-.478l-1.47-1.73 1.51-1.425c.13-.137.182-.25.182-.393A.474.474 0 0 0 27.515 6c-.171 0-.301.065-.445.222L25.064 8.25h-.03V6.54c0-.342-.192-.54-.517-.54s-.516.198-.516.54v3.924c0 .338.191.537.516.537z' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='m21.551 7.052-1.51 2.052h1.51V7.052zm.949 2.052V6.832c0-.81-1.089-1.14-1.556-.48l-1.805 2.469a.75.75 0 0 0 .612 1.183h1.8v.55c0 .248.25.45.499.45a.45.45 0 0 0 .45-.45v-.55h.052a.45.45 0 1 0 0-.9H22.5z' fill='white'/%3e%3c/svg%3e";case da.Q_4320P:return"data:image/svg+xml,%3csvg width='34' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.933 4.875a.6.6 0 0 0-.07-.658c-.327-.413-.45-.833-.574-1.253l-.039-.13C13 2 12.833 2 12.417 2h-.91c-.371.003-.6.052-.757.833-.148.738-.36 1.476-1.566 2.186a.466.466 0 0 1-.12.05c-1.27.324-1.905-.023-2.542-.37l-.12-.065c-.766-.412-.884-.294-1.178 0l-.643.644c-.26.264-.389.461.053 1.124.418.626.789 1.299.438 2.654a.466.466 0 0 1-.05.12c-.668 1.126-1.362 1.33-2.058 1.535l-.13.039C2 11 2 11.167 2 11.583v.91c.003.371.052.6.833.757.738.148 1.476.36 2.186 1.566a.465.465 0 0 1 .05.12c.324 1.27-.023 1.905-.37 2.542l-.065.12c-.412.766-.294.884 0 1.178l.644.643c.264.26.461.389 1.124-.053.626-.418 1.299-.789 2.654-.438.041.01.083.028.12.05 1.126.668 1.33 1.362 1.535 2.058l.039.13c.25.834.417.834.833.834h.91c.371-.003.6-.052.757-.833.148-.738.36-1.476 1.566-2.186a.467.467 0 0 1 .12-.05c1.27-.324 1.905.023 2.542.37l.12.065c.766.412.884.294 1.178 0l.643-.644c.26-.264.389-.461-.053-1.124-.26-.39-.503-.799-.563-1.38a.598.598 0 0 0-.413-.519 7.464 7.464 0 0 1-1.918-.871.58.58 0 0 0-.758.134 4.75 4.75 0 1 1-3.163-7.68.581.581 0 0 0 .633-.44 7.448 7.448 0 0 1 .749-1.967z' fill='white'/%3e%3crect x='15' y='3' width='17' height='11' rx='5.5' fill='%23689FF8'/%3e%3cpath d='M24.513 11c.323 0 .513-.198.513-.537v-.97l.49-.516 1.475 1.738c.16.205.302.284.513.284A.49.49 0 0 0 28 10.5c0-.14-.068-.287-.22-.478l-1.486-1.729 1.526-1.425c.129-.137.18-.25.18-.393A.473.473 0 0 0 27.517 6c-.17 0-.299.065-.441.222l-2.02 2.027h-.03V6.54c0-.342-.19-.54-.513-.54S24 6.198 24 6.54v3.923c0 .339.19.537.513.537z' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M21 6c-.353 0-.671.057-.952.173a1.493 1.493 0 0 0-.654.484c-.154.208-.23.445-.23.71 0 .423.208.756.613.995a1.46 1.46 0 0 0-.547.44c-.154.203-.23.441-.23.71 0 .288.084.548.252.777l.001.002c.173.224.412.398.712.523.302.125.647.186 1.035.186.388 0 .733-.061 1.035-.186.3-.125.537-.299.705-.524.174-.23.26-.49.26-.777 0-.27-.076-.508-.23-.711a1.448 1.448 0 0 0-.552-.44c.409-.235.618-.569.618-.994a1.14 1.14 0 0 0-.238-.711 1.436 1.436 0 0 0-.653-.484A2.428 2.428 0 0 0 21 6zm-.573.964c.136-.105.323-.16.573-.16.25 0 .434.055.564.16h.001a.512.512 0 0 1 .203.43c0 .19-.07.333-.203.437-.13.105-.315.161-.565.161-.25 0-.437-.056-.573-.161a.519.519 0 0 1-.203-.437c0-.185.07-.326.203-.43zm-.345 2.522c0-.217.08-.381.233-.503.16-.122.385-.188.685-.188.3 0 .522.066.677.188.16.122.24.287.24.503a.628.628 0 0 1-.24.523c-.155.122-.377.188-.677.188-.3 0-.524-.065-.684-.188a.636.636 0 0 1-.234-.523z' fill='white'/%3e%3c/svg%3e";default:return Wl}}]}var hc=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,pc,fc,Ou,{className:0},dc),i}return y(n)}(Nl),vc=function(e){if(!isFinite(e))return"00:00";var t=Math.round(e),n=Math.floor(t/3600);t-=3600*n;var i=Math.floor(t/60);return t-=60*i,(n>0?[n,i,t]:[i,t]).map((function(e){return e>9?String(e):"0".concat(e)})).join(":")};function mc(e){ju(e,"svelte-1bjfp5n",".time.svelte-1bjfp5n{display:flex;align-items:center;font-weight:500;font-variant-numeric:tabular-nums}.current.svelte-1bjfp5n{position:relative}.duration.svelte-1bjfp5n{opacity:0.7}.duration.svelte-1bjfp5n:before{content:' / ';white-space:pre}")}function gc(e){var t,n,i,r,a,o,u,l;return{c:function(){t=Qu("div"),n=Qu("span"),i=Xu(e[3]),r=Ju(),a=Qu("span"),o=Xu(e[2]),nl(n,"class","current svelte-1bjfp5n"),nl(a,"class",u="duration "+e[1]+" svelte-1bjfp5n"),nl(t,"class",l="time "+e[0]+" svelte-1bjfp5n")},m:function(e,s){Wu(e,t,s),Hu(t,n),Hu(n,i),Hu(t,r),Hu(t,a),Hu(a,o)},p:function(e,n){var r=s(n,1)[0];8&r&&il(i,e[3]),4&r&&il(o,e[2]),2&r&&u!==(u="duration "+e[1]+" svelte-1bjfp5n")&&nl(a,"class",u),1&r&&l!==(l="time "+e[0]+" svelte-1bjfp5n")&&nl(t,"class",l)},i:Lu,o:Lu,d:function(e){e&&Gu(t)}}}function yc(e,t,n){var i,r,a=t.duration,o=t.position,s=t.className,u=void 0===s?"":s,l=t.durationClassName,c=void 0===l?"":l;return e.$$set=function(e){"duration"in e&&n(4,a=e.duration),"position"in e&&n(5,o=e.position),"className"in e&&n(0,u=e.className),"durationClassName"in e&&n(1,c=e.durationClassName)},e.$$.update=function(){16&e.$$.dirty&&n(2,i=vc(a)),32&e.$$.dirty&&n(3,r=vc(o))},[u,c,i,r,a,o]}var bc=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,yc,gc,Ou,{duration:4,position:5,className:0,durationClassName:1},mc),i}return y(n)}(Nl);function wc(e){ju(e,"svelte-1w56qn2",".slider.svelte-1w56qn2.svelte-1w56qn2{position:relative;height:var(--videoplayer-slider-height);border-radius:var(--videoplayer-slider-radius);background:var(--videoplayer-slider-bg);cursor:pointer;transition:visibility 0.2s, opacity 0.2s;will-change:opacity, transform;width:100%;touch-action:none;-webkit-tap-highlight-color:transparent}.no-handle.svelte-1w56qn2.svelte-1w56qn2{cursor:default}.slider.svelte-1w56qn2.svelte-1w56qn2:before{content:'';position:absolute;left:0;right:0;top:calc(-1 * (var(--videoplayer-controls-height) - var(--videoplayer-slider-height)) / 2);height:var(--videoplayer-controls-height)}.bars.svelte-1w56qn2.svelte-1w56qn2{position:absolute;width:100%;height:100%;border-radius:var(--videoplayer-slider-radius);overflow:hidden}.loaded.svelte-1w56qn2.svelte-1w56qn2{position:absolute;left:-100%;width:100%;height:100%;border-radius:var(--videoplayer-slider-radius);background:var(--videoplayer-slider-loaded-bg);transition:transform 0.2s}.filled.svelte-1w56qn2.svelte-1w56qn2{position:absolute;left:-100%;width:100%;height:100%;border-radius:var(--videoplayer-slider-radius);background-color:var(--videoplayer-slider-filled-bg)}.slider.square.svelte-1w56qn2.svelte-1w56qn2,.slider.square.svelte-1w56qn2>.bars.svelte-1w56qn2,.loaded.svelte-1w56qn2.svelte-1w56qn2,.filled.svelte-1w56qn2.svelte-1w56qn2{border-radius:unset}.filled.active-live.svelte-1w56qn2.svelte-1w56qn2{background-color:var(--videoplayer-slider-filled-active-live-bg)}.filled.ads.svelte-1w56qn2.svelte-1w56qn2{background-color:var(--videoplayer-slider-filled-ads)}.handleWrap.svelte-1w56qn2.svelte-1w56qn2{position:absolute;left:-100%;width:100%}.handle.svelte-1w56qn2.svelte-1w56qn2{position:absolute;width:var(--videoplayer-slider-handle-size);height:var(--videoplayer-slider-handle-size);right:calc(-1 * var(--videoplayer-slider-handle-size) / 2);top:calc((var(--videoplayer-slider-height) - var(--videoplayer-slider-handle-size)) / 2);border-radius:50%;background-color:var(--videoplayer-slider-filled-bg);visibility:hidden;opacity:0;transform:scale(0);transition:opacity 0.2s, transform 0.2s, visibility 0.2s;will-change:opacity, transform}.handle.active-live.svelte-1w56qn2.svelte-1w56qn2{background-color:var(--videoplayer-slider-filled-active-live-bg)}.slider.svelte-1w56qn2:hover .handle.svelte-1w56qn2,.slider-dragging.svelte-1w56qn2 .handle.svelte-1w56qn2{visibility:visible;opacity:1;transform:scale(1)}.slider-dragging.svelte-1w56qn2 .handle.svelte-1w56qn2{transform:scale(1.3)}.slider-vertical.svelte-1w56qn2.svelte-1w56qn2{position:absolute;left:-26px;top:-18px;transform-origin:0 0;transform:rotate(-90deg)}.hidden.svelte-1w56qn2.svelte-1w56qn2{visibility:hidden;opacity:0}")}function Sc(e){var t,n,i,r,a,o,u,l,c,d,f,p,h,v;return{c:function(){t=Qu("div"),n=Qu("div"),i=Qu("div"),a=Ju(),o=Qu("div"),l=Ju(),c=Qu("div"),d=Qu("div"),nl(i,"class","loaded svelte-1w56qn2"),nl(i,"style",r="transform: translateX(".concat(100*e[6],"%);")),nl(o,"class","filled svelte-1w56qn2"),nl(o,"style",u="transform: translateX(".concat(100*e[7],"%);")),al(o,"active-live",e[3]),al(o,"ads",e[4]),nl(n,"class","bars svelte-1w56qn2"),nl(d,"class","handle svelte-1w56qn2"),al(d,"active-live",e[3]),nl(c,"class","handleWrap svelte-1w56qn2"),nl(c,"style",f="transform: translateX(".concat(100*e[8],"%);")),al(c,"hidden",e[4]),nl(t,"class",p="slider "+e[0]+" svelte-1w56qn2"),nl(t,"aria-label",e[9]),nl(t,"aria-valuemin",e[10]),nl(t,"aria-valuemax",e[11]),nl(t,"aria-valuenow",e[12]),nl(t,"aria-valuetext",e[13]),nl(t,"role","slider"),nl(t,"tabindex","0"),al(t,"slider-dragging",e[15]),al(t,"hidden",e[1]),al(t,"slider-vertical",e[2]),al(t,"no-handle",e[4]),al(t,"square",e[5])},m:function(r,s){Wu(r,t,s),Hu(t,n),Hu(n,i),Hu(n,a),Hu(n,o),Hu(t,l),Hu(t,c),Hu(c,d),e[27](t),h||(v=[el(t,"pointerdown",tl(e[16])),el(t,"pointermove",tl(e[17])),el(t,"pointerup",tl(e[18])),el(t,"pointerenter",tl(e[19])),el(t,"pointerleave",tl(e[20]))],h=!0)},p:function(e,n){var a=s(n,1)[0];64&a&&r!==(r="transform: translateX(".concat(100*e[6],"%);"))&&nl(i,"style",r),128&a&&u!==(u="transform: translateX(".concat(100*e[7],"%);"))&&nl(o,"style",u),8&a&&al(o,"active-live",e[3]),16&a&&al(o,"ads",e[4]),8&a&&al(d,"active-live",e[3]),256&a&&f!==(f="transform: translateX(".concat(100*e[8],"%);"))&&nl(c,"style",f),16&a&&al(c,"hidden",e[4]),1&a&&p!==(p="slider "+e[0]+" svelte-1w56qn2")&&nl(t,"class",p),512&a&&nl(t,"aria-label",e[9]),1024&a&&nl(t,"aria-valuemin",e[10]),2048&a&&nl(t,"aria-valuemax",e[11]),4096&a&&nl(t,"aria-valuenow",e[12]),8192&a&&nl(t,"aria-valuetext",e[13]),32769&a&&al(t,"slider-dragging",e[15]),3&a&&al(t,"hidden",e[1]),5&a&&al(t,"slider-vertical",e[2]),17&a&&al(t,"no-handle",e[4]),33&a&&al(t,"square",e[5])},i:Lu,o:Lu,d:function(n){n&&Gu(t),e[27](null),h=!1,Iu(v)}}}function kc(e,t,n){var i,r,a=t.className,o=void 0===a?"":a,s=t.isHidden,u=void 0!==s&&s,l=t.isVertical,c=void 0!==l&&l,d=t.isActiveLive,f=void 0!==d&&d,p=t.isAds,h=void 0!==p&&p,v=t.squareBorders,m=void 0!==v&&v,g=t.onPointerDown,y=void 0===g?Lu:g,b=t.onHandleMove,w=void 0===b?Lu:b,S=t.onPointerUp,k=void 0===S?Lu:S,E=t.onPointerEnter,x=void 0===E?Lu:E,T=t.onPointerMove,$=void 0===T?Lu:T,P=t.onPointerLeave,A=void 0===P?Lu:P,C=t.loadedProgress,_=void 0===C?0:C,R=t.filledProgress,L=void 0===R?0:R,N=t.handleProgress,M=void 0===N?0:N,I=t.ariaLabel,D=void 0===I?"":I,O=t.ariaValueMin,B=t.ariaValueMax,V=t.ariaValueNow,z=t.ariaValueText,U=void 0===z?"":z,F=!1;function q(e,t){return c?Math.max(0,Math.min(1,(r.height-(t-r.top))/r.height)):Math.min(Math.max(e-r.x,0),r.width)/r.width}function H(e){return Math.min(Math.max(e-r.x,0),r.width)}return e.$$set=function(e){"className"in e&&n(0,o=e.className),"isHidden"in e&&n(1,u=e.isHidden),"isVertical"in e&&n(2,c=e.isVertical),"isActiveLive"in e&&n(3,f=e.isActiveLive),"isAds"in e&&n(4,h=e.isAds),"squareBorders"in e&&n(5,m=e.squareBorders),"onPointerDown"in e&&n(21,y=e.onPointerDown),"onHandleMove"in e&&n(22,w=e.onHandleMove),"onPointerUp"in e&&n(23,k=e.onPointerUp),"onPointerEnter"in e&&n(24,x=e.onPointerEnter),"onPointerMove"in e&&n(25,$=e.onPointerMove),"onPointerLeave"in e&&n(26,A=e.onPointerLeave),"loadedProgress"in e&&n(6,_=e.loadedProgress),"filledProgress"in e&&n(7,L=e.filledProgress),"handleProgress"in e&&n(8,M=e.handleProgress),"ariaLabel"in e&&n(9,D=e.ariaLabel),"ariaValueMin"in e&&n(10,O=e.ariaValueMin),"ariaValueMax"in e&&n(11,B=e.ariaValueMax),"ariaValueNow"in e&&n(12,V=e.ariaValueNow),"ariaValueText"in e&&n(13,U=e.ariaValueText)},[o,u,c,f,h,m,_,L,M,D,O,B,V,U,i,F,function(e){if(!F){n(15,F=!0),r=i.getBoundingClientRect();var t=q(e.clientX,e.clientY);y(t),i.setPointerCapture(e.pointerId)}},function(e){var t=q(e.clientX,e.clientY),n=H(e.clientX);$(t,n),F&&w(t)},function(e){if(F){n(15,F=!1);var t=q(e.clientX,e.clientY);k(t)}},function(e){r=i.getBoundingClientRect();var t=q(e.clientX,e.clientY),n=H(e.clientX);x(t,n)},function(){A()},y,w,k,x,$,A,function(e){dl[e?"unshift":"push"]((function(){n(14,i=e)}))}]}var Ec=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,kc,Sc,Ou,{className:0,isHidden:1,isVertical:2,isActiveLive:3,isAds:4,squareBorders:5,onPointerDown:21,onHandleMove:22,onPointerUp:23,onPointerEnter:24,onPointerMove:25,onPointerLeave:26,loadedProgress:6,filledProgress:7,handleProgress:8,ariaLabel:9,ariaValueMin:10,ariaValueMax:11,ariaValueNow:12,ariaValueText:13},wc),i}return y(n)}(Nl);function xc(e){ju(e,"svelte-t7t1oe",".icon.svelte-t7t1oe.svelte-t7t1oe{display:block;width:24px;height:24px}.icon.svelte-t7t1oe .cross.svelte-t7t1oe{visibility:hidden}.icon[data-value='off'].svelte-t7t1oe .wave1.svelte-t7t1oe,.icon[data-value='off'].svelte-t7t1oe .wave2.svelte-t7t1oe{visibility:hidden}.icon[data-value='off'].svelte-t7t1oe .cross.svelte-t7t1oe{visibility:visible}.icon[data-value='mid'].svelte-t7t1oe .wave2.svelte-t7t1oe,.icon[data-value='min'].svelte-t7t1oe .wave2.svelte-t7t1oe{visibility:hidden}.volumeBar.svelte-t7t1oe.svelte-t7t1oe{display:flex;align-items:center;margin:0 8px;position:relative;width:70px}.volumeBar-slider-vertical{width:50px !important}.volumeBar-vertical.svelte-t7t1oe.svelte-t7t1oe{padding:0;width:0}")}function Tc(e){var t,n,i,r,a,o,u,l,c,d,f,p;return c=new Ec({props:{className:e[0]?"volumeBar-slider-vertical":"",isHidden:e[0]&&!e[1],isVertical:e[0],onPointerDown:e[6],onHandleMove:e[7],onPointerUp:e[8],onPointerEnter:e[0]?e[9]:Lu,onPointerLeave:e[0]?e[10]:Lu,ariaLabel:"\u041f\u043e\u043b\u0437\u0443\u043d\u043e\u043a \u0433\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u0438",ariaValueMin:0,ariaValueMax:100,ariaValueNow:Math.round(100*e[3]),ariaValueText:"".concat(Math.round(100*e[3]),"%"),filledProgress:e[3],handleProgress:e[3]}}),{c:function(){t=Qu("div"),n=Ku("svg"),i=Ku("g"),r=Ku("path"),a=Ku("path"),o=Ku("path"),u=Ju(),l=Qu("div"),Al(c.$$.fragment),nl(r,"class","wave2 svelte-t7t1oe"),nl(r,"d","M12.980843 18.8227621c-.032051 1.2070086-.6704932 1.608931-1.8287519.6202507-1.7185995-1.4687545-3.60887471-3.1942931-4.24215929-3.7215065-.63217937-.528454-1.64491897-.6202511-3.07284859-.6202511-1.42682441 0-1.81505873-.6202511-1.81505873-1.2405016s-.01369327-1.8288162-.01369327-2.001246c0-.0549443.00464608-.085056.01369327-.1291845.01954957-.0953551-.05817756-.9728525 0-1.591076.08510106-.90556663.38823432-1.24050252 1.81505873-1.24050252 1.42792962 0 2.44066922-.09179716 3.07284859-.62025109.63328458-.52845393 2.52355979-2.25275186 4.24215929-3.72150644 1.1582587-.98868024 1.7967003-.58675756 1.8287514.62025106.0431031 1.60645033 5e-7 3.85020301 5e-7 6.68226949 0 2.8295855.0431032 5.3568042 0 6.9632545zm2.9004386-8.7040437c-.3417088-.34170872-.3417088-.89572808 0-1.23743683.3417087-.34170876.8957281-.34170876 1.2374368 0 .1762598.17625972.4111566.46988072.6409943.87209686C18.1429358 10.4240187 18.375 11.1782274 18.375 12s-.2320642 1.5759813-.6152873 2.2466216c-.2298377.4022161-.4647345.6958371-.6409943.8720968-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368.0737402-.0737403.2138434-.2488693.3590057-.5029032C16.4820642 12.9552687 16.625 12.4907274 16.625 12s-.1429358-.9552687-.3847127-1.3783784c-.1451623-.2540339-.2852655-.4291629-.3590057-.5029032zm3-1.99999997c-.3417088-.34170875-.3417088-.89572811 0-1.23743686.3417087-.34170876.8957281-.34170876 1.2374368 0 .2637116.26371158.6207023.73969919.9665078 1.43131016.5167785 1.03355701.842501 2.25503497.8892639 3.71655167-.0467629 1.4032299-.3724854 2.6247079-.8892639 3.6582649-.3458055.6916109-.7027962 1.1675985-.9665078 1.4313101-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368.1375896-.1375897.3825507-.4642045.638697-.9764971.4071252-.8142505.6673665-1.7901701.7054825-2.8756411-.038116-1.1437578-.2983573-2.11967743-.7054825-2.93392787-.2561463-.51229266-.5011074-.83890747-.638697-.9764971z"),nl(a,"class","wave1 svelte-t7t1oe"),nl(a,"d","M12.980843 18.8227621c-.032051 1.2070086-.6704932 1.608931-1.8287519.6202507-1.7185995-1.4687545-3.60887471-3.1942931-4.24215929-3.7215065-.63217937-.528454-1.64491897-.6202511-3.07284859-.6202511-1.42682441 0-1.81505873-.6202511-1.81505873-1.2405016s-.01369327-1.8288162-.01369327-2.001246c0-.0549443.00464608-.085056.01369327-.1291845.01954957-.0953551-.05817756-.9728525 0-1.591076.08510106-.90556663.38823432-1.24050252 1.81505873-1.24050252 1.42792962 0 2.44066922-.09179716 3.07284859-.62025109.63328458-.52845393 2.52355979-2.25275186 4.24215929-3.72150644 1.1582587-.98868024 1.7967003-.58675756 1.8287514.62025106.0431031 1.60645033 5e-7 3.85020301 5e-7 6.68226949 0 2.8295855.0431032 5.3568042 0 6.9632545zm2.9004386-8.7040437c-.3417088-.34170872-.3417088-.89572808 0-1.23743683.3417087-.34170876.8957281-.34170876 1.2374368 0 .1762598.17625972.4111566.46988072.6409943.87209686C18.1429358 10.4240187 18.375 11.1782274 18.375 12s-.2320642 1.5759813-.6152873 2.2466216c-.2298377.4022161-.4647345.6958371-.6409943.8720968-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368.0737402-.0737403.2138434-.2488693.3590057-.5029032C16.4820642 12.9552687 16.625 12.4907274 16.625 12s-.1429358-.9552687-.3847127-1.3783784c-.1451623-.2540339-.2852655-.4291629-.3590057-.5029032z"),nl(o,"class","cross svelte-t7t1oe"),nl(o,"d","M20 10.7625631l2.3812816-2.38128153c.3417087-.34170876.8957281-.34170876 1.2374368 0 .3417088.34170875.3417088.89572811 0 1.23743686L21.2374369 12l2.3812815 2.3812816c.3417088.3417087.3417088.8957281 0 1.2374368-.3417087.3417088-.8957281.3417088-1.2374368 0L20 13.2374369l-2.3812816 2.3812815c-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368L18.7625631 12l-2.3812815-2.38128157c-.3417088-.34170875-.3417088-.89572811 0-1.23743686.3417087-.34170876.8957281-.34170876 1.2374368 0zm-7.019157 8.060199c-.032051 1.2070086-.6704932 1.608931-1.8287519.6202507-1.7185995-1.4687545-3.60887471-3.1942931-4.24215929-3.7215065-.63217937-.528454-1.64491897-.6202511-3.07284859-.6202511-1.42682441 0-1.81505873-.6202511-1.81505873-1.2405016s-.01369327-1.8288162-.01369327-2.001246c0-.0549443.00464608-.085056.01369327-.1291845.01954957-.0953551-.05817756-.9728525 0-1.591076.08510106-.90556663.38823432-1.24050252 1.81505873-1.24050252 1.42792962 0 2.44066922-.09179716 3.07284859-.62025109.63328458-.52845393 2.52355979-2.25275186 4.24215929-3.72150644 1.1582587-.98868024 1.7967003-.58675756 1.8287514.62025106.0431031 1.60645033 5e-7 3.85020301 5e-7 6.68226949 0 2.8295855.0431032 5.3568042 0 6.9632545z"),nl(i,"fill","#fff"),nl(i,"fill-rule","evenodd"),nl(n,"xmlns","http://www.w3.org/2000/svg"),nl(n,"class","icon svelte-t7t1oe"),nl(n,"data-value",e[2]),nl(t,"tabindex","0"),nl(t,"role","button"),nl(l,"class","volumeBar svelte-t7t1oe"),al(l,"volumeBar-vertical",e[0])},m:function(s,h){Wu(s,t,h),Hu(t,n),Hu(n,i),Hu(i,r),Hu(i,a),Hu(i,o),Wu(s,u,h),Wu(s,l,h),Cl(c,l,null),d=!0,f||(p=[el(t,"mouseenter",(function(){Du(e[0]?e[11]:Lu)&&(e[0]?e[11]:Lu).apply(this,arguments)})),el(t,"mouseleave",(function(){Du(e[0]?e[12]:Lu)&&(e[0]?e[12]:Lu).apply(this,arguments)})),el(t,"click",e[15])],f=!0)},p:function(t,i){var r=s(i,1)[0];e=t,(!d||4&r)&&nl(n,"data-value",e[2]);var a={};1&r&&(a.className=e[0]?"volumeBar-slider-vertical":""),3&r&&(a.isHidden=e[0]&&!e[1]),1&r&&(a.isVertical=e[0]),1&r&&(a.onPointerEnter=e[0]?e[9]:Lu),1&r&&(a.onPointerLeave=e[0]?e[10]:Lu),8&r&&(a.ariaValueNow=Math.round(100*e[3])),8&r&&(a.ariaValueText="".concat(Math.round(100*e[3]),"%")),8&r&&(a.filledProgress=e[3]),8&r&&(a.handleProgress=e[3]),c.$set(a),1&r&&al(l,"volumeBar-vertical",e[0])},i:function(e){d||(Tl(c.$$.fragment,e),d=!0)},o:function(e){$l(c.$$.fragment,e),d=!1},d:function(e){e&&Gu(t),e&&Gu(u),e&&Gu(l),_l(c),f=!1,Iu(p)}}}function $c(e,t,n){var i,r,a=t.isVerticalVolume,o=void 0!==a&&a,s=Ul(),u=s.state.volume$;Uu(e,u,(function(e){return n(13,i=e)}));var l=s.state.muted$;Uu(e,l,(function(e){return n(14,r=e)}));var c,d,f,p=s.actions.internal.setVolume,h=!1,v=1,m=!1;function g(){c=window.setTimeout((function(){m||n(1,h=!1)}),300)}return e.$$set=function(e){"isVerticalVolume"in e&&n(0,o=e.isVerticalVolume)},e.$$.update=function(){var t;24576&e.$$.dirty&&n(2,(t=i,d=r?"off":t>.5?"max":t>.2?"mid":t>0?"min":"off")),24576&e.$$.dirty&&n(3,f=r?0:i)},[o,h,d,f,u,l,function(e){v=i,p(e)},function(e){p(e)},function(e){p(e,0===e?v:e)},function(){m=!0},function(){m=!1,g()},function(){clearTimeout(c),n(1,h=!0)},function(){g()},i,r,function(t){ll.call(this,e,t)}]}var Pc=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,$c,Tc,Ou,{isVerticalVolume:0},xc),i}return y(n)}(Nl);function Ac(e){ju(e,"svelte-1fkqq1h",".container.svelte-1fkqq1h{display:flex;align-items:center;height:100%;transition:var(--videoplayer-button-hover-transition);will-change:opacity;cursor:pointer;-webkit-tap-highlight-color:transparent}.container.svelte-1fkqq1h:hover{opacity:0.8}.disabled.svelte-1fkqq1h{pointer-events:none}")}function Cc(e){var t,n,i,r=e[3].default,a=function(e,t,n,i){if(e){var r=Fu(e,t,n,null);return e[0](r)}}(r,e,e[2]);return{c:function(){t=Qu("div"),a&&a.c(),nl(t,"class",n="container "+e[0]+" svelte-1fkqq1h"),al(t,"disabled",e[1])},m:function(e,n){Wu(e,t,n),a&&a.m(t,null),i=!0},p:function(e,o){var u=s(o,1)[0];a&&a.p&&(!i||4&u)&&function(e,t,n,i,r,a){if(r){var o=Fu(t,n,i,null);e.p(o,r)}}(a,r,e,e[2],i?function(e,t,n,i){return e[2],t.dirty}(r,e[2]):function(e){if(e.ctx.length>32){for(var t=[],n=e.ctx.length/32,i=0;i<n;i++)t[i]=-1;return t}return-1}(e[2])),(!i||1&u&&n!==(n="container "+e[0]+" svelte-1fkqq1h"))&&nl(t,"class",n),3&u&&al(t,"disabled",e[1])},i:function(e){i||(Tl(a,e),i=!0)},o:function(e){$l(a,e),i=!1},d:function(e){e&&Gu(t),a&&a.d(e)}}}function _c(e,t,n){var i=t.$$slots,r=void 0===i?{}:i,a=t.$$scope,o=t.className,s=void 0===o?"":o,u=t.disabled,l=void 0!==u&&u;return e.$$set=function(e){"className"in e&&n(0,s=e.className),"disabled"in e&&n(1,l=e.disabled),"$$scope"in e&&n(2,a=e.$$scope)},[s,l,a,r]}var Rc=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,_c,Cc,Ou,{className:0,disabled:1},Ac),i}return y(n)}(Nl);function Lc(e){ju(e,"svelte-daygaf",".icon.svelte-daygaf{display:block;width:24px;height:24px}")}function Nc(e){var t;return{c:function(){nl(t=Ku("path"),"class","_enter"),nl(t,"d","M10.5 19c0 .5522847-.4477153 1-1 1H5c-.55228475 0-1-.4477153-1-1v-4.5c0-.5522847.44771525-1 1-1s1 .4477153 1 1v2.0715l3.36290054-3.3643932.00012963-.0001296c.39052429-.3905243 1.02368923-.3905243 1.41421353 0l.0157791.0157791.0001297.0001296c.3904527.3905959.3903366 1.0237609-.0002593 1.4142136L7.4285 18H9.5c.5522847 0 1 .4477153 1 1zM18 7.4285l-3.3629005 3.3643932c-.0000432.0000432-.0000865.0000864-.0001297.0001296-.3905243.3905243-1.0236892.3905243-1.4142135 0l-.0157791-.0157791c-.0000433-.0000432-.0000865-.0000864-.0001297-.0001296-.3904527-.3905959-.3903366-1.02376087.0002593-1.41421356L16.5715 6H14.5c-.5522847 0-1-.44771525-1-1s.4477153-1 1-1H19c.5522847 0 1 .44771525 1 1v4.5c0 .5522847-.4477153 1-1 1s-1-.4477153-1-1z")},m:function(e,n){Wu(e,t,n)},d:function(e){e&&Gu(t)}}}function Mc(e){var t;return{c:function(){nl(t=Ku("path"),"class","_exit"),nl(t,"d","M4.57969048 13.9787492c0-.5464165.44295809-.9893746.9893746-.9893746h4.45218572c.5464165 0 .9893746.4429581.9893746.9893746v4.4521857c0 .5464165-.4429581.9893746-.9893746.9893746-.54641651 0-.98937461-.4429581-.98937461-.9893746v-2.0494895l-3.3196551 3.3211319-.00012963.0001297c-.39052429.3905243-1.02368927.3905243-1.41421356 0l-.00058487-.0005849-.00012964-.0001297c-.39045268-.3905958-.3903366-1.0237608.00025929-1.4142135l3.32113189-3.3196551H5.56906508c-.54641651 0-.9893746-.4429581-.9893746-.9893746zM14.9681238 7.61855457l3.3196551-3.32113189.0001296-.00012966c.3905243-.39052429 1.0236893-.39052429 1.4142136 0l.0005849.00058488.0001296.00012965c.3904527.39059589.3903366 1.02376086-.0002593 1.41421354l-3.3211319 3.3196551h2.0494895c.5464165 0 .9893746.4429581.9893746.98937461 0 .5464165-.4429581.9893746-.9893746.9893746h-4.4415603c-.5522847 0-1-.4477153-1-1V5.56906508c0-.54641651.4429581-.9893746.9893746-.9893746s.9893746.44295809.9893746.9893746z")},m:function(e,n){Wu(e,t,n)},d:function(e){e&&Gu(t)}}}function Ic(e){var t,n,i,r,a;function o(e,t){return e[0]?Mc:Nc}var u=o(e),l=u(e);return{c:function(){t=Qu("div"),n=Ku("svg"),i=Ku("g"),l.c(),nl(i,"fill","#fff"),nl(i,"fill-rule","evenodd"),nl(n,"class","icon svelte-daygaf"),nl(n,"xmlns","http://www.w3.org/2000/svg"),nl(t,"role","button"),nl(t,"tabindex","0")},m:function(o,s){Wu(o,t,s),Hu(t,n),Hu(n,i),l.m(i,null),r||(a=el(t,"click",e[2]),r=!0)},p:function(e,t){s(t,1)[0];u!==(u=o(e))&&(l.d(1),(l=u(e))&&(l.c(),l.m(i,null)))},i:Lu,o:Lu,d:function(e){e&&Gu(t),l.d(),r=!1,a()}}}function Dc(e,t,n){var i,r=Ul().ui.isFullscreen;return Uu(e,r,(function(e){return n(0,i=e)})),[i,r,function(t){ll.call(this,e,t)}]}var Oc,Bc,Vc,zc,Uc=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Dc,Ic,Ou,{},Lc),i}return y(n)}(Nl),Fc="data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17.671 10.923c.82.483.82 1.67 0 2.154l-8.787 5.175A1.25 1.25 0 0 1 7 17.174V6.826a1.25 1.25 0 0 1 1.884-1.078l8.787 5.175z' fill='white'/%3e%3c/svg%3e",qc="data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M8.712 5c.448 0 .61.047.774.134a.913.913 0 0 1 .38.38c.087.164.134.326.134.774v11.424c0 .448-.047.61-.134.774a.914.914 0 0 1-.38.38c-.164.087-.326.134-.774.134H6.788c-.448 0-.61-.047-.774-.134a.914.914 0 0 1-.38-.38c-.087-.164-.134-.326-.134-.774V6.288c0-.448.047-.61.134-.774a.913.913 0 0 1 .38-.38C6.178 5.047 6.34 5 6.788 5h1.924zm8 0c.448 0 .61.047.774.134a.914.914 0 0 1 .38.38c.087.164.134.326.134.774v11.424c0 .448-.047.61-.134.774a.914.914 0 0 1-.38.38c-.164.087-.326.134-.774.134h-1.924c-.448 0-.61-.047-.774-.134a.914.914 0 0 1-.38-.38c-.087-.164-.134-.326-.134-.774V6.288c0-.448.047-.61.134-.774a.914.914 0 0 1 .38-.38c.164-.087.326-.134.774-.134h1.924z' fill='white'/%3e%3c/svg%3e";function Hc(e){ju(e,"svelte-1kcq5gq",".container-mobile.svelte-1kcq5gq{width:var(--videoplayer-big-play-size);height:var(--videoplayer-big-play-size);display:flex;align-items:center;justify-content:center;position:relative}.icon.svelte-1kcq5gq{display:block;width:24px;height:24px}.icon-mobile.svelte-1kcq5gq{position:relative;width:48px;height:48px}.icon-background-mobile.svelte-1kcq5gq{position:absolute;top:0;left:0;border-radius:var(--videoplayer-big-play-radius);background-color:var(--videoplayer-big-play-bg-color);width:100%;height:100%}")}function jc(e){var t,n,i,r,a,o;return{c:function(){t=Qu("div"),Bu((n=Qu("img")).src,i=e[2])||nl(n,"src",i),nl(n,"class","icon svelte-1kcq5gq"),nl(n,"alt",""),nl(t,"class",r=qu(e[0])+" svelte-1kcq5gq"),nl(t,"role","button"),nl(t,"tabindex","0")},m:function(i,r){Wu(i,t,r),Hu(t,n),a||(o=el(t,"click",(function(){Du(e[1])&&e[1].apply(this,arguments)})),a=!0)},p:function(a,o){e=a,4&o&&!Bu(n.src,i=e[2])&&nl(n,"src",i),1&o&&r!==(r=qu(e[0])+" svelte-1kcq5gq")&&nl(t,"class",r)},d:function(e){e&&Gu(t),a=!1,o()}}}function Wc(e){var t,n,i,r,a,o,s;return{c:function(){t=Qu("div"),n=Qu("div"),i=Ju(),r=Qu("img"),nl(n,"class","icon-background-mobile svelte-1kcq5gq"),Bu(r.src,a=e[2])||nl(r,"src",a),nl(r,"class","icon-mobile svelte-1kcq5gq"),nl(r,"alt",""),nl(t,"class","container-mobile svelte-1kcq5gq"),nl(t,"role","button"),nl(t,"tabindex","0")},m:function(a,u){Wu(a,t,u),Hu(t,n),Hu(t,i),Hu(t,r),o||(s=el(t,"click",(function(){Du(e[1])&&e[1].apply(this,arguments)})),o=!0)},p:function(t,n){e=t,4&n&&!Bu(r.src,a=e[2])&&nl(r,"src",a)},d:function(e){e&&Gu(t),o=!1,s()}}}function Gc(e){var t;function n(e,t){return e[3]?Wc:jc}var i=n(e),r=i(e);return{c:function(){r.c(),t=Zu()},m:function(e,n){r.m(e,n),Wu(e,t,n)},p:function(e,a){var o=s(a,1)[0];i===(i=n(e))&&r?r.p(e,o):(r.d(1),(r=i(e))&&(r.c(),r.m(t.parentNode,t)))},i:Lu,o:Lu,d:function(e){r.d(e),e&&Gu(t)}}}function Yc(e,t,n){var i,r,a,o=t.isEnded,s=t.isAds,u=t.playbackState,l=t.adPlaybackState,c=t.className,d=void 0===c?"":c,f=t.handlePlayClick,p=t.repeatPlaylist,h=t.isOneVideoPlaylist,v=Ul().ui.isMobile;return Uu(e,v,(function(e){return n(3,a=e)})),e.$$set=function(e){"isEnded"in e&&n(5,o=e.isEnded),"isAds"in e&&n(6,s=e.isAds),"playbackState"in e&&n(7,u=e.playbackState),"adPlaybackState"in e&&n(8,l=e.adPlaybackState),"className"in e&&n(0,d=e.className),"handlePlayClick"in e&&n(9,f=e.handlePlayClick),"repeatPlaylist"in e&&n(10,p=e.repeatPlaylist),"isOneVideoPlaylist"in e&&n(11,h=e.isOneVideoPlaylist)},e.$$.update=function(){480&e.$$.dirty&&n(2,i=s?function(e){return e===zc.PLAYING?qc:Fc}(l):function(e,t){return t?"data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12 9.096a.4.4 0 0 1-.67.296L7.044 5.493a.668.668 0 0 1 0-.986L11.33.608a.4.4 0 0 1 .67.296V4a8 8 0 1 1-8 8 1 1 0 1 1 2 0 6 6 0 1 0 6-6v3.096z' fill='white'/%3e%3c/svg%3e":e===Jr.PLAYING?qc:Fc}(u,o)),3680&e.$$.dirty&&n(1,r=s||!o||h?f:p)},[d,r,i,a,v,o,s,u,l,f,p,h]}!function(e){e.AUTO="auto"}(Oc||(Oc={})),function(e){e.Thumb="thumb",e.Video="video",e.Ads="ads"}(Bc||(Bc={})),function(e){e.Preroll="preroll",e.Midroll="midroll",e.Postroll="postroll"}(Vc||(Vc={})),function(e){e.INACTIVE="inactive",e.PLAYING="playing",e.PAUSED="paused"}(zc||(zc={}));var Qc=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Yc,Gc,Ou,{isEnded:5,isAds:6,playbackState:7,adPlaybackState:8,className:0,handlePlayClick:9,repeatPlaylist:10,isOneVideoPlaylist:11},Hc),i}return y(n)}(Nl),Kc="data:image/svg+xml,%3csvg width='26' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M16 10.835V7.5a1 1 0 1 1 2 0v9a1 1 0 0 1-2 0v-3.335l-8.149 4.67C7.03 18.304 6 17.715 6 16.772V7.227c0-.943 1.029-1.533 1.851-1.061L16 10.834z' fill='white'/%3e%3c/svg%3e";function Xc(e){ju(e,"svelte-1tmb7ku",".container-mobile-prev.svelte-1tmb7ku{margin-right:12px}.container-mobile-next.svelte-1tmb7ku{margin-right:12px}.disabled.svelte-1tmb7ku{opacity:0.4;pointer-events:none}.icon.svelte-1tmb7ku{display:block;height:24px}.icon-mobile.svelte-1tmb7ku{height:32px}.icon-prev.svelte-1tmb7ku{transform:scaleX(-1)}")}function Jc(e){var t,n,i,r;return{c:function(){t=Qu("div"),nl(n=Qu("img"),"class","icon svelte-1tmb7ku"),Bu(n.src,Kc)||nl(n,"src","data:image/svg+xml,%3csvg width='26' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M16 10.835V7.5a1 1 0 1 1 2 0v9a1 1 0 0 1-2 0v-3.335l-8.149 4.67C7.03 18.304 6 17.715 6 16.772V7.227c0-.943 1.029-1.533 1.851-1.061L16 10.834z' fill='white'/%3e%3c/svg%3e"),nl(n,"alt",""),al(n,"icon-prev","prev"===e[1]),nl(t,"role","button"),nl(t,"tabindex","0"),nl(t,"class","svelte-1tmb7ku"),al(t,"disabled",e[0])},m:function(a,o){Wu(a,t,o),Hu(t,n),i||(r=el(t,"click",e[5]),i=!0)},p:function(e,i){2&i&&al(n,"icon-prev","prev"===e[1]),1&i&&al(t,"disabled",e[0])},d:function(e){e&&Gu(t),i=!1,r()}}}function Zc(e){var t,n,i,r;return{c:function(){t=Qu("div"),nl(n=Qu("img"),"class","icon-mobile svelte-1tmb7ku"),Bu(n.src,Kc)||nl(n,"src","data:image/svg+xml,%3csvg width='26' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M16 10.835V7.5a1 1 0 1 1 2 0v9a1 1 0 0 1-2 0v-3.335l-8.149 4.67C7.03 18.304 6 17.715 6 16.772V7.227c0-.943 1.029-1.533 1.851-1.061L16 10.834z' fill='white'/%3e%3c/svg%3e"),nl(n,"alt",""),al(n,"icon-prev","prev"===e[1]),nl(t,"role","button"),nl(t,"tabindex","0"),nl(t,"class","svelte-1tmb7ku"),al(t,"container-mobile-prev","prev"===e[1]),al(t,"container-mobile-next","next"===e[1]),al(t,"disabled",e[0])},m:function(a,o){Wu(a,t,o),Hu(t,n),i||(r=el(t,"click",e[4]),i=!0)},p:function(e,i){2&i&&al(n,"icon-prev","prev"===e[1]),2&i&&al(t,"container-mobile-prev","prev"===e[1]),2&i&&al(t,"container-mobile-next","next"===e[1]),1&i&&al(t,"disabled",e[0])},d:function(e){e&&Gu(t),i=!1,r()}}}function ed(e){var t;function n(e,t){return e[2]?Zc:Jc}var i=n(e),r=i(e);return{c:function(){r.c(),t=Zu()},m:function(e,n){r.m(e,n),Wu(e,t,n)},p:function(e,a){var o=s(a,1)[0];i===(i=n(e))&&r?r.p(e,o):(r.d(1),(r=i(e))&&(r.c(),r.m(t.parentNode,t)))},i:Lu,o:Lu,d:function(e){r.d(e),e&&Gu(t)}}}function td(e,t,n){var i,r=t.disabled,a=void 0!==r&&r,o=t.type,s=Ul().ui.isMobile;return Uu(e,s,(function(e){return n(2,i=e)})),e.$$set=function(e){"disabled"in e&&n(0,a=e.disabled),"type"in e&&n(1,o=e.type)},[a,o,i,s,function(t){ll.call(this,e,t)},function(t){ll.call(this,e,t)}]}var nd=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,td,ed,Ou,{disabled:0,type:1},Xc),i}return y(n)}(Nl),id="data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.265 4.265C3 5.531 3 7.567 3 11.64v.72c0 4.073 0 6.11 1.265 7.375C5.531 21 7.567 21 11.64 21h.72c4.073 0 6.11 0 7.375-1.265C21 18.469 21 16.433 21 12.36v-.72c0-4.073 0-6.11-1.265-7.375C18.469 3 16.433 3 12.36 3h-.72C7.567 3 5.53 3 4.265 4.265zM6 8.5c.096 4.682 2.556 7.5 6.61 7.5h.235v-2.679c1.476.15 2.577 1.254 3.026 2.679H18c-.578-2.132-2.075-3.31-3.005-3.76.93-.558 2.246-1.908 2.556-3.74h-1.937c-.406 1.49-1.615 2.84-2.77 2.968V8.5h-1.968v5.197c-1.197-.3-2.759-1.757-2.823-5.197H6z' fill='white'/%3e%3c/svg%3e";function rd(e){ju(e,"svelte-j4644b",".no-hover.svelte-j4644b{pointer-events:none}.icon.svelte-j4644b{display:block;width:24px;height:24px}")}function ad(e){var t;return{c:function(){Bu((t=Qu("img")).src,id)||nl(t,"src","data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.265 4.265C3 5.531 3 7.567 3 11.64v.72c0 4.073 0 6.11 1.265 7.375C5.531 21 7.567 21 11.64 21h.72c4.073 0 6.11 0 7.375-1.265C21 18.469 21 16.433 21 12.36v-.72c0-4.073 0-6.11-1.265-7.375C18.469 3 16.433 3 12.36 3h-.72C7.567 3 5.53 3 4.265 4.265zM6 8.5c.096 4.682 2.556 7.5 6.61 7.5h.235v-2.679c1.476.15 2.577 1.254 3.026 2.679H18c-.578-2.132-2.075-3.31-3.005-3.76.93-.558 2.246-1.908 2.556-3.74h-1.937c-.406 1.49-1.615 2.84-2.77 2.968V8.5h-1.968v5.197c-1.197-.3-2.759-1.757-2.823-5.197H6z' fill='white'/%3e%3c/svg%3e"),nl(t,"class","icon svelte-j4644b"),nl(t,"alt","")},m:function(e,n){Wu(e,t,n)},p:Lu,d:function(e){e&&Gu(t)}}}function od(e){var t,n,i,r;return{c:function(){t=Qu("a"),Bu((n=Qu("img")).src,id)||nl(n,"src","data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.265 4.265C3 5.531 3 7.567 3 11.64v.72c0 4.073 0 6.11 1.265 7.375C5.531 21 7.567 21 11.64 21h.72c4.073 0 6.11 0 7.375-1.265C21 18.469 21 16.433 21 12.36v-.72c0-4.073 0-6.11-1.265-7.375C18.469 3 16.433 3 12.36 3h-.72C7.567 3 5.53 3 4.265 4.265zM6 8.5c.096 4.682 2.556 7.5 6.61 7.5h.235v-2.679c1.476.15 2.577 1.254 3.026 2.679H18c-.578-2.132-2.075-3.31-3.005-3.76.93-.558 2.246-1.908 2.556-3.74h-1.937c-.406 1.49-1.615 2.84-2.77 2.968V8.5h-1.968v5.197c-1.197-.3-2.759-1.757-2.823-5.197H6z' fill='white'/%3e%3c/svg%3e"),nl(n,"class","icon svelte-j4644b"),nl(n,"alt",""),nl(t,"href","https://vk.com/video"),nl(t,"target","_blank")},m:function(a,o){Wu(a,t,o),Hu(t,n),i||(r=el(t,"click",e[2]),i=!0)},p:Lu,d:function(e){e&&Gu(t),i=!1,r()}}}function sd(e){var t,n;function i(e,t){return e[1]?od:ad}var r=i(e),a=r(e);return{c:function(){t=Qu("div"),a.c(),nl(t,"class",n=qu(e[0])+" svelte-j4644b"),nl(t,"role","button"),nl(t,"tabindex","0"),al(t,"no-hover",!e[1])},m:function(e,n){Wu(e,t,n),a.m(t,null)},p:function(e,o){var u=s(o,1)[0];r===(r=i(e))&&a?a.p(e,u):(a.d(1),(a=r(e))&&(a.c(),a.m(t,null))),1&u&&n!==(n=qu(e[0])+" svelte-j4644b")&&nl(t,"class",n),3&u&&al(t,"no-hover",!e[1])},i:Lu,o:Lu,d:function(e){e&&Gu(t),a.d()}}}function ud(e,t,n){var i=t.className,r=void 0===i?"":i,a=t.logoClickable,o=void 0!==a&&a;return e.$$set=function(e){"className"in e&&n(0,r=e.className),"logoClickable"in e&&n(1,o=e.logoClickable)},[r,o,function(t){ll.call(this,e,t)}]}var ld=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,ud,sd,Ou,{className:0,logoClickable:1},rd),i}return y(n)}(Nl);function cd(e){ju(e,"svelte-1gdbwrb",".icon.svelte-1gdbwrb{display:block;width:24px;height:24px}.wave.svelte-1gdbwrb{animation-duration:1s;animation-iteration-count:infinite}.wave1.svelte-1gdbwrb{animation-name:svelte-1gdbwrb-wave1}.wave2.svelte-1gdbwrb{animation-name:svelte-1gdbwrb-wave2}.wave3.svelte-1gdbwrb{animation-name:svelte-1gdbwrb-wave3}@keyframes svelte-1gdbwrb-wave1{0%{opacity:0.3}33%{opacity:1}66%{opacity:1}100%{opacity:1}}@keyframes svelte-1gdbwrb-wave2{0%{opacity:0.3}33%{opacity:0.3}66%{opacity:1}100%{opacity:1}}@keyframes svelte-1gdbwrb-wave3{0%{opacity:0.3}33%{opacity:0.3}66%{opacity:0.3}100%{opacity:1}}")}function dd(e){var t,n,i,r;function a(e,t){return e[1]===ta.AVAILABLE?hd:e[1]===ta.CONNECTED?pd:e[1]===ta.CONNECTING?fd:void 0}var o=a(e),s=o&&o(e);return{c:function(){t=Qu("div"),s&&s.c(),nl(t,"class",n=qu(e[0])+" svelte-1gdbwrb"),nl(t,"role","button"),nl(t,"tabindex","0")},m:function(n,a){Wu(n,t,a),s&&s.m(t,null),i||(r=el(t,"click",e[4]),i=!0)},p:function(e,i){o!==(o=a(e))&&(s&&s.d(1),(s=o&&o(e))&&(s.c(),s.m(t,null))),1&i&&n!==(n=qu(e[0])+" svelte-1gdbwrb")&&nl(t,"class",n)},d:function(e){e&&Gu(t),s&&s.d(),i=!1,r()}}}function fd(e){var t,n,i,r,a,o,s;return{c:function(){t=Ku("svg"),n=Ku("g"),i=Ku("path"),r=Ku("path"),a=Ku("path"),o=Ku("path"),s=Ku("path"),nl(i,"class","wave wave1 svelte-1gdbwrb"),nl(i,"d","M1 18v3h3c0-1.66-1.34-3-3-3z"),nl(i,"opacity",".3"),nl(i,"fill","#fff"),nl(r,"class","wave wave2 svelte-1gdbwrb"),nl(r,"d","M1 14v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7z"),nl(r,"opacity",".3"),nl(r,"fill","#fff"),nl(a,"class","wave wave3 svelte-1gdbwrb"),nl(a,"d","M1 10v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11z"),nl(a,"opacity",".3"),nl(a,"fill","#fff"),nl(o,"d","M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"),nl(o,"fill","#fff"),nl(s,"d","M0 0h24v24H0z"),nl(n,"fill","none"),nl(n,"fill-rule","evenodd"),nl(t,"class","icon svelte-1gdbwrb"),nl(t,"width","22"),nl(t,"height","22"),nl(t,"viewBox","0 0 24 24"),nl(t,"xmlns","http://www.w3.org/2000/svg")},m:function(e,u){Wu(e,t,u),Hu(t,n),Hu(n,i),Hu(n,r),Hu(n,a),Hu(n,o),Hu(n,s)},d:function(e){e&&Gu(t)}}}function pd(e){var t,n,i,r;return{c:function(){t=Ku("svg"),n=Ku("g"),i=Ku("path"),r=Ku("path"),nl(i,"d","M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"),nl(i,"fill","#fff"),nl(r,"d","M0 0h24v24H0z"),nl(n,"fill","none"),nl(n,"fill-rule","evenodd"),nl(t,"class","icon svelte-1gdbwrb"),nl(t,"width","22"),nl(t,"height","22"),nl(t,"viewBox","0 0 24 24"),nl(t,"xmlns","http://www.w3.org/2000/svg")},m:function(e,a){Wu(e,t,a),Hu(t,n),Hu(n,i),Hu(n,r)},d:function(e){e&&Gu(t)}}}function hd(e){var t,n,i,r;return{c:function(){t=Ku("svg"),n=Ku("g"),i=Ku("path"),r=Ku("path"),nl(i,"d","M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"),nl(i,"fill","#fff"),nl(r,"d","M0 0h24v24H0z"),nl(n,"fill","none"),nl(n,"fill-rule","evenodd"),nl(t,"class","icon svelte-1gdbwrb"),nl(t,"width","22"),nl(t,"height","22"),nl(t,"viewBox","0 0 24 24"),nl(t,"xmlns","http://www.w3.org/2000/svg")},m:function(e,a){Wu(e,t,a),Hu(t,n),Hu(n,i),Hu(n,r)},d:function(e){e&&Gu(t)}}}function vd(e){var t,n=e[1]!==ta.NOT_AVAILABLE&&dd(e);return{c:function(){n&&n.c(),t=Zu()},m:function(e,i){n&&n.m(e,i),Wu(e,t,i)},p:function(e,i){var r=s(i,1)[0];e[1]!==ta.NOT_AVAILABLE?n?n.p(e,r):((n=dd(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Lu,o:Lu,d:function(e){n&&n.d(e),e&&Gu(t)}}}function md(e,t,n){var i,r,a=t.className,o=void 0===a?"":a,s=Ul().state.chromecastState$;return Uu(e,s,(function(e){return n(3,i=e)})),e.$$set=function(e){"className"in e&&n(0,o=e.className)},e.$$.update=function(){8&e.$$.dirty&&n(1,r=i)},[o,r,s,i,function(t){ll.call(this,e,t)}]}var gd=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,md,vd,Ou,{className:0},cd),i}return y(n)}(Nl);function yd(e){ju(e,"svelte-rwtbzf",".icon.svelte-rwtbzf{display:block;width:42px;height:20px}")}function bd(e){var t,n,i,r,a;return{c:function(){t=Qu("div"),Bu((n=Qu("img")).src,i=e[0])||nl(n,"src",i),nl(n,"class","icon svelte-rwtbzf"),nl(n,"alt",""),nl(t,"role","button"),nl(t,"tabindex","0")},m:function(i,o){Wu(i,t,o),Hu(t,n),r||(a=el(t,"click",e[2]),r=!0)},p:function(e,t){1&s(t,1)[0]&&!Bu(n.src,i=e[0])&&nl(n,"src",i)},i:Lu,o:Lu,d:function(e){e&&Gu(t),r=!1,a()}}}function wd(e,t,n){var i=t.isActiveLive,r=void 0!==i&&i,a="";return e.$$set=function(e){"isActiveLive"in e&&n(1,r=e.isActiveLive)},e.$$.update=function(){2&e.$$.dirty&&n(0,a=r?"data:image/svg+xml,%3csvg width='42' height='20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='42' height='20' rx='5' fill='%23FF3347'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1zm7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0V6zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2h-4zm-8.325 9.31-2.55-7.824a.993.993 0 0 1-.117-.363L19 6.1h.005a1 1 0 1 1 1.99-.199L21 5.9l2 6.4 2-6.4h.005a1 1 0 0 1 1.99.2H27l-.008.023a.993.993 0 0 1-.118.363l-2.55 7.824a1 1 0 0 1-.95.69h-.748a1 1 0 0 1-.95-.69z' fill='%23F2F3F5'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg viewBox='0 0 42 20' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6.41 1A6.46 6.46 0 0 0 3 1.55 3.52 3.52 0 0 0 1.55 3 6.46 6.46 0 0 0 1 6.41v7.18A6.46 6.46 0 0 0 1.55 17 3.52 3.52 0 0 0 3 18.45a6.46 6.46 0 0 0 3.41.55h29.18a6.46 6.46 0 0 0 3.41-.55A3.52 3.52 0 0 0 40.45 17a6.46 6.46 0 0 0 .55-3.41V6.41A6.46 6.46 0 0 0 40.45 3 3.52 3.52 0 0 0 39 1.55 6.46 6.46 0 0 0 35.59 1z' fill='none' stroke='white' stroke-width='2'/%3e%3cpath d='M8 5a1 1 0 0 1 1 1v7h3a1 1 0 0 1 1 .88V14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-.77v-.11A.49.49 0 0 1 7 14V6a1 1 0 0 1 .88-1zm8 0a1 1 0 0 1 1 1v8a1 1 0 0 1-.88 1H16a1 1 0 0 1-1-1V6a1 1 0 0 1 .88-1zm18 0a1 1 0 0 1 1 .88V6a1 1 0 0 1-1 1h-3v2h3a1 1 0 0 1 1 .88V10a1 1 0 0 1-1 1h-3v2h3a1 1 0 0 1 1 .88V14a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-.77v-.11a.49.49 0 0 1 0-.12V6a1 1 0 0 1 .56-.9A1 1 0 0 1 30 5zm-8 0a1 1 0 0 1 1 1v.1a.89.89 0 0 1-.11.35l-2.47 7.57a1.48 1.48 0 0 1-1.32.98h-.2a1.48 1.48 0 0 1-1.31-.95l-2.47-7.57a.89.89 0 0 1-.12-.36V6a1 1 0 0 1 .88-1H20a1 1 0 0 1 1 1v-.1l2 6.4 2-6.4a1 1 0 0 1 1-.9z' fill='%23f0f2f5' fill-rule='evenodd'/%3e%3c/svg%3e")},[a,r,function(t){ll.call(this,e,t)}]}var Sd=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,wd,bd,Ou,{isActiveLive:1},yd),i}return y(n)}(Nl),kd="data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6.264 4.264a.9.9 0 0 1 1.272 0l12.2 12.2a.9.9 0 1 1-1.272 1.272L16 15.273v3.038c0 .995-.848 1.689-1.75 1.689-.762 0-1.505-.28-2.063-.798l-4.24-3.935H6.14c-1.118 0-2.14-.856-2.14-2.05v-2.433c0-1.195 1.022-2.05 2.14-2.05h1.807l.785-.73-2.468-2.468a.9.9 0 0 1 0-1.272zm3.751 5.024c-.368.335-.74.668-1.103 1.005a.9.9 0 0 1-.612.24H6.14a.386.386 0 0 0-.265.097.208.208 0 0 0-.075.154v2.432c0 .047.019.101.075.154.058.054.15.097.265.097H8.3a.9.9 0 0 1 .612.24l4.5 4.175c.2.187.481.305.788.317v-4.726l-4.185-4.185zM14.25 4c.902 0 1.75.694 1.75 1.689V8.01a.9.9 0 1 1-1.8 0V5.8a1.23 1.23 0 0 0-.789.316l-.13.122a.9.9 0 1 1-1.225-1.32l.13-.12A3.035 3.035 0 0 1 14.25 4z' fill='white'/%3e%3c/svg%3e",Ed="data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.25 4c.902 0 1.75.694 1.75 1.689V18.31c0 .995-.848 1.689-1.75 1.689-.762 0-1.505-.28-2.063-.798l-4.24-3.935H6.14c-1.118 0-2.14-.856-2.14-2.05v-2.433c0-1.195 1.022-2.05 2.14-2.05h1.807l4.24-3.936A3.035 3.035 0 0 1 14.25 4zm-.05 1.801a1.23 1.23 0 0 0-.789.316l-4.499 4.176a.9.9 0 0 1-.612.24H6.14c-.14 0-.34.085-.34.25v2.433c0 .166.2.25.34.25H8.3a.9.9 0 0 1 .612.241l4.5 4.175c.2.187.481.305.788.317V5.801zm7.338.464C23.058 7.792 24 9.792 24 12s-.943 4.208-2.462 5.735a.9.9 0 1 1-1.276-1.27C21.489 15.232 22.2 13.675 22.2 12c0-1.674-.71-3.232-1.938-4.465a.9.9 0 1 1 1.276-1.27zm-2.551 3.053C19.613 10.058 20 10.983 20 12s-.387 1.943-1.013 2.682a.9.9 0 0 1-1.374-1.164c.383-.451.587-.974.587-1.518s-.204-1.067-.587-1.518a.9.9 0 0 1 1.374-1.164z' fill='white'/%3e%3c/svg%3e";function xd(e){ju(e,"svelte-dsbe5p",".container.svelte-dsbe5p{display:flex;height:32px;align-items:center;padding:0 8px}.expanded.svelte-dsbe5p{background-color:rgba(0, 0, 0, 0.56);border-radius:6px}.icon.svelte-dsbe5p{width:24px;height:24px}.text.svelte-dsbe5p{font-size:15px;margin-left:8px}")}function Td(e){var t;return{c:function(){(t=Qu("span")).textContent="\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",nl(t,"class","text svelte-dsbe5p")},m:function(e,n){Wu(e,t,n)},d:function(e){e&&Gu(t)}}}function $d(e){var t,n,i,r,a,o,u=e[0]&&Td();return{c:function(){t=Qu("div"),n=Qu("img"),r=Ju(),u&&u.c(),Bu(n.src,i=e[0]?Ed:kd)||nl(n,"src",i),nl(n,"class","icon svelte-dsbe5p"),nl(n,"alt",""),nl(t,"class","container svelte-dsbe5p"),al(t,"expanded",e[0])},m:function(i,s){Wu(i,t,s),Hu(t,n),Hu(t,r),u&&u.m(t,null),a||(o=el(t,"click",e[1]),a=!0)},p:function(e,r){var a=s(r,1)[0];1&a&&!Bu(n.src,i=e[0]?Ed:kd)&&nl(n,"src",i),e[0]?u||((u=Td()).c(),u.m(t,null)):u&&(u.d(1),u=null),1&a&&al(t,"expanded",e[0])},i:Lu,o:Lu,d:function(e){e&&Gu(t),u&&u.d(),a=!1,o()}}}function Pd(e,t,n){var i=t.expanded,r=void 0!==i&&i;return e.$$set=function(e){"expanded"in e&&n(0,r=e.expanded)},[r,function(t){ll.call(this,e,t)}]}var Ad=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Pd,$d,Ou,{expanded:0},xd),i}return y(n)}(Nl);function Cd(e){ju(e,"svelte-1bwjmdb",'.tooltip-wrapper.svelte-1bwjmdb{position:relative;display:block}.tooltip.svelte-1bwjmdb{position:absolute;opacity:0;visibility:hidden;transition:opacity 200ms, visibility 200ms;bottom:100%;transform:translateX(-50%)}.tooltip.svelte-1bwjmdb:after{position:absolute;bottom:0;left:50%;width:0;border-top:5px solid rgba(41, 41, 41, .8);border-right:5px solid transparent;border-left:5px solid transparent;content:" ";font-size:0;line-height:0;transform:translate(-50%, 5px)}.content.svelte-1bwjmdb{display:inline-block;padding:6px 10px;border-radius:3px;color:var(--white);background-color:rgba(41, 41, 41, .8)}.tooltip.active.svelte-1bwjmdb{opacity:1;visibility:visible}')}function _d(e){var t,n,i,r,a;return{c:function(){t=Qu("div"),n=Qu("div"),i=Qu("div"),r=Xu(e[0]),nl(i,"class","content svelte-1bwjmdb"),nl(n,"class","tooltip svelte-1bwjmdb"),al(n,"active",e[1]),nl(t,"class","tooltip-wrapper svelte-1bwjmdb"),nl(t,"style",a="transform: translate(".concat(e[2],"px, ").concat(e[3],"px);"))},m:function(e,a){Wu(e,t,a),Hu(t,n),Hu(n,i),Hu(i,r)},p:function(e,i){var o=s(i,1)[0];1&o&&il(r,e[0]),2&o&&al(n,"active",e[1]),12&o&&a!==(a="transform: translate(".concat(e[2],"px, ").concat(e[3],"px);"))&&nl(t,"style",a)},i:Lu,o:Lu,d:function(e){e&&Gu(t)}}}function Rd(e,t,n){var i=t.content,r=void 0===i?"":i,a=t.active,o=void 0!==a&&a,s=t.translateXPx,u=void 0===s?0:s,l=t.translateYPx,c=void 0===l?0:l;return e.$$set=function(e){"content"in e&&n(0,r=e.content),"active"in e&&n(1,o=e.active),"translateXPx"in e&&n(2,u=e.translateXPx),"translateYPx"in e&&n(3,c=e.translateYPx)},[r,o,u,c]}var Ld=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Rd,_d,Ou,{content:0,active:1,translateXPx:2,translateYPx:3},Cd),i}return y(n)}(Nl);function Nd(e){var t,n;return t=new Ld({props:{content:e[5],active:e[4],translateXPx:e[6],translateYPx:-16}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};32&n&&(i.content=e[5]),16&n&&(i.active=e[4]),64&n&&(i.translateXPx=e[6]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Md(e){var t,n,i,r=(!e[8]||e[8]&&e[7])&&Nd(e);return n=new Ec({props:{isActiveLive:e[9],ariaLabel:"\u041f\u043e\u043b\u0437\u0443\u043d\u043e\u043a \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0448\u043a\u0430\u043b\u044b",ariaValueMin:0,ariaValueMax:e[0],ariaValueNow:Math.round(100*e[3]),ariaValueText:"".concat(e[2]," (\u043e\u0431\u0449\u0430\u044f \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ").concat(e[1],")"),loadedProgress:e[10],filledProgress:e[3],handleProgress:e[3],onPointerDown:e[17],onHandleMove:e[18],onPointerMove:e[21],onPointerUp:e[19],onPointerEnter:e[20],onPointerLeave:e[22]}}),{c:function(){r&&r.c(),t=Ju(),Al(n.$$.fragment)},m:function(e,a){r&&r.m(e,a),Wu(e,t,a),Cl(n,e,a),i=!0},p:function(e,i){var a=s(i,1)[0];!e[8]||e[8]&&e[7]?r?(r.p(e,a),384&a&&Tl(r,1)):((r=Nd(e)).c(),Tl(r,1),r.m(t.parentNode,t)):r&&(El(),$l(r,1,1,(function(){r=null})),xl());var o={};512&a&&(o.isActiveLive=e[9]),1&a&&(o.ariaValueMax=e[0]),8&a&&(o.ariaValueNow=Math.round(100*e[3])),6&a&&(o.ariaValueText="".concat(e[2]," (\u043e\u0431\u0449\u0430\u044f \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ").concat(e[1],")")),1024&a&&(o.loadedProgress=e[10]),8&a&&(o.filledProgress=e[3]),8&a&&(o.handleProgress=e[3]),n.$set(o)},i:function(e){i||(Tl(r),Tl(n.$$.fragment,e),i=!0)},o:function(e){$l(r),$l(n.$$.fragment,e),i=!1},d:function(e){r&&r.d(e),e&&Gu(t),_l(n,e)}}}function Id(e,t,n){var i,r,a,o,s,u,l=Ul(),c=l.state.bufferedProgress$;Uu(e,c,(function(e){return n(10,u=e)}));var d=l.state.positionWithScrubbing$;Uu(e,d,(function(e){return n(23,a=e)}));var f=l.state.duration$;Uu(e,f,(function(e){return n(0,r=e)}));var p=l.state.isLive$;Uu(e,p,(function(e){return n(7,i=e)}));var h=l.state.isActiveLive$;Uu(e,h,(function(e){return n(9,s=e)}));var v,m,g,y=l.ui.isMobile;Uu(e,y,(function(e){return n(8,o=e)}));var b=!1,w="",S=0;function k(e,t){n(6,S=t),n(5,w=function(e){var t=vc((i?1-e:e)*r);return i?"-".concat(t):t}(e))}return e.$$.update=function(){1&e.$$.dirty&&n(1,v=vc(r)),8388608&e.$$.dirty&&n(2,m=vc(a)),8388609&e.$$.dirty&&n(3,g=a/r)},[r,v,m,g,b,w,S,i,o,s,u,c,d,f,p,h,y,function(e){l.actions.internal.startScrubbing(e)},function(e){l.actions.internal.progressScrubbing(e)},function(e){l.actions.internal.completeScrubbing(e)},function(e,t){k(e,t),n(4,b=!0)},function(e,t){k(e,t)},function(){n(4,b=!1)},a]}var Dd=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Id,Md,Ou,{}),i}return y(n)}(Nl);function Od(e){var t,n;return t=new Ec({props:{ariaValueMin:0,ariaValueMax:e[0],ariaValueNow:Math.round(100*e[3]),ariaValueText:"".concat(e[2]," (\u043e\u0431\u0449\u0430\u044f \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ").concat(e[1],")"),filledProgress:e[3],isAds:!0,squareBorders:e[4]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i=s(n,1)[0],r={};1&i&&(r.ariaValueMax=e[0]),8&i&&(r.ariaValueNow=Math.round(100*e[3])),6&i&&(r.ariaValueText="".concat(e[2]," (\u043e\u0431\u0449\u0430\u044f \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ").concat(e[1],")")),8&i&&(r.filledProgress=e[3]),16&i&&(r.squareBorders=e[4]),t.$set(r)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Bd(e,t,n){var i,r,a,o,s=t.position,u=void 0===s?0:s,l=t.duration,c=void 0===l?0:l,d=Ul().ui.isMobile;return Uu(e,d,(function(e){return n(4,i=e)})),e.$$set=function(e){"position"in e&&n(6,u=e.position),"duration"in e&&n(0,c=e.duration)},e.$$.update=function(){1&e.$$.dirty&&n(1,r=vc(c)),64&e.$$.dirty&&n(2,a=vc(u)),65&e.$$.dirty&&n(3,o=u/c)},[c,r,a,o,i,d,u]}var Vd=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Bd,Od,Ou,{position:6,duration:0}),i}return y(n)}(Nl);function zd(e){ju(e,"svelte-n2y4if",".timeline.svelte-n2y4if{display:flex;align-items:center;width:100%;min-width:86px;margin:0 6px}.timeline-stub.svelte-n2y4if{width:100%}")}function Ud(e){var t;return{c:function(){nl(t=Qu("div"),"class","timeline-stub svelte-n2y4if")},m:function(e,n){Wu(e,t,n)},p:Lu,i:Lu,o:Lu,d:function(e){e&&Gu(t)}}}function Fd(e){var t,n,i,r,a,o=[Hd,qd],s=[];function u(e,t){return e[0]?0:1}return n=u(e),i=s[n]=o[n](e),{c:function(){t=Qu("div"),i.c(),nl(t,"class",r="timeline "+e[1]+" svelte-n2y4if")},m:function(e,i){Wu(e,t,i),s[n].m(t,null),a=!0},p:function(e,l){var c=n;(n=u(e))===c?s[n].p(e,l):(El(),$l(s[c],1,1,(function(){s[c]=null})),xl(),(i=s[n])?i.p(e,l):(i=s[n]=o[n](e)).c(),Tl(i,1),i.m(t,null)),(!a||2&l&&r!==(r="timeline "+e[1]+" svelte-n2y4if"))&&nl(t,"class",r)},i:function(e){a||(Tl(i),a=!0)},o:function(e){$l(i),a=!1},d:function(e){e&&Gu(t),s[n].d()}}}function qd(e){var t,n;return t=new Dd({}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:Lu,i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Hd(e){var t,n;return t=new Vd({props:{position:e[3],duration:e[4]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};8&n&&(i.position=e[3]),16&n&&(i.duration=e[4]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function jd(e){var t,n,i,r,a=[Fd,Ud],o=[];function u(e,t){return e[2]?0:1}return t=u(e),n=o[t]=a[t](e),{c:function(){n.c(),i=Zu()},m:function(e,n){o[t].m(e,n),Wu(e,i,n),r=!0},p:function(e,r){var l=s(r,1)[0],c=t;(t=u(e))===c?o[t].p(e,l):(El(),$l(o[c],1,1,(function(){o[c]=null})),xl(),(n=o[t])?n.p(e,l):(n=o[t]=a[t](e)).c(),Tl(n,1),n.m(i.parentNode,i))},i:function(e){r||(Tl(n),r=!0)},o:function(e){$l(n),r=!1},d:function(e){o[t].d(e),e&&Gu(i)}}}function Wd(e,t,n){var i,r,a,o=t.isAds,s=void 0!==o&&o,u=t.canRewindLive,l=t.className,c=void 0===l?"":l,d=Ul(),f=d.state.isLive$;Uu(e,f,(function(e){return n(9,i=e)}));var p=d.ads.duration;Uu(e,p,(function(e){return n(4,a=e)}));var h,v=d.ads.position;return Uu(e,v,(function(e){return n(3,r=e)})),e.$$set=function(e){"isAds"in e&&n(0,s=e.isAds),"canRewindLive"in e&&n(8,u=e.canRewindLive),"className"in e&&n(1,c=e.className)},e.$$.update=function(){769&e.$$.dirty&&n(2,h=!i||i&&u||s)},[s,c,h,r,a,f,p,v,u,i]}var Gd=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Wd,jd,Ou,{isAds:0,canRewindLive:8,className:1},zd),i}return y(n)}(Nl);function Yd(e){ju(e,"svelte-qgeds4",".wrapper-bottom.svelte-qgeds4.svelte-qgeds4{position:absolute;width:100%;bottom:0;left:0;height:var(--videoplayer-controls-height)}.wrapper-bottom.ads-timeline-mobile.svelte-qgeds4.svelte-qgeds4{height:5px}.wrapper-middle.svelte-qgeds4.svelte-qgeds4{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:opacity var(--videoplayer-controls-transition-duration);display:flex;align-items:center}.wrapper-top-right.svelte-qgeds4.svelte-qgeds4{position:absolute;top:16px;right:16px;transition:opacity var(--videoplayer-controls-transition-duration);display:flex}.wrapper-top-left.svelte-qgeds4.svelte-qgeds4{position:absolute;top:16px;left:20px}.controls.svelte-qgeds4.svelte-qgeds4{display:flex;align-items:center;height:100%;width:100%;white-space:nowrap;font-size:13px;transition:transform var(--videoplayer-controls-transition-duration)\n    var(--videoplayer-controls-transition-fn);will-change:transform;padding:0 16px;box-sizing:border-box}.controls-element+.controls-element{padding-left:8px}.hidden.svelte-qgeds4.svelte-qgeds4{visibility:hidden;opacity:0}.controls-hidden.svelte-qgeds4.svelte-qgeds4{visibility:visible;transform:translateY(100%)}.settings-desktop.svelte-qgeds4.svelte-qgeds4{bottom:42px;right:18px;position:absolute;transition:opacity 0.2s, visibility 0.2s}.settings-mobile.svelte-qgeds4.svelte-qgeds4{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:opacity var(--videoplayer-controls-transition-duration);display:flex;align-items:center;max-width:320px;width:90%}.overlay-mobile.svelte-qgeds4.svelte-qgeds4{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, .3);pointer-events:none;transition:opacity var(--videoplayer-controls-transition-duration)}.wrapper-fullscreen-desktop.svelte-qgeds4 .controls.svelte-qgeds4{--videoplayer-controls-height:50px;font-size:16px}.wrapper-fullscreen-desktop.svelte-qgeds4 .ui-time{padding-left:20px;padding-right:15px}.wrapper-fullscreen-desktop.svelte-qgeds4 .controls-play-button{padding-left:20px;padding-right:11px}.wrapper.width380.svelte-qgeds4 .ui-settings,.wrapper.width380.svelte-qgeds4 .ui-chromecast,.wrapper.width380.svelte-qgeds4 .ui-time-duration{display:none !important}.wrapper.width450.svelte-qgeds4 .ui-chromecast,.wrapper.width450.svelte-qgeds4 .ui-time-duration{display:none !important}.wrapper.width550.svelte-qgeds4 .ui-time-duration{display:none !important}.mobile-top-right-button+.mobile-top-right-button{margin-left:8px}")}function Qd(e){var t,n,i,r,a,o,s,u,l,c,d,f,p,h,v=e[22]&&Kd(e);o=new hc({props:{className:"mobile-top-right-button"}}),(u=new ld({props:{className:"mobile-top-right-button",logoClickable:e[5]}})).$on("click",e[37]);var m=e[6]&&Xd(e);f=new Qc({props:{playbackState:e[25],adPlaybackState:e[26],isAds:e[3],handlePlayClick:e[36],repeatPlaylist:e[13],isEnded:e[27],isOneVideoPlaylist:e[9]}});var g=e[6]&&Jd(e);return{c:function(){t=Qu("div"),n=Ju(),i=Qu("div"),v&&v.c(),r=Ju(),a=Qu("div"),Al(o.$$.fragment),s=Ju(),Al(u.$$.fragment),l=Ju(),c=Qu("div"),m&&m.c(),d=Ju(),Al(f.$$.fragment),p=Ju(),g&&g.c(),nl(t,"class","overlay-mobile svelte-qgeds4"),al(t,"hidden",!e[21]),nl(i,"class","wrapper-top-left svelte-qgeds4"),al(i,"hidden",!e[2]),nl(a,"class","wrapper-top-right svelte-qgeds4"),al(a,"hidden",!e[2]),nl(c,"class","wrapper-middle svelte-qgeds4"),al(c,"hidden",!e[2]||e[24])},m:function(e,y){Wu(e,t,y),Wu(e,n,y),Wu(e,i,y),v&&v.m(i,null),Wu(e,r,y),Wu(e,a,y),Cl(o,a,null),Hu(a,s),Cl(u,a,null),Wu(e,l,y),Wu(e,c,y),m&&m.m(c,null),Hu(c,d),Cl(f,c,null),Hu(c,p),g&&g.m(c,null),h=!0},p:function(e,n){2097152&n[0]&&al(t,"hidden",!e[21]),e[22]?v?(v.p(e,n),4194304&n[0]&&Tl(v,1)):((v=Kd(e)).c(),Tl(v,1),v.m(i,null)):v&&(El(),$l(v,1,1,(function(){v=null})),xl()),4&n[0]&&al(i,"hidden",!e[2]);var r={};32&n[0]&&(r.logoClickable=e[5]),u.$set(r),4&n[0]&&al(a,"hidden",!e[2]),e[6]?m?(m.p(e,n),64&n[0]&&Tl(m,1)):((m=Xd(e)).c(),Tl(m,1),m.m(c,d)):m&&(El(),$l(m,1,1,(function(){m=null})),xl());var o={};33554432&n[0]&&(o.playbackState=e[25]),67108864&n[0]&&(o.adPlaybackState=e[26]),8&n[0]&&(o.isAds=e[3]),8192&n[0]&&(o.repeatPlaylist=e[13]),134217728&n[0]&&(o.isEnded=e[27]),512&n[0]&&(o.isOneVideoPlaylist=e[9]),f.$set(o),e[6]?g?(g.p(e,n),64&n[0]&&Tl(g,1)):((g=Jd(e)).c(),Tl(g,1),g.m(c,null)):g&&(El(),$l(g,1,1,(function(){g=null})),xl()),16777220&n[0]&&al(c,"hidden",!e[2]||e[24])},i:function(e){h||(Tl(v),Tl(o.$$.fragment,e),Tl(u.$$.fragment,e),Tl(m),Tl(f.$$.fragment,e),Tl(g),h=!0)},o:function(e){$l(v),$l(o.$$.fragment,e),$l(u.$$.fragment,e),$l(m),$l(f.$$.fragment,e),$l(g),h=!1},d:function(e){e&&Gu(t),e&&Gu(n),e&&Gu(i),v&&v.d(),e&&Gu(r),e&&Gu(a),_l(o),_l(u),e&&Gu(l),e&&Gu(c),m&&m.d(),_l(f),g&&g.d()}}}function Kd(e){var t,n;return(t=new Ad({props:{expanded:e[23]}})).$on("click",e[57]),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};8388608&n[0]&&(i.expanded=e[23]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Xd(e){var t,n;return(t=new nd({props:{type:"prev",disabled:!e[8]}})).$on("click",(function(){Du(e[12])&&e[12].apply(this,arguments)})),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(n,i){e=n;var r={};256&i[0]&&(r.disabled=!e[8]),t.$set(r)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Jd(e){var t,n;return(t=new nd({props:{type:"next",disabled:!e[7]}})).$on("click",(function(){Du(e[11])&&e[11].apply(this,arguments)})),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(n,i){e=n;var r={};128&i[0]&&(r.disabled=!e[7]),t.$set(r)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Zd(e){var t,n,i,r,a,o=e[22]&&ef(e),s=e[26]===zc.PAUSED&&tf(e);return r=new Vd({props:{position:e[28],duration:e[29]}}),{c:function(){o&&o.c(),t=Ju(),s&&s.c(),n=Ju(),i=Qu("div"),Al(r.$$.fragment),nl(i,"class","wrapper-bottom ads-timeline-mobile svelte-qgeds4")},m:function(e,u){o&&o.m(e,u),Wu(e,t,u),s&&s.m(e,u),Wu(e,n,u),Wu(e,i,u),Cl(r,i,null),a=!0},p:function(e,i){e[22]?o?(o.p(e,i),4194304&i[0]&&Tl(o,1)):((o=ef(e)).c(),Tl(o,1),o.m(t.parentNode,t)):o&&(El(),$l(o,1,1,(function(){o=null})),xl()),e[26]===zc.PAUSED?s?(s.p(e,i),67108864&i[0]&&Tl(s,1)):((s=tf(e)).c(),Tl(s,1),s.m(n.parentNode,n)):s&&(El(),$l(s,1,1,(function(){s=null})),xl());var a={};268435456&i[0]&&(a.position=e[28]),536870912&i[0]&&(a.duration=e[29]),r.$set(a)},i:function(e){a||(Tl(o),Tl(s),Tl(r.$$.fragment,e),a=!0)},o:function(e){$l(o),$l(s),$l(r.$$.fragment,e),a=!1},d:function(e){o&&o.d(e),e&&Gu(t),s&&s.d(e),e&&Gu(n),e&&Gu(i),_l(r)}}}function ef(e){var t,n,i;return(n=new Ad({props:{expanded:!1}})).$on("click",e[57]),{c:function(){t=Qu("div"),Al(n.$$.fragment),nl(t,"class","wrapper-top-right svelte-qgeds4")},m:function(e,r){Wu(e,t,r),Cl(n,t,null),i=!0},p:Lu,i:function(e){i||(Tl(n.$$.fragment,e),i=!0)},o:function(e){$l(n.$$.fragment,e),i=!1},d:function(e){e&&Gu(t),_l(n)}}}function tf(e){var t,n,i;return n=new Qc({props:{playbackState:e[25],adPlaybackState:e[26],isAds:!0,handlePlayClick:e[36],repeatPlaylist:Lu,isEnded:!1,isOneVideoPlaylist:!1}}),{c:function(){t=Qu("div"),Al(n.$$.fragment),nl(t,"class","wrapper-middle svelte-qgeds4")},m:function(e,r){Wu(e,t,r),Cl(n,t,null),i=!0},p:function(e,t){var i={};33554432&t[0]&&(i.playbackState=e[25]),67108864&t[0]&&(i.adPlaybackState=e[26]),n.$set(i)},i:function(e){i||(Tl(n.$$.fragment,e),i=!0)},o:function(e){$l(n.$$.fragment,e),i=!1},d:function(e){e&&Gu(t),_l(n)}}}function nf(e){var t,n,i,r,a,o=e[6]&&!e[3]&&rf(e);n=new Rc({props:{className:"controls-element",$$slots:{default:[of]},$$scope:{ctx:e}}});var s=e[6]&&!e[3]&&sf(e);return{c:function(){o&&o.c(),t=Ju(),Al(n.$$.fragment),i=Ju(),s&&s.c(),r=Zu()},m:function(e,u){o&&o.m(e,u),Wu(e,t,u),Cl(n,e,u),Wu(e,i,u),s&&s.m(e,u),Wu(e,r,u),a=!0},p:function(e,i){e[6]&&!e[3]?o?(o.p(e,i),72&i[0]&&Tl(o,1)):((o=rf(e)).c(),Tl(o,1),o.m(t.parentNode,t)):o&&(El(),$l(o,1,1,(function(){o=null})),xl());var a={};234889736&i[0]|1&i[2]&&(a.$$scope={dirty:i,ctx:e}),n.$set(a),e[6]&&!e[3]?s?(s.p(e,i),72&i[0]&&Tl(s,1)):((s=sf(e)).c(),Tl(s,1),s.m(r.parentNode,r)):s&&(El(),$l(s,1,1,(function(){s=null})),xl())},i:function(e){a||(Tl(o),Tl(n.$$.fragment,e),Tl(s),a=!0)},o:function(e){$l(o),$l(n.$$.fragment,e),$l(s),a=!1},d:function(e){o&&o.d(e),e&&Gu(t),_l(n,e),e&&Gu(i),s&&s.d(e),e&&Gu(r)}}}function rf(e){var t,n;return t=new Rc({props:{className:"controls-element",disabled:!e[8],$$slots:{default:[af]},$$scope:{ctx:e}}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};256&n[0]&&(i.disabled=!e[8]),4352&n[0]|1&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function af(e){var t,n;return(t=new nd({props:{type:"prev",disabled:!e[8]}})).$on("click",(function(){Du(e[12])&&e[12].apply(this,arguments)})),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(n,i){e=n;var r={};256&i[0]&&(r.disabled=!e[8]),t.$set(r)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function of(e){var t,n;return t=new Qc({props:{className:"controls-play-button",playbackState:e[25],adPlaybackState:e[26],isAds:e[3],handlePlayClick:e[36],repeatPlaylist:e[13],isEnded:e[27],isOneVideoPlaylist:e[9]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};33554432&n[0]&&(i.playbackState=e[25]),67108864&n[0]&&(i.adPlaybackState=e[26]),8&n[0]&&(i.isAds=e[3]),8192&n[0]&&(i.repeatPlaylist=e[13]),134217728&n[0]&&(i.isEnded=e[27]),512&n[0]&&(i.isOneVideoPlaylist=e[9]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function sf(e){var t,n;return t=new Rc({props:{className:"controls-element",disabled:!e[7],$$slots:{default:[uf]},$$scope:{ctx:e}}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};128&n[0]&&(i.disabled=!e[7]),2176&n[0]|1&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function uf(e){var t,n;return(t=new nd({props:{type:"next",disabled:!e[7]}})).$on("click",(function(){Du(e[11])&&e[11].apply(this,arguments)})),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(n,i){e=n;var r={};128&i[0]&&(r.disabled=!e[7]),t.$set(r)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function lf(e){var t,n;return t=new Rc({props:{className:"controls-element",$$slots:{default:[cf]},$$scope:{ctx:e}}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};1&n[1]|1&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function cf(e){var t,n;return(t=new Sd({props:{isActiveLive:e[31]}})).$on("click",e[56]),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};1&n[1]&&(i.isActiveLive=e[31]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function df(e){var t,n;return t=new Gd({props:{isAds:e[3],canRewindLive:e[4],className:"controls-element"}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};8&n[0]&&(i.isAds=e[3]),16&n[0]&&(i.canRewindLive=e[4]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function ff(e){var t,n;return t=new bc({props:{className:"ui-time controls-element",durationClassName:"ui-time-duration",position:e[3]?e[28]:e[32],duration:e[3]?e[29]:e[33]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};268435464&n[0]|2&n[1]&&(i.position=e[3]?e[28]:e[32]),536870920&n[0]|4&n[1]&&(i.duration=e[3]?e[29]:e[33]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function pf(e){var t,n;return t=new Gd({props:{isAds:e[3],canRewindLive:e[4],className:"controls-element"}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};8&n[0]&&(i.isAds=e[3]),16&n[0]&&(i.canRewindLive=e[4]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function hf(e){var t,n,i,r;t=new Rc({props:{className:"controls-element",$$slots:{default:[vf]},$$scope:{ctx:e}}});var a=!e[34]&&!e[3]&&mf(e);return{c:function(){Al(t.$$.fragment),n=Ju(),a&&a.c(),i=Zu()},m:function(e,o){Cl(t,e,o),Wu(e,n,o),a&&a.m(e,o),Wu(e,i,o),r=!0},p:function(e,n){var r={};524288&n[0]|1&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),e[34]||e[3]?a&&(El(),$l(a,1,1,(function(){a=null})),xl()):a?(a.p(e,n),8&n[0]|8&n[1]&&Tl(a,1)):((a=mf(e)).c(),Tl(a,1),a.m(i.parentNode,i))},i:function(e){r||(Tl(t.$$.fragment,e),Tl(a),r=!0)},o:function(e){$l(t.$$.fragment,e),$l(a),r=!1},d:function(e){_l(t,e),e&&Gu(n),a&&a.d(e),e&&Gu(i)}}}function vf(e){var t,n;return(t=new Pc({props:{isVerticalVolume:e[19]}})).$on("click",e[35]),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};524288&n[0]&&(i.isVerticalVolume=e[19]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function mf(e){var t,n,i,r,a;return n=new cc({props:{supportLink:e[10]}}),r=new Rc({props:{className:"controls-element",$$slots:{default:[gf]},$$scope:{ctx:e}}}),{c:function(){t=Qu("div"),Al(n.$$.fragment),i=Ju(),Al(r.$$.fragment),nl(t,"class","settings-desktop svelte-qgeds4")},m:function(e,o){Wu(e,t,o),Cl(n,t,null),Wu(e,i,o),Cl(r,e,o),a=!0},p:function(e,t){var i={};1024&t[0]&&(i.supportLink=e[10]),n.$set(i);var a={};1&t[2]&&(a.$$scope={dirty:t,ctx:e}),r.$set(a)},i:function(e){a||(Tl(n.$$.fragment,e),Tl(r.$$.fragment,e),a=!0)},o:function(e){$l(n.$$.fragment,e),$l(r.$$.fragment,e),a=!1},d:function(e){e&&Gu(t),_l(n),e&&Gu(i),_l(r,e)}}}function gf(e){var t,n;return t=new hc({props:{className:"ui-settings"}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:Lu,i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function yf(e){var t,n;return(t=new Uc({})).$on("click",(function(){Du(e[14])&&e[14].apply(this,arguments)})),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(t,n){e=t},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function bf(e){var t,n,i,r;return t=new Rc({props:{className:"controls-element",$$slots:{default:[wf]},$$scope:{ctx:e}}}),i=new Rc({props:{className:"controls-element",$$slots:{default:[Sf]},$$scope:{ctx:e}}}),{c:function(){Al(t.$$.fragment),n=Ju(),Al(i.$$.fragment)},m:function(e,a){Cl(t,e,a),Wu(e,n,a),Cl(i,e,a),r=!0},p:function(e,n){var r={};1&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);var a={};32&n[0]|1&n[2]&&(a.$$scope={dirty:n,ctx:e}),i.$set(a)},i:function(e){r||(Tl(t.$$.fragment,e),Tl(i.$$.fragment,e),r=!0)},o:function(e){$l(t.$$.fragment,e),$l(i.$$.fragment,e),r=!1},d:function(e){_l(t,e),e&&Gu(n),_l(i,e)}}}function wf(e){var t,n;return(t=new gd({props:{className:"ui-chromecast"}})).$on("click",e[55]),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:Lu,i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Sf(e){var t,n;return(t=new ld({props:{logoClickable:e[5]}})).$on("click",e[37]),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};32&n[0]&&(i.logoClickable=e[5]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function kf(e){var t,n,i;return n=new cc({props:{supportLink:e[10]}}),{c:function(){t=Qu("div"),Al(n.$$.fragment),nl(t,"class","settings-mobile svelte-qgeds4")},m:function(e,r){Wu(e,t,r),Cl(n,t,null),i=!0},p:function(e,t){var i={};1024&t[0]&&(i.supportLink=e[10]),n.$set(i)},i:function(e){i||(Tl(n.$$.fragment,e),i=!0)},o:function(e){$l(n.$$.fragment,e),i=!1},d:function(e){e&&Gu(t),_l(n)}}}function Ef(e){var t,n,i,r,a,o,s,u,l,c,d,f,p,h,v,m,g=e[17]&&!e[3]&&Qd(e),y=e[17]&&e[3]&&e[26]!==zc.INACTIVE&&Zd(e),b=!e[17]&&nf(e),w=!e[3]&&e[16]&&lf(e),S=!e[17]&&df(e),k=e[20]&&ff(e),E=e[17]&&pf(e),x=!e[17]&&hf(e);d=new Rc({props:{className:"controls-element",$$slots:{default:[yf]},$$scope:{ctx:e}}});var T=!e[17]&&bf(e),$=e[17]&&e[15]&&kf(e);return{c:function(){g&&g.c(),t=Ju(),y&&y.c(),n=Ju(),i=Qu("div"),r=Qu("div"),b&&b.c(),a=Ju(),w&&w.c(),o=Ju(),S&&S.c(),s=Ju(),k&&k.c(),u=Ju(),E&&E.c(),l=Ju(),x&&x.c(),c=Ju(),Al(d.$$.fragment),f=Ju(),T&&T.c(),h=Ju(),$&&$.c(),v=Zu(),nl(r,"class","controls svelte-qgeds4"),al(r,"controls-hidden",!e[2]),nl(i,"class",p="wrapper-bottom "+e[18]+" svelte-qgeds4"),al(i,"hidden",e[1]),al(i,"wrapper-fullscreen-desktop",e[30]&&!e[17])},m:function(p,P){g&&g.m(p,P),Wu(p,t,P),y&&y.m(p,P),Wu(p,n,P),Wu(p,i,P),Hu(i,r),b&&b.m(r,null),Hu(r,a),w&&w.m(r,null),Hu(r,o),S&&S.m(r,null),Hu(r,s),k&&k.m(r,null),Hu(r,u),E&&E.m(r,null),Hu(r,l),x&&x.m(r,null),Hu(r,c),Cl(d,r,null),Hu(r,f),T&&T.m(r,null),e[59](i),Wu(p,h,P),$&&$.m(p,P),Wu(p,v,P),m=!0},p:function(e,f){e[17]&&!e[3]?g?(g.p(e,f),131080&f[0]&&Tl(g,1)):((g=Qd(e)).c(),Tl(g,1),g.m(t.parentNode,t)):g&&(El(),$l(g,1,1,(function(){g=null})),xl()),e[17]&&e[3]&&e[26]!==zc.INACTIVE?y?(y.p(e,f),67239944&f[0]&&Tl(y,1)):((y=Zd(e)).c(),Tl(y,1),y.m(n.parentNode,n)):y&&(El(),$l(y,1,1,(function(){y=null})),xl()),e[17]?b&&(El(),$l(b,1,1,(function(){b=null})),xl()):b?(b.p(e,f),131072&f[0]&&Tl(b,1)):((b=nf(e)).c(),Tl(b,1),b.m(r,a)),!e[3]&&e[16]?w?(w.p(e,f),65544&f[0]&&Tl(w,1)):((w=lf(e)).c(),Tl(w,1),w.m(r,o)):w&&(El(),$l(w,1,1,(function(){w=null})),xl()),e[17]?S&&(El(),$l(S,1,1,(function(){S=null})),xl()):S?(S.p(e,f),131072&f[0]&&Tl(S,1)):((S=df(e)).c(),Tl(S,1),S.m(r,s)),e[20]?k?(k.p(e,f),1048576&f[0]&&Tl(k,1)):((k=ff(e)).c(),Tl(k,1),k.m(r,u)):k&&(El(),$l(k,1,1,(function(){k=null})),xl()),e[17]?E?(E.p(e,f),131072&f[0]&&Tl(E,1)):((E=pf(e)).c(),Tl(E,1),E.m(r,l)):E&&(El(),$l(E,1,1,(function(){E=null})),xl()),e[17]?x&&(El(),$l(x,1,1,(function(){x=null})),xl()):x?(x.p(e,f),131072&f[0]&&Tl(x,1)):((x=hf(e)).c(),Tl(x,1),x.m(r,c));var h={};16384&f[0]|1&f[2]&&(h.$$scope={dirty:f,ctx:e}),d.$set(h),e[17]?T&&(El(),$l(T,1,1,(function(){T=null})),xl()):T?(T.p(e,f),131072&f[0]&&Tl(T,1)):((T=bf(e)).c(),Tl(T,1),T.m(r,null)),4&f[0]&&al(r,"controls-hidden",!e[2]),(!m||262144&f[0]&&p!==(p="wrapper-bottom "+e[18]+" svelte-qgeds4"))&&nl(i,"class",p),262146&f[0]&&al(i,"hidden",e[1]),1074135040&f[0]&&al(i,"wrapper-fullscreen-desktop",e[30]&&!e[17]),e[17]&&e[15]?$?($.p(e,f),163840&f[0]&&Tl($,1)):(($=kf(e)).c(),Tl($,1),$.m(v.parentNode,v)):$&&(El(),$l($,1,1,(function(){$=null})),xl())},i:function(e){m||(Tl(g),Tl(y),Tl(b),Tl(w),Tl(S),Tl(k),Tl(E),Tl(x),Tl(d.$$.fragment,e),Tl(T),Tl($),m=!0)},o:function(e){$l(g),$l(y),$l(b),$l(w),$l(S),$l(k),$l(E),$l(x),$l(d.$$.fragment,e),$l(T),$l($),m=!1},d:function(r){g&&g.d(r),r&&Gu(t),y&&y.d(r),r&&Gu(n),r&&Gu(i),b&&b.d(),w&&w.d(),S&&S.d(),k&&k.d(),E&&E.d(),x&&x.d(),_l(d),T&&T.d(),e[59](null),r&&Gu(h),$&&$.d(r),r&&Gu(v)}}}function xf(e,t,n){var i,r,a,o,s,u,l,c,d,f,p,h,v,m,g,y,b,w=t.hidden,S=t.showControls,k=t.controlsElementRef,E=t.isAds,x=void 0!==E&&E,T=t.canRewindLive,$=t.logoClickable,P=t.showNextPrevButtons,A=t.nextButtonActive,C=t.prevButtonActive,_=t.isOneVideoPlaylist,R=void 0!==_&&_,L=t.supportLink,N=t.playNextVideo,M=t.playPrevVideo,I=t.repeatPlaylist,D=t.toggleFullscreen,O=Ul(),B=O.actions.internal.toggleMuted,V=O.actions.internal.togglePlay,z=O.actions.internal.pause,U=O.state.duration$;Uu(e,U,(function(e){return n(33,y=e)}));var F=O.state.positionWithScrubbing$;Uu(e,F,(function(e){return n(32,g=e)}));var q=O.state.playbackState$;Uu(e,q,(function(e){return n(25,c=e)}));var H=O.state.chromecastConnected$;Uu(e,H,(function(e){return n(34,b=e)}));var j=O.state.isEnded$;Uu(e,j,(function(e){return n(27,f=e)}));var W=O.state.isLive$;Uu(e,W,(function(e){return n(16,r=e)}));var G=O.state.isActiveLive$;Uu(e,G,(function(e){return n(31,m=e)}));var Y=O.ui.scrubbingInProgress;Uu(e,Y,(function(e){return n(24,l=e)}));var Q=O.ui.isMobile;Uu(e,Q,(function(e){return n(17,o=e)}));var K=O.ui.mobileUnmuteButtonExpanded;Uu(e,K,(function(e){return n(23,u=e)}));var X=O.ui.mobileUnmuteButtonVisible;Uu(e,X,(function(e){return n(22,s=e)}));var J=O.ui.settingsMenuVisible;Uu(e,J,(function(e){return n(15,i=e)}));var Z=O.ads.duration;Uu(e,Z,(function(e){return n(29,h=e)}));var ee=O.ads.position;Uu(e,ee,(function(e){return n(28,p=e)}));var te=O.ads.playbackState;Uu(e,te,(function(e){return n(26,d=e)}));var ne=O.ui.isFullscreen;Uu(e,ne,(function(e){return n(30,v=e)}));var ie,re,ae,oe,se=O.ui.playerSize;return Uu(e,se,(function(e){return n(58,a=e)})),e.$$set=function(e){"hidden"in e&&n(1,w=e.hidden),"showControls"in e&&n(2,S=e.showControls),"controlsElementRef"in e&&n(0,k=e.controlsElementRef),"isAds"in e&&n(3,x=e.isAds),"canRewindLive"in e&&n(4,T=e.canRewindLive),"logoClickable"in e&&n(5,$=e.logoClickable),"showNextPrevButtons"in e&&n(6,P=e.showNextPrevButtons),"nextButtonActive"in e&&n(7,A=e.nextButtonActive),"prevButtonActive"in e&&n(8,C=e.prevButtonActive),"isOneVideoPlaylist"in e&&n(9,R=e.isOneVideoPlaylist),"supportLink"in e&&n(10,L=e.supportLink),"playNextVideo"in e&&n(11,N=e.playNextVideo),"playPrevVideo"in e&&n(12,M=e.playPrevVideo),"repeatPlaylist"in e&&n(13,I=e.repeatPlaylist),"toggleFullscreen"in e&&n(14,D=e.toggleFullscreen)},e.$$.update=function(){131072&e.$$.dirty[0]|134217728&e.$$.dirty[1]&&n(18,ie=function(e,t){return t?"":e<380?"width380":e<450?"width450":e<550?"width550":""}(a.width,o)),134217728&e.$$.dirty[1]&&n(19,re=a.width<550),65544&e.$$.dirty[0]&&n(20,ae=!r||x),32772&e.$$.dirty[0]&&n(21,oe=i||S)},[k,w,S,x,T,$,P,A,C,R,L,N,M,I,D,i,r,o,ie,re,ae,oe,s,u,l,c,d,f,p,h,v,m,g,y,b,B,V,z,U,F,q,H,j,W,G,Y,Q,K,X,J,Z,ee,te,ne,se,function(){return O.actions.internal.toggleChromecast()},function(){return O.actions.internal.switchToActiveLive()},function(){X.set(!1),B()},a,function(e){dl[e?"unshift":"push"]((function(){n(0,k=e)}))}]}var Tf=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,xf,Ef,Ou,{hidden:1,showControls:2,controlsElementRef:0,isAds:3,canRewindLive:4,logoClickable:5,showNextPrevButtons:6,nextButtonActive:7,prevButtonActive:8,isOneVideoPlaylist:9,supportLink:10,playNextVideo:11,playPrevVideo:12,repeatPlaylist:13,toggleFullscreen:14},Yd,[-1,-1,-1]),i}return y(n)}(Nl);function $f(e){ju(e,"svelte-y9pij4",".container.svelte-y9pij4.svelte-y9pij4{position:absolute;top:0;bottom:0;left:0;right:0;background-position:center;background-size:cover;cursor:pointer;transition:opacity 0.2s, visibility 0.2s;will-change:opacity}.container.hidden.svelte-y9pij4.svelte-y9pij4{opacity:0;visibility:hidden}.playButton.svelte-y9pij4.svelte-y9pij4{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:var(--videoplayer-big-play-size);height:var(--videoplayer-big-play-size);display:flex;align-items:center;justify-content:center}.playButtonBackground.svelte-y9pij4.svelte-y9pij4{position:absolute;top:0;bottom:0;left:0;right:0;border-radius:var(--videoplayer-big-play-radius);background-color:var(--videoplayer-big-play-bg-color);transition:background 0.2s, transform 0.2s;transition-timing-function:ease-out;will-change:background, transform}.container.svelte-y9pij4:hover .playButtonBackground.svelte-y9pij4{background-color:var(--videoplayer-big-play-hover-bg-color);transform:scale(1.15)}.playButtonIcon.svelte-y9pij4.svelte-y9pij4{position:relative;width:48px;height:48px}")}function Pf(e){var t,n,i,r,a,o,u,l;return{c:function(){t=Qu("div"),n=Qu("div"),i=Qu("div"),r=Ju(),a=Qu("img"),nl(i,"class","playButtonBackground svelte-y9pij4"),Bu(a.src,Fc)||nl(a,"src","data:image/svg+xml,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17.671 10.923c.82.483.82 1.67 0 2.154l-8.787 5.175A1.25 1.25 0 0 1 7 17.174V6.826a1.25 1.25 0 0 1 1.884-1.078l8.787 5.175z' fill='white'/%3e%3c/svg%3e"),nl(a,"class","playButtonIcon svelte-y9pij4"),nl(a,"alt",""),nl(n,"class","playButton svelte-y9pij4"),nl(t,"class","container svelte-y9pij4"),nl(t,"style",o="background-image: url('".concat(e[0],"')")),al(t,"hidden",e[1])},m:function(o,s){Wu(o,t,s),Hu(t,n),Hu(n,i),Hu(n,r),Hu(n,a),u||(l=el(t,"click",(function(){Du(e[2])&&e[2].apply(this,arguments)})),u=!0)},p:function(n,i){var r=s(i,1)[0];e=n,1&r&&o!==(o="background-image: url('".concat(e[0],"')"))&&nl(t,"style",o),2&r&&al(t,"hidden",e[1])},i:Lu,o:Lu,d:function(e){e&&Gu(t),u=!1,l()}}}function Af(e,t,n){var i=t.thumbUrl,r=t.hidden,a=t.startVideo;return e.$$set=function(e){"thumbUrl"in e&&n(0,i=e.thumbUrl),"hidden"in e&&n(1,r=e.hidden),"startVideo"in e&&n(2,a=e.startVideo)},[i,r,a]}var Cf=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Af,Pf,Ou,{thumbUrl:0,hidden:1,startVideo:2},$f),i}return y(n)}(Nl);function _f(e){ju(e,"svelte-8nkw5s",".container.svelte-8nkw5s.svelte-8nkw5s{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none;display:flex}.dot.svelte-8nkw5s.svelte-8nkw5s:nth-child(1){animation-delay:calc(0 * 180ms)}.dot.svelte-8nkw5s.svelte-8nkw5s:nth-child(2){animation-delay:calc(1 * 180ms)}.dot.svelte-8nkw5s.svelte-8nkw5s:nth-child(3){animation-delay:calc(2 * 180ms)}@keyframes svelte-8nkw5s-dot_animation{0%{opacity:0.2}30%{opacity:1}100%{opacity:0.2}}.dot.svelte-8nkw5s.svelte-8nkw5s{border-radius:4px;width:8px;height:8px;background:var(--white);animation-duration:750ms;animation-name:svelte-8nkw5s-dot_animation;animation-iteration-count:infinite}.dot.svelte-8nkw5s+.dot.svelte-8nkw5s{margin-left:4px}")}function Rf(e){var t;return{c:function(){(t=Qu("div")).innerHTML='<div class="dot svelte-8nkw5s"></div> \n  <div class="dot svelte-8nkw5s"></div> \n  <div class="dot svelte-8nkw5s"></div>',nl(t,"class","container svelte-8nkw5s")},m:function(e,n){Wu(e,t,n)},p:Lu,i:Lu,o:Lu,d:function(e){e&&Gu(t)}}}var Lf=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,null,Rf,Ou,{},_f),i}return y(n)}(Nl);function Nf(e){var t=Ul();return ul((function(){t.getAdmanWrapper().startPostroll()})),[]}var Mf=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Nf,null,Ou,{}),i}return y(n)}(Nl);function If(e){ju(e,"svelte-17pubzn",".container.svelte-17pubzn{position:absolute;top:14px;left:16px;padding:4px 8px;font-size:13px;color:var(--white);background:rgba(0, 0, 0, 0.35);border-radius:4px}.container-mobile.svelte-17pubzn{font-size:15px;background:unset;border-radius:unset}")}function Df(e){var t,n,i;return{c:function(){t=Qu("div"),n=Xu("\u0420\u0435\u043a\u043b\u0430\u043c\u0430 "),i=Xu(e[0]),nl(t,"class","container svelte-17pubzn"),al(t,"container-mobile",e[1])},m:function(e,r){Wu(e,t,r),Hu(t,n),Hu(t,i)},p:function(e,n){var r=s(n,1)[0];1&r&&il(i,e[0]),2&r&&al(t,"container-mobile",e[1])},i:Lu,o:Lu,d:function(e){e&&Gu(t)}}}function Of(e,t,n){var i,r,a=t.position,o=void 0===a?0:a,s=t.duration,u=void 0===s?0:s,l=Ul().ui.isMobile;return Uu(e,l,(function(e){return n(1,i=e)})),e.$$set=function(e){"position"in e&&n(3,o=e.position),"duration"in e&&n(4,u=e.duration)},e.$$.update=function(){24&e.$$.dirty&&n(0,r=vc(u-o))},[r,i,l,o,u]}var Bf=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Of,Df,Ou,{position:3,duration:4},If),i}return y(n)}(Nl);function Vf(e){ju(e,"svelte-22jj8o",".container.svelte-22jj8o.svelte-22jj8o{position:absolute;top:14px;right:16px;padding:4px 8px;font-size:13px;color:#bbb;background:rgba(0, 0, 0, 0.35);border-radius:4px;transition:color .2s}.container-mobile.svelte-22jj8o.svelte-22jj8o{bottom:14px;top:unset;font-size:15px;max-width:142px}.icon.svelte-22jj8o.svelte-22jj8o{margin-left:4px;position:relative;top:2px;fill:var(--white);transition:fill .2s}.skip.svelte-22jj8o.svelte-22jj8o{width:86px}.skippable.svelte-22jj8o.svelte-22jj8o{cursor:pointer;color:var(--white)}.skippable.svelte-22jj8o.svelte-22jj8o:hover{color:rgba(255, 255, 255, .75)}.skippable.svelte-22jj8o:hover .icon.svelte-22jj8o{fill:rgba(255, 255, 255, .75)}")}function zf(e){var t,n,i,r=Math.ceil(e[1]-e[0])+"";return{c:function(){t=Xu("\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443 \u0447\u0435\u0440\u0435\u0437 "),n=Xu(r),i=Xu(" \u0441")},m:function(e,r){Wu(e,t,r),Wu(e,n,r),Wu(e,i,r)},p:function(e,t){3&t&&r!==(r=Math.ceil(e[1]-e[0])+"")&&il(n,r)},d:function(e){e&&Gu(t),e&&Gu(n),e&&Gu(i)}}}function Uf(e){var t,n,i;return{c:function(){(t=Qu("div")).innerHTML='\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443\n      <svg class="icon svelte-22jj8o" width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.263627 0.263605C-0.0878444 0.615078 -0.0878429 1.18493 0.26363 1.5364L4.72723 5.99998L0.263627 10.4636C-0.0878444 10.8151 -0.0878429 11.3849 0.26363 11.7364C0.615103 12.0879 1.18495 12.0879 1.53642 11.7364L6.63642 6.63637C6.98789 6.2849 6.98789 5.71505 6.63642 5.36358L1.53642 0.263602C1.18495 -0.0878686 0.615098 -0.0878673 0.263627 0.263605Z"></path></svg>',nl(t,"class","skip svelte-22jj8o")},m:function(r,a){Wu(r,t,a),n||(i=el(t,"click",(function(){Du(e[2])&&e[2].apply(this,arguments)})),n=!0)},p:function(t,n){e=t},d:function(e){e&&Gu(t),n=!1,i()}}}function Ff(e){var t;function n(e,t){return e[3]?Uf:zf}var i=n(e),r=i(e);return{c:function(){t=Qu("div"),r.c(),nl(t,"class","container svelte-22jj8o"),al(t,"container-mobile",e[4]),al(t,"skippable",e[3])},m:function(e,n){Wu(e,t,n),r.m(t,null)},p:function(e,a){var o=s(a,1)[0];i===(i=n(e))&&r?r.p(e,o):(r.d(1),(r=i(e))&&(r.c(),r.m(t,null))),16&o&&al(t,"container-mobile",e[4]),8&o&&al(t,"skippable",e[3])},i:Lu,o:Lu,d:function(e){e&&Gu(t),r.d()}}}function qf(e,t,n){var i,r,a=t.position,o=void 0===a?0:a,s=t.secondsToWatchBeforeSkip,u=void 0===s?0:s,l=t.skipAd,c=void 0===l?Lu:l,d=Ul().ui.isMobile;return Uu(e,d,(function(e){return n(4,i=e)})),e.$$set=function(e){"position"in e&&n(0,o=e.position),"secondsToWatchBeforeSkip"in e&&n(1,u=e.secondsToWatchBeforeSkip),"skipAd"in e&&n(2,c=e.skipAd)},e.$$.update=function(){3&e.$$.dirty&&n(3,r=o>0&&o>=u)},[o,u,c,r,i,d]}var Hf=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,qf,Ff,Ou,{position:0,secondsToWatchBeforeSkip:1,skipAd:2},Vf),i}return y(n)}(Nl);function jf(e){ju(e,"svelte-1wy3dql","button.svelte-1wy3dql{position:absolute;pointer-events:none;bottom:14px;left:16px;font-size:15px;background:white;border:none;padding:6px 10px;border-radius:6px;color:black}")}function Wf(e){var t;return{c:function(){(t=Qu("button")).textContent="\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442",nl(t,"class","svelte-1wy3dql")},m:function(e,n){Wu(e,t,n)},p:Lu,i:Lu,o:Lu,d:function(e){e&&Gu(t)}}}var Gf=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,null,Wf,Ou,{},jf),i}return y(n)}(Nl);function Yf(e){ju(e,"svelte-354ajf",".container.svelte-354ajf{width:100%;height:100%}.top-gradient-mobile.svelte-354ajf{position:absolute;width:100%;height:80px;top:0;left:0;pointer-events:none;background:linear-gradient(\n      360deg,\n      rgba(0, 0, 0, 0) 0%,\n      rgba(0, 0, 0, 0.05) 12%,\n      rgba(0, 0, 0, 0.15) 25%,\n      rgba(0, 0, 0, 0.3) 45%,\n      rgba(0, 0, 0, 0.4) 57%,\n      rgba(0, 0, 0, 0.5) 77%,\n      rgba(0, 0, 0, 0.55) 88%,\n      rgba(0, 0, 0, 0.65) 100%\n    )}")}function Qf(e){var t;return{c:function(){nl(t=Qu("div"),"class","top-gradient-mobile svelte-354ajf")},m:function(e,n){Wu(e,t,n)},d:function(e){e&&Gu(t)}}}function Kf(e){var t,n;return t=new Bf({props:{position:e[6],duration:e[7]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};64&n&&(i.position=e[6]),128&n&&(i.duration=e[7]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Xf(e){var t,n;return t=new Hf({props:{position:e[6],secondsToWatchBeforeSkip:e[8],skipAd:e[10].actions.internal.skipAd}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};64&n&&(i.position=e[6]),256&n&&(i.secondsToWatchBeforeSkip=e[8]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Jf(e){var t,n;return t=new Mf({}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Zf(e){var t,n;return t=new Gf({}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function ep(e){var t,n,i,r,a,o,u,l,c=e[0]&&Qf(),d=e[3]&&Kf(e),f=e[4]&&Xf(e),p=e[9]&&Jf(),h=e[5]&&Zf();return{c:function(){t=Qu("div"),c&&c.c(),n=Ju(),i=Qu("video"),r=Ju(),d&&d.c(),a=Ju(),f&&f.c(),o=Ju(),p&&p.c(),u=Ju(),h&&h.c(),rl(i,"width","100%"),rl(i,"height","100%"),i.playsInline=!0,nl(t,"class","container svelte-354ajf")},m:function(s,v){Wu(s,t,v),c&&c.m(t,null),Hu(t,n),Hu(t,i),e[22](i),Hu(t,r),d&&d.m(t,null),Hu(t,a),f&&f.m(t,null),Hu(t,o),p&&p.m(t,null),Hu(t,u),h&&h.m(t,null),e[23](t),l=!0},p:function(e,i){var r=s(i,1)[0];e[0]?c||((c=Qf()).c(),c.m(t,n)):c&&(c.d(1),c=null),e[3]?d?(d.p(e,r),8&r&&Tl(d,1)):((d=Kf(e)).c(),Tl(d,1),d.m(t,a)):d&&(El(),$l(d,1,1,(function(){d=null})),xl()),e[4]?f?(f.p(e,r),16&r&&Tl(f,1)):((f=Xf(e)).c(),Tl(f,1),f.m(t,o)):f&&(El(),$l(f,1,1,(function(){f=null})),xl()),e[9]?p?512&r&&Tl(p,1):((p=Jf()).c(),Tl(p,1),p.m(t,u)):p&&(El(),$l(p,1,1,(function(){p=null})),xl()),e[5]?h?32&r&&Tl(h,1):((h=Zf()).c(),Tl(h,1),h.m(t,null)):h&&(El(),$l(h,1,1,(function(){h=null})),xl())},i:function(e){l||(Tl(d),Tl(f),Tl(p),Tl(h),l=!0)},o:function(e){$l(d),$l(f),$l(p),$l(h),l=!1},d:function(n){n&&Gu(t),c&&c.d(),e[22](null),d&&d.d(),f&&f.d(),p&&p.d(),h&&h.d(),e[23](null)}}}function tp(e,t,n){var i,r,a,o,s,u,l=t.adsSlotId,c=t.adsParams,d=t.adsPreviewParam,f=t.duration,p=void 0===f?0:f,h=Ul(),v=h.state.isEnded$;Uu(e,v,(function(e){return n(9,u=e)}));var m,g,y=h.ui.isMobile;Uu(e,y,(function(e){return n(0,r=e)}));var b=!1,w=h.ads.playbackState;Uu(e,w,(function(e){return n(21,i=e)}));var S=h.ads.canSkip,k=h.ads.duration;Uu(e,k,(function(e){return n(7,o=e)}));var E=h.ads.position;Uu(e,E,(function(e){return n(6,a=e)}));var x,T,$,P=h.ads.secondsToWatchBeforeSkip;return Uu(e,P,(function(e){return n(8,s=e)})),ul((function(){var e=new AbortController,t=h.getAdmanWrapper();if(l){var n=zu(h.ui.playerSize),i={width:n.width,height:n.height,isFullscreen:zu(h.ui.isFullscreen),isAutoplay:zu(h.ui.isAutoplay),adsContainer:m,adsVideoElement:g,slotId:l,params:c,previewParam:d,duration:p};return window.AdmanHTML?(t.initAdman(i),b=!0):t.loadAdman(e.signal).then((function(){t.initAdman(i),b=!0})).catch((function(){t.onAdmanLoadingError()})),function(){!b&&e.abort()}}t.onAdmanLoadingError()})),e.$$set=function(e){"adsSlotId"in e&&n(17,l=e.adsSlotId),"adsParams"in e&&n(18,c=e.adsParams),"adsPreviewParam"in e&&n(19,d=e.adsPreviewParam),"duration"in e&&n(20,p=e.duration)},e.$$.update=function(){2097152&e.$$.dirty&&n(3,x=i!==zc.INACTIVE),2097152&e.$$.dirty&&n(4,T=S&&i!==zc.INACTIVE),2097153&e.$$.dirty&&n(5,$=r&&i!==zc.INACTIVE)},[r,m,g,x,T,$,a,o,s,u,h,v,y,w,k,E,P,l,c,d,p,i,function(e){dl[e?"unshift":"push"]((function(){n(2,g=e)}))},function(e){dl[e?"unshift":"push"]((function(){n(1,m=e)}))}]}var np=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,tp,ep,Ou,{adsSlotId:17,adsParams:18,adsPreviewParam:19,duration:20},Yf),i}return y(n)}(Nl);function ip(e){ju(e,"svelte-p5rs9b","ul.svelte-p5rs9b{position:absolute;border-radius:3px;background:rgba(0, 0, 0, 0.88);overflow:hidden;transition:visibility .1s,opacity .1s;font-size:13px;list-style:none;margin:0;padding:0}.hidden.svelte-p5rs9b{visibility:hidden;opacity:0}li.svelte-p5rs9b{padding:8px 20px;cursor:pointer;position:relative;display:block;color:rgba(255, 255, 255, 0.72);font-size:13px;white-space:nowrap}li.svelte-p5rs9b:hover{background:rgba(66, 66, 66, .5);color:var(--white)}")}function rp(e){var t,n,i,r,a,o,u,l;return{c:function(){t=Qu("ul"),(n=Qu("li")).textContent="\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435",i=Ju(),(r=Qu("li")).textContent="\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438",a=Ju(),(o=Qu("li")).textContent="\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",nl(n,"class","svelte-p5rs9b"),nl(r,"class","svelte-p5rs9b"),nl(o,"class","svelte-p5rs9b"),rl(t,"top",e[1]+"px"),rl(t,"left",e[0]+"px"),nl(t,"class","svelte-p5rs9b"),al(t,"hidden",!e[2])},m:function(s,c){Wu(s,t,c),Hu(t,n),Hu(t,i),Hu(t,r),Hu(t,a),Hu(t,o),e[10](t),u||(l=[el(n,"click",e[4]),el(r,"click",e[5]),el(o,"click",e[6])],u=!0)},p:function(e,n){var i=s(n,1)[0];2&i&&rl(t,"top",e[1]+"px"),1&i&&rl(t,"left",e[0]+"px"),4&i&&al(t,"hidden",!e[2])},i:Lu,o:Lu,d:function(n){n&&Gu(t),e[10](null),u=!1,Iu(l)}}}function ap(e,t,n){var i,r=t.visible,a=void 0!==r&&r,o=t.supportLink,s=t.x,u=void 0===s?0:s,l=t.y,c=void 0===l?0:l,d=t.playerContainerRef,f=t.controlsContainerRef,p=Ul(),h=p.ui.contextMenuVisible,v=p.ui.debugPanelVisible;return e.$$set=function(e){"visible"in e&&n(2,a=e.visible),"supportLink"in e&&n(7,o=e.supportLink),"x"in e&&n(0,u=e.x),"y"in e&&n(1,c=e.y),"playerContainerRef"in e&&n(8,d=e.playerContainerRef),"controlsContainerRef"in e&&n(9,f=e.controlsContainerRef)},e.$$.update=function(){3&e.$$.dirty&&function(e,t){if(i&&d&&f){var r=i.getBoundingClientRect(),a=d.getBoundingClientRect(),o=f.getBoundingClientRect();n(0,u=e-a.left),n(1,c=t-a.top),u+r.width>a.width&&n(0,u-=r.width),c+r.height>a.height-o.height&&n(1,c-=r.height)}}(u,c)},[u,c,a,i,function(e){window.open(o,"_blank"),h.set(!1),p.actions.internal.pause(),e.stopPropagation()},function(e){Ql(p.actions.internal.getDebugTextData()),h.set(!1),e.stopPropagation()},function(e){v.set(!0),h.set(!1),e.stopPropagation()},o,d,f,function(e){dl[e?"unshift":"push"]((function(){n(3,i=e)}))}]}var op=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,ap,rp,Ou,{visible:2,supportLink:7,x:0,y:1,playerContainerRef:8,controlsContainerRef:9},ip),i}return y(n)}(Nl),sp=y((function e(t){m(this,e),h(this,"value",void 0),h(this,"next",void 0),this.value=t,this.next=null})),up=function(){function e(t){m(this,e),h(this,"top",void 0),h(this,"bottom",void 0),h(this,"size",void 0),h(this,"maxSize",void 0),this.top=null,this.bottom=null,this.size=0,this.maxSize=t}return y(e,[{key:"push",value:function(e){var t=new sp(e);this.top?(this.top.next=t,this.top=t):(this.top=t,this.bottom=t),this.size++,this.size>this.maxSize&&this.bottom&&(this.bottom=this.bottom.next)}},{key:"getValuesFromBottom",value:function(){for(var e=[],t=this.bottom;t;)e.push(t.value),t=t.next;return e}}]),e}();function lp(e){ju(e,"svelte-1ssl9eb",".container.svelte-1ssl9eb{display:inline-block;width:120px;height:16px}canvas.svelte-1ssl9eb{transform:scale(1, -1);margin-top:2px}")}function cp(e){var t,n;return{c:function(){t=Qu("div"),nl(n=Qu("canvas"),"class","svelte-1ssl9eb"),nl(t,"class","container svelte-1ssl9eb")},m:function(i,r){Wu(i,t,r),Hu(t,n),e[3](n)},p:Lu,i:Lu,o:Lu,d:function(n){n&&Gu(t),e[3](null)}}}function dp(e,t,n,i,r){0===r&&(r=1),e.fillStyle="#fff",e.fillRect(t,n,i,r)}function fp(e,t,n){var i,r,a=t.values,o=void 0===a?[]:a;return ul((function(){n(0,i.width=120,i),n(0,i.height=16,i),n(2,r=i.getContext("2d"))})),e.$$set=function(e){"values"in e&&n(1,o=e.values)},e.$$.update=function(){if(6&e.$$.dirty&&r){for(var t=o[0],n=1;n<o.length;n++)o[n]>t&&(t=o[n]);r.clearRect(0,0,120,16);for(var i=59,a=o.length-1;a>=0;a--){var s=2*i,u=t>0?o[a]/t*16:0;dp(r,s,0,2,u),i--}}},[i,o,r,function(e){dl[e?"unshift":"push"]((function(){n(0,i=e)}))}]}var pp=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,fp,cp,Ou,{values:1},lp),i}return y(n)}(Nl),hp=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}},vp=function(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}};function mp(e){ju(e,"svelte-157yrl",".container.svelte-157yrl.svelte-157yrl.svelte-157yrl{background:rgba(28, 28, 28, 0.8);border-radius:4px;color:#fff;left:20px;position:absolute;top:45px;min-width:160px;font-size:10px}.container-mobile.svelte-157yrl.svelte-157yrl.svelte-157yrl{top:16px;left:16px}button.svelte-157yrl.svelte-157yrl.svelte-157yrl{position:absolute;right:5px;top:3px;cursor:pointer;outline:0;border:none;background-color:transparent;padding:0;color:#fff}.content.svelte-157yrl.svelte-157yrl.svelte-157yrl{padding:5px}.content.svelte-157yrl>div.svelte-157yrl>div.svelte-157yrl{display:inline-block;text-align:right;width:52px;padding:0 5px}")}function gp(e){var t,n,i,r,a,o=e[0].provider+"";return{c:function(){t=Qu("div"),(n=Qu("div")).textContent="Provider",i=Ju(),r=Qu("span"),a=Xu(o),nl(n,"class","svelte-157yrl"),nl(t,"class","svelte-157yrl")},m:function(e,o){Wu(e,t,o),Hu(t,n),Hu(t,i),Hu(t,r),Hu(r,a)},p:function(e,t){1&t&&o!==(o=e[0].provider+"")&&il(a,o)},d:function(e){e&&Gu(t)}}}function yp(e){var t,n,i,r,a,o=e[0].viewport+"";return{c:function(){t=Qu("div"),(n=Qu("div")).textContent="Viewport",i=Ju(),r=Qu("span"),a=Xu(o),nl(n,"class","svelte-157yrl"),nl(t,"class","svelte-157yrl")},m:function(e,o){Wu(e,t,o),Hu(t,n),Hu(t,i),Hu(t,r),Hu(r,a)},p:function(e,t){1&t&&o!==(o=e[0].viewport+"")&&il(a,o)},d:function(e){e&&Gu(t)}}}function bp(e){var t,n,i,r,a,o=e[0].videoSize+"";return{c:function(){t=Qu("div"),(n=Qu("div")).textContent="Video size",i=Ju(),r=Qu("span"),a=Xu(o),nl(n,"class","svelte-157yrl"),nl(t,"class","svelte-157yrl")},m:function(e,o){Wu(e,t,o),Hu(t,n),Hu(t,i),Hu(t,r),Hu(r,a)},p:function(e,t){1&t&&o!==(o=e[0].videoSize+"")&&il(a,o)},d:function(e){e&&Gu(t)}}}function wp(e){var t,n,i,r,a,o=e[0].cdn+"";return{c:function(){t=Qu("div"),(n=Qu("div")).textContent="CDN host",i=Ju(),r=Qu("span"),a=Xu(o),nl(n,"class","svelte-157yrl"),nl(t,"class","svelte-157yrl")},m:function(e,o){Wu(e,t,o),Hu(t,n),Hu(t,i),Hu(t,r),Hu(r,a)},p:function(e,t){1&t&&o!==(o=e[0].cdn+"")&&il(a,o)},d:function(e){e&&Gu(t)}}}function Sp(e){var t,n,i,r,a,o,s=e[0].volume+"";return{c:function(){t=Qu("div"),(n=Qu("div")).textContent="Volume",i=Ju(),r=Qu("span"),a=Xu(s),o=Xu(" %"),nl(n,"class","svelte-157yrl"),nl(t,"class","svelte-157yrl")},m:function(e,s){Wu(e,t,s),Hu(t,n),Hu(t,i),Hu(t,r),Hu(r,a),Hu(r,o)},p:function(e,t){1&t&&s!==(s=e[0].volume+"")&&il(a,s)},d:function(e){e&&Gu(t)}}}function kp(e){var t,n,i,r,a,o,s=e[0].buffer.toFixed(2)+"";return{c:function(){t=Qu("div"),(n=Qu("div")).textContent="Buffer",i=Ju(),r=Qu("span"),a=Xu(s),o=Xu(" s"),nl(n,"class","svelte-157yrl"),nl(t,"class","svelte-157yrl")},m:function(e,s){Wu(e,t,s),Hu(t,n),Hu(t,i),Hu(t,r),Hu(r,a),Hu(r,o)},p:function(e,t){1&t&&s!==(s=e[0].buffer.toFixed(2)+"")&&il(a,s)},d:function(e){e&&Gu(t)}}}function Ep(e){var t,n,i,r,a,o,s,u,l,c=e[0].speed.toFixed(2)+"";return r=new pp({props:{values:e[5]}}),{c:function(){t=Qu("div"),(n=Qu("div")).textContent="Speed",i=Ju(),Al(r.$$.fragment),a=Ju(),o=Qu("span"),s=Xu(c),u=Xu(" kbps"),nl(n,"class","svelte-157yrl"),nl(t,"class","svelte-157yrl")},m:function(e,c){Wu(e,t,c),Hu(t,n),Hu(t,i),Cl(r,t,null),Hu(t,a),Hu(t,o),Hu(o,s),Hu(o,u),l=!0},p:function(e,t){var n={};32&t&&(n.values=e[5]),r.$set(n),(!l||1&t)&&c!==(c=e[0].speed.toFixed(2)+"")&&il(s,c)},i:function(e){l||(Tl(r.$$.fragment,e),l=!0)},o:function(e){$l(r.$$.fragment,e),l=!1},d:function(e){e&&Gu(t),_l(r)}}}function xp(e){var t,n,i,r,a,o,u,l,c,d,f,p,h,v,m,g,y,b,w,S,k,E,x,T,$,P,A,C,_,R,L,N,M,I,D,O,B=e[0].version+"",V=e[0].provider&&gp(e),z=e[0].viewport&&yp(e),U=e[0].videoSize&&bp(e),F=e[0].cdn&&wp(e),q=e[0].volume&&Sp(e),H=e[0].buffer&&kp(e),j=e[0].speed&&Ep(e);return R=new pp({props:{values:e[4]}}),{c:function(){t=Qu("div"),(n=Qu("button")).textContent="[x]",i=Ju(),r=Qu("div"),a=Qu("div"),(o=Qu("div")).textContent="Version",u=Ju(),l=Qu("span"),c=Xu(B),d=Ju(),V&&V.c(),f=Ju(),z&&z.c(),p=Ju(),U&&U.c(),h=Ju(),F&&F.c(),v=Ju(),q&&q.c(),m=Ju(),H&&H.c(),g=Ju(),y=Qu("div"),(b=Qu("div")).textContent="Dropped",w=Ju(),S=Qu("span"),k=Xu(e[2]),E=Xu(" / "),x=Xu(e[1]),T=Xu(" frames"),$=Ju(),j&&j.c(),P=Ju(),A=Qu("div"),(C=Qu("div")).textContent="FPS",_=Ju(),Al(R.$$.fragment),L=Ju(),N=Qu("span"),M=Xu(e[3]),nl(n,"class","close svelte-157yrl"),nl(n,"title","\u0437\u0430\u043a\u0440\u044b\u0442\u044c"),nl(o,"class","svelte-157yrl"),nl(a,"class","svelte-157yrl"),nl(b,"class","svelte-157yrl"),nl(y,"class","svelte-157yrl"),nl(C,"class","svelte-157yrl"),nl(A,"class","svelte-157yrl"),nl(r,"class","content svelte-157yrl"),nl(t,"class","container svelte-157yrl"),al(t,"container-mobile",e[6])},m:function(s,B){Wu(s,t,B),Hu(t,n),Hu(t,i),Hu(t,r),Hu(r,a),Hu(a,o),Hu(a,u),Hu(a,l),Hu(l,c),Hu(r,d),V&&V.m(r,null),Hu(r,f),z&&z.m(r,null),Hu(r,p),U&&U.m(r,null),Hu(r,h),F&&F.m(r,null),Hu(r,v),q&&q.m(r,null),Hu(r,m),H&&H.m(r,null),Hu(r,g),Hu(r,y),Hu(y,b),Hu(y,w),Hu(y,S),Hu(S,k),Hu(S,E),Hu(S,x),Hu(S,T),Hu(r,$),j&&j.m(r,null),Hu(r,P),Hu(r,A),Hu(A,C),Hu(A,_),Cl(R,A,null),Hu(A,L),Hu(A,N),Hu(N,M),I=!0,D||(O=el(n,"click",e[8]),D=!0)},p:function(e,n){var i=s(n,1)[0];(!I||1&i)&&B!==(B=e[0].version+"")&&il(c,B),e[0].provider?V?V.p(e,i):((V=gp(e)).c(),V.m(r,f)):V&&(V.d(1),V=null),e[0].viewport?z?z.p(e,i):((z=yp(e)).c(),z.m(r,p)):z&&(z.d(1),z=null),e[0].videoSize?U?U.p(e,i):((U=bp(e)).c(),U.m(r,h)):U&&(U.d(1),U=null),e[0].cdn?F?F.p(e,i):((F=wp(e)).c(),F.m(r,v)):F&&(F.d(1),F=null),e[0].volume?q?q.p(e,i):((q=Sp(e)).c(),q.m(r,m)):q&&(q.d(1),q=null),e[0].buffer?H?H.p(e,i):((H=kp(e)).c(),H.m(r,g)):H&&(H.d(1),H=null),(!I||4&i)&&il(k,e[2]),(!I||2&i)&&il(x,e[1]),e[0].speed?j?(j.p(e,i),1&i&&Tl(j,1)):((j=Ep(e)).c(),Tl(j,1),j.m(r,P)):j&&(El(),$l(j,1,1,(function(){j=null})),xl());var a={};16&i&&(a.values=e[4]),R.$set(a),(!I||8&i)&&il(M,e[3]),64&i&&al(t,"container-mobile",e[6])},i:function(e){I||(Tl(j),Tl(R.$$.fragment,e),I=!0)},o:function(e){$l(j),$l(R.$$.fragment,e),I=!1},d:function(e){e&&Gu(t),V&&V.d(),z&&z.d(),U&&U.d(),F&&F.d(),q&&q.d(),H&&H.d(),j&&j.d(),_l(R),D=!1,O()}}}function Tp(e,t,n){var i,r=Ul(),a=r.ui.debugPanelVisible,o=r.ui.isMobile;Uu(e,o,(function(e){return n(6,i=e)}));var s=r.actions.internal.getDebugPanelData(),u=r.actions.internal.getVideoElement(),l=0,c=0,d=0,f=new up(60),p=new up(60),h=[],v=[];return ul((function(){hp("vk_player_debug_panel_opened",!0),r.actions.internal.startLogging(),u&&(n(2,c=u.getVideoPlaybackQuality().droppedVideoFrames),n(1,l=u.getVideoPlaybackQuality().totalVideoFrames));var e,t=window.setInterval((function(){n(0,s=r.actions.internal.getDebugPanelData())}),500);return u&&(e=window.setInterval((function(){if(u){n(2,c=u.getVideoPlaybackQuality().droppedVideoFrames);var e=u.getVideoPlaybackQuality().totalVideoFrames;n(3,d=e-l),n(1,l=e),f.push(d),s.speed&&p.push(s.speed),n(4,h=f.getValuesFromBottom()),n(5,v=p.getValuesFromBottom())}}),1e3)),function(){r.actions.internal.stopLogging(),clearInterval(t),e&&clearInterval(e)}})),[s,l,c,d,h,v,i,o,function(e){hp("vk_player_debug_panel_opened",!1),a.set(!1),e.stopPropagation()}]}var $p=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Tp,xp,Ou,{},mp),i}return y(n)}(Nl);function Pp(e){ju(e,"svelte-1ome55p",".close.svelte-1ome55p{cursor:pointer;opacity:0.8;transition:opacity 0.2s;position:relative;width:16px;height:16px}.close.svelte-1ome55p:hover{opacity:1}.close.svelte-1ome55p:before,.close.svelte-1ome55p:after{position:absolute;left:8px;content:' ';height:16px;width:2px;background-color:var(--white)}.close.svelte-1ome55p:before{transform:rotate(45deg)}.close.svelte-1ome55p:after{transform:rotate(-45deg)}")}function Ap(e){var t,n,i;return{c:function(){nl(t=Qu("div"),"class","close svelte-1ome55p")},m:function(r,a){Wu(r,t,a),n||(i=el(t,"click",e[0]),n=!0)},p:Lu,i:Lu,o:Lu,d:function(e){e&&Gu(t),n=!1,i()}}}function Cp(e){return[function(t){ll.call(this,e,t)}]}var _p=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Cp,Ap,Ou,{},Pp),i}return y(n)}(Nl);function Rp(e){ju(e,"svelte-8jhsry",".timer.svelte-8jhsry{border-radius:50%;transition:background .2s;background:rgba(31, 31, 31, .65);width:50px;height:50px;display:flex;align-items:center;justify-content:space-around}.timer.svelte-8jhsry:hover{background:rgba(31, 31, 31, .85)\n  }.timer-canvas.svelte-8jhsry{width:50px;height:50px;position:absolute}.timer-play-icon.svelte-8jhsry{width:22px;height:26px}")}function Lp(e){var t,n,i,r,a,o,s;return{c:function(){t=Qu("div"),n=Qu("canvas"),i=Ju(),r=Ku("svg"),a=Ku("g"),o=Ku("g"),s=Ku("path"),nl(n,"class","timer-canvas svelte-8jhsry"),nl(n,"width","100"),nl(n,"height","100"),nl(s,"class","_play"),nl(s,"d","m8.13340613 5.10548415 10.49681277 6.24354325c.3559987.2117494.472936.6720001.2611866 1.0279989-.0638111.1072809-.1533894.1969388-.2606135.2608453l-10.4968128 6.256187c-.35581027.2120659-.81616483.095538-1.02823068-.2602722-.06921066-.1161237-.10574852-.2487949-.10574852-.3839792v-12.49973035c0-.41421357.33578644-.75.75-.75.13495801 0 .26741554.03641567.38340613.1054073z"),nl(s,"fill","#fff"),nl(o,"fill-rule","nonzero"),nl(a,"fill","none"),nl(a,"fill-rule","evenodd"),nl(r,"class","timer-play-icon svelte-8jhsry"),nl(r,"viewBox","0 0 24 24"),nl(r,"xmlns","http://www.w3.org/2000/svg"),nl(t,"class","timer svelte-8jhsry")},m:function(u,l){Wu(u,t,l),Hu(t,n),e[2](n),Hu(t,i),Hu(t,r),Hu(r,a),Hu(a,o),Hu(o,s)},p:Lu,i:Lu,o:Lu,d:function(n){n&&Gu(t),e[2](null)}}}function Np(e,t,n){var i,r=t.onTimerEnded,a=void 0===r?Lu:r;return ul((function(){var e,t=i.getContext("2d");if(t){t.lineWidth=6,t.lineCap="round",t.strokeStyle="#fff";var n=Date.now();return e=requestAnimationFrame((function i(){var r=(Date.now()-n)/5e3;r<1?(t.clearRect(0,0,100,100),t.beginPath(),t.arc(50,50,47,-Math.PI/2,-Math.PI/2+2*Math.PI*r),t.stroke(),e=requestAnimationFrame(i)):a()})),function(){cancelAnimationFrame(e)}}})),e.$$set=function(e){"onTimerEnded"in e&&n(1,a=e.onTimerEnded)},[i,a,function(e){dl[e?"unshift":"push"]((function(){n(0,i=e)}))}]}var Mp=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Np,Lp,Ou,{onTimerEnded:1},Rp),i}return y(n)}(Nl);function Ip(e){ju(e,"svelte-kisfwc",".overlay.svelte-kisfwc{width:100%;height:100%;background:rgba(0, 0, 0, 0.72);position:absolute}.next-video.svelte-kisfwc{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex;width:362px;flex-direction:column}.top.svelte-kisfwc{display:flex;justify-content:space-between}.caption.svelte-kisfwc{font-size:11px;font-weight:bold;color:var(--white);text-transform:uppercase;opacity:0.8}.row.svelte-kisfwc{height:102px;background:rgba(48, 48, 48, .8);cursor:pointer;margin-top:6px;display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column.svelte-kisfwc{display:flex;flex-direction:column;flex-basis:50%}.thumb.svelte-kisfwc{width:100%;height:100%;background:no-repeat center;background-size:cover;display:flex;align-items:center;position:relative;justify-content:space-around}.thumb-overlay.svelte-kisfwc{width:100%;height:100%;background:var(--black);opacity:0.3;position:absolute}.title.svelte-kisfwc{padding:10px 16px;font-size:12px;font-weight:bold;color:var(--white);line-height:1.6;max-height:52px;overflow:hidden}")}function Dp(e){var t,n;return t=new Mp({props:{onTimerEnded:e[2]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};4&n&&(i.onTimerEnded=e[2]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Op(e){var t,n,i,r,a,o,u,l,c,d,f,p,h,v,m,g,y,b,w,S,k;(u=new _p({})).$on("click",e[4]);var E=e[3]&&Dp(e);return{c:function(){t=Qu("div"),n=Ju(),i=Qu("div"),r=Qu("div"),(a=Qu("div")).textContent="\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043e",o=Ju(),Al(u.$$.fragment),l=Ju(),c=Qu("div"),d=Qu("div"),f=Qu("div"),p=Qu("div"),h=Ju(),E&&E.c(),m=Ju(),g=Qu("div"),y=Qu("div"),b=Xu(e[0]),nl(t,"class","overlay svelte-kisfwc"),nl(a,"class","caption svelte-kisfwc"),nl(r,"class","top svelte-kisfwc"),nl(p,"class","thumb-overlay svelte-kisfwc"),nl(f,"class","thumb svelte-kisfwc"),nl(f,"style",v="background-image: url('".concat(e[1],"')")),nl(d,"class","column svelte-kisfwc"),nl(y,"class","title svelte-kisfwc"),nl(g,"class","column svelte-kisfwc"),nl(c,"class","row svelte-kisfwc"),nl(i,"class","next-video svelte-kisfwc")},m:function(s,v){Wu(s,t,v),Wu(s,n,v),Wu(s,i,v),Hu(i,r),Hu(r,a),Hu(r,o),Cl(u,r,null),Hu(i,l),Hu(i,c),Hu(c,d),Hu(d,f),Hu(f,p),Hu(f,h),E&&E.m(f,null),Hu(c,m),Hu(c,g),Hu(g,y),Hu(y,b),w=!0,S||(k=el(c,"click",(function(){Du(e[2])&&e[2].apply(this,arguments)})),S=!0)},p:function(t,n){var i=s(n,1)[0];(e=t)[3]?E?(E.p(e,i),8&i&&Tl(E,1)):((E=Dp(e)).c(),Tl(E,1),E.m(f,null)):E&&(El(),$l(E,1,1,(function(){E=null})),xl()),(!w||2&i&&v!==(v="background-image: url('".concat(e[1],"')")))&&nl(f,"style",v),(!w||1&i)&&il(b,e[0])},i:function(e){w||(Tl(u.$$.fragment,e),Tl(E),w=!0)},o:function(e){$l(u.$$.fragment,e),$l(E),w=!1},d:function(e){e&&Gu(t),e&&Gu(n),e&&Gu(i),_l(u),E&&E.d(),S=!1,k()}}}function Bp(e,t,n){var i=t.title,r=t.thumb,a=t.playNextVideo,o=!0;return e.$$set=function(e){"title"in e&&n(0,i=e.title),"thumb"in e&&n(1,r=e.thumb),"playNextVideo"in e&&n(2,a=e.playNextVideo)},[i,r,a,o,function(){return n(3,o=!1)}]}var Vp=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Bp,Op,Ou,{title:0,thumb:1,playNextVideo:2},Ip),i}return y(n)}(Nl);function zp(e,t,n){var i=t.playNextVideo;return ul((function(){i()})),e.$$set=function(e){"playNextVideo"in e&&n(0,i=e.playNextVideo)},[i]}var Up=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,zp,null,Ou,{playNextVideo:0}),i}return y(n)}(Nl);function Fp(e){ju(e,"svelte-1fmik5c",".title.svelte-1fmik5c{position:absolute;left:0;top:0;width:100%;font-size:15px;color:var(--white);box-sizing:border-box;padding:18px 20px 10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition-property:visibility, transform, opacity;transition-duration:var(--videoplayer-controls-transition-duration);transition-timing-function:var(--videoplayer-controls-transition-fn);will-change:transform, opacity}.hidden.svelte-1fmik5c{visibility:hidden;transform:translateY(-44px);opacity:0}")}function qp(e){var t,n;return{c:function(){t=Qu("div"),n=Xu(e[0]),nl(t,"class","title svelte-1fmik5c"),al(t,"hidden",e[1])},m:function(e,i){Wu(e,t,i),Hu(t,n)},p:function(e,i){var r=s(i,1)[0];1&r&&il(n,e[0]),2&r&&al(t,"hidden",e[1])},i:Lu,o:Lu,d:function(e){e&&Gu(t)}}}function Hp(e,t,n){var i=t.title,r=void 0===i?"":i,a=t.isHidden,o=void 0!==a&&a;return e.$$set=function(e){"title"in e&&n(0,r=e.title),"isHidden"in e&&n(1,o=e.isHidden)},[r,o]}var jp=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Hp,qp,Ou,{title:0,isHidden:1},Fp),i}return y(n)}(Nl);function Wp(e){ju(e,"svelte-1o62kpz",".wrapper.svelte-1o62kpz{height:100%;background-position:center;background-size:cover;display:flex;align-items:center;justify-content:center;font-size:16px;flex-direction:column}.icon_wrapper.svelte-1o62kpz{display:flex;flex-direction:column;align-items:center;width:400px}.icon.svelte-1o62kpz{width:50px;height:50px}.text.svelte-1o62kpz{margin-top:20px}")}function Gp(e){var t,n,i;return{c:function(){t=Qu("div"),n=Xu("\u0412\u0438\u0434\u0435\u043e \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 "),i=Xu(e[1]),nl(t,"class","text svelte-1o62kpz")},m:function(e,r){Wu(e,t,r),Hu(t,n),Hu(t,i)},p:function(e,t){2&t&&il(i,e[1])},d:function(e){e&&Gu(t)}}}function Yp(e){var t,n,i,r,a,o,u=e[1]&&Gp(e);return{c:function(){t=Qu("div"),(n=Qu("div")).innerHTML='<svg class="icon svelte-1o62kpz" width="22" height="22" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="#fff"></path><path d="M0 0h24v24H0z"></path></g></svg>',i=Ju(),u&&u.c(),nl(n,"class","icon_wrapper svelte-1o62kpz"),nl(t,"class","wrapper svelte-1o62kpz"),nl(t,"style",r="background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('".concat(e[0],"')"))},m:function(r,s){Wu(r,t,s),Hu(t,n),Hu(t,i),u&&u.m(t,null),a||(o=el(t,"click",e[2]),a=!0)},p:function(e,n){var i=s(n,1)[0];e[1]?u?u.p(e,i):((u=Gp(e)).c(),u.m(t,null)):u&&(u.d(1),u=null),1&i&&r!==(r="background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('".concat(e[0],"')"))&&nl(t,"style",r)},i:Lu,o:Lu,d:function(e){e&&Gu(t),u&&u.d(),a=!1,o()}}}function Qp(e,t,n){var i=t.thumbUrl,r=t.chromecastDeviceName;return e.$$set=function(e){"thumbUrl"in e&&n(0,i=e.thumbUrl),"chromecastDeviceName"in e&&n(1,r=e.chromecastDeviceName)},[i,r,function(t){ll.call(this,e,t)}]}var Kp=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Qp,Yp,Ou,{thumbUrl:0,chromecastDeviceName:1},Wp),i}return y(n)}(Nl);function Xp(e,t,n){var i,r,a,o,s,u=t.isAds,l=t.hideContextMenu,c=t.toggleFullscreen,d=Ul(),f=d.getLogger().createComponentLog("KeyboardControls component"),p=d.state.playbackState$;Uu(e,p,(function(e){return n(13,s=e)}));var h=d.ads.playbackState;Uu(e,h,(function(e){return n(12,o=e)}));var v=d.state.positionExact$;Uu(e,v,(function(e){return n(11,a=e)}));var m=d.state.duration$;Uu(e,m,(function(e){return n(10,r=e)}));var g=d.state.volume$;return Uu(e,g,(function(e){return n(9,i=e)})),e.$$set=function(e){"isAds"in e&&n(5,u=e.isAds),"hideContextMenu"in e&&n(6,l=e.hideContextMenu),"toggleFullscreen"in e&&n(7,c=e.toggleFullscreen)},[p,h,v,m,g,u,l,c,function(e){l();var t=e.code;if(!(e.ctrlKey||e.altKey||e.metaKey)){var n=s===Jr.PLAYING||s===Jr.PAUSED,p=u&&(o===zc.PAUSED||o===zc.PLAYING);if(n||p)switch(f({message:"key down, code: ".concat(t)}),t){case Bl.KeyJ:case Bl.ArrowLeft:if(p)break;var h=Math.max(a-10,0);a>0&&d.actions.internal.seekTime(h);break;case Bl.KeyL:case Bl.ArrowRight:if(p)break;var v=Math.min(a+10,r);a<r&&d.actions.internal.seekTime(v);break;case Bl.ArrowUp:var m=Math.min(i+.05,1);i<1&&d.actions.internal.setVolume(m);break;case Bl.ArrowDown:var g=Math.max(i-.05,0);i>0&&d.actions.internal.setVolume(g);break;case Bl.KeyK:case Bl.Space:d.actions.internal.togglePlay();break;case Bl.KeyM:d.actions.internal.toggleMuted();break;case Bl.KeyF:c()}}}]}var Jp=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Xp,null,Ou,{isAds:5,hideContextMenu:6,toggleFullscreen:7,keyDownHandler:8}),i}return y(n,[{key:"keyDownHandler",get:function(){return this.$$.ctx[8]}}]),n}(Nl);function Zp(e){ju(e,"svelte-1c30l04",".double-click-area.svelte-1c30l04{position:absolute;z-index:1;top:0;height:100%;width:25%;overflow:hidden}.double-click-area.left.svelte-1c30l04{left:0}.double-click-area.right.svelte-1c30l04{right:0}.semicircle.svelte-1c30l04{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.5)}.semicircle.left.svelte-1c30l04{left:0;border-top-right-radius:50%;border-bottom-right-radius:50%}.semicircle.right.svelte-1c30l04{right:0;border-top-left-radius:50%;border-bottom-left-radius:50%}.info.svelte-1c30l04{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex;flex-direction:column;align-items:center;justify-content:center}.triangles-wrapper.svelte-1c30l04{position:relative;display:flex;margin-bottom:10px;justify-content:center}.triangle.svelte-1c30l04{width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;animation:svelte-1c30l04-blink 500ms infinite;opacity:0}.triangle.right.svelte-1c30l04:nth-child(1),.triangle.left.svelte-1c30l04:nth-child(3){animation-delay:0ms}.triangle.right.svelte-1c30l04:nth-child(2),.triangle.left.svelte-1c30l04:nth-child(2){animation-delay:100ms}.triangle.right.svelte-1c30l04:nth-child(3),.triangle.left.svelte-1c30l04:nth-child(1){animation-delay:200ms}@keyframes svelte-1c30l04-blink{0%{opacity:0}50%{opacity:1}100%{opacity:0}}.triangle.left.svelte-1c30l04{border-right:8px solid var(--white)}.triangle.right.svelte-1c30l04{border-left:8px solid var(--white)}.triangle.svelte-1c30l04:not(:last-child){margin-right:5px}.step-caption.svelte-1c30l04{margin:0;text-align:center;font-size:12px;line-height:1;color:var(--white)}")}function eh(e){var t,n,i,r,a,o,s,u,l,c,d,f,p,h,v,m,g;return{c:function(){t=Qu("div"),i=Ju(),r=Qu("div"),a=Qu("div"),o=Qu("div"),u=Ju(),l=Qu("div"),d=Ju(),f=Qu("div"),h=Ju(),v=Qu("p"),m=Xu(e[1]),g=Xu(" \u0441\u0435\u043a\u0443\u043d\u0434"),nl(t,"class",n="semicircle "+e[0]+" svelte-1c30l04"),nl(o,"class",s="triangle "+e[0]+" svelte-1c30l04"),nl(l,"class",c="triangle "+e[0]+" svelte-1c30l04"),nl(f,"class",p="triangle "+e[0]+" svelte-1c30l04"),nl(a,"class","triangles-wrapper svelte-1c30l04"),nl(v,"class","step-caption svelte-1c30l04"),nl(r,"class","info svelte-1c30l04")},m:function(e,n){Wu(e,t,n),Wu(e,i,n),Wu(e,r,n),Hu(r,a),Hu(a,o),Hu(a,u),Hu(a,l),Hu(a,d),Hu(a,f),Hu(r,h),Hu(r,v),Hu(v,m),Hu(v,g)},p:function(e,i){1&i&&n!==(n="semicircle "+e[0]+" svelte-1c30l04")&&nl(t,"class",n),1&i&&s!==(s="triangle "+e[0]+" svelte-1c30l04")&&nl(o,"class",s),1&i&&c!==(c="triangle "+e[0]+" svelte-1c30l04")&&nl(l,"class",c),1&i&&p!==(p="triangle "+e[0]+" svelte-1c30l04")&&nl(f,"class",p),2&i&&il(m,e[1])},d:function(e){e&&Gu(t),e&&Gu(i),e&&Gu(r)}}}function th(e){var t,n,i,r,a=e[2]&&eh(e);return{c:function(){t=Qu("div"),a&&a.c(),nl(t,"class",n="double-click-area "+e[0]+" svelte-1c30l04")},m:function(n,o){var s;Wu(n,t,o),a&&a.m(t,null),i||(r=el(t,"click",(s=e[3](),function(e){return e.stopPropagation(),s.call(this,e)})),i=!0)},p:function(e,i){var r=s(i,1)[0];e[2]?a?a.p(e,r):((a=eh(e)).c(),a.m(t,null)):a&&(a.d(1),a=null),1&r&&n!==(n="double-click-area "+e[0]+" svelte-1c30l04")&&nl(t,"class",n)},i:Lu,o:Lu,d:function(e){e&&Gu(t),a&&a.d(),i=!1,r()}}}function nh(e,t,n){var i,r=t.side,a=t.seekStep,o=t.handleSingleFirstClick,s=t.handleSecondClick,u=!1,l=0,c=0;return i=function(){window.clearTimeout(l),window.clearTimeout(c)},sl().$$.on_destroy.push(i),e.$$set=function(e){"side"in e&&n(0,r=e.side),"seekStep"in e&&n(1,a=e.seekStep),"handleSingleFirstClick"in e&&n(4,o=e.handleSingleFirstClick),"handleSecondClick"in e&&n(5,s=e.handleSecondClick)},[r,a,u,function(){var e=0;return function(){1===(e+=1)?l=window.setTimeout((function(){o(),e=0}),300):(window.clearTimeout(l),e=0,s(),n(2,u=!0),c=window.setTimeout((function(){n(2,u=!1)}),500))}},o,s]}var ih=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,nh,th,Ou,{side:0,seekStep:1,handleSingleFirstClick:4,handleSecondClick:5},Zp),i}return y(n)}(Nl),rh=function(e){var t=Math.round(e);return isNaN(t)||t<40?"":t>=40&&t<55?50:t>=55&&t<90?60:t>=90&&t<180?120:t>=180?240:""},ah=function(e){return e>1?1:e<0?0:e},oh=function(e){return hp("vk_player_preferred_volume",ah(e))},sh=function(){var e=parseFloat(vp("vk_player_preferred_volume"));return isNaN(e)?1:ah(e)},uh=function(e){return hp("vk_player_prefer_volume_mute",e)},lh=function(){var e=document;return!!(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)},ch=function(e,t){return e<400||t<225?5:e<640||t<360?0:e<960||t<540?1:e<1280||t<720?2:3},dh=function(){function e(t){var n=this;m(this,e),h(this,"adman",null),h(this,"initialVolume",1),h(this,"videoElement",null),h(this,"currentAdSection",null),h(this,"actions",null),h(this,"adsState",null),h(this,"uiState",null),h(this,"log",void 0),h(this,"events",{slotRequested$:new ir,started$:new ir,paused$:new ir,resumed$:new ir,ended$:new ir,skipped$:new ir,clicked$:new ir}),h(this,"loadAdman",(function(e){return new Promise((function(t,n){var i,r=function(){clearTimeout(i),delete window.admanAsyncInit,window.AdmanHTML?t():n()};(function(e,t,n){return new Promise((function(i,r){t.addEventListener("abort",(function(){u(),l.remove()}));var a,o=function(){u(),r()},s=function(){u(),i()},u=function(){a&&clearTimeout(a),l.removeEventListener("load",s),l.removeEventListener("error",o)};n&&(a=window.setTimeout(o,n));var l=document.createElement("script");l.addEventListener("load",s),l.addEventListener("error",o),l.src=e,document.head.appendChild(l)}))})("//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",e,2e3).then((function(){window.AdmanHTML?t():(window.admanAsyncInit=r,i=window.setTimeout(r,2e3))})).catch((function(){n()}))}))})),h(this,"onAdsReady",(function(){n.log({message:"ads ready"}),n.startPreroll()})),h(this,"onAdStarted",(function(e,t){ar(n.adsState),ar(n.uiState),ar(n.actions),n.log({message:"ad started, section: ".concat(e,", banner: ").concat(JSON.stringify(t))}),n.events.started$.next(e),t.muted&&(n.setVolume(0),n.actions.setMuted(!0),n.log({message:"ad muted start"}),zu(n.uiState.isMobile)&&n.uiState.mobileUnmuteButtonVisible.set(!0)),n.adsState.duration.set(t.duration),n.adsState.playbackState.set(zc.PLAYING),n.adsState.canSkip.set(t.allowClose),n.adsState.secondsToWatchBeforeSkip.set(t.allowCloseDelay)})),h(this,"onAdTimeRemained",(function(e){var t=e.currentTime;ar(n.adsState),n.adsState.position.set(t)})),h(this,"onAdPaused",(function(){ar(n.adsState),n.log({message:"ad paused"}),n.adsState.playbackState.set(zc.PAUSED)})),h(this,"onAdPlayed",(function(){ar(n.adsState),n.log({message:"ad played"}),n.adsState.playbackState.set(zc.PLAYING)})),h(this,"onAdMidrollPoint",(function(){ar(n.adman),ar(n.actions),n.log({message:"midroll point"}),n.actions.switchFromVideoToAds(),n.currentAdSection=Vc.Midroll,n.adman.start(Vc.Midroll)})),h(this,"onAdSkipped",(function(){n.log({message:"ad skipped"}),n.switchToVideo()})),h(this,"onAdClosed",(function(){n.log({message:"ad closed"}),n.switchToVideo()})),h(this,"onAdCompleted",(function(){n.log({message:"ad completed"}),n.events.ended$.next(),n.switchToVideo()})),h(this,"onAdClicked",(function(){var e;n.log({message:"ad clicked"}),null!==(e=n.videoElement)&&void 0!==e&&e.pause(),n.events.clicked$.next()})),h(this,"onAdError",(function(){n.log({message:"ad error"}),n.switchToVideo()})),this.log=t.createComponentLog("AdmanWrapper")}return y(e,[{key:"init",value:function(e,t,n){this.actions=e,this.adsState=t,this.uiState=n}},{key:"onAdmanLoadingError",value:function(){this.log({message:"adman loading error"}),this.switchToVideo(!0)}},{key:"initAdman",value:function(e){var t=e.width,n=e.height,i=e.isFullscreen,r=e.isAutoplay,a=e.adsContainer,o=e.adsVideoElement,s=e.slotId,u=e.params,l=void 0===u?{}:u,c=e.duration,d=e.previewParam,f={slot:s,wrapper:a,videoEl:o,videoQuality:n,params:re({dl:encodeURIComponent(window.location.href),autoplay:r,player_width:t,player_height:n,puid10:ch(t,n),puid11:i?0:1,preview:d,duration:c},l),browser:{mobile:!1}},p=new window.AdmanHTML;p.setDebug(!1),p.onReady(this.onAdsReady),p.onStarted(this.onAdStarted),p.onPlayed(this.onAdPlayed),p.onPaused(this.onAdPaused),p.adMidrollPoint(this.onAdMidrollPoint),p.onClosed(this.onAdClosed),p.onSkipped(this.onAdSkipped),p.onClicked(this.onAdClicked),p.onTimeRemained(this.onAdTimeRemained),p.onCompleted(this.onAdCompleted),p.onError(this.onAdError),p.init(f),this.adman=p,this.videoElement=o,this.events.slotRequested$.next(),this.log({message:"adman init, config: ".concat(JSON.stringify(f))})}},{key:"switchToVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==this.currentAdSection||e){ar(this.actions),ar(this.adsState),ar(this.uiState);var t=this.currentAdSection===Vc.Postroll;this.adsState.playbackState.set(zc.INACTIVE),this.currentAdSection=null,this.uiState.mobileUnmuteButtonVisible.set(!1),this.log({message:"switch to video, isPostroll: ".concat(t)}),t&&(this.adsState.postrollPassed.set(!0),this.log({message:"postroll passed"})),this.actions.switchFromAdsToVideo(!t)}else this.log({message:"switch to video, no currentAdSection. can't switch"})}},{key:"togglePlay",value:function(){ar(this.adsState),this.log({message:"toggle play"});var e=zu(this.adsState.playbackState);e===zc.PLAYING?this.pause():e===zc.PAUSED&&this.play()}},{key:"setInitialVolume",value:function(e){this.log({message:"set initial volume ".concat(e)}),this.initialVolume=e}},{key:"setVolume",value:function(e){var t;this.log({message:"set volume ".concat(e)}),null!==(t=this.adman)&&void 0!==t&&t.setVolume(e),this.videoElement&&(this.videoElement.volume=e)}},{key:"setFullscreen",value:function(e){var t;this.log({message:"set fullscreen ".concat(e)}),null===(t=this.adman)||void 0===t||t.setFullscreen(e)}},{key:"startPreroll",value:function(){ar(this.adman),this.log({message:"start preroll"}),this.setVolume(this.initialVolume),this.currentAdSection=Vc.Preroll,this.adman.start(Vc.Preroll)}},{key:"startPostroll",value:function(){ar(this.adman),ar(this.actions),this.log({message:"start postroll"}),this.actions.switchFromVideoToAds(),this.currentAdSection=Vc.Postroll,this.adman.start(Vc.Postroll)}},{key:"play",value:function(){ar(this.adman),this.log({message:"ad play"}),this.adman.resume(),this.events.resumed$.next()}},{key:"pause",value:function(){ar(this.adman),this.log({message:"ad pause"}),this.adman.pause(),this.events.paused$.next()}},{key:"skip",value:function(){ar(this.adman),this.log({message:"ad skip"}),this.adman.skip(),this.events.skipped$.next()}},{key:"setPosition",value:function(e,t){var n;null===(n=this.adman)||void 0===n||n.setPosition(Math.floor(e),Math.floor(t))}},{key:"destroy",value:function(){var e;this.log({message:"destroy"}),null===(e=this.adman)||void 0===e||e.destroy()}}]),e}(),fh=function(e){var t,n,i=e.videoId,r=e.albumId,a=e.autoplay,o=e.statPlace,u=e.callbacks,l=e.uiCallbacks,c=new vu,d=new rr,f=new dh(d),p=d.createComponentLog("Store");p({message:"create store"});var h,v=new Ru({movieId:i,albumId:r,place:o,autoplay:a,quality:Fl(c.info.currentQuality$.getValue()),contentType:Hl(c.info.currentFormat$.getValue()),cdnHostname:c.info.hostname$.getValue(),connectionType:ql(c.info.httpConnectionType$.getValue()),connectionReused:c.info.httpConnectionReused$.getValue()},{apiEnv:Zs.VK_ALIAS}),m=function(e,t,n){var i;return(new Zi).add(pr(e.events.started$,e.events.looped$).subscribe((function(){n.logStarted({position:e.info.position$.getValue()})}))).add(e.events.seeked$.subscribe((function(){n.logSeek()}))).add(e.events.willPause$.subscribe((function(){n.logPause({position:e.info.position$.getValue()})}))).add(e.events.willResume$.subscribe((function(){n.logPlay()}))).add(e.events.managedError$.subscribe((function(e){var t=e.id;n.logError({errorType:t})}))).add(e.events.fatalError$.subscribe((function(e){var t=e.id;n.logError({errorType:t})}))).add(e.events.inited$.subscribe((function(){n.logInited()}))).add(e.events.canplay$.subscribe((function(e){n.logReady({time:e})}))).add(e.events.firstBytes$.subscribe((function(e){n.logFirstBytes({time:e})}))).add(e.events.firstFrame$.subscribe((function(e){n.logFirstFrame({time:e})}))).add(e.events.watchCoverageRecord$.subscribe((function(e){n.logWatchCoverageRecord(e)}))).add(e.events.watchCoverageLive$.subscribe((function(e){n.logWatchCoverageLive(e)}))).add(e.info.isStalled$.subscribe((function(e){e?i=ur():(or(i)&&n.logEmptyBuffer({duration:ur()-i}),i=void 0)}))).add(e.events.ended$.subscribe((function(){var t=e.info.throughputEstimation$.getValue();or(t)&&n.logDownloadSpeed({speed:t/8})}))).add(e.info.hostname$.subscribe((function(e){n.updateContext({cdnHostname:e})}))).add(e.info.httpConnectionType$.subscribe((function(e){n.updateContext({connectionType:ql(e)})}))).add(e.info.httpConnectionReused$.subscribe((function(e){n.updateContext({connectionReused:e})}))).add(e.info.currentQuality$.subscribe((function(e){n.updateContext({quality:Fl(e)})}))).add(e.info.currentFormat$.subscribe((function(e){n.updateContext({contentType:Hl(e)})}))).add(e.info.chromecastState$.subscribe((function(e){n.updateContext({destination:e===ta.CONNECTED?tu.CHROMECAST:tu.SCREEN})}))).add(t.slotRequested$.subscribe((function(){n.logAdSlotRequest()}))).add(t.started$.subscribe((function(e){n.logAdStarted(e)}))).add(t.paused$.subscribe((function(){n.logAdPaused()}))).add(t.resumed$.subscribe((function(){n.logAdResumed()}))).add(t.ended$.subscribe((function(){n.logAdEnded()}))).add(t.skipped$.subscribe((function(){n.logAdSkipped()}))).add(t.clicked$.subscribe((function(){n.logAdClicked()})))}(c,f.events,v),g=function(){/ipad|iphone|ipod/.test(window.navigator.userAgent.toLowerCase())&&n&&function(e){var t=e;null!==t&&void 0!==t&&t.webkitExitFullscreen?null===t||void 0===t||t.webkitExitFullscreen():Promise.reject()}(n)},y=(new Zi).add(c.experimental.element$.subscribe((function(e){e&&(n=e,e.classList.add("player-media"))}))).add(c.events.ended$.subscribe((function(){var e;g(),null===(e=u.onEnded)||void 0===e||e.call(u)}))).add(c.events.started$.subscribe((function(e){var t;null!==(t=u.onStarted)&&void 0!==t&&t.call(u,e),l.onStarted(e)}))).add(c.events.willSeek$.subscribe((function(e){var t,n=e.from,i=e.to;null===(t=u.onSeek)||void 0===t||t.call(u,n,i)}))).add(c.info.position$.subscribe((function(e){var t,n=c.info.duration$.getValue();null!==(t=u.onTimeupdate)&&void 0!==t&&t.call(u,n,e),f.setPosition(e,n)}))),b=new Zi,w=(new Zi).add(c.events.startAttempt$.subscribe((function(e){var t;null!==(t=u.onFirstStartAttempt)&&void 0!==t&&t.call(u,e),w.unsubscribe()}))),S=Il(c.info.position$.getValue(),(function(e){var t,n;return function i(){var r=c.info.playbackState$.getValue(),a=c.info.isLive$.getValue(),o=c.info.duration$.getValue(),s=c.info.position$.getValue();if([Jr.PLAYING,Jr.PAUSED].includes(r)){var u=a?s-o:c.getExactTime();u!==n&&e(u),n=u}t=requestAnimationFrame(i)}(),function(){return cancelAnimationFrame(t)}})),k=jl(c.info.playbackState$),E=jl(c.info.currentBuffer$),x=jl(c.info.isEnded$),T=jl(c.info.isLive$),$=jl(c.info.volume$),P=jl(c.info.muted$),A=jl(c.info.availableQualities$),C=jl(c.info.availableQualitiesFps$),_=jl(c.info.chromecastState$),R=jl(c.info.chromecastDeviceName$),L=jl(c.info.duration$),N=null,M=c.info.isBuffering$,I=Il(M.getValue(),(function(e){var t=M.subscribe((function(t){t&&null===N?N=window.setTimeout((function(){e(M.getValue()),N=null}),500):e(t)}));return function(){t.unsubscribe(),N&&clearTimeout(N)}})),D=Ol([L,T],(function(e){var t=s(e,2),n=t[0];return t[1]?-n:n})),O=Ol([T,jl(c.info.position$)],(function(e){var t=s(e,2),n=t[0],i=t[1];return Boolean(n&&i>-5)})),B=Ol([_],(function(e){return s(e,1)[0]===ta.CONNECTED})),V=Dl(void 0),z=jl(c.info.isAutoQualityEnabled$,(function(e){return e&&V.set(void 0)})),U=jl(c.info.currentQuality$,(function(){return V.set(void 0)})),F=Ol([V,U],(function(e){var t=s(e,2),n=t[0],i=t[1];return null!==n&&void 0!==n?n:i})),q=Ol([A,C,z,F],(function(e){var t,n=s(e,4),i=n[0],r=n[1],a=n[2],o=n[3],u=[{value:Oc.AUTO,displayValue:"\u0410\u0432\u0442\u043e",selected:a}],l=Hi(i.filter((function(e){return e!==da.INVARIANT})));try{for(l.s();!(t=l.n()).done;){var c=t.value,d=r[c];u.push({value:c,displayValue:"".concat(c).concat(d?rh(d):""),selected:!a&&c===o})}}catch(f){l.e(f)}finally{l.f()}return u})),H=jl(c.info.currentPlaybackRate$),j=Ol([H],(function(e){for(var t=s(e,1)[0],n=[],i=.25;i<=2;i+=.25)n.push({value:i,displayValue:1===i?"\u041e\u0431\u044b\u0447\u043d\u0430\u044f":i+"x",selected:t===i});return n})),W=Ol([E,D],(function(e,t){var n,i=s(e,2),r=i[0],a=i[1];return t((null!==(n=null===r||void 0===r?void 0:r.end)&&void 0!==n?n:0)/a)})),G=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!r,o=c.info.muted$.getValue();p({message:"set volume, volume: ".concat(e,", preferredVolume: ").concat(i,", internalCall: ").concat(a)}),c.setVolume(e),f.setVolume(e),a&&null!==(t=u.onVolumeChange)&&void 0!==t&&t.call(u,e),oh(i),o&&(c.setMuted(!1),a&&null!==(n=u.onUnmute)&&void 0!==n&&n.call(u),uh(!1))},Y=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!i,a=c.info.volume$.getValue();if(p({message:"set muted, currentVolume: ".concat(a,", mute: ").concat(e,", internalCall: ").concat(r)}),c.setMuted(e),f.setVolume(e?0:a),uh(e),r&&(e?null===(t=u.onMute)||void 0===t||t.call(u):null===(n=u.onUnmute)||void 0===n||n.call(u)),0===a){var o,s=sh();0===s&&oh(s=.05),c.setVolume(s),f.setVolume(s),r&&(null===(o=u.onVolumeChange)||void 0===o||o.call(u,s))}},Q=function(e){if(p({message:"seek to time, time: ".concat(e)}),c.info.isLive$.getValue()){var t=c.info.duration$.getValue(),n=Math.min(0,t+e);c.seekTime(n)}else c.seekTime(e)},K=function(e){p({message:"seek to percent, percent: ".concat(e)});var t=zu(D)*e;Q(t)},X=Dl(void 0),J=!1,Z=Dl(!1),ee=function(e){X.set(e)},te=function(){X.set(void 0),Z.set(!1)},ne=function e(){var t;clearTimeout(h),h=window.setTimeout((function(){te()}),500),null===(t=n)||void 0===t||t.removeEventListener("canplay",e)},ie=Ol([S,D,X],(function(e,t){var n=s(e,3),i=n[0],r=n[1],a=n[2];t(or(a)?a*r:i)})),re=function(e){var t;ar(oe);var n=!e;if(zu(oe.playerPhase)===Bc.Ads)return p({message:"pause ads, internalCall: ".concat(n)}),void f.pause();p({message:"pause video, internalCall: ".concat(n)}),n&&null!==(t=u.onPause)&&void 0!==t&&t.call(u),c.pause()},ae=function(e,t){ar(oe),p({message:"first start, show ads: ".concat(e,", internalCall: ").concat(!t)}),e?oe.playerPhase.set(Bc.Ads):(oe.playerPhase.set(Bc.Video),t?c.play():oe.actions.internal.togglePlay())},oe={initVideo:function(e){p({message:"init video, config: ".concat(JSON.stringify(e))}),c.initVideo(e),t=e},playerPhase:Dl(Bc.Thumb),state:{positionExact$:S,positionWithScrubbing$:ie,duration$:D,playbackState$:k,isLoaderVisible:I,bufferedProgress$:W,isLive$:T,isActiveLive$:O,isEnded$:x,muted$:P,volume$:$,currentQuality$:F,isAutoQualityEnabled$:z,availableQualities$:q,currentPlaybackRate$:H,availablePlaybackRates$:j,chromecastState$:_,chromecastDeviceName$:R,chromecastConnected$:B,currentFormat$:c.info.currentFormat$},ui:{controlsVisible:Dl(!1),isFullscreen:Dl(!1),isAutoplay:Dl(!1),contextMenuVisible:Dl(!1),debugPanelVisible:Dl(!1),playerSize:Dl({width:0,height:0}),isMobile:Dl(!1),mobileUnmuteButtonExpanded:Dl(!1),mobileUnmuteButtonVisible:Dl(!1),settingsMenuVisible:Dl(!1),scrubbingInProgress:Z},ads:{position:Dl(0),duration:Dl(0),playbackState:Dl(zc.INACTIVE),canSkip:Dl(!1),secondsToWatchBeforeSkip:Dl(0),postrollPassed:Dl(!1)},actions:{internal:{firstStart:function(e){return ae(e,!1)},pause:function(){return re(!1)},togglePlay:function(){var e,t;ar(oe),p({message:"toggle play"}),zu(oe.playerPhase)!==Bc.Ads?c.info.playbackState$.getValue()!==Jr.PLAYING?(c.info.isEnded$.getValue()&&(p({message:"toggle play, video ended, seek to 0"}),c.seekTime(0)),p({message:"toggle play, call player.play"}),c.play(),null===(e=u.onPlay)||void 0===e||e.call(u)):(p({message:"toggle play, call player.pause"}),c.pause(),null===(t=u.onPause)||void 0===t||t.call(u)):f.togglePlay()},toggleMuted:function(){p({message:"toggle muted"});var e=c.info.muted$.getValue(),t=c.info.volume$.getValue();Y(!(0===t||e))},setVolume:G,setQuality:function(e){p({message:"set quality, quality: ".concat(e)}),c.setAutoQuality(e===Oc.AUTO),e!==Oc.AUTO&&(V.set(e),c.setQuality(e))},setPlaybackRate:function(e){c.setPlaybackRate(e)},startScrubbing:function(e){p({message:"start scrubbing, progress: ".concat(e)}),J=c.info.playbackState$.getValue()===Jr.PLAYING,c.pause(),K(e),Z.set(!0),ee(e)},progressScrubbing:ee,completeScrubbing:function(e){var t;p({message:"complete scrubbing, progress: ".concat(e)}),K(e),J&&(p({message:"progress scrubbing, play after scrubbing"}),c.play()),zu(oe.ui.isMobile)&&c.info.currentFormat$.getValue()===Zr.HLS?null===(t=n)||void 0===t||t.addEventListener("canplay",ne):te(),J=!1},toggleChromecast:function(){p({message:"toggle chromecast"}),c.toggleChromecast()},switchToActiveLive:function(){p({message:"switch to active live"}),c.seekTime(0)},switchFromAdsToVideo:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ar(oe),p({message:"switch from ads to video, callPlay: ".concat(e)}),oe.playerPhase.set(Bc.Video),e&&c.play()},switchFromVideoToAds:function(){ar(oe),p({message:"switch from video to ads"}),oe.actions.internal.pause(),g(),oe.playerPhase.set(Bc.Ads)},skipAd:function(){return f.skip()},getDebugTextData:function(){return ar(oe),function(e,t,n){var i,r=[],a=e.info,o=zu(n.ui.playerSize),s=o.width,u=o.height;return r.push(["Browser",navigator.userAgent]),r.push(["Content host",a.hostname$.getValue()]),r.push(["Connection type",a.httpConnectionType$.getValue()+(a.httpConnectionReused$.getValue()?" (reused)":"")]),r.push(["Throughput estimation","".concat(null!==(i=a.throughputEstimation$.getValue())&&void 0!==i?i:0," Kbps @ ").concat(a.rttEstimation$.getValue()," ms RTT")]),r.push(["Media provider",a.currentFormat$.getValue()]),r.push(["Available URLs",Object.keys(t.sources).join(", ")]),r.push(["Quality",a.currentQuality$.getValue()]),r.push(["Available qualities",a.availableQualities$.getValue().join(", ")]),r.push(["Auto quality enabled",a.isAutoQualityEnabled$.getValue()]),r.push(["Position",zu(n.state.positionExact$)]),r.push(["Player playback state",a.playbackState$.getValue()]),r.push(["Player size","".concat(s,"x").concat(u)]),r.push(["URL",window.location.href]),r.push(["Application version","@vkontakte/videoplayer@1.1.4"]),r.map((function(e){return e.join(": ")})).join("\n")}(c,t,oe)},getDebugPanelData:function(){return ar(oe),function(e,t,n){var i=e.info,r=zu(n.ui.playerSize),a=r.width,o=r.height,s={version:"1.1.4",viewport:"".concat(a,"x").concat(o),volume:Math.round(100*zu(n.state.volume$))};i.currentFormat$.getValue()&&(s.provider=i.currentFormat$.getValue()),i.hostname$.getValue()&&(s.cdn=i.hostname$.getValue());var u=i.intrinsicVideoSize$.getValue();u&&(s.videoSize="".concat(u.width,"x").concat(u.height));var l=i.currentBuffer$.getValue();l&&(s.buffer=Math.max(l.end-zu(n.state.positionExact$),0));var c=i.throughputEstimation$.getValue();return c&&(s.speed=c),s}(c,0,oe)},getVideoElement:function(){return n},seekTime:function(e){return Q(e)},startLogging:function(){b.add(c.events.log$.subscribe((function(e){console.debug("%c sdk ","background:#9ddcf7;","sdk component: ".concat(e.component),e.message)}))).add(d.log$.subscribe((function(e){console.debug("%c ui ","background:#f3da0b;","ui component: ".concat(e.component,"."),e.message)})))},stopLogging:function(){b.unsubscribe()}},external:{firstStart:function(e){return ae(e,!0)},play:function(){return function(e){ar(oe);var t=!1;if(zu(oe.playerPhase)===Bc.Ads)return p({message:"play ads, internalCall: ".concat(t)}),void f.play();p({message:"play video, internalCall: ".concat(t)}),c.play()}()},pause:function(){return re(!0)},seekTime:function(e){return function(e){p({message:"seek external, time: ".concat(e)}),c.seekTime(c.info.isLive$.getValue()?-e:e)}(e)},setMuted:function(e){return Y(e,!0)},setVolume:function(e){return G(e,e,!0)}}},callbacks:u,getAdmanWrapper:function(){return f},getLogger:function(){return d},destroy:function(){v.destroy(),m.unsubscribe(),y.unsubscribe(),w.unsubscribe(),b.unsubscribe(),c.destroy(),f.destroy()}};return oe},ph=Pl.window;function hh(e){ju(e,"svelte-wkqjb",".player-wrapper.svelte-wkqjb{--white:#fff;--black:#000;--red:#ff3347;--videoplayer-controls-height:45px;--videoplayer-controls-fullscreen-height:50px;--videoplayer-controls-transition-duration:0.25s;--videoplayer-controls-transition-fn:cubic-bezier(0.455, 0.03, 0.515, 0.955);--videoplayer-focused-element-shadow:inset 0 0 0 2px #2a5885;--videoplayer-focused-slider-shadow:0 0 0 2px #2a5885;--videoplayer-big-play-size:75px;--videoplayer-big-play-radius:50%;--videoplayer-big-play-bg-color:rgba(0, 0, 0, 0.5);--videoplayer-big-play-hover-bg-color:rgba(0, 0, 0, 0.6);--videoplayer-big-play-icon-width:38px;--videoplayer-big-play-icon-height:33px;--videoplayer-slider-height:5px;--videoplayer-slider-radius:calc(var(--videoplayer-slider-height) / 2);--videoplayer-slider-handle-size:13px;--videoplayer-slider-bg:rgba(255, 255, 255, 0.4);--videoplayer-slider-loaded-bg:rgba(255, 255, 255, 0.4);--videoplayer-slider-filled-bg:var(--white);--videoplayer-slider-filled-active-live-bg:var(--red);--videoplayer-slider-filled-ads:rgba(103, 165, 235, 1);--videoplayer-slider-disabled-color:rgba(248, 248, 248, 0.31);--videplayer-mobile-settings-bg:#2C2D2E;--videoplayer-button-hover-transition:opacity 0.2s;position:relative;width:100%;height:100%;min-width:328px;min-height:206px;color:var(--white);font-size:12px;line-height:normal;overflow:hidden;outline:0;user-select:none;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif}.player-wrapper.svelte-wkqjb .player-media{position:absolute;left:0;top:0;width:100%;height:100%;background:var(--black);transition:transform 0.2s ease-in-out}.video-container.svelte-wkqjb,.ads-container.svelte-wkqjb{position:absolute;width:100%;height:100%;left:0;top:0}.video-container.svelte-wkqjb{z-index:0}.ads-container.svelte-wkqjb{background:var(--black)}.hidden.svelte-wkqjb{visibility:hidden}div{outline:none}")}function vh(e){var t,n,i,r;t=new ih({props:{side:"left",seekStep:Ah,handleSingleFirstClick:e[62],handleSecondClick:e[88]}});var a=!e[34]&&mh(e);return{c:function(){Al(t.$$.fragment),n=Ju(),a&&a.c(),i=Zu()},m:function(e,o){Cl(t,e,o),Wu(e,n,o),a&&a.m(e,o),Wu(e,i,o),r=!0},p:function(e,t){e[34]?a&&(El(),$l(a,1,1,(function(){a=null})),xl()):a?(a.p(e,t),8&t[1]&&Tl(a,1)):((a=mh(e)).c(),Tl(a,1),a.m(i.parentNode,i))},i:function(e){r||(Tl(t.$$.fragment,e),Tl(a),r=!0)},o:function(e){$l(t.$$.fragment,e),$l(a),r=!1},d:function(e){_l(t,e),e&&Gu(n),a&&a.d(e),e&&Gu(i)}}}function mh(e){var t,n;return t=new ih({props:{side:"right",seekStep:Ah,handleSingleFirstClick:e[62],handleSecondClick:e[89]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:Lu,i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function gh(e){var t,n,i;return n=new np({props:{adsSlotId:e[5],adsParams:e[6],adsPreviewParam:e[7],duration:e[8]}}),{c:function(){t=Qu("div"),Al(n.$$.fragment),nl(t,"class","ads-container svelte-wkqjb"),al(t,"hidden",e[21]!==Bc.Ads)},m:function(e,r){Wu(e,t,r),Cl(n,t,null),i=!0},p:function(e,i){var r={};32&i[0]&&(r.adsSlotId=e[5]),64&i[0]&&(r.adsParams=e[6]),128&i[0]&&(r.adsPreviewParam=e[7]),256&i[0]&&(r.duration=e[8]),n.$set(r),2097152&i[0]&&al(t,"hidden",e[21]!==Bc.Ads)},i:function(e){i||(Tl(n.$$.fragment,e),i=!0)},o:function(e){$l(n.$$.fragment,e),i=!1},d:function(e){e&&Gu(t),_l(n)}}}function yh(e){var t,n;return t=new op({props:{supportLink:e[3],visible:e[33],playerContainerRef:e[23],controlsContainerRef:e[25],x:e[27],y:e[28]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};8&n[0]&&(i.supportLink=e[3]),4&n[1]&&(i.visible=e[33]),8388608&n[0]&&(i.playerContainerRef=e[23]),33554432&n[0]&&(i.controlsContainerRef=e[25]),134217728&n[0]&&(i.x=e[27]),268435456&n[0]&&(i.y=e[28]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function bh(e){var t,n;return t=new $p({}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function wh(e){var t,n;return t=new Lf({}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Sh(e){var t,n,i,r,a=[Eh,kh],o=[];function s(e,t){return e[10]?0:1}return t=s(e),n=o[t]=a[t](e),{c:function(){n.c(),i=Zu()},m:function(e,n){o[t].m(e,n),Wu(e,i,n),r=!0},p:function(e,r){var u=t;(t=s(e))===u?o[t].p(e,r):(El(),$l(o[u],1,1,(function(){o[u]=null})),xl(),(n=o[t])?n.p(e,r):(n=o[t]=a[t](e)).c(),Tl(n,1),n.m(i.parentNode,i))},i:function(e){r||(Tl(n),r=!0)},o:function(e){$l(n),r=!1},d:function(e){o[t].d(e),e&&Gu(i)}}}function kh(e){var t,n;return t=new Vp({props:{title:e[14],thumb:e[15],playNextVideo:e[17]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};16384&n[0]&&(i.title=e[14]),32768&n[0]&&(i.thumb=e[15]),131072&n[0]&&(i.playNextVideo=e[17]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Eh(e){var t,n;return t=new Up({props:{playNextVideo:e[17]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};131072&n[0]&&(i.playNextVideo=e[17]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function xh(e){var t,n;return t=new jp({props:{title:e[0],isHidden:!e[31]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};1&n[0]&&(i.title=e[0]),1&n[1]&&(i.isHidden=!e[31]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function Th(e){var t,n;return t=new Kp({props:{thumbUrl:e[1],chromecastDeviceName:e[36]}}),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};2&n[0]&&(i.thumbUrl=e[1]),32&n[1]&&(i.chromecastDeviceName=e[36]),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(e){_l(t,e)}}}function $h(e){var t,n,i={toggleFullscreen:e[59],hideContextMenu:e[60],isAds:e[21]===Bc.Ads};return t=new Jp({props:i}),e[91](t),{c:function(){Al(t.$$.fragment)},m:function(e,i){Cl(t,e,i),n=!0},p:function(e,n){var i={};2097152&n[0]&&(i.isAds=e[21]===Bc.Ads),t.$set(i)},i:function(e){n||(Tl(t.$$.fragment,e),n=!0)},o:function(e){$l(t.$$.fragment,e),n=!1},d:function(n){e[91](null),_l(t,n)}}}function Ph(e){var t,n,i,r,a,o,s,u,l,c,d,f,p,h,v,m,g,y;n=new Cf({props:{hidden:e[21]!==Bc.Thumb,thumbUrl:e[1],startVideo:e[57]}});var b=e[10]&&vh(e),w=e[4]&&e[26]&&gh(e),S=!e[10]&&yh(e),k=e[35]&&e[21]===Bc.Video&&bh(),E=e[30]&&wh(),x=e[32]&&e[14]&&e[15]&&Sh(e),T=!e[10]&&e[21]===Bc.Video&&xh(e),$=e[20]&&Th(e),P=!e[10]&&$h(e);function A(t){e[92](t)}var C={hidden:e[21]===Bc.Thumb||e[10]&&e[21]===Bc.Ads,showControls:e[31],isAds:e[21]===Bc.Ads,canRewindLive:e[2]&&0!==e[22],logoClickable:e[9],showNextPrevButtons:e[11],nextButtonActive:e[12],prevButtonActive:e[13],isOneVideoPlaylist:e[16],supportLink:e[3],playNextVideo:e[17],playPrevVideo:e[18],repeatPlaylist:e[19],toggleFullscreen:e[59]};return void 0!==e[25]&&(C.controlsElementRef=e[25]),h=new Tf({props:C}),dl.push((function(){return function(e,t,n){var i=e.$$.props.controlsElementRef;void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}(h,0,A)})),{c:function(){t=Qu("div"),Al(n.$$.fragment),i=Ju(),r=Qu("div"),b&&b.c(),a=Ju(),w&&w.c(),o=Ju(),S&&S.c(),s=Ju(),k&&k.c(),u=Ju(),E&&E.c(),l=Ju(),x&&x.c(),c=Ju(),T&&T.c(),d=Ju(),$&&$.c(),f=Ju(),P&&P.c(),p=Ju(),Al(h.$$.fragment),nl(r,"class","video-container svelte-wkqjb"),al(r,"hidden",e[21]!==Bc.Video),nl(t,"class","player-wrapper svelte-wkqjb"),nl(t,"tabindex","0")},m:function(v,A){Wu(v,t,A),Cl(n,t,null),Hu(t,i),Hu(t,r),b&&b.m(r,null),e[90](r),Hu(t,a),w&&w.m(t,null),Hu(t,o),S&&S.m(t,null),Hu(t,s),k&&k.m(t,null),Hu(t,u),E&&E.m(t,null),Hu(t,l),x&&x.m(t,null),Hu(t,c),T&&T.m(t,null),Hu(t,d),$&&$.m(t,null),Hu(t,f),P&&P.m(t,null),Hu(t,p),Cl(h,t,null),e[93](t),m=!0,g||(y=[el(ph,"blur",e[60]),el(r,"contextmenu",tl(e[61])),el(r,"click",e[63]),el(t,"mouseenter",(function(){Du(e[10]?Lu:e[54])&&(e[10]?Lu:e[54]).apply(this,arguments)})),el(t,"mouseleave",(function(){Du(e[10]?Lu:e[55])&&(e[10]?Lu:e[55]).apply(this,arguments)})),el(t,"mousemove",(function(){Du(e[10]?Lu:e[56])&&(e[10]?Lu:e[56]).apply(this,arguments)})),el(t,"keydown",tl((function(){Du(e[10]?Lu:e[64])&&(e[10]?Lu:e[64]).apply(this,arguments)})))],g=!0)},p:function(i,a){e=i;var m={};2097152&a[0]&&(m.hidden=e[21]!==Bc.Thumb),2&a[0]&&(m.thumbUrl=e[1]),n.$set(m),e[10]?b?(b.p(e,a),1024&a[0]&&Tl(b,1)):((b=vh(e)).c(),Tl(b,1),b.m(r,null)):b&&(El(),$l(b,1,1,(function(){b=null})),xl()),2097152&a[0]&&al(r,"hidden",e[21]!==Bc.Video),e[4]&&e[26]?w?(w.p(e,a),67108880&a[0]&&Tl(w,1)):((w=gh(e)).c(),Tl(w,1),w.m(t,o)):w&&(El(),$l(w,1,1,(function(){w=null})),xl()),e[10]?S&&(El(),$l(S,1,1,(function(){S=null})),xl()):S?(S.p(e,a),1024&a[0]&&Tl(S,1)):((S=yh(e)).c(),Tl(S,1),S.m(t,s)),e[35]&&e[21]===Bc.Video?k?2097152&a[0]|16&a[1]&&Tl(k,1):((k=bh()).c(),Tl(k,1),k.m(t,u)):k&&(El(),$l(k,1,1,(function(){k=null})),xl()),e[30]?E?1073741824&a[0]&&Tl(E,1):((E=wh()).c(),Tl(E,1),E.m(t,l)):E&&(El(),$l(E,1,1,(function(){E=null})),xl()),e[32]&&e[14]&&e[15]?x?(x.p(e,a),49152&a[0]|2&a[1]&&Tl(x,1)):((x=Sh(e)).c(),Tl(x,1),x.m(t,c)):x&&(El(),$l(x,1,1,(function(){x=null})),xl()),e[10]||e[21]!==Bc.Video?T&&(El(),$l(T,1,1,(function(){T=null})),xl()):T?(T.p(e,a),2098176&a[0]&&Tl(T,1)):((T=xh(e)).c(),Tl(T,1),T.m(t,d)),e[20]?$?($.p(e,a),1048576&a[0]&&Tl($,1)):(($=Th(e)).c(),Tl($,1),$.m(t,f)):$&&(El(),$l($,1,1,(function(){$=null})),xl()),e[10]?P&&(El(),$l(P,1,1,(function(){P=null})),xl()):P?(P.p(e,a),1024&a[0]&&Tl(P,1)):((P=$h(e)).c(),Tl(P,1),P.m(t,p));var g,y={};2098176&a[0]&&(y.hidden=e[21]===Bc.Thumb||e[10]&&e[21]===Bc.Ads),1&a[1]&&(y.showControls=e[31]),2097152&a[0]&&(y.isAds=e[21]===Bc.Ads),4194308&a[0]&&(y.canRewindLive=e[2]&&0!==e[22]),512&a[0]&&(y.logoClickable=e[9]),2048&a[0]&&(y.showNextPrevButtons=e[11]),4096&a[0]&&(y.nextButtonActive=e[12]),8192&a[0]&&(y.prevButtonActive=e[13]),65536&a[0]&&(y.isOneVideoPlaylist=e[16]),8&a[0]&&(y.supportLink=e[3]),131072&a[0]&&(y.playNextVideo=e[17]),262144&a[0]&&(y.playPrevVideo=e[18]),524288&a[0]&&(y.repeatPlaylist=e[19]),!v&&33554432&a[0]&&(v=!0,y.controlsElementRef=e[25],g=function(){return v=!1},pl.push(g)),h.$set(y)},i:function(e){m||(Tl(n.$$.fragment,e),Tl(b),Tl(w),Tl(S),Tl(k),Tl(E),Tl(x),Tl(T),Tl($),Tl(P),Tl(h.$$.fragment,e),m=!0)},o:function(e){$l(n.$$.fragment,e),$l(b),$l(w),$l(S),$l(k),$l(E),$l(x),$l(T),$l($),$l(P),$l(h.$$.fragment,e),m=!1},d:function(i){i&&Gu(t),_l(n),b&&b.d(),e[90](null),w&&w.d(),S&&S.d(),k&&k.d(),E&&E.d(),x&&x.d(),T&&T.d(),$&&$.d(),P&&P.d(),_l(h),e[93](null),g=!1,Iu(y)}}}var Ah=15;function Ch(e,t,n){var i,r,a,o,s,u,l,c,d,f,p,h,v,m,g,y,b,w=t.sources,S=t.title,k=t.thumbUrl,E=t.unitedVideoId,x=t.albumId,T=t.statPlace,$=t.autoplay,P=void 0!==$&&$,A=t.volume,C=t.muted,_=t.fromTime,R=void 0===_?0:_,L=t.canRewindLive,N=void 0===L||L,M=t.supportLink,I=void 0===M?"https://vk.com/support?act=new&from=v":M,D=t.showAds,O=void 0!==D&&D,B=t.adsSlotId,V=t.adsParams,z=t.adsPreviewParam,U=t.duration,F=t.logoClickable,q=void 0!==F&&F,H=t.isMobile,j=void 0!==H&&H,W=t.showNextPrevButtons,G=void 0!==W&&W,Y=t.nextButtonActive,Q=void 0!==Y&&Y,K=t.prevButtonActive,X=void 0!==K&&K,J=t.endScreenVideoTitle,Z=t.endScreenVideoThumb,ee=t.isOneVideoPlaylist,te=void 0!==ee&&ee,ne=t.outerContainerRef,ie=t.playNextVideo,re=void 0===ie?Lu:ie,ae=t.playPrevVideo,oe=void 0===ae?Lu:ae,se=t.repeatPlaylist,ue=void 0===se?Lu:se,le=t.callbacks,ce=void 0===le?{}:le,de=fh({videoId:E,autoplay:P,albumId:x,statPlace:T,callbacks:ce,uiCallbacks:{onStarted:function(e){be.set(!0),e?j&&(Re.set(!0),_e.set(!0),window.setTimeout((function(){_e.set(!1)}),6e3)):Ge(2e3)}}});de.getAdmanWrapper().init({switchFromAdsToVideo:de.actions.internal.switchFromAdsToVideo,switchFromVideoToAds:de.actions.internal.switchFromVideoToAds,setMuted:de.actions.external.setMuted},de.ads,{isMobile:de.ui.isMobile,mobileUnmuteButtonVisible:de.ui.mobileUnmuteButtonVisible});var fe=de.getLogger().createComponentLog("Root component"),pe=de.state.playbackState$;Uu(e,pe,(function(e){return n(99,c=e)}));var he=de.ads.playbackState;Uu(e,he,(function(e){return n(86,h=e)}));var ve=de.state.positionWithScrubbing$;Uu(e,ve,(function(e){return n(97,u=e)}));var me=de.state.duration$;Uu(e,me,(function(e){return n(96,s=e)}));var ge=de.playerPhase;Uu(e,ge,(function(e){return n(21,v=e)}));var ye=de.ui.isFullscreen;Uu(e,ye,(function(e){return n(95,o=e)}));var be=de.ui.controlsVisible;Uu(e,be,(function(e){return n(83,a=e)}));var we=de.ui.settingsMenuVisible;Uu(e,we,(function(e){return n(98,l=e)}));var Se=de.ui.scrubbingInProgress;Uu(e,Se,(function(e){return n(84,d=e)}));var ke=de.ui.playerSize,Ee=de.ui.contextMenuVisible;Uu(e,Ee,(function(e){return n(33,r=e)}));var xe=de.ui.debugPanelVisible;Uu(e,xe,(function(e){return n(35,y=e)}));var Te=de.state.isLoaderVisible;Uu(e,Te,(function(e){return n(87,m=e)}));var $e=de.state.isEnded$;Uu(e,$e,(function(e){return n(82,i=e)}));var Pe=de.state.chromecastConnected$;Uu(e,Pe,(function(e){return n(20,p=e)}));var Ae=de.state.chromecastDeviceName$;Uu(e,Ae,(function(e){return n(36,b=e)}));var Ce=de.ads.postrollPassed;Uu(e,Ce,(function(e){return n(85,f=e)}));var _e=de.ui.mobileUnmuteButtonExpanded,Re=de.ui.mobileUnmuteButtonVisible,Le=de.state.isActiveLive$;Uu(e,Le,(function(e){return n(34,g=e)}));var Ne,Me,Ie,De,Oe=0;de.state.duration$.subscribe((function(e){n(22,Oe=e)})),function(e){var t,n;t=zl,n=e,sl().$$.context.set(t,n)}(de);var Be,Ve,ze,Ue,Fe=null,qe=!1,He=0,je=0,We=!1;function Ge(e){n(80,De=window.setTimeout((function(){if(c===Jr.PLAYING){if(j&&l)return;be.set(!1),we.set(!1)}}),e))}var Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(26,qe=!0),e?de.actions.external.firstStart(O):de.actions.internal.firstStart(O)};function Qe(e){de.actions.internal.seekTime(e)}ul((function(){var e;e=Je,document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),function(e){var t,n;ResizeObserver&&(Fe=new ResizeObserver(sa((function(e){var i=e[0];if(i){if(i.contentBoxSize){var r=Array.isArray(i.contentBoxSize)?i.contentBoxSize[0]:i.contentBoxSize;t=r.inlineSize,n=r.blockSize}else i.contentRect&&(t=i.contentRect.width,n=i.contentRect.height);ke.set({width:t,height:n})}}),300)),Fe.observe(e));ke.set({width:e.clientWidth,height:e.clientHeight})}(Ne),de.initVideo({container:Me,sources:w}),R>0&&de.actions.external.seekTime(R);var t=j?1:null!=A?A:sh(),n=null!=C?C:function(){var e=vp("vk_player_prefer_volume_mute");return"boolean"==typeof e&&e}();de.actions.external.setVolume(t),de.actions.external.setMuted(n),de.getAdmanWrapper().setInitialVolume(n?0:t),de.ui.isAutoplay.set(P),P&&Ye();var i=Boolean(vp("vk_player_debug_panel_opened"));return xe.set(i),function(){(function(e){document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)})(Je),null==Fe||Fe.disconnect(),de.destroy()}}));var Ke=function(e){var t=u+("forward"===e?Ah:-Ah);t<0?t=0:t>s&&(t=s-1),Qe(t)},Xe=function(){var e;lh()?((e=document).exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():Promise.reject(),fe({message:"exit fullscreen"})):(fe({message:"request fullscreen"}),function(e){if(e.requestFullscreen)return e.requestFullscreen();if(e.msRequestFullscreen)return e.msRequestFullscreen();if(e.webkitRequestFullscreen)return e.webkitRequestFullscreen();if(e.mozRequestFullScreen)return e.mozRequestFullScreen();var t=e.querySelector("video");null!==t&&void 0!==t&&t.webkitEnterFullscreen?t.webkitEnterFullscreen():Promise.reject()}(null!=ne?ne:Ne))},Je=function(){var e,t,n,i,r=lh();ye.set(r),de.getAdmanWrapper().setFullscreen(r),o?null===(t=(e=de.callbacks).onFullscreenEnter)||void 0===t||t.call(e):null===(i=(n=de.callbacks).onFullscreenExit)||void 0===i||i.call(n)},Ze=function(){return Ee.set(!1)},et=function(){a?be.set(!1):(be.set(!0),clearTimeout(De),Ge(3e3))};return e.$$set=function(e){"sources"in e&&n(65,w=e.sources),"title"in e&&n(0,S=e.title),"thumbUrl"in e&&n(1,k=e.thumbUrl),"unitedVideoId"in e&&n(66,E=e.unitedVideoId),"albumId"in e&&n(67,x=e.albumId),"statPlace"in e&&n(68,T=e.statPlace),"autoplay"in e&&n(69,P=e.autoplay),"volume"in e&&n(70,A=e.volume),"muted"in e&&n(71,C=e.muted),"fromTime"in e&&n(72,R=e.fromTime),"canRewindLive"in e&&n(2,N=e.canRewindLive),"supportLink"in e&&n(3,I=e.supportLink),"showAds"in e&&n(4,O=e.showAds),"adsSlotId"in e&&n(5,B=e.adsSlotId),"adsParams"in e&&n(6,V=e.adsParams),"adsPreviewParam"in e&&n(7,z=e.adsPreviewParam),"duration"in e&&n(8,U=e.duration),"logoClickable"in e&&n(9,q=e.logoClickable),"isMobile"in e&&n(10,j=e.isMobile),"showNextPrevButtons"in e&&n(11,G=e.showNextPrevButtons),"nextButtonActive"in e&&n(12,Q=e.nextButtonActive),"prevButtonActive"in e&&n(13,X=e.prevButtonActive),"endScreenVideoTitle"in e&&n(14,J=e.endScreenVideoTitle),"endScreenVideoThumb"in e&&n(15,Z=e.endScreenVideoThumb),"isOneVideoPlaylist"in e&&n(16,te=e.isOneVideoPlaylist),"outerContainerRef"in e&&n(73,ne=e.outerContainerRef),"playNextVideo"in e&&n(17,re=e.playNextVideo),"playPrevVideo"in e&&n(18,oe=e.playPrevVideo),"repeatPlaylist"in e&&n(19,ue=e.repeatPlaylist),"callbacks"in e&&n(74,ce=e.callbacks)},e.$$.update=function(){2097152&e.$$.dirty[0]|50331648&e.$$.dirty[2]&&n(30,Ve=v===Bc.Video&&m||v===Bc.Ads&&h===zc.INACTIVE),1048576&e.$$.dirty[0]|3145728&e.$$.dirty[2]&&n(31,ze=a||p||i),16&e.$$.dirty[0]|9437184&e.$$.dirty[2]&&n(32,Ue=(O&&f||!O)&&i),1024&e.$$.dirty[0]&&de.ui.isMobile.set(j),1024&e.$$.dirty[0]|4980736&e.$$.dirty[2]&&(We!==d&&j&&(clearTimeout(De),d?be.set(!0):Ge(3e3)),n(81,We=d))},[S,k,N,I,O,B,V,z,U,q,j,G,Q,X,J,Z,te,re,oe,ue,p,v,Oe,Ne,Me,Ie,qe,He,je,Be,Ve,ze,Ue,r,g,y,b,pe,he,ve,me,ge,ye,be,we,Se,Ee,xe,Te,$e,Pe,Ae,Ce,Le,function(){clearTimeout(De),be.set(!0)},function(){Ge(500)},function(){clearTimeout(De),be.set(!0),o&&Ie&&!function(e,t){var n,i,r,a,o;return!!e&&(null!==(n=null!==(i=null!==(r=null!==(a=null!==(o=e.matches)&&void 0!==o?o:e.matchesSelector)&&void 0!==a?a:e.mozMatchesSelector)&&void 0!==r?r:e.msMatchesSelector)&&void 0!==i?i:e.oMatchesSelector)&&void 0!==n?n:e.webkitMatchesSelector).call(e,":hover")}(Ie)&&Ge(3e3)},Ye,Ke,Xe,Ze,function(e){Ee.set(!0),n(27,He=e.clientX),n(28,je=e.clientY)},et,function(e){j?et():r?Ze():(Ze(),i||(de.actions.internal.togglePlay(),we.set(!1),2===e.detail&&(fe({message:"double click on video"}),Xe())))},function(e){Be.keyDownHandler(e)},w,E,x,T,P,A,C,R,ne,ce,function(){qe?de.actions.external.play():Ye(!0)},function(){de.actions.external.pause()},function(e){j||de.actions.external.setMuted(e)},function(e){j||e>=0&&e<=1&&de.actions.external.setVolume(e)},Qe,De,We,i,a,d,f,h,m,function(){return Ke("backward")},function(){return Ke("forward")},function(e){dl[e?"unshift":"push"]((function(){n(24,Me=e)}))},function(e){dl[e?"unshift":"push"]((function(){n(29,Be=e)}))},function(e){n(25,Ie=e)},function(e){dl[e?"unshift":"push"]((function(){n(23,Ne=e)}))}]}var _h=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Ch,Ph,Ou,{sources:65,title:0,thumbUrl:1,unitedVideoId:66,albumId:67,statPlace:68,autoplay:69,volume:70,muted:71,fromTime:72,canRewindLive:2,supportLink:3,showAds:4,adsSlotId:5,adsParams:6,adsPreviewParam:7,duration:8,logoClickable:9,isMobile:10,showNextPrevButtons:11,nextButtonActive:12,prevButtonActive:13,endScreenVideoTitle:14,endScreenVideoThumb:15,isOneVideoPlaylist:16,outerContainerRef:73,playNextVideo:17,playPrevVideo:18,repeatPlaylist:19,callbacks:74,play:75,pause:76,setMuted:77,setVolume:78,seekTime:79},hh,[-1,-1,-1,-1]),i}return y(n,[{key:"play",get:function(){return this.$$.ctx[75]}},{key:"pause",get:function(){return this.$$.ctx[76]}},{key:"setMuted",get:function(){return this.$$.ctx[77]}},{key:"setVolume",get:function(){return this.$$.ctx[78]}},{key:"seekTime",get:function(){return this.$$.ctx[79]}}]),n}(Nl);function Rh(e){ju(e,"svelte-1oqts7t",".playerStub.svelte-1oqts7t{width:100%;height:100%;background-color:#222;display:flex;justify-content:center;align-items:center;position:relative;background-position:center;background-size:cover;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif}.stubImage.svelte-1oqts7t{height:60px}.stubImage-white.svelte-1oqts7t{filter:brightness(0) invert(1)}.title.svelte-1oqts7t{position:absolute;left:0;top:0;width:100%;font-size:15px;color:#fff;box-sizing:border-box;padding:18px 20px 10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}")}function Lh(e){var t,n;return{c:function(){t=Qu("div"),n=Xu(e[0]),nl(t,"class","title svelte-1oqts7t")},m:function(e,i){Wu(e,t,i),Hu(t,n)},p:function(e,t){1&t&&il(n,e[0])},d:function(e){e&&Gu(t)}}}function Nh(e){var t;return{c:function(){Bu((t=Qu("img")).src,"data:image/svg+xml,%3csvg width='57' height='60' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M38.245 6c3.566 0 4.859.371 6.162 1.069a7.27 7.27 0 0 1 3.025 3.024c.697 1.303 1.068 2.597 1.068 6.163v23.489c0 3.566-.371 4.859-1.069 6.162a7.27 7.27 0 0 1-3.024 3.025C43.104 49.629 41.811 50 38.245 50h-19.49c-3.565 0-4.859-.371-6.162-1.069a7.27 7.27 0 0 1-3.024-3.024C8.87 44.604 8.5 43.311 8.5 39.745v-23.49c0-3.565.371-4.859 1.069-6.162a7.27 7.27 0 0 1 3.024-3.024C13.896 6.37 15.19 6 18.756 6h19.489zm.314 3H18.756c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11.5 39.744c0 2.799.186 3.761.714 4.749a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713zM19.22 38c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436zm-20-8c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436zm-20-8c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436zm-20-8c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436z' fill='%23909499'/%3e%3c/svg%3e")||nl(t,"src","data:image/svg+xml,%3csvg width='57' height='60' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M38.245 6c3.566 0 4.859.371 6.162 1.069a7.27 7.27 0 0 1 3.025 3.024c.697 1.303 1.068 2.597 1.068 6.163v23.489c0 3.566-.371 4.859-1.069 6.162a7.27 7.27 0 0 1-3.024 3.025C43.104 49.629 41.811 50 38.245 50h-19.49c-3.565 0-4.859-.371-6.162-1.069a7.27 7.27 0 0 1-3.024-3.024C8.87 44.604 8.5 43.311 8.5 39.745v-23.49c0-3.565.371-4.859 1.069-6.162a7.27 7.27 0 0 1 3.024-3.024C13.896 6.37 15.19 6 18.756 6h19.489zm.314 3H18.756c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11.5 39.744c0 2.799.186 3.761.714 4.749a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713zM19.22 38c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436zm-20-8c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436zm-20-8c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436zm-20-8c.445 0 .607.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.91.91 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134h1.436z' fill='%23909499'/%3e%3c/svg%3e"),nl(t,"class","stubImage svelte-1oqts7t"),nl(t,"alt",""),al(t,"stubImage-white",e[1])},m:function(e,n){Wu(e,t,n)},p:function(e,n){2&n&&al(t,"stubImage-white",e[1])},d:function(e){e&&Gu(t)}}}function Mh(e){var t,n,i,r=e[0]&&Lh(e),a=(!e[0]||!e[1])&&Nh(e);return{c:function(){t=Qu("div"),r&&r.c(),n=Ju(),a&&a.c(),nl(t,"class","playerStub svelte-1oqts7t"),nl(t,"style",i=e[1]?"background-image: url('".concat(e[1],"')"):"")},m:function(e,i){Wu(e,t,i),r&&r.m(t,null),Hu(t,n),a&&a.m(t,null)},p:function(e,o){var u=s(o,1)[0];e[0]?r?r.p(e,u):((r=Lh(e)).c(),r.m(t,n)):r&&(r.d(1),r=null),e[0]&&e[1]?a&&(a.d(1),a=null):a?a.p(e,u):((a=Nh(e)).c(),a.m(t,null)),2&u&&i!==(i=e[1]?"background-image: url('".concat(e[1],"')"):"")&&nl(t,"style",i)},i:Lu,o:Lu,d:function(e){e&&Gu(t),r&&r.d(),a&&a.d()}}}function Ih(e,t,n){var i=t.title,r=t.thumbUrl;return e.$$set=function(e){"title"in e&&n(0,i=e.title),"thumbUrl"in e&&n(1,r=e.thumbUrl)},[i,r]}var Dh=function(e){R(n,e);var t=I(n);function n(e){var i;return m(this,n),Ll(C(i=t.call(this)),e,Ih,Mh,Ou,{title:0,thumbUrl:1},Rh),i}return y(n)}(Nl),Oh=function(e){R(n,e);var t=I(n);function n(){var e,i,r;return m(this,n),h(C(r=t.call(this)),"svelteStubComponent",void 0),h(C(r),"svelteRootComponent",void 0),h(C(r),"_shadowRoot",void 0),h(C(r),"playerContainer",void 0),h(C(r),"currentPlayingVideoIndex",0),h(C(r),"needToRepeatPlaylist",!1),h(C(r),"config",void 0),h(C(r),"logger",void 0),h(C(r),"log",void 0),h(C(r),"subscription",void 0),r._shadowRoot=r.attachShadow({mode:"open"}),r.playerContainer=document.createElement("div"),r.playerContainer.style.width="100%",r.playerContainer.style.height="100%",r._shadowRoot.append(r.playerContainer),r.logger=new rr,r.log=r.logger.createComponentLog("VKVideoPlayer"),r.subscription=new Zi,(null===(e=window)||void 0===e||null===(i=e.videoPlayerConfig)||void 0===i?void 0:i.debugLogs)&&r.subscription.add(r.logger.log$.subscribe((function(e){console.log("%c player web component ","background:#77dd77;","".concat(e.component),e.message)}))),r}return y(n,[{key:"connectedCallback",value:function(){var e=this.getAttribute("stub-title"),t=this.getAttribute("stub-thumb-url");this.svelteStubComponent=new Dh({target:this.playerContainer,props:{title:e,thumbUrl:t}})}},{key:"disconnectedCallback",value:function(){var e,t;null!==(e=this.svelteRootComponent)&&void 0!==e&&e.$destroy(),null!==(t=this.svelteStubComponent)&&void 0!==t&&t.$destroy(),this.subscription.unsubscribe()}},{key:"needToShowNextPrevButtons",value:function(){return!!this.config&&this.config.videos.length>1}},{key:"isNextButtonActive",value:function(){return!!this.config&&this.needToShowNextPrevButtons()&&(this.currentPlayingVideoIndex<this.config.videos.length-1||this.needToRepeatPlaylist)}},{key:"isPrevButtonActive",value:function(){return!!this.config&&this.needToShowNextPrevButtons()&&(this.currentPlayingVideoIndex>0||this.needToRepeatPlaylist)}},{key:"getNextVideoInfo",value:function(){if(!this.config)return{nextVideoTitle:void 0,nextVideoThumb:void 0};var e=this.config.videos[this.currentPlayingVideoIndex+1]||{};return{nextVideoTitle:e.title,nextVideoThumb:e.thumbUrl}}},{key:"createPlayer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.config){var i=re(re({},this.config),n),r=i.albumId,a=i.statPlace,o=i.autoplay,s=i.volume,u=i.muted,l=i.fromTime,c=i.canRewindLive,d=i.supportLink,f=i.showAds,p=i.adsSlotId,h=i.adsParams,v=void 0===h?{}:h,m=i.adsPreviewParam,g=i.logoClickable,y=i.isMobile,b=i.callbacks,w=e.sources,S=e.title,k=e.thumbUrl,E=e.unitedVideoId,x=e.duration,T=e.adsParams,$=void 0===T?{}:T,P=re(re({},v),$),A=this.getNextVideoInfo(),C={sources:w,title:S,thumbUrl:k,unitedVideoId:E,albumId:r,statPlace:a,autoplay:o,muted:u,volume:s,fromTime:l,canRewindLive:c,supportLink:d,showAds:f,adsSlotId:p,adsParams:P,adsPreviewParam:m,duration:x,logoClickable:g,isMobile:y,showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive(),endScreenVideoTitle:A.nextVideoTitle,endScreenVideoThumb:A.nextVideoThumb,isOneVideoPlaylist:this.isOneVideoPlaylist()};this.log({message:"create player, props: ".concat(JSON.stringify(C))}),this.svelteRootComponent=new _h({target:this.playerContainer,props:{sources:w,title:S,thumbUrl:k,unitedVideoId:E,albumId:r,statPlace:a,autoplay:o,muted:u,volume:s,fromTime:l,canRewindLive:c,supportLink:d,showAds:f,adsSlotId:p,adsParams:P,adsPreviewParam:m,duration:x,logoClickable:g,isMobile:y,callbacks:b,outerContainerRef:this.playerContainer,showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive(),endScreenVideoTitle:A.nextVideoTitle,endScreenVideoThumb:A.nextVideoThumb,isOneVideoPlaylist:this.isOneVideoPlaylist(),playNextVideo:function(){return t.playNextVideo()},playPrevVideo:function(){return t.playPrevVideo()},repeatPlaylist:function(){return t.repeatPlaylist()}}})}}},{key:"playNextVideo",value:function(){this.config&&(this.currentPlayingVideoIndex++,this.currentPlayingVideoIndex>=this.config.videos.length&&(this.currentPlayingVideoIndex=0),this.log({message:"play next video, index: ".concat(this.currentPlayingVideoIndex)}),this.createPlayerWithCurrentVideo())}},{key:"playPrevVideo",value:function(){this.config&&(this.currentPlayingVideoIndex--,this.currentPlayingVideoIndex<0&&(this.currentPlayingVideoIndex=this.config.videos.length-1),this.log({message:"play prev video, index: ".concat(this.currentPlayingVideoIndex)}),this.createPlayerWithCurrentVideo())}},{key:"repeatPlaylist",value:function(){this.currentPlayingVideoIndex=0,this.log({message:"repeat playlist"}),this.createPlayerWithCurrentVideo()}},{key:"createPlayerWithCurrentVideo",value:function(){var e,t=this;if(this.config){var n=this.config.videos[this.currentPlayingVideoIndex];n?(null!==(e=this.svelteRootComponent)&&void 0!==e&&e.$destroy(),setTimeout((function(){return t.createPlayer(n,{autoplay:!0,fromTime:0})}),0)):this.log({message:"no next video"})}}},{key:"initPlayer",value:function(e){var t,n,i;if(!Array.isArray(e.videos)||0===e.videos.length)throw new Error("empty videos");this.config=JSON.parse(JSON.stringify(e)),this.config.callbacks=null!==(t=e.callbacks)&&void 0!==t?t:{},this.currentPlayingVideoIndex=0,null!==(n=this.svelteStubComponent)&&void 0!==n&&n.$destroy(),null!==(i=this.svelteRootComponent)&&void 0!==i&&i.$destroy(),this.createPlayer(e.videos[0])}},{key:"isOneVideoPlaylist",value:function(){return!!this.config&&1===this.config.videos.length}},{key:"updateNextVideos",value:function(e){var t,n;if(this.config){this.log({message:"update next videos, videos: ".concat(JSON.stringify(e))}),this.config.videos.splice(this.currentPlayingVideoIndex+1),(t=this.config.videos).push.apply(t,Et(e));var i=this.getNextVideoInfo();null===(n=this.svelteRootComponent)||void 0===n||n.$set({showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive(),endScreenVideoTitle:i.nextVideoTitle,endScreenVideoThumb:i.nextVideoThumb,isOneVideoPlaylist:this.isOneVideoPlaylist()})}}},{key:"play",value:function(){var e;this.log({message:"play"}),null===(e=this.svelteRootComponent)||void 0===e||e.play()}},{key:"pause",value:function(){var e;this.log({message:"pause"}),null===(e=this.svelteRootComponent)||void 0===e||e.pause()}},{key:"stop",value:function(){var e,t;if(this.config){this.log({message:"stop"}),null===(e=this.svelteStubComponent)||void 0===e||e.$destroy();var n=this.config.videos[0];n&&(null!==(t=this.svelteRootComponent)&&void 0!==t&&t.$destroy(),this.createPlayer(n))}}},{key:"setMuted",value:function(e){var t;this.log({message:"set muted, muted: ".concat(e)}),null===(t=this.svelteRootComponent)||void 0===t||t.setMuted(e)}},{key:"setVolume",value:function(e){var t;this.log({message:"set volume, volume: ".concat(e)}),null===(t=this.svelteRootComponent)||void 0===t||t.setVolume(e)}},{key:"setRepeat",value:function(e){var t;this.log({message:"set repeat, repeat: ".concat(e)}),this.needToRepeatPlaylist=e,null===(t=this.svelteRootComponent)||void 0===t||t.$set({showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive()})}},{key:"seekTime",value:function(e){var t;this.log({message:"seek time, time: ".concat(e)}),null===(t=this.svelteRootComponent)||void 0===t||t.seekTime(e)}}]),n}(qi(HTMLElement)),Bh=n(184);function Vh(t){var n=t.src,i=t.extraVideos,r=(0,e.useRef)(null),a=(0,e.useRef)(!1);return(0,e.useEffect)((function(){var e=r.current;if(e&&n&&!a.current){a.current=!0,console.log(e),console.log("INIT Player",n);try{e.initPlayer({videos:[{sources:{MPEG:{"720p":n}},duration:1e3,thumbUrl:"",title:"title",unitedVideoId:0}],autoplay:!0,repeat:!0,isMobile:!0,callbacks:{onEnded:function(){console.log("ENDED")},onStarted:function(){console.log("STARTED")}}})}catch(t){console.error("player.initPlayer error",t)}}}),[r,n,a]),(0,e.useEffect)((function(){var e=r.current;e&&null!==i&&void 0!==i&&i.length&&e.updateNextVideos(i)}),[i]),(0,Bh.jsx)("div",{className:"VideoPlayer",children:(0,Bh.jsx)("vk-video-player",{ref:r})})}window.customElements.get("vk-video-player")||window.customElements.get("google-cast-button")||window.customElements.define("vk-video-player",Oh);var zh=function(e){var t=e.id,n=e.go;return(0,Bh.jsxs)(it,{id:t,children:[(0,Bh.jsx)(gt,{children:"Example"}),(0,Bh.jsxs)(oi,{header:(0,Bh.jsx)(ii,{mode:"secondary",children:"Navigation Example"}),children:[(0,Bh.jsx)(ui,{children:(0,Bh.jsx)(Yn,{stretched:!0,size:"l",mode:"secondary",onClick:n,"data-to":"persik",children:"Show me the Persik, please"})}),(0,Bh.jsx)(ui,{children:(0,Bh.jsx)(Vh,{src:"https://vd344.mycdn.me/?expires=1662117356009&srcIp=85.209.1.9&pr=63&srcAg=CHROME_MAC&ms=185.226.53.60&type=3&sig=VmPqJnV867A&ct=0&urls=185.226.52.44&clientType=32&id=2763115989697"})})]})]})},Uh=n.p+"static/media/persik.ae9f00727841e011ac15.png",Fh=function(e){return(0,Bh.jsxs)(it,{id:e.id,children:[(0,Bh.jsx)(gt,{left:(0,Bh.jsx)(Li,{onClick:e.go,"data-to":"home"}),children:"Persik"}),(0,Bh.jsx)(oi,{children:(0,Bh.jsx)(Vh,{src:"https://media.lovina.vkpartner.ru/s0/story/46df808a444ecaedae5a79198af11fe71682800200/large.mp4"})}),(0,Bh.jsx)("img",{className:"Persik",src:Uh,alt:"Persik The Cat"})]})},qh=function(){var t=s((0,e.useState)("space_gray"),1)[0],n=s((0,e.useState)("home"),2),i=n[0],r=n[1],a=function(e){r(e.currentTarget.dataset.to)};return(0,Bh.jsx)(Ui,{scheme:t,children:(0,Bh.jsx)(Oi,{children:(0,Bh.jsx)(Di,{children:(0,Bh.jsx)(kt,{children:(0,Bh.jsx)(Ae,{children:(0,Bh.jsxs)(Xe,{activePanel:i,children:[(0,Bh.jsx)(zh,{id:"home",go:a}),(0,Bh.jsx)(Fh,{id:"persik",go:a})]})})})})})})};r().send("VKWebAppInit"),t.render((0,Bh.jsx)(qh,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.c94cfaeb.js.map