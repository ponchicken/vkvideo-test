{"ast":null,"code":"export var noop = function noop() {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle(fn) {\n  var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n  var scope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n  var last;\n  var deferTimer;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = scope;\n    var now = Date.now();\n\n    if (last && now < last + threshold) {\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\nexport function debounce(fn, delay) {\n  var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n  var timeout;\n  var args;\n\n  var later = function later() {\n    return fn.apply(context, args);\n  };\n\n  return function () {\n    for (var _len2 = arguments.length, a = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      a[_key2] = arguments[_key2];\n    }\n\n    args = a;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, delay);\n  };\n}","map":{"version":3,"mappings":"AAAA,OAAO,IAAMA,IAAI,GAAG,SAAPA,IAAO,GAAM,CAAnB,E,CAAuB;;AAE9B,OAAO,SAASC,QAAT,CAAmCC,EAAnC,EAAgG;EAAA,IAAhCC,SAAgC,uEAApB,EAAoB;EAAA,IAAhBC,KAAgB,uEAARC,MAAQ;EACrG,IAAIC,IAAJ;EACA,IAAIC,UAAJ;EAEA,OAAO,YAAqB;IAAA,kCAATC,IAAS;MAATA,IAAS,MAATA,GAASC,eAATD;IAAS;;IAC1B,IAAME,OAAO,GAAGN,KAAhB;IACA,IAAMO,GAAG,GAAGC,IAAI,CAACD,GAALC,EAAZ;;IAEA,IAAIN,IAAI,IAAIK,GAAG,GAAGL,IAAI,GAAGH,SAAzB,EAAoC;MAClCU,YAAY,CAACN,UAAD,CAAZM;MACAN,UAAU,GAAGO,UAAU,CAAC,YAAM;QAC5BR,IAAI,GAAGK,GAAPL;QACAJ,EAAE,CAACa,KAAHb,CAASQ,OAATR,EAAkBM,IAAlBN;MAFqB,GAGpBC,SAHoB,CAAvBI;IAFF,OAMO;MACLD,IAAI,GAAGK,GAAPL;MACAJ,EAAE,CAACa,KAAHb,CAASQ,OAATR,EAAkBM,IAAlBN;IACD;EAbH;AAeD;AAED,OAAO,SAASc,QAAT,CAAmCd,EAAnC,EAAgEe,KAAhE,EAAiG;EAAA,IAAlBP,OAAkB,uEAARL,MAAQ;EACtG,IAAIa,OAAJ;EACA,IAAIV,IAAJ;;EAEA,IAAMW,KAAK,GAAG,SAARA,KAAQ;IAAA,OAAMjB,EAAE,CAACa,KAAHb,CAASQ,OAATR,EAAkBM,IAAlBN,CAAN;EAAd;;EAEA,OAAO,YAAa;IAAA,mCAATkB,CAAS;MAATA,CAAS,OAATA,GAASX,gBAATW;IAAS;;IAClBZ,IAAI,GAAGY,CAAPZ;IACAK,YAAY,CAACK,OAAD,CAAZL;IACAK,OAAO,GAAGJ,UAAU,CAACK,KAAD,EAAQF,KAAR,CAApBC;EAHF;AAKD","names":["noop","throttle","fn","threshold","scope","window","last","deferTimer","args","arguments","context","now","Date","clearTimeout","setTimeout","apply","debounce","delay","timeout","later","a"],"sources":["/Users/al.balandin/code/vkvideo-test/node_modules/@vkontakte/vkui/node_modules/@vkontakte/vkjs/src/functions.ts"],"sourcesContent":["export const noop = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle<T extends any[]>(fn: (...args: T) => unknown, threshold = 50, scope = window) {\n  let last: number;\n  let deferTimer: ReturnType<typeof setTimeout>;\n\n  return function(...args: T) {\n    const context = scope;\n    const now = Date.now();\n\n    if (last && now < last + threshold) {\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(() => {\n        last = now;\n        fn.apply(context, args);\n      }, threshold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n\nexport function debounce<T extends any[]>(fn: (...args: T) => unknown, delay: number, context = window) {\n  let timeout: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n\n  return (...a: T) => {\n    args = a;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, delay);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}