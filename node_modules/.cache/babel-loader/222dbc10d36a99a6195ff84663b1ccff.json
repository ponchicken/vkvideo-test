{"ast":null,"code":"/**\n * @vkontakte/videoplayer-core v2.0.71\n * Wed, 21 Sep 2022 05:29:45 GMT\n * https://st.mycdn.me/static/vkontakte-videoplayer/2-0-71/doc/\n */\nimport { ValueSubject as t, Subject as e, Subscription as i, isNonNullable as s, isNullable as a, fromEvent as r, assertNever as n, merge as o, tap as d, map as h, observableFrom as u, filterChanged as c, assertNonNullable as l, debounce as p, timeout as m, filter as f, mapTo as g, now as S, Observable as b, once as v, combine as y, abortable as T, getExponentialDelay as E, interval as $, throttle as w, Logger as k } from '@vkontakte/videoplayer-shared/esnext.esm.js';\nexport { Observable, Subject, Subscription, ValueSubject } from '@vkontakte/videoplayer-shared/esnext.esm.js';\nimport A from 'lodash/debounce.js';\n\nvar P, R, D, _, C, I, L;\n\n!function (t) {\n  t.STOPPED = 'stopped', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(P || (P = {})), function (t) {\n  t.MPEG = 'MPEG', t.DASH = 'DASH', t.DASH_SEP = 'DASH_SEP', t.DASH_SEP_VK = 'DASH_SEP', t.DASH_WEBM = 'DASH_WEBM', t.DASH_WEBM_VK = 'DASH_WEBM', t.DASH_ONDEMAND = 'DASH_ONDEMAND', t.DASH_ONDEMAND_VK = 'DASH_ONDEMAND', t.DASH_LIVE = 'DASH_LIVE', t.DASH_LIVE_WEBM = 'DASH_LIVE_WEBM', t.HLS = 'HLS', t.HLS_ONDEMAND = 'HLS_ONDEMAND', t.HLS_JS = 'HLS', t.HLS_LIVE = 'HLS_LIVE', t.WEB_RTC_LIVE = 'WEB_RTC_LIVE';\n}(R || (R = {})), function (t) {\n  t.SCREEN = 'SCREEN', t.CHROMECAST = 'CHROMECAST';\n}(D || (D = {})), function (t) {\n  t.NOT_AVAILABLE = 'NOT_AVAILABLE', t.AVAILABLE = 'AVAILABLE', t.CONNECTING = 'CONNECTING', t.CONNECTED = 'CONNECTED';\n}(_ || (_ = {})), function (t) {\n  t.SuccessWithSound = 'success_with_sound', t.SuccessWithoutSound = 'success_without_sound', t.Failed = 'failed';\n}(C || (C = {})), function (t) {\n  t.HTTP1 = 'http1', t.HTTP2 = 'http2', t.QUIC = 'quic';\n}(I || (I = {})), function (t) {\n  t.None = 'none', t.Requested = 'requested', t.Applying = 'applying';\n}(L || (L = {}));\n\nclass x {\n  connection$ = new t(void 0);\n  castState$ = new t(_.NOT_AVAILABLE);\n  errorEvent$ = new e();\n  contentId;\n  realCastState$ = new t(_.NOT_AVAILABLE);\n  subscription = new i();\n  log;\n  params;\n\n  constructor(t) {\n    this.params = t, this.log = this.params.dependencies.logger.createComponentLog('ChromecastInitializer');\n    const e = ('chrome' in window);\n    if (this.log({\n      message: `[constructor] receiverApplicationId: ${this.params.receiverApplicationId}, isDisabled: ${this.params.isDisabled}, isSupported: ${e}`\n    }), t.isDisabled || !e) return;\n    var i;\n    s(window.chrome?.cast) ? this.initializeCastApi() : (window.__onGCastApiAvailable = t => {\n      t && this.initializeCastApi();\n    }, (i = 'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1', new Promise((t, e) => {\n      const s = document.createElement('script');\n      s.setAttribute('src', i), s.onload = () => t, s.onerror = () => e, document.body.appendChild(s);\n    })).catch(() => this.errorEvent$.next({\n      id: 'ChromecastLoading',\n      message: 'Script loading failed!'\n    })));\n  }\n\n  connect() {\n    cast.framework.CastContext.getInstance()?.requestSession();\n  }\n\n  disconnect() {\n    cast.framework.CastContext.getInstance()?.getCurrentSession()?.endSession(!0);\n  }\n\n  stopMedia() {\n    return new Promise((t, e) => {\n      cast.framework.CastContext.getInstance()?.getCurrentSession()?.getMediaSession()?.stop(new chrome.cast.media.StopRequest(), t, e);\n    });\n  }\n\n  toggleConnection() {\n    s(this.connection$.getValue()) ? this.disconnect() : this.connect();\n  }\n\n  setVolume(t) {\n    const e = this.connection$.getValue();\n    a(e) || (e.remotePlayer.volumeLevel = t, e.remotePlayerController.setVolumeLevel());\n  }\n\n  setMuted(t) {\n    const e = this.connection$.getValue();\n    a(e) || t !== e.remotePlayer.isMuted && e.remotePlayerController.muteOrUnmute();\n  }\n\n  destroy() {\n    this.subscription.unsubscribe();\n  }\n\n  initListeners() {\n    const t = new cast.framework.RemotePlayer(),\n          e = new cast.framework.RemotePlayerController(t),\n          i = cast.framework.CastContext.getInstance();\n    this.subscription.add(r(i, cast.framework.CastContextEventType.SESSION_STATE_CHANGED).subscribe(t => {\n      switch (t.sessionState) {\n        case cast.framework.SessionState.SESSION_STARTED:\n        case cast.framework.SessionState.SESSION_STARTING:\n        case cast.framework.SessionState.SESSION_RESUMED:\n          this.contentId = i.getCurrentSession()?.getMediaSession()?.media.contentId;\n          break;\n\n        case cast.framework.SessionState.NO_SESSION:\n        case cast.framework.SessionState.SESSION_ENDING:\n        case cast.framework.SessionState.SESSION_ENDED:\n        case cast.framework.SessionState.SESSION_START_FAILED:\n          this.contentId = void 0;\n          break;\n\n        default:\n          return n(t.sessionState);\n      }\n    })).add(o(r(i, cast.framework.CastContextEventType.CAST_STATE_CHANGED).pipe(d(t => {\n      this.log({\n        message: `[cast.framework.RemotePlayerEventType.CAST_STATE_CHANGED]: ${JSON.stringify(t)}`\n      });\n    }), h(t => t.castState)), u([i.getCastState()])).pipe(c(), h(N), d(t => {\n      this.log({\n        message: `realCastState$: ${t}`\n      });\n    })).subscribe(this.realCastState$)).add(this.realCastState$.subscribe(r => {\n      const n = r === _.CONNECTED,\n            o = s(this.connection$.getValue());\n\n      if (n && !o) {\n        const s = i.getCurrentSession();\n        l(s);\n        const r = s.getCastDevice(),\n              n = s.getMediaSession()?.media.contentId;\n        (a(n) || n === this.contentId) && (this.log({\n          message: 'connection created'\n        }), this.connection$.next({\n          remotePlayer: t,\n          remotePlayerController: e,\n          session: s,\n          castDevice: r\n        }));\n      } else !n && o && (this.log({\n        message: 'connection destroyed'\n      }), this.connection$.next(void 0));\n\n      this.castState$.next(r === _.CONNECTED ? s(this.connection$.getValue()) ? _.CONNECTED : _.AVAILABLE : r);\n    }));\n  }\n\n  initializeCastApi() {\n    let t, e, i;\n\n    try {\n      t = cast.framework.CastContext.getInstance(), e = chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID, i = chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;\n    } catch (t) {\n      return;\n    }\n\n    try {\n      t.setOptions({\n        receiverApplicationId: this.params.receiverApplicationId ?? e,\n        autoJoinPolicy: i\n      }), this.initListeners();\n    } catch (t) {\n      this.errorEvent$.next({\n        id: 'ChromecastInitializer',\n        message: '[initializeCastApi] failed',\n        thrown: t\n      });\n    }\n  }\n\n}\n\nconst N = t => {\n  switch (t) {\n    case cast.framework.CastState.NO_DEVICES_AVAILABLE:\n      return _.NOT_AVAILABLE;\n\n    case cast.framework.CastState.NOT_CONNECTED:\n      return _.AVAILABLE;\n\n    case cast.framework.CastState.CONNECTING:\n      return _.CONNECTING;\n\n    case cast.framework.CastState.CONNECTED:\n      return _.CONNECTED;\n\n    default:\n      return n(t);\n  }\n};\n\nvar B;\n!function (t) {\n  t[t.OFFSET_P = 0] = 'OFFSET_P', t[t.PLAYBACK_SHIFT = 1] = 'PLAYBACK_SHIFT';\n}(B || (B = {}));\n\nvar M,\n    O = function (t) {\n  let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : B.OFFSET_P;\n\n  switch (i) {\n    case B.OFFSET_P:\n      return t.replace('_offset_p', 0 === e ? '' : '_' + e.toFixed(0));\n\n    case B.PLAYBACK_SHIFT:\n      {\n        if (0 === e) return t;\n        const i = new URL(t);\n        return i.searchParams.append('playback_shift', e.toFixed(0)), i.toString();\n      }\n\n    default:\n      n(i);\n  }\n\n  return t;\n},\n    U = function (t, e) {\n  let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  const s = t.getTransition();\n  !i && s && s.to !== e || t.setState(e);\n};\n\n!function (t) {\n  t.INVARIANT = 'Invariant quality', t.Q_144P = '144p', t.Q_240P = '240p', t.Q_360P = '360p', t.Q_480P = '480p', t.Q_720P = '720p', t.Q_1080P = '1080p', t.Q_1440P = '1440p', t.Q_2160P = '2160p', t.Q_4320P = '4320p';\n}(M || (M = {}));\n\nconst V = {\n  [M.Q_144P]: {\n    width: 256,\n    height: 144\n  },\n  [M.Q_240P]: {\n    width: 428,\n    height: 240\n  },\n  [M.Q_360P]: {\n    width: 640,\n    height: 360\n  },\n  [M.Q_480P]: {\n    width: 856,\n    height: 480\n  },\n  [M.Q_720P]: {\n    width: 1280,\n    height: 720\n  },\n  [M.Q_1080P]: {\n    width: 1920,\n    height: 1080\n  },\n  [M.Q_1440P]: {\n    width: 2560,\n    height: 1440\n  },\n  [M.Q_2160P]: {\n    width: 3840,\n    height: 2160\n  },\n  [M.Q_4320P]: {\n    width: 7680,\n    height: 4320\n  }\n},\n      q = (t, e) => V[t].height > V[e].height,\n      F = (t, e) => V[t].height < V[e].height,\n      H = Object.keys(V).sort((t, e) => F(t, e) ? -1 : 1),\n      G = _ref => {\n  let {\n    width: t,\n    height: e\n  } = _ref;\n  const i = Math.min(t, e),\n        s = Math.max(t, e);\n  return H.find(t => {\n    const e = V[t];\n    return e.width >= s && e.height >= i;\n  });\n},\n      Y = t => t === M.INVARIANT;\n\nclass z {\n  state;\n  transition;\n  transitionStarted$ = new e();\n  transitionEnded$ = new e();\n  transitionUpdated$ = new e();\n  forceChanged$ = new e();\n  stateChangeStarted$ = o(this.transitionStarted$, this.transitionUpdated$);\n  stateChangeEnded$ = o(this.transitionEnded$, this.forceChanged$);\n\n  constructor(t) {\n    this.state = t;\n  }\n\n  setState(t) {\n    const e = this.transition,\n          i = this.state;\n    this.transition = void 0, this.state = t, e ? e.to === t ? this.transitionEnded$.next(e) : this.forceChanged$.next({\n      from: e.from,\n      to: t,\n      canceledTransition: e\n    }) : this.forceChanged$.next({\n      from: i,\n      to: t,\n      canceledTransition: e\n    });\n  }\n\n  startTransitionTo(t) {\n    const e = this.transition,\n          i = this.state;\n    i === t || s(e) && e.to === t || (this.state = t, e ? (this.transition = {\n      from: e.from,\n      to: t,\n      canceledTransition: e\n    }, this.transitionUpdated$.next(this.transition)) : (this.transition = {\n      from: i,\n      to: t\n    }, this.transitionStarted$.next(this.transition)));\n  }\n\n  getTransition() {\n    return this.transition;\n  }\n\n  getState() {\n    return this.state;\n  }\n\n}\n\nvar Q;\n!function (t) {\n  t.STOPPED = 'stopped', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(Q || (Q = {}));\n\nclass W {\n  subscription = new i();\n  loadMediaTimeoutSubscription = new i();\n  videoState = new z(Q.STOPPED);\n  params;\n  log;\n\n  constructor(t) {\n    this.params = t, this.log = this.params.dependencies.logger.createComponentLog('ChromecastProvider'), this.log({\n      message: `constructor, format: ${t.format}`\n    }), this.params.output.isLive$.next((t => {\n      switch (t) {\n        case R.MPEG:\n        case R.DASH:\n        case R.DASH_SEP:\n        case R.DASH_ONDEMAND:\n        case R.DASH_WEBM:\n        case R.HLS:\n        case R.HLS_ONDEMAND:\n          return !1;\n\n        case R.HLS_LIVE:\n        case R.DASH_LIVE:\n        case R.DASH_LIVE_WEBM:\n        case R.WEB_RTC_LIVE:\n          return !0;\n\n        default:\n          return n(t);\n      }\n    })(t.format)), this.handleRemoteVolumeChange({\n      volume: this.params.connection.remotePlayer.volumeLevel,\n      muted: this.params.connection.remotePlayer.isMuted\n    });\n    const e = this.params.connection.session.getMediaSession();\n    e && this.restoreSession(e), this.subscribe();\n  }\n\n  destroy() {\n    this.log({\n      message: '[destroy]'\n    }), this.subscription.unsubscribe();\n  }\n\n  subscribe() {\n    this.subscription.add(this.loadMediaTimeoutSubscription);\n    const t = new i();\n    this.subscription.add(t), this.subscription.add(o(this.videoState.stateChangeStarted$.pipe(h(t => `stateChangeStarted$ ${JSON.stringify(t)}`)), this.videoState.stateChangeEnded$.pipe(h(t => `stateChangeEnded$ ${JSON.stringify(t)}`))).subscribe(t => this.log({\n      message: `[videoState] ${t}`\n    })));\n\n    const s = (t, e) => this.subscription.add(t.subscribe(e));\n\n    if (this.params.output.isLive$.getValue()) this.params.output.position$.next(0), this.params.output.duration$.next(0);else {\n      const i = new e();\n      t.add(i.pipe(p(500)).subscribe(() => {\n        this.params.output.seekedEvent$.next();\n      }));\n      let s = NaN;\n      t.add(r(this.params.connection.remotePlayerController, cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED).subscribe(t => {\n        this.logRemoteEvent(t);\n        const e = t.value;\n        this.params.output.position$.next(e);\n        (this.params.desiredState.seekState.getState().state === L.Applying || Math.abs(e - s) > 5) && i.next(e), s = e;\n      })), t.add(r(this.params.connection.remotePlayerController, cast.framework.RemotePlayerEventType.DURATION_CHANGED).subscribe(t => {\n        this.logRemoteEvent(t), this.params.output.duration$.next(t.value);\n      }));\n    }\n    s(r(this.params.connection.remotePlayerController, cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED), e => {\n      this.logRemoteEvent(e), e.value ? this.handleRemoteReady() : (this.handleRemoteStop(), t.unsubscribe());\n    }), s(r(this.params.connection.remotePlayerController, cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED), t => {\n      this.logRemoteEvent(t), t.value ? this.handleRemotePause() : this.handleRemotePlay();\n    }), s(r(this.params.connection.remotePlayerController, cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED), t => {\n      this.logRemoteEvent(t);\n      const {\n        remotePlayer: e\n      } = this.params.connection,\n            i = t.value,\n            s = this.params.output.isBuffering$.getValue(),\n            a = i === chrome.cast.media.PlayerState.BUFFERING;\n\n      switch (s !== a && this.params.output.isBuffering$.next(a), i) {\n        case chrome.cast.media.PlayerState.IDLE:\n          !this.params.output.isLive$.getValue() && e.duration - e.currentTime < 5 && this.params.output.endedEvent$.next(), this.handleRemoteStop(), U(this.params.desiredState.playbackState, P.STOPPED);\n          break;\n\n        case chrome.cast.media.PlayerState.PAUSED:\n          this.handleRemotePause();\n          break;\n\n        case chrome.cast.media.PlayerState.PLAYING:\n          this.handleRemotePlay();\n          break;\n\n        case chrome.cast.media.PlayerState.BUFFERING:\n          break;\n\n        default:\n          n(i);\n      }\n    }), s(r(this.params.connection.remotePlayerController, cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED), t => {\n      this.logRemoteEvent(t), this.handleRemoteVolumeChange({\n        volume: t.value\n      });\n    }), s(r(this.params.connection.remotePlayerController, cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED), t => {\n      this.logRemoteEvent(t), this.handleRemoteVolumeChange({\n        muted: t.value\n      });\n    });\n    s(o(this.params.desiredState.playbackState.stateChangeStarted$, this.params.desiredState.seekState.stateChangeEnded$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0)), this.syncPlayback);\n  }\n\n  restoreSession(t) {\n    this.log({\n      message: 'restoreSession'\n    });\n    const {\n      remotePlayer: e\n    } = this.params.connection;\n\n    if (t.playerState !== chrome.cast.media.PlayerState.IDLE) {\n      e.isPaused ? (this.videoState.setState(Q.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED)) : (this.videoState.setState(Q.PLAYING), U(this.params.desiredState.playbackState, P.PLAYING));\n      const t = this.params.output.isLive$.getValue();\n      this.params.output.duration$.next(t ? 0 : e.duration), this.params.output.position$.next(t ? 0 : e.currentTime), this.params.desiredState.seekState.setState({\n        state: L.None\n      });\n    }\n  }\n\n  prepare() {\n    const t = this.params.format;\n    this.log({\n      message: `[prepare] format: ${t}`\n    });\n    const e = this.createMediaInfo(t),\n          i = this.createLoadRequest(e);\n    this.loadMedia(i);\n  }\n\n  handleRemotePause() {\n    const t = this.videoState.getState();\n    this.videoState.getTransition()?.to !== Q.PAUSED && t !== Q.PLAYING || (this.videoState.setState(Q.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED));\n  }\n\n  handleRemotePlay() {\n    const t = this.videoState.getState();\n    this.videoState.getTransition()?.to !== Q.PLAYING && t !== Q.PAUSED || (this.videoState.setState(Q.PLAYING), U(this.params.desiredState.playbackState, P.PLAYING));\n  }\n\n  handleRemoteReady() {\n    this.videoState.getTransition()?.to === Q.READY && this.videoState.setState(Q.READY);\n  }\n\n  handleRemoteStop() {\n    this.videoState.getState() !== Q.STOPPED && this.videoState.setState(Q.STOPPED);\n  }\n\n  handleRemoteVolumeChange(t) {\n    const e = this.params.output.volume$.getValue(),\n          i = {\n      volume: t.volume ?? e.volume,\n      muted: t.muted ?? e.muted\n    };\n    i.volume === e.volume && i.muted == i.muted || this.params.output.volume$.next(i);\n  }\n\n  seek(t) {\n    this.params.output.willSeekEvent$.next();\n    const {\n      remotePlayer: e,\n      remotePlayerController: i\n    } = this.params.connection;\n    e.currentTime = t, i.seek();\n  }\n\n  stop() {\n    const {\n      remotePlayerController: t\n    } = this.params.connection;\n    t.stop();\n  }\n\n  createMediaInfo(t) {\n    const e = this.params.source;\n    let i, a, r;\n\n    switch (t) {\n      case R.MPEG:\n        {\n          const s = e[t];\n          l(s);\n          const n = Object.keys(s).sort((t, e) => t === e ? 0 : t === M.INVARIANT ? 1 : e === M.INVARIANT ? -1 : F(t, e) ? 1 : -1)[0];\n          l(n);\n          const o = s[n];\n          l(o), i = o, a = 'video/mp4', r = chrome.cast.media.StreamType.BUFFERED;\n          break;\n        }\n\n      case R.HLS:\n      case R.HLS_ONDEMAND:\n        {\n          const s = e[t];\n          l(s), i = s.url, a = 'application/x-mpegurl', r = chrome.cast.media.StreamType.BUFFERED;\n          break;\n        }\n\n      case R.DASH_SEP:\n      case R.DASH_ONDEMAND:\n      case R.DASH_WEBM:\n        {\n          const s = e[t];\n          l(s), i = s.url, a = 'application/dash+xml', r = chrome.cast.media.StreamType.BUFFERED;\n          break;\n        }\n\n      case R.HLS_LIVE:\n        {\n          const s = e[t];\n          l(s), i = O(s.url), a = 'application/x-mpegurl', r = chrome.cast.media.StreamType.LIVE;\n          break;\n        }\n\n      case R.DASH:\n      case R.DASH_LIVE:\n      case R.WEB_RTC_LIVE:\n        {\n          const t = 'Unsupported format for Chromecast',\n                e = new Error(t);\n          throw this.params.output.error$.next({\n            id: 'ChromecastProvider.createMediaInfo()',\n            message: t,\n            thrown: e\n          }), e;\n        }\n\n      case R.DASH_LIVE_WEBM:\n        throw new Error('DASH_LIVE_WEBM is no longer supported');\n\n      default:\n        return n(t);\n    }\n\n    const o = new chrome.cast.media.MediaInfo(this.params.meta.videoId ?? i, a);\n    o.contentUrl = i, o.streamType = r, o.metadata = new chrome.cast.media.GenericMediaMetadata();\n    const {\n      title: d,\n      subtitle: h\n    } = this.params.meta;\n    return s(d) && (o.metadata.title = d), s(h) && (o.metadata.subtitle = h), o;\n  }\n\n  createLoadRequest(t) {\n    const e = new chrome.cast.media.LoadRequest(t);\n    e.autoplay = !1;\n    const i = this.params.desiredState.seekState.getState();\n    return i.state === L.Applying || i.state === L.Requested ? e.currentTime = this.params.output.isLive$.getValue() ? 0 : i.position / 1e3 : e.currentTime = 0, e;\n  }\n\n  loadMedia(t) {\n    const e = this.params.connection.session.loadMedia(t),\n          i = new Promise((t, e) => {\n      this.loadMediaTimeoutSubscription.add(m(7e3).subscribe(() => e('timeout(7000)')));\n    });\n    Promise.race([e, i]).then(() => {\n      this.log({\n        message: `[loadMedia] completed, format: ${this.params.format}`\n      });\n      this.params.desiredState.seekState.getState().state === L.Applying && this.params.output.seekedEvent$.next(), this.handleRemoteReady();\n    }, t => {\n      const e = `[prepare] loadMedia failed, format: ${this.params.format}, reason: ${t}`;\n      this.log({\n        message: e\n      }), this.params.output.error$.next({\n        id: 'ChromecastProvider.loadMedia',\n        message: e,\n        thrown: t\n      });\n    }).finally(() => {\n      this.loadMediaTimeoutSubscription.unsubscribe();\n    });\n  }\n\n  logRemoteEvent(t) {\n    this.log({\n      message: `[remoteEvent] ${JSON.stringify(t)}`\n    });\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.videoState.getTransition(),\n          i = this.params.desiredState.playbackState.getState(),\n          s = this.params.desiredState.playbackState.getTransition(),\n          a = this.params.desiredState.seekState.getState();\n\n    if (this.log({\n      message: `[syncPlayback] videoState: ${t}; videoTransition: ${JSON.stringify(e)}; desiredPlaybackState: ${i}; desiredPlaybackStateTransition: ${this.params.desiredState.playbackState.getTransition()}; seekState: ${JSON.stringify(a)};`\n    }), i !== P.STOPPED) {\n      if (!e) if (s?.to === P.PAUSED || a.state !== L.Requested || t === Q.STOPPED) switch (i) {\n        case P.PLAYING:\n          switch (t) {\n            case Q.PLAYING:\n              break;\n\n            case Q.PAUSED:\n            case Q.READY:\n              this.videoState.startTransitionTo(Q.PLAYING), this.params.connection.remotePlayerController.playOrPause();\n              break;\n\n            case Q.STOPPED:\n              this.videoState.startTransitionTo(Q.READY), this.prepare();\n              break;\n\n            default:\n              n(t);\n          }\n\n          break;\n\n        case P.PAUSED:\n          switch (t) {\n            case Q.PLAYING:\n              this.videoState.startTransitionTo(Q.PAUSED), this.params.connection.remotePlayerController.playOrPause();\n              break;\n\n            case Q.PAUSED:\n              break;\n\n            case Q.READY:\n              this.videoState.startTransitionTo(Q.PAUSED), this.videoState.setState(Q.PAUSED);\n              break;\n\n            case Q.STOPPED:\n              this.videoState.startTransitionTo(Q.READY), this.prepare();\n              break;\n\n            default:\n              n(t);\n          }\n\n          break;\n\n        default:\n          n(i);\n      } else this.seek(a.position);\n    } else t !== Q.STOPPED && (this.videoState.startTransitionTo(Q.STOPPED), this.stop());\n  };\n}\n\nclass j {\n  constructor() {\n    Object.defineProperty(this, 'listeners', {\n      value: {},\n      writable: !0,\n      configurable: !0\n    });\n  }\n\n  addEventListener(t, e, i) {\n    t in this.listeners || (this.listeners[t] = []), this.listeners[t].push({\n      callback: e,\n      options: i\n    });\n  }\n\n  removeEventListener(t, e) {\n    if (!(t in this.listeners)) return;\n    const i = this.listeners[t];\n\n    for (let t = 0, s = i.length; t < s; t++) if (i[t].callback === e) return void i.splice(t, 1);\n  }\n\n  dispatchEvent(t) {\n    if (!(t.type in this.listeners)) return;\n    const e = this.listeners[t.type].slice();\n\n    for (let i = 0, s = e.length; i < s; i++) {\n      const s = e[i];\n\n      try {\n        s.callback.call(this, t);\n      } catch (t) {\n        Promise.resolve().then(() => {\n          throw t;\n        });\n      }\n\n      s.options && s.options.once && this.removeEventListener(t.type, s.callback);\n    }\n\n    return !t.defaultPrevented;\n  }\n\n}\n\nclass J extends j {\n  constructor() {\n    super(), this.listeners || j.call(this), Object.defineProperty(this, 'aborted', {\n      value: !1,\n      writable: !0,\n      configurable: !0\n    }), Object.defineProperty(this, 'onabort', {\n      value: null,\n      writable: !0,\n      configurable: !0\n    });\n  }\n\n  toString() {\n    return '[object AbortSignal]';\n  }\n\n  dispatchEvent(t) {\n    'abort' === t.type && (this.aborted = !0, 'function' == typeof this.onabort && this.onabort.call(this, t)), super.dispatchEvent(t);\n  }\n\n}\n\nclass X {\n  constructor() {\n    Object.defineProperty(this, 'signal', {\n      value: new J(),\n      writable: !0,\n      configurable: !0\n    });\n  }\n\n  abort() {\n    let t;\n\n    try {\n      t = new Event('abort');\n    } catch (e) {\n      'undefined' != typeof document ? document.createEvent ? (t = document.createEvent('Event'), t.initEvent('abort', !1, !1)) : (t = document.createEventObject(), t.type = 'abort') : t = {\n        type: 'abort',\n        bubbles: !1,\n        cancelable: !1\n      };\n    }\n\n    this.signal.dispatchEvent(t);\n  }\n\n  toString() {\n    return '[object AbortController]';\n  }\n\n}\n\nfunction K(t) {\n  return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL ? (console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill'), !0) : 'function' == typeof t.Request && !t.Request.prototype.hasOwnProperty('signal') || !t.AbortController;\n}\n\n'undefined' != typeof Symbol && Symbol.toStringTag && (X.prototype[Symbol.toStringTag] = 'AbortController', J.prototype[Symbol.toStringTag] = 'AbortSignal');\nconst Z = K({\n  fetch: window.fetch,\n  Request: window.Request,\n  AbortController: window.AbortController\n}),\n      tt = Z ? function (t) {\n  'function' == typeof t && (t = {\n    fetch: t\n  });\n  const {\n    fetch: e,\n    Request: i = e.Request,\n    AbortController: s,\n    __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: a = !1\n  } = t;\n  if (!K({\n    fetch: e,\n    Request: i,\n    AbortController: s,\n    __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: a\n  })) return {\n    fetch: e,\n    Request: r\n  };\n  let r = i;\n  (r && !r.prototype.hasOwnProperty('signal') || a) && (r = function (t, e) {\n    let s;\n    e && e.signal && (s = e.signal, delete e.signal);\n    const a = new i(t, e);\n    return s && Object.defineProperty(a, 'signal', {\n      writable: !1,\n      enumerable: !1,\n      configurable: !0,\n      value: s\n    }), a;\n  }, r.prototype = i.prototype);\n  const n = e;\n  return {\n    fetch: (t, e) => {\n      const i = r && r.prototype.isPrototypeOf(t) ? t.signal : e ? e.signal : void 0;\n\n      if (i) {\n        let s;\n\n        try {\n          s = new DOMException('Aborted', 'AbortError');\n        } catch (t) {\n          s = new Error('Aborted'), s.name = 'AbortError';\n        }\n\n        if (i.aborted) return Promise.reject(s);\n        const a = new Promise((t, e) => {\n          i.addEventListener('abort', () => e(s), {\n            once: !0\n          });\n        });\n        return e && e.signal && delete e.signal, Promise.race([a, n(t, e)]);\n      }\n\n      return n(t, e);\n    },\n    Request: r\n  };\n}({\n  fetch: window.fetch,\n  Request: window.Request,\n  AbortController: window.AbortController\n}) : void 0,\n      et = Z ? tt.fetch : window.fetch;\nZ ? tt.Request : window.Request;\n\nconst it = Z ? X : window.AbortController,\n      st = t => t.range ? t.range.split('-').map(t => parseInt(t, 10)) : [NaN, NaN];\n\nclass at {\n  dashJsRequestQueue;\n  activeRequests;\n  dashMetrics;\n  params;\n\n  constructor(t) {\n    this.params = t, this.dashJsRequestQueue = new Map(), this.activeRequests = new Map();\n  }\n\n  setMetrics(t) {\n    this.dashMetrics = t;\n  }\n\n  queueDashJSRequest(t) {\n    const {\n      url: e\n    } = t.request,\n          i = this.dashJsRequestQueue.get(e) ?? [];\n    i.push(t), this.dashJsRequestQueue.set(e, i);\n  }\n\n  async executeNextRequests() {\n    for (const [t, e] of this.dashJsRequestQueue.entries()) {\n      const i = this.activeRequests.get(t);\n\n      if (i) {\n        e.length && this.onBigRequestProgress(i);\n        const s = e[0];\n        if (!s || !s.request.range) continue;\n        const [a, r] = st(s.request);\n        if (a >= i.from && r <= i.to) continue;\n        this.activeRequests.delete(t);\n      }\n\n      if (e.length) {\n        const i = this.sendBigRequest(t, e.map(_ref2 => {\n          let {\n            request: t\n          } = _ref2;\n          return t;\n        }));\n        this.activeRequests.set(t, i);\n      }\n    }\n  }\n\n  abort(t) {\n    if (t) {\n      const {\n        request: e\n      } = t,\n            i = (this.dashJsRequestQueue.get(e.url) ?? []).includes(t),\n            s = this.activeRequests.get(e.url);\n      i && s && s.abortController.abort();\n    } else for (const {\n      abortController: t\n    } of this.activeRequests.values()) t.abort();\n  }\n\n  destroy() {\n    this.abort(), this.dashMetrics = void 0, this.dashJsRequestQueue.clear(), this.activeRequests.clear();\n  }\n\n  sendBigRequest(t, e) {\n    const i = e.map(st),\n          s = i[0][0];\n    let a = i[0][1];\n\n    for (let t = 1; t < i.length && a < this.params.minDataSize; t++) {\n      const e = i[t][1];\n      e - s <= 2 * this.params.minDataSize && (a = Math.max(a, e));\n    }\n\n    a = 0 === s ? Math.max(a, s + this.params.minInitSize) : Math.max(a, s + this.params.minDataSize);\n    const r = new URL(t, location.href);\n    r.searchParams.append('bytes', `${s}-${a}`);\n    const n = r.toString(),\n          o = new it(),\n          d = o.signal,\n          h = {\n      url: t,\n      from: s,\n      to: a,\n      loaded: 0,\n      data: null,\n      abortController: o\n    };\n    d.addEventListener('abort', () => this.onBigRequestAbort(h));\n\n    const u = t => {\n      throw this.params.onError?.({\n        id: 'BigRequestParsing',\n        message: 'Error parsing response data',\n        thrown: t\n      }), t;\n    };\n\n    return et(n, {\n      signal: d\n    }).then(t => {\n      if (h.response = t, !t.ok || !t.body) return void this.onBigRequestError(h);\n      const [e, i] = t.body.tee();\n      this.params.onDownloadStream?.(i);\n      const r = e.getReader(),\n            n = parseInt(t.headers.get('Content-Length') ?? '', 10) || a - s + 1;\n      h.data = new ArrayBuffer(n);\n\n      const o = new Uint8Array(h.data),\n            d = async _ref3 => {\n        let {\n          done: t,\n          value: e\n        } = _ref3;\n        t ? this.onBigRequestProgress(h) : e && (o.set(e, h.loaded), h.loaded += e.byteLength, this.onBigRequestProgress(h), await r?.read().then(d, at.suppressStreamErrors).catch(u));\n      };\n\n      r?.read().then(d, at.suppressStreamErrors).catch(u);\n    }, at.suppressAbort).catch(t => this.onBigRequestError(h, t)), h;\n  }\n\n  onBigRequestProgress(_ref4) {\n    let {\n      url: t,\n      from: e,\n      to: i,\n      loaded: s,\n      data: a,\n      response: r\n    } = _ref4;\n    if (!this.activeRequests.has(t) || !a) return;\n    const n = this.dashJsRequestQueue.get(t) ?? [];\n\n    for (const o of n) {\n      const {\n        request: n\n      } = o,\n            [d, h] = st(n),\n            u = d >= e && h <= e + s,\n            c = e >= d && e + s < h,\n            l = a.slice(d - e, Math.min(h - e + 1, s));\n\n      if ((u || c) && (n.requestStartDate = n.requestStartDate ?? new Date(), n.firstByteDate = n.firstByteDate ?? new Date(), n.bytesLoaded = l.byteLength, n.bytesTotal = i - e), u) {\n        n.requestEndDate = new Date(), this.dashJsRequestQueue.set(t, (this.dashJsRequestQueue.get(t) ?? []).filter(t => t !== o)), o.success?.(l, '', t);\n        const e = r ? Array.from(r.headers.entries()).map(_ref5 => {\n          let [t, e] = _ref5;\n          return `${t}: ${e}`;\n        }).join('\\r\\n') : '';\n        this.dashMetrics?.addHttpRequest(n, t, r?.status ?? 200, e, []);\n      } else c && o.progress?.({\n        loaded: s,\n        total: i - e,\n        lengthComputable: !0,\n        stream: !0\n      });\n    }\n  }\n\n  onBigRequestError(_ref6, s) {\n    let {\n      url: t,\n      from: e,\n      to: i\n    } = _ref6;\n    if (this.params.onError?.({\n      id: 'BigRequest',\n      message: 'Download error',\n      thrown: s\n    }), !this.activeRequests.has(t)) return;\n    const a = this.dashJsRequestQueue.get(t) ?? [];\n\n    for (const t of a) {\n      const [a, r] = st(t.request);\n      (a >= e && a < i || r > e && r <= i) && t?.error?.(t.request, String(s));\n    }\n\n    if (this.activeRequests.delete(t), s) throw s;\n  }\n\n  onBigRequestAbort(_ref7) {\n    let {\n      url: t,\n      from: e,\n      to: i\n    } = _ref7;\n    if (!this.activeRequests.has(t)) return;\n    const s = this.dashJsRequestQueue.get(t) ?? [];\n\n    for (const t of s) {\n      const [s, a] = st(t.request);\n      (s >= e && s < i || a > e && a <= i) && t?.abort?.(t.request);\n    }\n\n    this.activeRequests.delete(t);\n  }\n\n  static suppressAbort(t) {\n    if (!(t instanceof DOMException) || 'AbortError' !== t.name && 20 !== t.code) throw t;\n  }\n\n  static suppressStreamErrors() {}\n\n}\n\nclass rt {\n  baseLoader;\n  config;\n  bigRequest;\n\n  constructor(t, e, i) {\n    this.baseLoader = t, this.config = i, this.bigRequest = e, e.setMetrics(i.dashMetrics);\n  }\n\n  static shouldDelegateToBase(t) {\n    return 'download' !== t.action || 'text' === t.mediaType || !t.range || 'arraybuffer' !== t.responseType;\n  }\n\n  load(t) {\n    const {\n      request: e\n    } = t;\n    if (rt.shouldDelegateToBase(e)) return this.baseLoader.load(t);\n    this.bigRequest.queueDashJSRequest(t), this.bigRequest.executeNextRequests();\n  }\n\n  abort(t) {\n    if (!t) return this.baseLoader.abort(), void this.bigRequest.abort();\n    const {\n      request: e\n    } = t;\n    rt.shouldDelegateToBase(e) ? this.baseLoader.abort(t) : this.bigRequest.abort(t);\n  }\n\n}\n\nconst nt = (t, e) => {\n  const i = new at(e);\n  return t.extend('SchemeLoaderFactory', function () {\n    const {\n      parent: t\n    } = this,\n          e = t.getLoader;\n    return {\n      getLoader: t => ((t, e) => i => ({\n        create: s => {\n          const a = t(i).create(s);\n          return new rt(a, e, s);\n        }\n      }))(e(t), i)\n    };\n  }, !0), () => i.destroy();\n};\n\nvar ot = t => {\n  let e,\n      i = !1,\n      s = !1;\n  t.on('playbackTimeUpdated', _ref8 => {\n    let {\n      timeToEnd: t\n    } = _ref8;\n    s = t <= 3, i && s && e?.();\n  }), t.extend('MediaSourceController', function () {\n    const {\n      parent: t\n    } = this,\n          a = t.signalEndOfStream;\n    return {\n      signalEndOfStream: t => {\n        i = !0, e = () => a(t), i && s && e?.();\n      }\n    };\n  }, !0);\n},\n    dt = i => {\n  const a = new t(1 / 0),\n        r = new e(),\n        n = new t(void 0),\n        o = new t(void 0);\n  let d = NaN,\n      h = !1;\n  return i.extend('XHRLoader', function () {\n    const {\n      parent: t\n    } = this,\n          e = t.load.bind(t);\n    return {\n      load: function (t) {\n        if ('MPD' === t.request.type) {\n          const e = t.onload,\n                i = t.progress;\n          t.onload = function () {\n            return (t => {\n              const e = Object.fromEntries(t.getAllResponseHeaders().trim().split(/[\\n\\r]+/).map(t => t.split(': ')));\n\n              if ('x-playback-duration' in e || 'x-playback-duration-millis' in e) {\n                const e = parseInt(t.getResponseHeader('X-Playback-Duration') ?? '', 10),\n                      i = parseInt(t.getResponseHeader('X-Playback-Duration-Millis') ?? '', 10) ?? 1e3 * e ?? NaN;\n                s(i) && !isNaN(i) && a.next(i);\n              }\n\n              const i = e['x-delivery-type'] ?? I.HTTP1,\n                    r = {\n                1: !0,\n                0: !1\n              }[e['x-reused']] ?? void 0;\n              n.next(i), o.next(r);\n            })(this), e(...arguments);\n          }, t.progress = function () {\n            return this.readyState >= 2 && !h && (h = !0, r.next(Date.now() - d)), i(...arguments);\n          }, d = Date.now(), h = !1;\n        }\n\n        return e(t);\n      }\n    };\n  }, !0), {\n    playbackDuration$: a,\n    ping$: r,\n    connectionReused$: o,\n    connectionType$: n\n  };\n},\n    ht = t => {\n  const e = new URL(t);\n  return e.searchParams.set('quic', '1'), e.toString();\n},\n    ut = t => {\n  t.extend('HTTPLoader', function () {\n    const {\n      parent: t\n    } = this,\n          e = t.load;\n    return {\n      load: t => {\n        if (t.request && t.request.range) {\n          const [e, i] = t.request.range.split('-').map(t => parseInt(t, 10)),\n                s = new URL(t.request.url, location.href);\n          s.searchParams.append('bytes', `${e}-${i}`), t.request.url = s.toString(), t.request.range = void 0;\n        }\n\n        e(t);\n      }\n    };\n  }, !0);\n};\n\nconst ct = function (t, e, s) {\n  let {\n    equal: r = (t, e) => t === e,\n    changed$: n,\n    onError: o\n  } = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const d = t.getState(),\n        h = e(),\n        u = a(n),\n        c = new i();\n  return n && c.add(n.subscribe(e => {\n    const i = t.getState();\n    r(e, i) && t.setState(e);\n  }, o)), r(h, d) || (s(d), u && t.setState(d)), c.add(t.stateChangeStarted$.subscribe(e => {\n    s(e.to), u && t.setState(e.to);\n  }, o)), c;\n},\n      lt = (t, e, i) => ct(e, () => t.loop, e => {\n  s(e) && (t.loop = e);\n}, {\n  onError: i\n}),\n      pt = (t, e, i, a) => ct(e, () => ({\n  muted: t.muted,\n  volume: t.volume\n}), e => {\n  s(e) && (t.muted = e.muted, t.volume = e.volume);\n}, {\n  equal: (t, e) => t === e || t?.muted === e?.muted && t?.volume === e?.volume,\n  changed$: i,\n  onError: a\n}),\n      mt = (t, e, i, a) => ct(e, () => t.playbackRate, e => {\n  s(e) && (t.playbackRate = e);\n}, {\n  changed$: i,\n  onError: a\n}),\n      ft = (t, e) => {\n  if (t.id === e) return !0;\n  const [i, s, a] = e.split('|');\n  return t.language === s && t.label === a;\n};\n\nclass gt {\n  available$ = new e();\n  current$ = new t(void 0);\n  error$ = new e();\n  video;\n  cueSettings;\n  subscription = new i();\n  externalTracks = new Map();\n\n  connect(t, e, i) {\n    this.video = t, this.cueSettings = e.textTrackCuesSettings, this.subscribe();\n\n    const a = t => {\n      this.error$.next({\n        id: 'TextTracksManager',\n        message: 'Generic HtmlVideoTextTrackManager error',\n        thrown: t\n      });\n    };\n\n    this.subscription.add(this.available$.subscribe(i.availableTextTracks$)), this.subscription.add(this.current$.subscribe(i.currentTextTrack$)), this.subscription.add(this.error$.subscribe(i.error$)), this.subscription.add(ct(e.externalTextTracks, () => Object.values(this.externalTracks), t => {\n      s(t) && this.setExternal(t);\n    }, {\n      equal: (t, e) => s(t) && s(e) && t.length === e.length && t.every((_ref9, i) => {\n        let {\n          id: t\n        } = _ref9;\n        return t === e[i].id;\n      }),\n      changed$: this.available$.pipe(h(t => t.filter(_ref10 => {\n        let {\n          type: t\n        } = _ref10;\n        return 'external' === t;\n      }))),\n      onError: a\n    })), this.subscription.add(ct(e.currentTextTrack, () => {\n      if (this.video) return;\n      const t = this.htmlTextTracksAsArray().find(_ref11 => {\n        let {\n          mode: t\n        } = _ref11;\n        return 'showing' === t;\n      });\n      return t && this.htmlTextTrackToITextTrack(t).id;\n    }, t => this.select(t), {\n      changed$: this.current$,\n      onError: a\n    })), this.subscription.add(ct(e.textTrackCuesSettings, () => ({}), () => {\n      if (this.video) for (const t of this.htmlTextTracksAsArray()) this.applyCueSettings(t.cues), this.applyCueSettings(t.activeCues);\n    }));\n  }\n\n  subscribe() {\n    l(this.video);\n    const {\n      textTracks: t\n    } = this.video;\n    this.subscription.add(r(t, 'addtrack').subscribe(() => {\n      const t = this.current$.getValue();\n      this.select(t);\n    })), this.subscription.add(o(r(t, 'addtrack'), r(t, 'removetrack'), u(['init'])).pipe(h(() => this.htmlTextTracksAsArray().map(t => this.htmlTextTrackToITextTrack(t))), c((t, e) => t.length === e.length && t.every((_ref12, i) => {\n      let {\n        id: t\n      } = _ref12;\n      return t === e[i].id;\n    }))).subscribe(this.available$)), this.subscription.add(o(r(t, 'change'), u(['init'])).pipe(h(() => this.htmlTextTracksAsArray().find(_ref13 => {\n      let {\n        mode: t\n      } = _ref13;\n      return 'showing' === t;\n    })), h(t => t && this.htmlTextTrackToITextTrack(t).id), c()).subscribe(this.current$));\n\n    const e = t => this.applyCueSettings(t.target?.activeCues ?? null);\n\n    this.subscription.add(r(t, 'addtrack').subscribe(t => {\n      t.track?.addEventListener('cuechange', e);\n\n      const i = t => {\n        const e = t.target?.cues ?? null;\n        e && e.length && (this.applyCueSettings(t.target?.cues ?? null), t.target?.removeEventListener('cuechange', i));\n      };\n\n      t.track?.addEventListener('cuechange', i);\n    })), this.subscription.add(r(t, 'removetrack').subscribe(t => {\n      t.track?.removeEventListener('cuechange', e);\n    }));\n  }\n\n  applyCueSettings(t) {\n    if (!t || !t.length) return;\n    const e = this.cueSettings.getState();\n\n    for (const i of Array.from(t)) {\n      const t = i;\n      s(e.align) && (t.align = e.align), s(e.position) && (t.position = e.position), s(e.size) && (t.size = e.size), s(e.line) && (t.line = e.line);\n    }\n  }\n\n  htmlTextTracksAsArray() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n    l(this.video);\n    const e = [...this.video.textTracks];\n    return t ? e : e.filter(gt.isHealthyTrack);\n  }\n\n  htmlTextTrackToITextTrack(t) {\n    const {\n      language: e,\n      label: i\n    } = t,\n          s = '' !== t.id ? t.id : (t => ['__', t.language, t.label].join('|'))(t);\n    return this.externalTracks.has(s) ? {\n      id: s,\n      type: 'external',\n      language: e,\n      label: i,\n      url: this.externalTracks.get(s).url\n    } : {\n      id: s,\n      type: 'internal',\n      language: e,\n      label: i\n    };\n  }\n\n  static isHealthyTrack(t) {\n    return 'metadata' !== t.kind && ('' !== t.id || '' !== t.label || '' !== t.language);\n  }\n\n  setExternal(t) {\n    t.filter(_ref14 => {\n      let {\n        id: t\n      } = _ref14;\n      return !this.externalTracks.has(t);\n    }).forEach(t => this.attach(t)), Array.from(this.externalTracks.keys()).filter(e => !t.find(t => t.id === e)).forEach(t => this.detach(t));\n  }\n\n  select(t) {\n    l(this.video);\n\n    for (const e of this.htmlTextTracksAsArray(!0)) s(t) && ft(e, t) ? e.mode = 'showing' : e.mode = 'disabled';\n  }\n\n  destroy() {\n    if (this.subscription.unsubscribe(), this.video) for (const t of Array.from(this.video.getElementsByTagName('track'))) {\n      const e = t.getAttribute('id');\n      e && this.externalTracks.has(e) && this.video.removeChild(t);\n    }\n    this.externalTracks.clear();\n  }\n\n  attach(t) {\n    l(this.video);\n    const e = document.createElement('track');\n    e.setAttribute('src', t.url), e.setAttribute('id', t.id), t.label && e.setAttribute('label', t.label), t.language && e.setAttribute('srclang', t.language), this.externalTracks.set(t.id, t), this.video.appendChild(e);\n  }\n\n  detach(t) {\n    l(this.video);\n    const e = Array.prototype.find.call(this.video.getElementsByTagName('track'), e => e.getAttribute('id') === t);\n    e && this.video.removeChild(e), this.externalTracks.delete(t);\n  }\n\n}\n\nvar St = t => {\n  const e = document.createElement('video');\n  return e.setAttribute('crossorigin', 'anonymous'), e.setAttribute('playsinline', 'playsinline'), t.appendChild(e), e;\n};\n\nclass bt {\n  pausedTime = 0;\n  streamOffset = 0;\n  pauseTimestamp = 0;\n\n  getTotalPausedTime() {\n    return this.pausedTime + this.getCurrentPausedTime();\n  }\n\n  getCurrentPausedTime() {\n    return this.pauseTimestamp > 0 ? Date.now() - this.pauseTimestamp : 0;\n  }\n\n  getStreamOffset() {\n    return this.streamOffset;\n  }\n\n  getTotalOffset() {\n    return this.getTotalPausedTime() + this.streamOffset;\n  }\n\n  pause() {\n    0 === this.pauseTimestamp && (this.pauseTimestamp = Date.now());\n  }\n\n  resume() {\n    this.pauseTimestamp > 0 && (this.pausedTime += this.getCurrentPausedTime(), this.pauseTimestamp = 0);\n  }\n\n  resetTo(t) {\n    this.streamOffset = t, this.pauseTimestamp = 0, this.pausedTime = 0;\n  }\n\n}\n\nclass vt {\n  _buffer = [];\n  _source;\n\n  constructor(t) {\n    this._source = t;\n  }\n\n  fill() {\n    this._buffer = [];\n    const t = this._source.currentTime;\n\n    for (let e = 0, i = this._source.buffered.length; e < i; e++) {\n      let i = this._source.buffered.start(e);\n\n      const s = this._source.buffered.end(e);\n\n      i > t && i - t < 3 && (i = t), this._buffer.push({\n        from: i,\n        to: s,\n        i: e\n      });\n    }\n\n    return this._buffer.sort(function (t, e) {\n      return t.from - e.from;\n    }), this._buffer;\n  }\n\n  getByTime(t) {\n    return this._buffer.find(e => t >= e.from && t < e.to);\n  }\n\n  getNextWithGap(t, e) {\n    const i = this.getNext(t);\n    if (i && i.from - t.to < (e || 3)) return i;\n  }\n\n  getNext(t) {\n    let e = this._buffer.indexOf(t);\n\n    if (~e && this._buffer.length - 1 > e) return this._buffer[++e];\n  }\n\n  smartRemove(t, e, i) {\n    this._buffer.forEach(_ref15 => {\n      let {\n        from: s,\n        to: a\n      } = _ref15;\n      const r = s >= t && s < e,\n            n = a >= t && a < e;\n      r && n || (r ? i(e, a) : n ? i(s, t) : s < t && a > e ? (i(e, a), i(s, t)) : i(s, a));\n    });\n  }\n\n  destroy() {\n    this._buffer = [];\n  }\n\n}\n\nvar yt = function (t, e) {\n  let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n  let s = 0,\n      a = 0;\n\n  for (let r = 0; r < t.length; r++) {\n    const n = t.start(r),\n          o = t.end(r);\n\n    if (n <= e && e <= o) {\n      if (s = n, a = o, !i) return {\n        from: s,\n        to: a\n      };\n\n      for (let e = r - 1; e >= 0; e--) t.end(e) + i >= s && (s = t.start(e));\n\n      for (let e = r + 1; e < t.length; e++) t.start(e) - i <= a && (a = t.end(e));\n    }\n  }\n\n  return {\n    from: s,\n    to: a\n  };\n};\n\nconst Tt = t => {\n  const i = e => r(t, e).pipe(g(void 0)),\n        a = o(...['waiting', 'pause', 'canplay', 'play', 'canplaythrough', 'playing', 'seeking', 'seeked', 'ended'].map(e => r(t, e))).pipe(h(() => t.readyState < 3), c()),\n        n = o(r(t, 'progress'), r(t, 'timeupdate')).pipe(h(() => yt(t.buffered, t.currentTime))),\n        d = r(t, 'volumechange').pipe(p(0), h(() => ({\n    muted: t.muted,\n    volume: t.volume\n  }))),\n        u = r(t, 'ratechange').pipe(h(() => t.playbackRate)),\n        l = r(t, 'error').pipe(h(() => {\n    const e = t.error;\n    return {\n      id: e ? `MediaError#${e.code}` : 'HtmlVideoError',\n      message: e ? e.message : 'Error event from HTML video element'\n    };\n  })),\n        m = r(t, 'timeupdate').pipe(h(() => t.currentTime)),\n        S = new e();\n\n  let b;\n  return m.subscribe(e => {\n    t.loop && s(b) && s(e) && b >= t.duration - .3 && e <= .3 && S.next(b), b = e;\n  }), {\n    playing$: i('playing'),\n    pause$: i('pause').pipe(f(() => !t.error)),\n    canplay$: i('canplay'),\n    ended$: i('ended'),\n    looped$: S,\n    error$: l,\n    seeked$: i('seeked'),\n    seeking$: i('seeking'),\n    progress$: i('progress'),\n    loadStart$: i('loadstart'),\n    loadedMetadata$: i('loadedmetadata'),\n    loadedData$: i('loadeddata'),\n    timeUpdate$: m,\n    durationChange$: r(t, 'durationchange').pipe(h(() => t.duration)),\n    isBuffering$: a,\n    currentBuffer$: n,\n    volumeState$: d,\n    playbackRateState$: u\n  };\n},\n      Et = t => {\n  if (t.includes('/')) {\n    const e = t.split('/');\n    return parseInt(e[0]) / parseInt(e[1]);\n  }\n\n  return parseFloat(t);\n};\n\nlet $t = !1,\n    wt = {};\n\nconst kt = t => {\n  t(wt);\n},\n      At = (t, e) => {\n  $t && (wt.meta = wt.meta ?? {}, wt.meta[t] = e);\n};\n\nclass Pt {\n  name;\n\n  constructor(t) {\n    this.name = t;\n  }\n\n  next(t) {\n    if (!$t) return;\n    wt.series = wt.series ?? {};\n    const e = wt.series[this.name] ?? [];\n    e.push([Date.now(), t]), wt.series[this.name] = e;\n  }\n\n}\n\nconst Rt = new Pt('best_bitrate');\n\nclass Dt {\n  last;\n  history = {};\n\n  recordSelection(t) {\n    this.history[t.id] = S();\n  }\n\n  recordSwitch(t) {\n    this.last = t;\n  }\n\n  clear() {\n    this.last = void 0, this.history = {};\n  }\n\n}\n\nconst _t = (t, _ref16) => {\n  let {\n    container: e,\n    throughput: i,\n    tuning: r,\n    limits: n,\n    reserve: o = 0,\n    forwardBufferHealth: d,\n    playbackRate: h,\n    current: u,\n    history: c\n  } = _ref16;\n  const l = r.usePixelRatio ? window.devicePixelRatio ?? 1 : 1,\n        p = r.limitByContainer && e && e.width > 0 && e.height > 0 && {\n    width: e.width * l * r.containerSizeFactor,\n    height: e.height * l * r.containerSizeFactor\n  },\n        m = p && G(p),\n        f = r.considerPlaybackRate && s(h) ? h : 1,\n        g = t.filter(t => !Y(t.quality)).sort((t, e) => q(t.quality, e.quality) ? -1 : 1),\n        b = g.at(-1)?.quality,\n        v = g.at(0)?.quality,\n        y = a(n) || s(n.min) && s(n.max) && F(n.max, n.min) || s(n.min) && v && q(n.min, v) || s(n.max) && b && F(n.max, b),\n        T = f * (E = d ?? .5, $ = r.bitrateFactorAtEmptyBuffer, w = r.bitrateFactorAtFullBuffer, ($ - w) * Math.pow(2, -10 * E) + w);\n  var E, $, w;\n  const k = g.filter(t => {\n    const e = !m || F(t.quality, m),\n          h = !(s(i) && isFinite(i) && s(t.bitrate)) || i - o >= t.bitrate * T,\n          c = r.lazyQualitySwitch && s(r.minBufferToSwitchUp) && u && !Y(u.quality) && (d ?? 0) < r.minBufferToSwitchUp && q(t.quality, u.quality),\n          l = y || (a(n.max) || (p = t.quality, f = n.max, V[p].height <= V[f].height)) && (a(n.min) || ((t, e) => V[t].height >= V[e].height)(t.quality, n.min));\n\n    var p, f;\n    return e && h && !c && l;\n  })[0];\n  k && k.bitrate && Rt.next(k.bitrate);\n  const A = k ?? g[Math.ceil((g.length - 1) / 2)] ?? t[0],\n        P = A && c && c.history[A.id] && S() - c.history[A.id] <= r.trackCooldown && (!c.last || A.id !== c.last.id);\n\n  if (A?.id && c && !P && c.recordSelection(A), P && c?.last) {\n    const t = c.last;\n    return c?.recordSwitch(t), t;\n  }\n\n  return c?.recordSwitch(A), A;\n};\n\nvar Ct = t => new URL(t).hostname;\n\nconst It = function (t) {\n  let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n  return new b(i => {\n    const {\n      width: a,\n      height: r\n    } = t.getBoundingClientRect();\n    if (i.next({\n      width: a,\n      height: r\n    }), !window.ResizeObserver) return;\n    const n = new ResizeObserver(A(t => {\n      const e = t[0];\n      if (!e) return;\n      let a, r;\n      e.contentBoxSize && e.contentBoxSize[0] ? (r = e.contentBoxSize[0].blockSize, a = e.contentBoxSize[0].inlineSize) : e.contentRect && (a = e.contentRect.width, r = e.contentRect.height), s(a) && s(r) && i.next({\n        width: a,\n        height: r\n      });\n    }, e));\n    return n.observe(t), () => n.disconnect();\n  });\n},\n      Lt = {};\n\nvar xt;\n!function (t) {\n  t.DOWNLOADING_LIB = 'downloading_lib', t.STOPPED = 'stopped', t.STREAM_INITIALIZED = 'stream_initialized', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(xt || (xt = {}));\n\nconst Nt = (t, e) => new b(i => {\n  const s = t => i.next(t);\n\n  return t.on(e, s), () => t.off(e, s);\n});\n\nclass Bt {\n  subscription = new i();\n  videoState = new z(xt.DOWNLOADING_LIB);\n  video;\n  player;\n  params;\n  textTracksManager = new gt();\n  videoTracks = [];\n  frameRatesByFrameHeight = {};\n  isLive$ = new t(void 0);\n  maxSeekBackTime$ = new t(1 / 0);\n  availableFrom$ = new t(void 0);\n  elementSize$ = new t(void 0);\n  liveOffset = new bt();\n  destroyBigRequest;\n\n  constructor(t) {\n    this.video = St(t.container), this.params = t, this.params.output.element$.next(this.video), this.params.output.availableVideoTracks$.next([]), this.params.output.hostname$.next(Ct(this.params.source.url)), this.params.output.autoVideoTrackLimitingAvailable$.next(!0), this.loadDashJs();\n  }\n\n  loadDashJs() {\n    let t = !1;\n\n    const e = e => {\n      t || this.params.output.error$.next({\n        id: 'timeout' === e ? 'DashJSTimedOut' : 'DashJSLoadingError',\n        message: `Dash.js failed to load: ${e?.toString?.()}`,\n        thrown: e\n      }), t = !0;\n    },\n          i = window.setTimeout(() => e('timeout'), 5e3);\n\n    import('dashjs/dist/dash.mediaplayer.min.js').then(e => {\n      t || (Lt.MediaPlayer = e.MediaPlayer, Lt.Debug = e.Debug, this.init());\n    }, e).finally(() => {\n      window.clearTimeout(i), t = !0;\n    });\n  }\n\n  init() {\n    l(Lt.MediaPlayer, 'dashjs not loaded'), l(Lt.Debug, 'dashjs not loaded'), this.player = Lt.MediaPlayer().create(), this.player.updateSettings({\n      debug: {\n        logLevel: 3\n      },\n      streaming: {\n        buffer: {\n          fastSwitchEnabled: !0\n        },\n        abr: {\n          limitBitrateByPortal: this.params.tuning.autoTrackSelection.limitByContainer,\n          usePixelRatioInLimitBitrateByPortal: this.params.tuning.autoTrackSelection.usePixelRatio,\n          additionalAbrRules: {\n            insufficientBufferRule: !1\n          }\n        },\n        utcSynchronization: {\n          useManifestDateHeaderTimeSource: !0\n        }\n      }\n    }), this.player.registerCustomCapabilitiesFilter(t => (t.height && (this.frameRatesByFrameHeight[t.height] = t.frameRate ? Et(t.frameRate + '') : void 0), !0));\n    (this.params.format === R.DASH_WEBM || this.params.format === R.DASH_LIVE_WEBM) && this.params.tuning.useWebmBigRequest ? this.destroyBigRequest = nt(this.player, {\n      minInitSize: this.params.tuning.bigRequestMinInitSize,\n      minDataSize: this.params.tuning.bigRequestMinDataSize,\n      onError: t => this.params.output.error$.next(t),\n      onDownloadStream: t => this.params.dependencies.throughputEstimator.trackStream(t)\n    }) : this.params.tuning.stripRangeHeader && ut(this.player), ot(this.player), this.params.tuning.requestQuick && this.player.extend('RequestModifier', () => ({\n      modifyRequestURL: ht\n    }), !0), this.player.clearDefaultUTCTimingSources(), this.subscribe(), this.videoState.setState(xt.STOPPED);\n  }\n\n  subscribe() {\n    const {\n      output: t,\n      desiredState: e\n    } = this.params,\n          i = e => {\n      t.error$.next({\n        id: 'DashIFProvider',\n        message: 'DashIFProvider internal logic error',\n        thrown: e\n      });\n    },\n          r = (t, e) => this.subscription.add(t.subscribe(e, i));\n\n    r(It(this.video), this.elementSize$), r(Nt(this.player, 'error').pipe(h(t => ({\n      id: `DashJS#${'object' == typeof t.error ? t.error.code : t.error}`,\n      message: 'object' == typeof t.error ? t.error.message : void 0\n    }))), t.error$), r(Nt(this.player, 'playbackError').pipe(h(t => ({\n      id: 'DashJSPlayback',\n      message: t.error\n    }))), t.error$);\n    const n = Nt(this.player, 'qualityChangeRendered').pipe(f(_ref17 => {\n      let {\n        mediaType: t\n      } = _ref17;\n      return 'video' === t;\n    }), h(_ref18 => {\n      let {\n        newQuality: t\n      } = _ref18;\n      return this.videoTracks.find(_ref19 => {\n        let {\n          bitrateInfo: e\n        } = _ref19;\n        return e.qualityIndex === t;\n      })?.track;\n    }));\n    n.pipe(f(s)).subscribe(t.currentVideoTrack$), this.subscription.add(this.videoState.transitionEnded$.pipe(f(_ref20 => {\n      let {\n        to: t\n      } = _ref20;\n      return t === xt.STREAM_INITIALIZED;\n    }), v()).subscribe(() => {\n      this.subscription.add(ct(e.videoTrack, () => {\n        const t = this.player.getQualityFor('video');\n        return this.videoTracks.find(_ref21 => {\n          let {\n            bitrateInfo: e\n          } = _ref21;\n          return e.qualityIndex === t;\n        })?.track?.id;\n      }, t => {\n        if (a(t)) return;\n        const e = this.videoTracks.find(_ref22 => {\n          let {\n            track: e\n          } = _ref22;\n          return e.id === t;\n        })?.bitrateInfo;\n        e && this.player.setQualityFor('video', e.qualityIndex);\n      }, {\n        changed$: n.pipe(h(t => t?.id)),\n        onError: i\n      }));\n    }, i)), this.subscription.add(ct(e.autoVideoTrackSwitching, () => this.player.getSettings().streaming?.abr?.autoSwitchBitrate?.video, t => this.player.updateSettings({\n      streaming: {\n        abr: {\n          autoSwitchBitrate: {\n            video: t\n          }\n        }\n      }\n    }), {\n      onError: i\n    })), r(Nt(this.player, 'bufferStateChanged').pipe(f(_ref23 => {\n      let {\n        mediaType: t\n      } = _ref23;\n      return 'video' === t;\n    }), h(_ref24 => {\n      let {\n        state: t\n      } = _ref24;\n      return 'bufferStalled' === t;\n    })), t.isBuffering$), r(Nt(this.player, 'fragmentLoadingStarted'), _ref25 => {\n      let {\n        mediaType: e,\n        request: {\n          url: i\n        }\n      } = _ref25;\n      const s = this.player.getDashMetrics(),\n            a = s.getLatestFragmentRequestHeaderValueByID(e, 'X-Reused'),\n            r = s.getLatestFragmentRequestHeaderValueByID(e, 'X-Delivery-Type') ?? I.HTTP1,\n            n = {\n        1: !0,\n        0: !1\n      }[a] ?? void 0;\n      this.params.output.httpConnectionType$.next(r), this.params.output.httpConnectionReused$.next(n), t.hostname$.next(Ct(i));\n    }), r(Nt(this.player, 'streamInitialized'), _ref26 => {\n      let {\n        streamInfo: {\n          duration: e,\n          manifestInfo: {\n            isDynamic: i,\n            availableFrom: s\n          }\n        }\n      } = _ref26;\n      this.isLive$.next(i), this.availableFrom$.next(s.getTime()), i || t.duration$.next(e), this.videoTracks = [];\n      const a = this.player.getQualityFor('video');\n      let r;\n\n      for (const t of this.player.getBitrateInfoListFor('video')) {\n        const e = t.qualityIndex.toString(10),\n              i = G(t),\n              s = t.bitrate / 1e3,\n              n = {\n          width: t.width,\n          height: t.height\n        },\n              o = this.frameRatesByFrameHeight[t.height];\n\n        if (i) {\n          const d = {\n            id: e,\n            quality: i,\n            bitrate: s,\n            size: n,\n            fps: o\n          };\n          this.videoTracks.push({\n            track: d,\n            bitrateInfo: t\n          }), t.qualityIndex === a && (r = d);\n        }\n      }\n\n      t.availableVideoTracks$.next(this.videoTracks.map(_ref27 => {\n        let {\n          track: t\n        } = _ref27;\n        return t;\n      })), r && t.currentVideoTrack$.next(r), this.videoState.setState(xt.STREAM_INITIALIZED), this.videoState.startTransitionTo(xt.READY);\n    }), r(Nt(this.player, 'fragmentLoadingCompleted'), _ref28 => {\n      let {\n        request: t\n      } = _ref28;\n      if (!t.requestEndDate || !t.firstByteDate || !t.bytesLoaded) return;\n      const e = t.requestEndDate.getTime() - t.firstByteDate.getTime(),\n            i = t.bytesLoaded;\n      this.params.dependencies.throughputEstimator.addRawSpeed(i, e);\n    }), r(o(this.params.dependencies.throughputEstimator.throughput$, this.elementSize$, e.autoVideoTrackLimits.stateChangeEnded$), () => {\n      if (!this.params.desiredState.autoVideoTrackSwitching.getState() || !this.videoTracks.length) return;\n\n      const t = this.params.dependencies.throughputEstimator.throughput$.getValue(),\n            i = _t(this.videoTracks.map(_ref29 => {\n        let {\n          track: t\n        } = _ref29;\n        return t;\n      }), {\n        container: this.elementSize$.getValue(),\n        throughput: t,\n        tuning: this.params.tuning.autoTrackSelection,\n        limits: e.autoVideoTrackLimits.getState()\n      }),\n            s = this.videoTracks.find(_ref30 => {\n        let {\n          track: t\n        } = _ref30;\n        return t === i;\n      });\n\n      s?.bitrateInfo && this.player.setQualityFor('video', s?.bitrateInfo.qualityIndex, !1);\n    }), r(y({\n      maxSeekBackTime: this.maxSeekBackTime$,\n      isLive: this.isLive$.pipe(f(s))\n    }).pipe(f(_ref31 => {\n      let {\n        isLive: t\n      } = _ref31;\n      return t;\n    }), h(_ref32 => {\n      let {\n        maxSeekBackTime: t\n      } = _ref32;\n      return -t / 1e3;\n    })), this.params.output.duration$);\n    const d = Nt(this.player, 'playbackTimeUpdated').pipe(h(_ref33 => {\n      let {\n        time: t\n      } = _ref33;\n      return t ?? 0;\n    }));\n    r(y({\n      availableFrom: this.availableFrom$.pipe(f(s)),\n      currentTime: d\n    }), _ref34 => {\n      let {\n        availableFrom: t,\n        currentTime: e\n      } = _ref34;\n      return this.params.output.liveTime$.next(t + 1e3 * e);\n    }), r(d.pipe(f(() => !1 === this.isLive$.getValue())), t.position$), r(Nt(this.player, 'playbackSeeked'), () => t.seekedEvent$.next()), r(Nt(this.player, 'playbackEnded'), t.endedEvent$), r(Nt(this.player, 'playbackProgress').pipe(h(() => yt(this.video.buffered, this.video.currentTime))), t.currentBuffer$), r(Nt(this.player, 'playbackPlaying'), () => {\n      this.videoState.setState(xt.PLAYING), U(e.playbackState, P.PLAYING);\n    }), r(Nt(this.player, 'playbackNotAllowed'), () => {\n      this.player.isMuted() ? (this.player.setMute(!1), this.videoState.setState(xt.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED, !0)) : (this.player.setMute(!0), this.player.play());\n    }), r(Nt(this.player, 'playbackPaused'), () => {\n      this.videoState.setState(xt.PAUSED), U(e.playbackState, P.PAUSED);\n    }), r(Nt(this.player, 'canPlay'), () => {\n      this.videoState.getTransition()?.to === xt.READY && this.videoState.setState(xt.READY);\n    }), r(this.isLive$, t.isLive$), r(It(this.video), () => {\n      this.player.isReady() && this.player.updatePortalSize();\n    });\n    r(o(e.playbackState.stateChangeStarted$, e.seekState.stateChangeEnded$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0)), this.syncPlayback);\n    const {\n      playbackDuration$: c,\n      ping$: l,\n      connectionType$: m,\n      connectionReused$: S\n    } = dt(this.player);\n    r(m, this.params.output.httpConnectionType$), r(S, this.params.output.httpConnectionReused$), r(c, this.maxSeekBackTime$), r(l.pipe(v()), t.firstBytesEvent$), r(Nt(this.player, 'canPlay'), t.canplay$), this.params.tuning.flushShortLoopedBuffers && r(y({\n      isLive: this.isLive$,\n      isShort: t.duration$.pipe(h(t => t < 60))\n    }), _ref35 => {\n      let {\n        isLive: t,\n        isShort: e\n      } = _ref35;\n      const i = !t && e;\n      this.player.updateSettings({\n        streaming: {\n          buffer: {\n            flushBufferAtTrackSwitch: i\n          }\n        }\n      });\n    }), r(d.pipe(f(t => t > this.params.tuning.insufficientBufferRuleMargin), v()), () => this.player.updateSettings({\n      streaming: {\n        abr: {\n          additionalAbrRules: {\n            insufficientBufferRule: !0\n          }\n        }\n      }\n    })), this.textTracksManager.connect(this.video, e, t), this.subscription.add(Nt(this.player, 'manifestLoaded').pipe(v()).subscribe(() => {\n      this.subscription.add(Nt(this.player, 'playbackPlaying').pipe(v(), g(void 0)).subscribe(t.firstFrameEvent$, i));\n    }, i)), this.subscription.add(lt(this.video, e.isLooped, i));\n    const {\n      volumeState$: b,\n      looped$: T,\n      playbackRateState$: E\n    } = Tt(this.video);\n    this.subscription.add(pt(this.video, e.volume, b, i)), this.subscription.add(b.subscribe(t.volume$, i)), this.subscription.add(T.subscribe(t.loopedEvent$)), this.subscription.add(mt(this.video, e.playbackRate, E, i));\n  }\n\n  stop() {\n    this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.player.attachSource(null), this.player.attachView(null), this.player.initialize(), this.player.clearDefaultUTCTimingSources(), this.videoState.setState(xt.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0);\n  }\n\n  prepare() {\n    this.videoState.startTransitionTo(xt.STREAM_INITIALIZED), this.player.initialize(), this.player.clearDefaultUTCTimingSources(), this.player.attachView(this.video), this.player.attachSource(this.params.source.url);\n  }\n\n  seek(t) {\n    if (this.params.output.willSeekEvent$.next(), this.isLive$.getValue()) {\n      const e = -t,\n            i = e < this.maxSeekBackTime$.getValue() ? e : 0;\n      this.liveOffset.resetTo(i), this.params.output.position$.next(-i / 1e3);\n      const s = O(this.params.source.url, this.liveOffset.getTotalOffset() / 1e3, B.PLAYBACK_SHIFT);\n      this.player.attachSource(s);\n    } else this.player.seek(t / 1e3);\n  }\n\n  play() {\n    this.videoState.startTransitionTo(xt.PLAYING), this.player.play();\n  }\n\n  pause() {\n    this.videoState.startTransitionTo(xt.PAUSED), this.video.pause();\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.params.desiredState.playbackState.getState(),\n          i = this.params.desiredState.playbackState.getTransition(),\n          s = this.params.desiredState.seekState.getState(),\n          a = this.isLive$.getValue();\n    if (!this.videoState.getTransition() && t !== xt.DOWNLOADING_LIB && t !== xt.STREAM_INITIALIZED) switch (i?.to !== P.PAUSED && s.state === L.Requested && t !== xt.STOPPED && e !== P.STOPPED && (a ? this.seek(s.position - this.liveOffset.getTotalPausedTime()) : this.seek(s.position)), e) {\n      case P.STOPPED:\n        switch (t) {\n          case xt.STOPPED:\n            break;\n\n          case xt.PLAYING:\n          case xt.PAUSED:\n          case xt.READY:\n            this.stop();\n            break;\n\n          default:\n            n(t);\n        }\n\n        break;\n\n      case P.PLAYING:\n        switch (t) {\n          case xt.PLAYING:\n            break;\n\n          case xt.PAUSED:\n            a && (this.liveOffset.getTotalPausedTime() < this.params.config.maxPausedTime && this.liveOffset.getTotalOffset() < this.maxSeekBackTime$.getValue() ? (this.liveOffset.resume(), this.params.output.position$.next(-this.liveOffset.getTotalOffset() / 1e3)) : this.seek(-this.liveOffset.getTotalOffset())), this.play();\n            break;\n\n          case xt.READY:\n            this.play();\n            break;\n\n          case xt.STOPPED:\n            this.prepare();\n            break;\n\n          default:\n            n(t);\n        }\n\n        break;\n\n      case P.PAUSED:\n        switch (t) {\n          case xt.PLAYING:\n            this.pause(), this.liveOffset.pause();\n            break;\n\n          case xt.PAUSED:\n            break;\n\n          case xt.READY:\n            this.videoState.setState(xt.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED);\n            break;\n\n          case xt.STOPPED:\n            this.prepare();\n            break;\n\n          default:\n            n(t);\n        }\n\n        break;\n\n      default:\n        n(e);\n    }\n  };\n\n  destroy() {\n    this.subscription.unsubscribe(), this.textTracksManager.destroy();\n\n    try {\n      this.player?.destroy();\n    } catch (t) {}\n\n    this.video.remove(), this.params.output.element$.next(void 0), this.destroyBigRequest?.();\n  }\n\n}\n\nvar Mt = t => {\n  switch (t) {\n    case 'mobile':\n      return M.Q_144P;\n\n    case 'lowest':\n      return M.Q_240P;\n\n    case 'low':\n      return M.Q_360P;\n\n    case 'sd':\n    case 'medium':\n      return M.Q_480P;\n\n    case 'hd':\n    case 'high':\n      return M.Q_720P;\n\n    case 'fullhd':\n    case 'full':\n      return M.Q_1080P;\n\n    case 'quadhd':\n    case 'quad':\n      return M.Q_1440P;\n\n    case 'ultrahd':\n    case 'ultra':\n      return M.Q_2160P;\n  }\n},\n    Ot = async t => {\n  const e = t.muted;\n\n  try {\n    await t.play();\n  } catch (i) {\n    if (i instanceof DOMException && (20 === i.code || 'AbortError' === i.name)) return !1;\n    if (e) return console.warn(i), !1;\n    t.muted = !0;\n\n    try {\n      await t.play();\n    } catch (e) {\n      return t.muted = !1, console.warn(e), !1;\n    }\n  }\n\n  return !0;\n};\n\nfunction Ut() {\n  return S();\n}\n\nfunction Vt(t) {\n  return Ut() - t;\n}\n\nfunction qt(t) {\n  const e = t.split('/'),\n        i = e.slice(0, e.length - 1).join('/'),\n        s = /^([a-z]+:)?\\/\\//i;\n  return {\n    resolve: function (t, e) {\n      let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n      (t => s.test(t))(t) || (t.startsWith('/') || (t = '/' + t), t = i + t);\n      let r = t.indexOf('?') > -1 ? '&' : '?';\n      return a && (t += r + 'lowLat=1', r = '&'), e && (t += r + '_rnd=' + Math.floor(999999999 * Math.random())), t;\n    }\n  };\n}\n\nfunction Ft(t, e, i, a) {\n  const r = window.XMLHttpRequest;\n\n  let n,\n      o,\n      d,\n      h,\n      u,\n      c = !1,\n      p = 0,\n      m = !1,\n      f = 'arraybuffer',\n      g = 7e3,\n      S = 2e3,\n      b = () => {\n    if (c) return;\n    l(h);\n    const t = Vt(h);\n    let e;\n    if (t < S) return e = S - t, void setTimeout(b, e);\n    S *= 2, S > g && (S = g), o && o.abort(), o = new r(), y();\n  };\n\n  const v = () => {\n    if (!c) {\n      if (--p >= 0) return b(), void (a && a());\n      c = !0, u && u(), i && i();\n    }\n  },\n        y = () => {\n    h = Ut(), o = new r(), o.open('get', t);\n    let i,\n        s = 0,\n        a = 0;\n\n    const p = () => (l(h), Math.max(h, Math.max(i || 0, a || 0)));\n\n    if (n && o.addEventListener('progress', t => {\n      const e = Ut();\n      n.updateChunk && t.loaded > s && (n.updateChunk(p(), t.loaded - s), s = t.loaded, i = e);\n    }), d && (o.timeout = d, o.addEventListener('timeout', () => v())), o.addEventListener('load', () => {\n      if (c) return;\n      l(o);\n      const t = o.status;\n\n      if (t >= 200 && t < 300) {\n        if (o.response.byteLength && n) {\n          const t = o.response.byteLength - s;\n          t && n.updateChunk && n.updateChunk(p(), t);\n        }\n\n        u && u(), o && e(o.response);\n      } else v();\n    }), o.addEventListener('error', () => {\n      v();\n    }), m) {\n      const t = () => {\n        l(o), o.readyState === XMLHttpRequest.HEADERS_RECEIVED && (a = Ut(), o.removeEventListener('readystatechange', t));\n      };\n\n      o.addEventListener('readystatechange', t);\n    }\n\n    return o.responseType = f, o.send(), T;\n  },\n        T = {\n    withBitrateReporting: t => (n = t, T),\n    withParallel: t => (m = t, T),\n    withJSONResponse: () => (f = 'json', T),\n    withRetryCount: t => (p = t, T),\n    withRetryInterval: (t, e) => (s(t) && (S = t), s(e) && (g = e), T),\n    withTimeout: t => (d = t, T),\n    withFinally: t => (u = t, T),\n    send: y,\n    abort: () => {\n      o && (o.abort(), o = void 0), c = !0, u && u();\n    }\n  };\n\n  return T;\n}\n\nclass Ht {\n  intervals = [];\n  currentRate = 0;\n  logger;\n\n  constructor(t) {\n    this.logger = t;\n  }\n\n  _updateRate(t) {\n    let e = .2;\n    this.currentRate && (t < .1 * this.currentRate ? e = .8 : t < .5 * this.currentRate ? e = .5 : t < .7 * this.currentRate && (e = .3)), t = Math.max(1, Math.min(t, 104857600)), this.currentRate = this.currentRate ? this.currentRate * (1 - e) + t * e : t;\n  }\n\n  _createInterval(t, e, i) {\n    return {\n      start: t,\n      end: e,\n      bytes: i\n    };\n  }\n\n  _doMergeIntervals(t, e) {\n    t.start = Math.min(e.start, t.start), t.end = Math.max(e.end, t.end), t.bytes += e.bytes;\n  }\n\n  _mergeIntervals(t, e) {\n    return t.start <= e.end && e.start <= t.end && (this._doMergeIntervals(t, e), !0);\n  }\n\n  _flushIntervals() {\n    if (!this.intervals.length) return !1;\n    const t = this.intervals[0].start,\n          e = this.intervals[this.intervals.length - 1].end - 500;\n\n    if (e - t > 2e3) {\n      let i = 0,\n          s = 0;\n\n      for (; this.intervals.length > 0;) {\n        const t = this.intervals[0];\n        if (t.end <= e) i += t.end - t.start, s += t.bytes, this.intervals.splice(0, 1);else {\n          if (t.start >= e) break;\n          {\n            const a = e - t.start,\n                  r = t.end - t.start;\n            i += a;\n            const n = t.bytes * a / r;\n            s += n, t.start = e, t.bytes -= n;\n          }\n        }\n      }\n\n      if (s > 0 && i > 0) {\n        const a = 8 * s / (i / 1e3);\n        return this._updateRate(a), this.logger(`rate updated, new=${Math.round(a / 1024)}K; average=${Math.round(this.currentRate / 1024)}K bytes/ms=${Math.round(s)}/${Math.round(i)} interval=${Math.round(e - t)}`), !0;\n      }\n    }\n\n    return !1;\n  }\n\n  _joinIntervals() {\n    let t;\n\n    do {\n      t = !1;\n\n      for (let e = 0; e < this.intervals.length - 1; ++e) this._mergeIntervals(this.intervals[e], this.intervals[e + 1]) && (this.intervals.splice(e + 1, 1), t = !0);\n    } while (t);\n  }\n\n  addInterval(t, e, i) {\n    return this.intervals.push(this._createInterval(t, e, i)), this._joinIntervals(), this.intervals.length > 100 && (this.logger(`too many intervals (${this.intervals.length}); will merge`, {\n      type: 'warn'\n    }), this._doMergeIntervals(this.intervals[1], this.intervals[0]), this.intervals.splice(0, 1)), this._flushIntervals();\n  }\n\n  getBitRate() {\n    return this.currentRate;\n  }\n\n}\n\nclass Gt {\n  pendingQueue = [];\n  activeRequests = {};\n  completeRequests = {};\n  averageSegmentDuration = 2e3;\n  lastPrefetchStart = 0;\n  throttleTimeout = null;\n  RETRY_COUNT;\n  TIMEOUT;\n  BITRATE_ESTIMATOR;\n  MAX_PARALLEL_REQUESTS;\n  logger;\n\n  constructor(t, e, i, s, a) {\n    this.RETRY_COUNT = t, this.TIMEOUT = e, this.BITRATE_ESTIMATOR = i, this.MAX_PARALLEL_REQUESTS = s, this.logger = a;\n  }\n\n  limitCompleteCount() {\n    let t;\n\n    for (; (t = Object.keys(this.completeRequests)).length > this._getParallelRequestCount() + 2;) {\n      const e = t[Math.floor(Math.random() * t.length)];\n      this.logger(`Dropping completed request for url ${e}`, {\n        type: 'warn'\n      }), delete this.completeRequests[e];\n    }\n  }\n\n  _sendRequest(t, e) {\n    const i = Ut(),\n          s = i => {\n      delete this.activeRequests[e], this.limitCompleteCount(), this.completeRequests[e] = t, this._sendPending(), t._error = 1, t._errorMsg = i, t._errorCB ? t._errorCB(i) : (this.limitCompleteCount(), this.completeRequests[e] = t);\n    };\n\n    t._request = Ft(e, s => {\n      t._complete = 1, t._responseData = s, t._downloadTime = Ut() - i, delete this.activeRequests[e], this._sendPending(), t._cb ? t._cb(s, t._downloadTime) : (this.limitCompleteCount(), this.completeRequests[e] = t);\n    }, () => s('error'), () => {\n      t._retry = 1, t._retryCB && t._retryCB();\n    }), t._request.withRetryCount(this.RETRY_COUNT).withTimeout(this.TIMEOUT).withBitrateReporting(this.BITRATE_ESTIMATOR).withParallel(this._getParallelRequestCount() > 1).withFinally(() => {\n      t._finallyCB && t._finallyCB();\n    }), this.activeRequests[e] = t, t._request.send(), this.lastPrefetchStart = Ut();\n  }\n\n  _getParallelRequestCount() {\n    return Math.min(this.MAX_PARALLEL_REQUESTS, this.averageSegmentDuration < 3e3 ? 3 : 2);\n  }\n\n  _getPrefetchDelay() {\n    return Math.max(100, Math.min(5e3, this.averageSegmentDuration / 3));\n  }\n\n  _canSendPending() {\n    const t = this._getParallelRequestCount(),\n          e = Ut();\n\n    if (Object.keys(this.activeRequests).length >= t) return !1;\n    const i = this._getPrefetchDelay() - (e - this.lastPrefetchStart);\n    return this.throttleTimeout && clearTimeout(this.throttleTimeout), !(i > 0) || (this.throttleTimeout = window.setTimeout(() => this._sendPending(), i), !1);\n  }\n\n  _sendPending() {\n    for (; this._canSendPending();) {\n      const t = this.pendingQueue.pop();\n      if (!t) return;\n      this.activeRequests[t] || this.completeRequests[t] || (this.logger(`Submitting pending request url=${t}`), this._sendRequest({}, t));\n    }\n  }\n\n  _removeFromActive(t) {\n    delete this.completeRequests[t], delete this.activeRequests[t];\n  }\n\n  abortAll() {\n    Object.values(this.activeRequests).forEach(t => {\n      t && t._request && t._request.abort();\n    }), this.activeRequests = {}, this.pendingQueue = [], this.completeRequests = {};\n  }\n\n  requestData(t, e, i, s) {\n    const a = {};\n    return a.send = () => {\n      const r = this.activeRequests[t] || this.completeRequests[t];\n      if (r) r._cb = e, r._errorCB = i, r._retryCB = s, r._finallyCB = a._finallyCB, r._error || r._complete ? (this._removeFromActive(t), setTimeout(() => {\n        r._complete ? (this.logger(`Requested url already prefetched, url=${t}`), e(r._responseData, r._downloadTime)) : (this.logger(`Requested url already prefetched with error, url=${t}`), i(r._errorMsg)), a._finallyCB && a._finallyCB();\n      }, 0)) : this.logger(`Attached to active request, url=${t}`);else {\n        const e = this.pendingQueue.indexOf(t);\n        -1 !== e && this.pendingQueue.splice(e, 1), this.logger(`Request not prefetched, starting new request, url=${t}${-1 === e ? '' : '; removed pending'}`), this._sendRequest(a, t);\n      }\n    }, a._cb = e, a._errorCB = i, a._retryCB = s, a.abort = function () {\n      a.request && a.request.abort();\n    }, a.withFinally = t => (a._finallyCB = t, a), a;\n  }\n\n  prefetch(t) {\n    this.activeRequests[t] || this.completeRequests[t] ? this.logger(`Request already active for url=${t}`) : (this.logger(`Added to pending queue; url=${t}`), this.pendingQueue.unshift(t), this._sendPending());\n  }\n\n  optimizeForSegDuration(t) {\n    this.averageSegmentDuration = t;\n  }\n\n}\n\nclass Yt {\n  paused = !1;\n  autoQuality = !0;\n  maxAutoQuality = void 0;\n  buffering = !0;\n  destroyed = !1;\n  videoPlayStarted = !1;\n  lowLatency = !1;\n  rep;\n  bitrate = 0;\n  manifest = [];\n  bitrateSwitcher;\n  filesFetcher;\n  sourceBuffer = 0;\n  mediaSource;\n  currentManifestEntry;\n  manifestRequest;\n  manifestRefetchTimer;\n  bufferStates = [];\n  downloadRate;\n  sourceJitter = -1;\n  chunkRateEstimator;\n  manifestUrl;\n  urlResolver;\n  params;\n\n  constructor(t) {\n    this.params = t, this.chunkRateEstimator = new Ht(this.params.logger), this._initVideo();\n  }\n\n  attachSource(t) {\n    this.manifestUrl = t, this.urlResolver = qt(t), this.bitrateSwitcher = this._initBitrateSwitcher(), this._initManifest();\n  }\n\n  setAutoQualityEnabled(t) {\n    this.autoQuality = t;\n  }\n\n  setMaxAutoQuality(t) {\n    this.maxAutoQuality = t;\n  }\n\n  switchByName(t) {\n    let e;\n\n    for (let i = 0; i < this.manifest.length; ++i) if (e = this.manifest[i], e.name === t) return void this._switchToQuality(e);\n  }\n\n  catchUp() {\n    this.rep && this.rep.stop(), this.currentManifestEntry && (this.paused = !1, this._initPlayerWith(this.currentManifestEntry), this._notifyBuffering(!0));\n  }\n\n  stop() {\n    this.params.videoElement.pause(), this.rep && (this.rep.stop(), this.rep = null);\n  }\n\n  pause() {\n    this.paused = !0, this.params.videoElement.pause(), this.videoPlayStarted = !1, this._notifyBuffering(!1);\n  }\n\n  play(t) {\n    this.paused = !1;\n    const e = this.lowLatency && this._getBufferSizeSec() > this.sourceJitter + 5;\n    this.rep && !e ? (this.bufferStates = [], this.videoPlayStarted = !1, this.shouldPlay() ? this._playVideoElement(t) : this._notifyBuffering(!0)) : this.catchUp();\n  }\n\n  startPlay(t, e) {\n    this.autoQuality = e, this._initPlayerWith(t);\n  }\n\n  destroy() {\n    this.destroyed = !0, this.rep && (this.rep.stop(), this.rep = null), this.manifestRequest && this.manifestRequest.abort(), this.manifestRefetchTimer && (clearTimeout(this.manifestRefetchTimer), this.manifestRefetchTimer = void 0);\n  }\n\n  reinit(t) {\n    this.manifestUrl = t, this.urlResolver = qt(t), this.catchUp();\n  }\n\n  _handleNetworkError() {\n    this.params.logger('Fatal network error'), this.params.playerCallback({\n      name: 'error',\n      type: 'network'\n    });\n  }\n\n  _retryCallback() {\n    this.params.playerCallback({\n      name: 'retry'\n    });\n  }\n\n  _getBufferSizeSec() {\n    const t = this.params.videoElement;\n    let e = 0;\n    const i = t.buffered.length;\n    return 0 !== i && (e = t.buffered.end(i - 1) - Math.max(t.currentTime, t.buffered.start(0))), e;\n  }\n\n  _notifyBuffering(t) {\n    this.destroyed || (this.params.logger(`buffering: ${t}`), this.params.playerCallback({\n      name: 'buffering',\n      isBuffering: t\n    }), this.buffering = t);\n  }\n\n  _initVideo() {\n    const {\n      videoElement: t,\n      logger: e\n    } = this.params;\n    t.addEventListener('error', i => {\n      this.destroyed || (e(`Video element error: ${t.error?.code}`), this.params.playerCallback({\n        name: 'error',\n        type: 'media'\n      }));\n    }), t.addEventListener('timeupdate', () => {\n      const e = this._getBufferSizeSec();\n\n      !this.paused && e < .3 ? this.buffering || (this.buffering = !0, window.setTimeout(() => {\n        !this.paused && this.buffering && this._notifyBuffering(!0), t.pause(), this.videoPlayStarted = !1;\n      }, 1e3 * (e + .1))) : this.buffering && this.videoPlayStarted && this._notifyBuffering(!1);\n    }), t.addEventListener('playing', () => {\n      e('playing');\n    }), t.addEventListener('stalled', () => this._fixupStall()), t.addEventListener('waiting', () => this._fixupStall());\n  }\n\n  _fixupStall() {\n    const {\n      logger: t,\n      videoElement: e\n    } = this.params,\n          i = e.buffered.length;\n    let s;\n    0 !== i && (s = e.buffered.start(i - 1), e.currentTime < s && (t('Fixup stall'), e.currentTime = s));\n  }\n\n  _selectQuality(t) {\n    const {\n      videoElement: e\n    } = this.params;\n    let i, s, a;\n    const r = e && 1.62 * (window.devicePixelRatio || 1) * e.offsetHeight || 520;\n\n    for (let e = 0; e < this.manifest.length; ++e) a = this.manifest[e], this.maxAutoQuality && a.video.height > this.maxAutoQuality || (a.bitrate < t && r > Math.min(a.video.height, a.video.width) ? (!s || a.bitrate > s.bitrate) && (s = a) : (!i || i.bitrate > a.bitrate) && (i = a));\n\n    return s || i;\n  }\n\n  shouldPlay() {\n    if (this.paused) return !1;\n    const t = this._getBufferSizeSec() - Math.max(1, this.sourceJitter);\n    return t > 3 || s(this.downloadRate) && (this.downloadRate > 1.5 && t > 2 || this.downloadRate > 2 && t > 1);\n  }\n\n  _setVideoSrc(t, e) {\n    const {\n      logger: i,\n      videoElement: s,\n      playerCallback: a\n    } = this.params;\n    this.mediaSource = new window.MediaSource(), i('setting video src'), s.src = URL.createObjectURL(this.mediaSource), this.mediaSource.addEventListener('sourceopen', () => {\n      this.mediaSource && (this.sourceBuffer = this.mediaSource.addSourceBuffer(t.codecs), this.bufferStates = [], e());\n    }), this.videoPlayStarted = !1, s.addEventListener('canplay', () => {\n      this.shouldPlay() && (this.videoPlayStarted = !0, this._playVideoElement());\n    });\n\n    const r = () => {\n      !function (t, e, i) {\n        const s = function () {\n          for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {\n            a[_key] = arguments[_key];\n          }\n\n          i.apply(null, a), t.removeEventListener(e, s);\n        };\n\n        t.addEventListener(e, s);\n      }(s, 'progress', () => {\n        s.buffered.length ? (s.currentTime = s.buffered.start(0), a({\n          name: 'playing'\n        })) : r();\n      });\n    };\n\n    r();\n  }\n\n  _initPlayerWith(t) {\n    this.bitrate = 0, this.rep = 0, this.sourceBuffer = 0, this.bufferStates = [], this.filesFetcher && this.filesFetcher.abortAll(), this.filesFetcher = new Gt(3, 1e4, this.bitrateSwitcher, this.params.config.maxParallelRequests, this.params.logger), this._setVideoSrc(t, () => this._switchToQuality(t));\n  }\n\n  _representation(t) {\n    const {\n      logger: e,\n      videoElement: i,\n      playerCallback: r\n    } = this.params;\n    let n = !1,\n        o = null,\n        d = null,\n        h = null,\n        u = null,\n        c = !1;\n\n    const p = () => {\n      const t = n && (!c || c === this.rep);\n      return t || e('Not running!'), t;\n    },\n          m = (t, e, i) => {\n      h && h.abort(), h = Ft(this.urlResolver.resolve(t, !1), e, i, () => this._retryCallback()).withTimeout(1e4).withBitrateReporting(this.bitrateSwitcher).withRetryCount(3).withFinally(() => {\n        h = null;\n      }).send();\n    },\n          f = (t, e, i) => {\n      l(this.filesFetcher), d?.abort(), d = this.filesFetcher.requestData(this.urlResolver.resolve(t, !1), e, i, () => this._retryCallback()).withFinally(() => {\n        d = null;\n      }).send();\n    },\n          g = t => {\n      const s = i.playbackRate;\n      i.playbackRate !== t && (e(`Playback rate switch: ${s}=>${t}`), i.playbackRate = t);\n    },\n          S = t => {\n      this.lowLatency = t, e(`lowLatency changed to ${t}`), b();\n    },\n          b = () => {\n      if (this.lowLatency) {\n        let t = this._getBufferSizeSec();\n\n        if (this.bufferStates.length < 5) return void g(1);\n        const i = Ut() - 6e4;\n        let s = 0;\n\n        for (let e = 0; e < this.bufferStates.length; e++) {\n          const a = this.bufferStates[e];\n          t = Math.min(t, a.buf), a.ts < i && s++;\n        }\n\n        this.bufferStates.splice(0, s), e(`update playback rate;  minBuffer=${t} drop=${s} jitter=${this.sourceJitter}`);\n        let a = t - 1;\n        this.sourceJitter >= 0 ? a -= this.sourceJitter / 2 : this.sourceJitter -= 1, g(a > 3 ? 1.15 : a > 1 ? 1.1 : a > .3 ? 1.01 : 1);\n      } else g(1);\n    },\n          v = t => {\n      let i;\n\n      const a = () => i && i.start ? i.start.length : 0,\n            n = t => i.start[t] / 1e3,\n            o = t => i.dur[t] / 1e3,\n            d = t => i.fragIndex + t,\n            h = (t, e) => ({\n        chunkIdx: d(t),\n        startTS: n(t),\n        dur: o(t),\n        discontinuity: e\n      }),\n            c = () => {\n        let t = 0;\n\n        if (i && i.dur) {\n          let e = this.lowLatency ? this.params.config.lowLatencyMinBuffer : this.params.config.minBuffer,\n              s = this.lowLatency ? this.params.config.lowLatencyMinBufferSegments : this.params.config.minBufferSegments,\n              a = e;\n          this.sourceJitter > 1 && (a += this.sourceJitter - 1);\n          let r = i.dur.length - 1;\n\n          for (; r >= 0 && (a -= i.dur[r], !(a <= 0)); --r);\n\n          t = Math.min(r, i.dur.length - 1 - s), t = Math.max(t, 0);\n        }\n\n        return h(t, !0);\n      },\n            m = (t, e, i) => {\n        u && u.abort(), u = Ft(this.urlResolver.resolve(t, !0, this.lowLatency), e, i, () => this._retryCallback()).withTimeout(1e4).withRetryCount(3).withFinally(() => {\n          u = null;\n        }).withJSONResponse().send();\n      };\n\n      return {\n        seek: (e, o) => {\n          m(t, t => {\n            if (!p()) return;\n            i = t;\n            const d = Boolean(i.lowLatency);\n            d !== this.lowLatency && S(d);\n            let u = 0;\n\n            for (let t = 0; t < i.dur.length; ++t) u += i.dur[t];\n\n            u > 0 && (l(this.filesFetcher), this.filesFetcher.optimizeForSegDuration(u / i.dur.length)), r({\n              name: 'index',\n              zeroTime: i.zeroTime,\n              shiftDuration: i.shiftDuration\n            }), this.sourceJitter = i.hasOwnProperty('jitter') ? Math.min(10, Math.max(.01, i.jitter / 1e3)) : 1, e((t => {\n              const e = a();\n\n              if (!(e <= 0)) {\n                if (s(t)) for (let i = 0; i < e; i++) if (n(i) > t) return h(i);\n                return c();\n              }\n            })(o));\n          }, () => this._handleNetworkError());\n        },\n        nextChunk: t => {\n          const s = a(),\n                r = t ? t.chunkIdx + 1 : 0,\n                n = r - i.fragIndex;\n\n          if (!(s <= 0)) {\n            if (!t || n < 0 || n - s > 10) return e(`Resync: offset=${n} bChunks=${s} chunk=` + JSON.stringify(t)), c();\n            if (!(n >= s)) return h(r - i.fragIndex, !1);\n          }\n        }\n      };\n    },\n          y = () => {\n      n = !1, d && d.abort(), h && h.abort(), u && u.abort(), l(this.filesFetcher), this.filesFetcher.abortAll();\n    };\n\n    return c = {\n      start: e => {\n        const {\n          videoElement: i,\n          logger: s\n        } = this.params;\n        let r,\n            d,\n            h,\n            c,\n            g,\n            S,\n            T,\n            E = v(t.jidxUrl),\n            $ = 0;\n\n        const w = () => {\n          g && (clearTimeout(g), g = void 0);\n          const t = Math.max(500, 1e3 * (this._getBufferSizeSec() - this.sourceJitter - 5)),\n                e = $ + t,\n                i = Ut(),\n                s = Math.min(1e4, e - i);\n          $ = i;\n\n          const a = () => {\n            u || p() && E.seek(() => {\n              p() && ($ = Ut(), k(), w());\n            });\n          };\n\n          s > 0 ? g = window.setTimeout(() => {\n            this.paused ? w() : a();\n          }, s) : a();\n        },\n              k = () => {\n          let e;\n\n          for (; e = E.nextChunk(c);) c = e, _(e);\n\n          const i = E.nextChunk(h);\n\n          if (i) {\n            if (h && i.discontinuity) return s('Detected discontinuity; restarting playback'), void (this.paused ? w() : (y(), this._initPlayerWith(t)));\n            D(i);\n          } else w();\n        },\n              A = (t, e) => {\n          if (!p() || !this.sourceBuffer) return;\n          let a, r, n;\n\n          const o = i => {\n            window.setTimeout(() => {\n              p() && A(t, e);\n            }, i);\n          };\n\n          if (this.sourceBuffer.updating) s('Source buffer is updating; delaying appendBuffer'), o(100);else {\n            const d = Ut(),\n                  h = i.currentTime;\n            !this.paused && i.buffered.length > 1 && S === h && d - T > 500 && (s('Stall suspected; trying to fix'), this._fixupStall()), S !== h && (S = h, T = d);\n\n            const u = this._getBufferSizeSec();\n\n            if (u > 30) s(`Buffered ${u} seconds; delaying appendBuffer`), o(2e3);else try {\n              this.sourceBuffer.appendBuffer(t), this.videoPlayStarted ? (this.bufferStates.push({\n                ts: d,\n                buf: u\n              }), b(), this.bufferStates.length > 200 && this.bufferStates.shift()) : this.shouldPlay() && (this.videoPlayStarted = !0, this._playVideoElement()), e && e();\n            } catch (t) {\n              if ('QuotaExceededError' !== t.name) throw t;\n              s('QuotaExceededError; delaying appendBuffer'), n = this.sourceBuffer.buffered.length, 0 !== n && (a = this.sourceBuffer.buffered.start(0), r = h, r - a > 4 && this.sourceBuffer.remove(a, r - 3)), o(1e3);\n            }\n          }\n        },\n              P = () => {\n          d && r && (s([`Appending chunk, sz=${d.byteLength}:`, JSON.stringify(h)]), A(d, function () {\n            d = null, k();\n          }));\n        },\n              R = e => t.fragUrlTemplate.replace('%%id%%', e.chunkIdx),\n              D = t => {\n          p() && f(R(t), (e, i) => {\n            if (p()) {\n              if (i /= 1e3, d = e, h = t, o = t.startTS, i) {\n                const e = Math.min(10, t.dur / i);\n                this.downloadRate = this.downloadRate ? .7 * this.downloadRate + .3 * e : e;\n              }\n\n              P();\n            }\n          }, () => this._handleNetworkError());\n        },\n              _ = t => {\n          p() && (l(this.filesFetcher), this.filesFetcher.prefetch(this.urlResolver.resolve(R(t), !1)));\n        },\n              C = e => {\n          p() && (t.cachedHeader = e, A(e, () => {\n            r = !0, P();\n          }));\n        };\n\n        n = !0, E.seek(t => {\n          p() && ($ = Ut(), t ? (c = t, !a(e) || t.startTS > e ? D(t) : (h = t, k())) : w());\n        }, e), t.cachedHeader ? C(t.cachedHeader) : m(t.headerUrl, C, () => this._handleNetworkError());\n      },\n      stop: y,\n      getTimestampSec: () => o\n    }, c;\n  }\n\n  _switchToQuality(t) {\n    const {\n      logger: e,\n      playerCallback: i\n    } = this.params;\n    let a;\n    t.bitrate !== this.bitrate && (this.rep && (a = this.rep.getTimestampSec(), s(a) && (a += .1), this.rep.stop()), this.currentManifestEntry = t, this.rep = this._representation(t), e(`switch to quality: codecs=${t.codecs}; headerUrl=${t.headerUrl}; bitrate=${t.bitrate}`), this.bitrate = t.bitrate, l(this.bitrateSwitcher), this.bitrateSwitcher.notifySwitch(this.bitrate), this.rep.start(a), i({\n      name: 'qualitySwitch',\n      quality: t\n    }));\n  }\n\n  _qualityAvailable(t) {\n    return s(this.manifest.find(e => e.name === t));\n  }\n\n  _initBitrateSwitcher() {\n    const {\n      logger: t,\n      playerCallback: e\n    } = this.params,\n          i = e => {\n      if (!this.autoQuality) return;\n      let i, s, a;\n      this.currentManifestEntry && this._qualityAvailable(this.currentManifestEntry.name) && e < this.bitrate && (s = this._getBufferSizeSec(), a = e / this.bitrate, s > 10 && a > .8 || s > 15 && a > .5 || s > 20 && a > .3) ? t(`Not switching: buffer=${Math.floor(s)}; bitrate=${this.bitrate}; newRate=${Math.floor(e)}`) : (i = this._selectQuality(e), i ? this._switchToQuality(i) : t(`Could not find quality by bitrate ${e}`));\n    },\n          s = (() => ({\n      updateChunk: (t, i) => {\n        const s = Ut();\n\n        if (this.chunkRateEstimator.addInterval(t, s, i)) {\n          const a = this.chunkRateEstimator.getBitRate();\n          return e({\n            name: 'bandwidth',\n            size: i,\n            duration: s - t,\n            speed: a\n          }), !0;\n        }\n      },\n      get: () => {\n        const t = this.chunkRateEstimator.getBitRate();\n        return t ? .85 * t : 0;\n      }\n    }))();\n\n    let a,\n        r = -1 / 0,\n        n = !0;\n\n    const o = () => {\n      let t = s.get();\n\n      if (t && a && this.autoQuality) {\n        if (n && t > a && Vt(r) < 3e4) return;\n        i(t);\n      }\n\n      n = this.autoQuality;\n    };\n\n    return {\n      updateChunk: (t, e) => {\n        const i = s.updateChunk(t, e);\n        return i && o(), i;\n      },\n      notifySwitch: t => {\n        const e = Ut();\n        t < a && (r = e), a = t;\n      }\n    };\n  }\n\n  _fetchManifest(t, e, i) {\n    this.manifestRequest = Ft(this.urlResolver.resolve(t, !0), e, i, () => this._retryCallback()).withJSONResponse().withTimeout(1e4).withRetryCount(3).withRetryInterval(300, 2e3).send().withFinally(() => {\n      this.manifestRequest = void 0;\n    });\n  }\n\n  _playVideoElement(t) {\n    const {\n      videoElement: e\n    } = this.params;\n    Ot(e).then(e => {\n      e || t?.();\n    });\n  }\n\n  _handleManifestUpdate(t) {\n    const {\n      logger: e,\n      playerCallback: i,\n      videoElement: s\n    } = this.params;\n    this.manifest = (t => {\n      const e = [];\n      return t?.length ? (t.forEach((t, i) => {\n        t.video && s.canPlayType(t.codecs).replace(/no/, '') && window.MediaSource.isTypeSupported(t.codecs) && (t.index = i, e.push(t));\n      }), e.sort(function (t, e) {\n        return t.video && e.video ? e.video.height - t.video.height : e.bitrate - t.bitrate;\n      }), e) : (this.params.playerCallback({\n        name: 'error',\n        type: 'partial_metadata'\n      }), []);\n    })(t), e(`Valid manifest entries: ${this.manifest.length}/${t.length}`), i({\n      name: 'manifest',\n      manifest: this.manifest\n    });\n  }\n\n  _refetchManifest(t) {\n    this.destroyed || (this.manifestRefetchTimer && clearTimeout(this.manifestRefetchTimer), this.manifestRefetchTimer = window.setTimeout(() => {\n      this._fetchManifest(t, e => {\n        this.destroyed || (this._handleManifestUpdate(e), this._refetchManifest(t));\n      }, () => this._refetchManifest(t));\n    }, 6e4));\n  }\n\n  _initManifest() {\n    this._fetchManifest(this.manifestUrl, t => {\n      this.destroyed || (this._handleManifestUpdate(t), this._refetchManifest(this.manifestUrl));\n    }, () => this._handleNetworkError());\n  }\n\n}\n\nvar zt;\n!function (t) {\n  t.STOPPED = 'stopped', t.MANIFEST_READY = 'manifest_ready', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(zt || (zt = {}));\nconst Qt = [zt.PAUSED, zt.PLAYING, zt.READY],\n      Wt = [zt.PAUSED, zt.PLAYING, zt.READY];\n\nclass jt {\n  subscription = new i();\n  video;\n  videoState = new z(zt.STOPPED);\n  dash;\n  representations$ = new t([]);\n  textTracksManager = new gt();\n  maxSeekBackTime$ = new t(1 / 0);\n  zeroTime$ = new t(void 0);\n  liveOffset = new bt();\n  log;\n  params;\n\n  constructor(t) {\n    this.params = t, this.log = this.params.dependencies.logger.createComponentLog('DashLiveProvider');\n\n    const e = e => {\n      t.output.error$.next({\n        id: 'DashLiveProvider',\n        message: 'DashLiveProvider internal logic error',\n        thrown: e\n      });\n    };\n\n    o(this.videoState.stateChangeStarted$.pipe(h(t => ({\n      transition: t,\n      type: 'start'\n    }))), this.videoState.stateChangeEnded$.pipe(h(t => ({\n      transition: t,\n      type: 'end'\n    })))).subscribe(_ref36 => {\n      let {\n        transition: t,\n        type: e\n      } = _ref36;\n      this.log({\n        message: `[videoState change] ${e}: ${JSON.stringify(t)}`\n      });\n    }), this.video = St(t.container), this.params.output.element$.next(this.video), this.dash = this.createLiveDashPlayer(), this.params.output.duration$.next(1 / 0), this.params.output.position$.next(0), this.params.output.isLive$.next(!0), this.params.output.hostname$.next(Ct(this.params.source.url)), this.params.output.autoVideoTrackLimitingAvailable$.next(!0), this.textTracksManager.connect(this.video, this.params.desiredState, this.params.output);\n    const i = Tt(this.video);\n    this.subscription.add(i.canplay$.subscribe(() => {\n      this.videoState.getTransition()?.to === zt.READY && this.videoState.setState(zt.READY);\n    }, e)).add(i.pause$.subscribe(() => {\n      this.videoState.setState(zt.PAUSED);\n    }, e)).add(i.playing$.subscribe(() => {\n      this.params.desiredState.seekState.getState().state === L.Applying && this.params.output.seekedEvent$.next(), this.videoState.setState(zt.PLAYING);\n    }, e)).add(i.error$.subscribe(this.params.output.error$)).add(this.maxSeekBackTime$.pipe(c(), h(t => -t / 1e3)).subscribe(this.params.output.duration$)).add(y({\n      zeroTime: this.zeroTime$.pipe(f(s)),\n      position: i.timeUpdate$\n    }).subscribe(_ref37 => {\n      let {\n        zeroTime: t,\n        position: e\n      } = _ref37;\n      return this.params.output.liveTime$.next(t + 1e3 * e);\n    }, e)).add(lt(this.video, this.params.desiredState.isLooped, e)).add(pt(this.video, this.params.desiredState.volume, i.volumeState$, e)).add(i.volumeState$.subscribe(this.params.output.volume$, e)).add(mt(this.video, this.params.desiredState.playbackRate, i.playbackRateState$, e)).add(i.loadStart$.subscribe(this.params.output.firstBytesEvent$)).add(i.playing$.subscribe(this.params.output.firstFrameEvent$)).add(i.canplay$.subscribe(this.params.output.canplay$)).add(this.params.desiredState.autoVideoTrackLimits.stateChangeEnded$.subscribe(_ref38 => {\n      let {\n        to: {\n          max: t\n        }\n      } = _ref38;\n      const e = t && V[t].height;\n      this.dash.setMaxAutoQuality(e);\n    })).add(this.videoState.stateChangeEnded$.subscribe(t => {\n      switch (t.to) {\n        case zt.STOPPED:\n          this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.desiredState.playbackState.setState(P.STOPPED);\n          break;\n\n        case zt.MANIFEST_READY:\n        case zt.READY:\n          break;\n\n        case zt.PAUSED:\n          this.params.desiredState.playbackState.setState(P.PAUSED);\n          break;\n\n        case zt.PLAYING:\n          this.params.desiredState.playbackState.setState(P.PLAYING);\n          break;\n\n        default:\n          return n(t.to);\n      }\n    }, e)).add(o(t.desiredState.playbackState.stateChangeStarted$, t.desiredState.seekState.stateChangeEnded$, t.desiredState.videoTrack.stateChangeStarted$, t.desiredState.autoVideoTrackSwitching.stateChangeStarted$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0)).subscribe(this.syncPlayback, e));\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.textTracksManager.destroy(), this.video.remove(), this.params.output.element$.next(void 0), this.dash.destroy();\n  }\n\n  createLiveDashPlayer() {\n    const t = new Yt({\n      videoElement: this.video,\n      config: {\n        maxParallelRequests: this.params.config.maxParallelRequests,\n        minBuffer: this.params.tuning.live.minBuffer,\n        minBufferSegments: this.params.tuning.live.minBufferSegments,\n        lowLatencyMinBuffer: this.params.tuning.live.lowLatencyMinBuffer,\n        lowLatencyMinBufferSegments: this.params.tuning.live.lowLatencyMinBufferSegments\n      },\n      playerCallback: this._dashCb,\n      logger: t => {\n        this.params.dependencies.logger.log({\n          message: String(t),\n          component: 'LiveDashPlayer'\n        });\n      }\n    });\n    return t.pause(), t;\n  }\n\n  prepare() {\n    const t = this.representations$.getValue(),\n          e = this.params.desiredState.videoTrack.getTransition()?.to ?? this.params.desiredState.videoTrack.getState(),\n          i = this.params.desiredState.autoVideoTrackSwitching.getTransition()?.to ?? this.params.desiredState.autoVideoTrackSwitching.getState(),\n          a = !i && s(e) ? e : _t(t.map(_ref39 => {\n      let {\n        track: t\n      } = _ref39;\n      return t;\n    }), {\n      container: {\n        width: this.video.offsetWidth,\n        height: this.video.offsetHeight\n      },\n      throughput: this.params.dependencies.throughputEstimator.throughput$.getValue(),\n      tuning: this.params.tuning.autoTrackSelection,\n      limits: this.params.desiredState.autoVideoTrackLimits.getState()\n    })?.id,\n          r = t.find(_ref40 => {\n      let {\n        track: t\n      } = _ref40;\n      return t.id === a;\n    })?.representation;\n    l(r, 'Representations missing'), this.dash.startPlay(r, i), this.params.desiredState.videoTrack.getTransition() && this.params.desiredState.videoTrack.setState(a), this.params.desiredState.autoVideoTrackSwitching.getTransition() && this.params.desiredState.autoVideoTrackSwitching.setState(i);\n  }\n\n  setVideoTrack(t) {\n    const e = this.representations$.getValue().find(_ref41 => {\n      let {\n        track: e\n      } = _ref41;\n      return e.id === t;\n    })?.representation;\n    l(e, `No such representation ${t}`), this.dash.switchByName(e.name), this.params.desiredState.videoTrack.setState(t);\n  }\n\n  setAutoQuality(t) {\n    this.dash.setAutoQualityEnabled(t), this.params.desiredState.autoVideoTrackSwitching.setState(t);\n  }\n\n  seek(t) {\n    this.log({\n      message: `[seek] position: ${t}`\n    }), this.params.output.willSeekEvent$.next();\n    const e = -t,\n          i = e < this.maxSeekBackTime$.getValue() ? e : 0;\n    this.liveOffset.resetTo(i), this.dash.reinit(O(this.params.source.url, i));\n  }\n\n  _dashCb = t => {\n    switch (t.name) {\n      case 'buffering':\n        {\n          const e = t.isBuffering;\n          this.params.output.isBuffering$.next(e);\n          break;\n        }\n\n      case 'error':\n        this.params.output.error$.next({\n          id: `DashLiveProviderInternal:${t.type}`,\n          message: 'LiveDashPlayer reported error'\n        });\n        break;\n\n      case 'manifest':\n        {\n          const e = t.manifest,\n                i = [];\n\n          for (const t of e) {\n            const e = t.name ?? t.index.toString(10),\n                  s = Mt(t.name) ?? G(t.video),\n                  a = t.bitrate / 1e3,\n                  r = { ...t.video\n            };\n            if (!s) continue;\n            const n = {\n              id: e,\n              quality: s,\n              bitrate: a,\n              size: r\n            };\n            i.push({\n              track: n,\n              representation: t\n            });\n          }\n\n          this.representations$.next(i), this.params.output.availableVideoTracks$.next(i.map(_ref42 => {\n            let {\n              track: t\n            } = _ref42;\n            return t;\n          })), this.videoState.getTransition()?.to === zt.MANIFEST_READY && this.videoState.setState(zt.MANIFEST_READY);\n          break;\n        }\n\n      case 'qualitySwitch':\n        {\n          const e = t.quality,\n                i = this.representations$.getValue().find(_ref43 => {\n            let {\n              representation: t\n            } = _ref43;\n            return t === e;\n          })?.track;\n          this.params.output.hostname$.next(new URL(e.headerUrl, this.params.source.url).hostname), s(i) && this.params.output.currentVideoTrack$.next(i);\n          break;\n        }\n\n      case 'bandwidth':\n        {\n          const {\n            size: e,\n            duration: i\n          } = t;\n          this.params.dependencies.throughputEstimator.addRawSpeed(e, i);\n          break;\n        }\n\n      case 'index':\n        this.maxSeekBackTime$.next(t.shiftDuration), this.zeroTime$.next(t.zeroTime);\n    }\n  };\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.videoState.getTransition(),\n          i = this.params.desiredState.playbackState.getState(),\n          a = this.params.desiredState.playbackState.getTransition(),\n          r = this.params.desiredState.seekState.getState();\n\n    if (this.log({\n      message: `[syncPlayback] videoState: ${t}; videoTransition: ${JSON.stringify(e)}; desiredPlaybackState: ${i}; seekState: ${JSON.stringify(r)};`\n    }), i !== P.STOPPED) {\n      if (!e) {\n        if (Wt.includes(t)) {\n          const t = this.params.desiredState.videoTrack.getTransition()?.to;\n          s(t) && this.setVideoTrack(t);\n          const e = this.params.desiredState.autoVideoTrackSwitching.getTransition();\n          e && this.setAutoQuality(e.to);\n        }\n\n        if (a?.to !== P.PAUSED && r.state === L.Requested && Qt.includes(t)) this.seek(r.position - this.liveOffset.getTotalPausedTime());else switch (t) {\n          case zt.STOPPED:\n            return this.videoState.startTransitionTo(zt.MANIFEST_READY), void this.dash.attachSource(O(this.params.source.url));\n\n          case zt.MANIFEST_READY:\n            this.videoState.startTransitionTo(zt.READY), this.prepare();\n            break;\n\n          case zt.READY:\n            return void (i === P.PAUSED ? this.videoState.setState(zt.PAUSED) : i === P.PLAYING && (this.videoState.startTransitionTo(zt.PLAYING), this.dash.play(() => {\n              this.liveOffset.pause(), this.videoState.setState(zt.PAUSED);\n            })));\n\n          case zt.PLAYING:\n            return void (i === P.PAUSED && (this.videoState.startTransitionTo(zt.PAUSED), this.liveOffset.pause(), this.dash.pause()));\n\n          case zt.PAUSED:\n            return void (i === P.PLAYING && (this.videoState.startTransitionTo(zt.PLAYING), this.liveOffset.getTotalPausedTime() < this.params.config.maxPausedTime && this.liveOffset.getTotalOffset() < this.maxSeekBackTime$.getValue() ? (this.liveOffset.resume(), this.dash.play(() => {\n              this.liveOffset.pause(), this.videoState.setState(zt.PAUSED);\n            }), this.params.output.position$.next(-this.liveOffset.getTotalOffset() / 1e3)) : this.seek(-this.liveOffset.getTotalOffset())));\n\n          default:\n            return n(t);\n        }\n      }\n    } else t !== zt.STOPPED && (this.videoState.startTransitionTo(zt.STOPPED), this.dash.destroy(), this.video.setAttribute('src', ''), this.video.load(), this.videoState.setState(zt.STOPPED));\n  };\n}\n\nvar Jt = t => {\n  const e = t.get('X-Delivery-Type'),\n        i = t.get('X-Reused');\n  return {\n    type: null === e ? I.HTTP1 : e ?? void 0,\n    reused: null === i ? void 0 : {\n      1: !0,\n      0: !1\n    }[i] ?? void 0\n  };\n},\n    Xt = (t, e) => {\n  let i = 0;\n\n  for (let s = 0; s < t.length; s++) {\n    const a = 1e3 * t.start(s),\n          r = 1e3 * t.end(s);\n    a <= e && e <= r && (i = r);\n  }\n\n  return Math.max(i - e, 0);\n};\n\nclass Kt {\n  _failoverIndex = 0;\n  _failoverCount = 0;\n  _xhr = null;\n  _url;\n  _failoverHosts;\n  _completeCb;\n  _progressCb;\n  _headersCb;\n  _errorCb;\n  _retryTimeout = 0;\n\n  constructor(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    let i = arguments.length > 2 ? arguments[2] : undefined;\n    let s = arguments.length > 3 ? arguments[3] : undefined;\n    let a = arguments.length > 4 ? arguments[4] : undefined;\n    let r = arguments.length > 5 ? arguments[5] : undefined;\n    this._url = t, this._failoverHosts = e, this._completeCb = i, this._progressCb = s, this._headersCb = a, this._errorCb = r, this._request();\n  }\n\n  _request() {\n    this._xhr = new XMLHttpRequest(), this._xhr.open('GET', this._url, !0), this._xhr.overrideMimeType('text/plain; charset=x-user-defined');\n    let t = !1;\n    this._xhr.onreadystatechange = () => {\n      if (l(this._xhr), this._xhr?.status >= 400) return this._errorCb?.(`Http${this._xhr?.status}`, `XHR response code ${this._xhr?.status}`), void this.abort();\n      if (4 !== this._xhr.readyState || 0 !== this._xhr.status) try {\n        if (this._xhr.readyState >= 2 && !t) {\n          t = !0;\n          const e = Object.fromEntries(this._xhr.getAllResponseHeaders().trim().split(/[\\n\\r]+/).map(t => t.split(':').map(t => t.trim())));\n          this._headersCb?.(new Headers(e));\n        } else 4 === this._xhr.readyState ? this._completeCb?.(this._xhr.response) : 3 === this._xhr.readyState && this._progressCb?.(this._xhr.response);\n      } catch (t) {\n        throw this._errorCb?.('XHR2CallbackError', `xhr2 callback threw ${String(t)}`, t), t;\n      }\n    }, this._xhr.onerror = () => {\n      this._xhr?.abort(), this._retryTimeout = window.setTimeout(() => {\n        if (this._xhr) if (++this._failoverCount >= 30) this._xhr = null, this._errorCb?.('XHR2Failover', 'XHR failed, retrying failover host');else {\n          let t;\n          this._failoverIndex >= this._failoverHosts.length ? (t = this._url, this._failoverIndex = 0) : (t = this._url.replace((t => {\n            const e = document.createElement('a');\n            return e.href = t, e.host;\n          })(this._url), this._failoverHosts[this._failoverIndex]), this._failoverIndex++), this._xhr.open('GET', t, !0), this._xhr.send(null);\n        }\n      }, 500);\n    }, this._xhr.send(null);\n  }\n\n  abort() {\n    window.clearTimeout(this._retryTimeout), this._completeCb = this._progressCb = this._errorCb = void 0, this._xhr && (this._xhr.abort(), this._xhr = null);\n  }\n\n}\n\nclass Zt {\n  _appendPromiseUint8Array;\n  _lastXhr;\n  _lastStreamUpdatingCallback;\n  _maxBufferDuration = Number.POSITIVE_INFINITY;\n  _isFull = !1;\n  _mediaSource;\n  _sourceBuffer;\n  _onDashCallback;\n  _params;\n\n  constructor(t) {\n    this._params = t, this._mediaSource = t.mediaSource, this._sourceBuffer = t.sourceBuffer, this._onDashCallback = t.onDashCallback;\n  }\n\n  _appendBuffer(t, e) {\n    try {\n      this._isFull = !1;\n      (this._sourceBuffer.appendBuffer || this._sourceBuffer.append).bind(this._sourceBuffer)(t), e?.();\n    } catch (t) {\n      if ('QuotaExceededError' !== t.name) throw this._params.onError('AppendBuffer', 'Unknown Buffer error', t), t;\n      {\n        this._isFull = !0;\n        const t = this._sourceBuffer.buffered;\n        let e = 0;\n\n        for (let i = 0, s = t.length; i < s; i++) e += t.end(i) - t.start(i);\n\n        e && (this._maxBufferDuration = Math.round(e));\n      }\n    }\n  }\n\n  getMaxBufferDuration() {\n    return this._maxBufferDuration;\n  }\n\n  isFull() {\n    return this._isFull;\n  }\n\n  load(t, e, i, s, a, r, n) {\n    this.abort(() => {\n      let o = 0;\n      const d = Date.now();\n      let h = 0,\n          u = 0,\n          c = 0;\n\n      const l = t => {\n        s(Zt._str2ua(t.substr(o))), o = t.length;\n      };\n\n      let p = t.baseURL + '&bytes=' + e + '-' + i;\n      this._params.requestQuic && (p = ht(p)), this._lastXhr = new Kt(p, t.failoverHosts, t => {\n        this._lastXhr = void 0, l(t);\n        const e = Date.now() - d;\n        this._params.onBandwidthChange({\n          size: t.length,\n          duration: e,\n          speed: 8 * t.length / (e / 1e3)\n        }), this._onDashCallback('loading', {\n          size: t.length,\n          done: !0\n        }), a?.();\n      }, t => {\n        if (t.length - o > n && l(t), 0 === u) return void (u = Date.now());\n        c = t.length - h;\n        const e = Date.now() - u;\n        c >= 102400 && e >= 1e3 && (this._params.onBandwidthChange({\n          size: c,\n          duration: e,\n          speed: 8 * c / (e / 1e3)\n        }), c = 0, h = t.length, u = Date.now()), this._onDashCallback('loading', {\n          size: t.length,\n          done: !1\n        });\n      }, r, (t, e, i) => this._params.onError(t, e, i));\n    });\n  }\n\n  abort(t) {\n    this._lastXhr?.abort(), this._lastXhr = void 0, this._sbUpdatingStop(this._lastStreamUpdatingCallback), this._lastStreamUpdatingCallback = this._sbUpdatingWatch(() => {\n      this._appendPromiseUint8Array && (this._appendBuffer(this._appendPromiseUint8Array), this._appendPromiseUint8Array = void 0), this._lastStreamUpdatingCallback = this._sbUpdatingWatch(() => {\n        'open' === this._mediaSource.readyState && this._sourceBuffer.abort(), t?.();\n      });\n    });\n  }\n\n  _sbUpdatingWatch(t) {\n    if (this._sourceBuffer.updating) {\n      const e = () => {\n        try {\n          this._sbUpdatingStop(e), this._sbUpdatingWatch(t);\n        } catch (t) {\n          throw this._params.onError('SourceBuffer', 'Source Buffer update error', t), t;\n        }\n      };\n\n      return this._sourceBuffer.addEventListener('updateend', e, !1), e;\n    }\n\n    t();\n  }\n\n  _sbUpdatingStop(t) {\n    t && this._sourceBuffer.removeEventListener('updateend', t, !1);\n  }\n\n  append(t, e) {\n    this._appendPromiseUint8Array ? this._appendPromiseUint8Array = Zt._concatUint8(this._appendPromiseUint8Array, t) : (this._appendPromiseUint8Array = t, this._lastStreamUpdatingCallback = this._sbUpdatingWatch(() => {\n      this._appendPromiseUint8Array && this._appendBuffer(this._appendPromiseUint8Array, () => {\n        this._appendPromiseUint8Array = void 0, e && this._sbUpdatingWatch(e);\n      });\n    }));\n  }\n\n  endOfStream() {\n    'open' === this._mediaSource.readyState && this._sbUpdatingWatch(() => this._mediaSource.endOfStream());\n  }\n\n  static _concatUint8(t, e) {\n    const i = new Uint8Array(t.byteLength + e.byteLength);\n    return i.set(t, 0), i.set(e, t.byteLength), i;\n  }\n\n  static _str2ua(t) {\n    const e = new Uint8Array(t.length);\n\n    for (let i = 0; i < t.length; i++) e[i] = t.charCodeAt(i);\n\n    return e;\n  }\n\n  remove(t, e) {\n    this._sbUpdatingWatch(() => {\n      !this._sourceBuffer.updating && this._sourceBuffer.remove && this._sourceBuffer.remove(t, e), this._maxBufferDuration = Number.POSITIVE_INFINITY;\n    });\n  }\n\n  destroy() {\n    this._lastXhr?.abort(), this._sbUpdatingStop(this._lastStreamUpdatingCallback), 'open' === this._mediaSource.readyState && this._sourceBuffer.abort();\n  }\n\n}\n\nclass te {\n  _params;\n  _representations = [];\n  _appendVector = {};\n  _currentRepresentation;\n  _stream;\n  _lastLoadOffset;\n  _loopTimeout;\n  _cachingPaused = !1;\n  _duration = 0;\n  STREAM_END_THRESHOLD = 1;\n  _video;\n  _buffer;\n  _onDashCallback;\n  _config;\n\n  constructor(t) {\n    this._params = t, this._video = t.video, this._buffer = t.buffer, this._onDashCallback = t.onDashCallback ?? (() => {}), this._config = t.config;\n  }\n\n  _parseDurationFromISO8601(t) {\n    const e = (t, e) => {\n      const i = t ? parseFloat(t.replace(',', '.')) : NaN;\n      return (isNaN(i) ? 0 : i) * e;\n    },\n          i = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/.exec(t),\n          s = '-' === i?.[1] ? -1 : 1;\n\n    e(i?.[2], s), e(i?.[3], s), e(i?.[4], s), e(i?.[5], s);\n    return 3600 * e(i?.[6], s) + 60 * e(i?.[7], s) + e(i?.[8], s);\n  }\n\n  getRepresentations() {\n    return this._representations;\n  }\n\n  attachSource(t, e) {\n    let i = t;\n    this._config.REQUEST_QUIC && (i = ht(i)), new Kt(i, e, t => {\n      this.attachManifest(t, e, (t => {\n        const e = document.createElement('a');\n        return e.href = t, e.origin;\n      })(i));\n    }, void 0, t => {\n      this._params.onResponseHeaders(t);\n    }, (t, e, i) => this._params.onError(t, e, i));\n  }\n\n  attachManifest(t, e, i) {\n    const s = new DOMParser().parseFromString(t, 'text/xml').documentElement,\n          a = (t, e) => {\n      const i = t.attributes.getNamedItem(e);\n      return i ? i.value : null;\n    };\n\n    this._duration = this._parseDurationFromISO8601(String(a(s, 'mediaPresentationDuration')));\n    const r = [],\n          n = [];\n    Array.prototype.forEach.call(s.getElementsByTagName('Representation'), t => {\n      const s = t.getElementsByTagName('SegmentBase')[0],\n            o = s && a(s, 'indexRange').split('-'),\n            d = s && s.getElementsByTagName('Initialization')[0],\n            h = d && a(d, 'range').split('-');\n\n      if (!h || !o) {\n        const e = t.parentElement;\n\n        if ('text' === e?.getAttribute('contentType')) {\n          const s = t.getAttribute('id') ?? void 0,\n                a = (i ? i + '/' : '') + t.getElementsByTagName('BaseURL')?.[0]?.childNodes?.[0]?.data,\n                r = e.getAttribute('lang') ?? void 0;\n          a && n.push({\n            id: s,\n            url: a,\n            language: r\n          });\n        }\n\n        return;\n      }\n\n      const u = Number(t.attributes.getNamedItem('bandwidth')?.value),\n            c = (i ? i + '/' : '') + t.getElementsByTagName('BaseURL')[0].childNodes[0].data;\n      let l;\n      const p = t.attributes.getNamedItem('frameRate')?.value ?? void 0;\n      l = p ? Et(p) : void 0, r.push({\n        width: Number(t.attributes.getNamedItem('width')?.value),\n        height: Number(t.attributes.getNamedItem('height')?.value),\n        bandwidth: u,\n        baseURL: c,\n        failoverHosts: e,\n        indexFrom: Number(o[0]),\n        indexTo: Number(o[1]),\n        initFrom: Number(h[0]),\n        initTo: Number(h[1]),\n        codecs: t.attributes.getNamedItem('codecs')?.value ?? void 0,\n        mimeType: t.attributes.getNamedItem('mimeType')?.value ?? void 0,\n        fps: l,\n        bufferSize: .1 * u / 8,\n        bufferLength: .1,\n        name: t.attributes.getNamedItem('okQuality')?.value ?? void 0,\n        id: t.attributes.getNamedItem('id')?.value ?? void 0\n      });\n    }), r.length ? (this._representations = r, n.forEach(_ref44 => {\n      let {\n        id: t,\n        language: e,\n        url: i\n      } = _ref44;\n      const s = document.createElement('track');\n      s.setAttribute('src', i), t && s.setAttribute('id', t), e && s.setAttribute('srclang', e), this._video.appendChild(s);\n    }), this._representations.sort((t, e) => e.bandwidth - t.bandwidth), this._params.onManifestReady(this._representations)) : this._onDashCallback('error');\n  }\n\n  _loadInitAndSidx(t, e) {\n    if (t === this._currentRepresentation) return void (e && e());\n    if (t.refs) return void this._stream.abort(() => {\n      this._stream.append(t.initMessage, e);\n    });\n    const i = Date.now();\n\n    this._stream.load(t, t.initFrom, t.indexTo, i => {\n      let s = t.initTo - t.initFrom + 1;\n      if (!i.byteLength) return void this._params.onError('EmptyResponse', 'Empty response');\n      t.initMessage = new Uint8Array(i.buffer, 0, s);\n      const a = new DataView(i.buffer);\n      s += 12;\n      const r = a.getUint32(s + 4, !1);\n      s += 8;\n      let n = a.getUint32(s, !1),\n          o = a.getUint32(s + 4, !1) + (t.indexTo + 1);\n      s += 8;\n      const d = a.getUint16(s + 2, !1);\n      s += 4, t.refs = [];\n\n      for (let e = 0; e < d; e += 1) {\n        const e = o + (2147483647 & a.getUint32(s, !1)),\n              i = n + a.getUint32(s + 4, !1);\n        s += 12, t.refs.push({\n          fromTime: n / r,\n          toTime: i / r,\n          fromOffset: o,\n          toOffset: e - 1\n        }), o = e, n = i;\n      }\n\n      const h = t.refs[t.refs.length - 1];\n      h.toTime - h.fromTime < .3 && t.refs.pop(), this._stream.append(t.initMessage, e);\n    }, void 0, t => {\n      this._params.onResponseHeaders(t), this._params.onIdxRequestPing(Date.now() - i);\n    }, t.indexTo - t.initFrom + 1);\n  }\n\n  startPlay(t) {\n    const e = window.MediaSource || window.WebKitMediaSource;\n    if (!e) return void this._params.onError('MediaSourceNotSupported', 'MediaSource is not supported');\n    const i = new e();\n    let s, a;\n\n    const r = () => {\n      const e = this._findRef(this._video.currentTime);\n\n      if (!e || this._video.paused) return;\n\n      if (!this._cachingPaused && void 0 !== this._lastLoadOffset && this._lastLoadOffset - this._video.currentTime < this._config.FRONT_CACHE_DURATION && this._lastLoadOffset - this._video.currentTime < this._stream.getMaxBufferDuration()) {\n        const t = this._stream.isFull() ? this._findBufferRangeEnd(this._video.currentTime) : this._lastLoadOffset;\n\n        this._loadRef(this._params.selectRepresentation(this._representations), t);\n      }\n\n      const i = this._appendVector[String(e.fromTime)];\n\n      let r;\n      i !== s && (s = i, this._params.onRepresentationPlay(i));\n\n      if (this._findRef(e.toTime)) {\n        const e = this._buffer.getByTime(this._video.currentTime);\n\n        if (!e) return void this._onDashCallback('buffering');\n        r = e.to - this._video.currentTime, r < t.bufferLength && (this._onDashCallback('buffering'), a !== e.to && (a = e.to, window.setTimeout(() => {\n          try {\n            const t = this._buffer.getNextWithGap(e);\n\n            t && (this._video.currentTime = t.from);\n          } catch (t) {\n            throw this._params.onError('GapSyncError', `Seek Error ${String(t)}`, t), t;\n          }\n        }, 1e3 * r)));\n      }\n    },\n          n = () => {\n      this._loopTimeout = window.setTimeout(() => {\n        try {\n          r();\n        } catch (t) {\n          throw this._params.onError('LoopError', `Dash Loop exception ${String(t)}`, t), t;\n        }\n\n        n();\n      }, 250);\n    },\n          o = () => {\n      if (!this._stream) try {\n        const e = i.addSourceBuffer(`${t.mimeType}; codecs=\"${t.codecs}\"`);\n        this._stream = new Zt({\n          mediaSource: i,\n          sourceBuffer: e,\n          requestQuic: this._params.config.REQUEST_QUIC,\n          onBandwidthChange: this._params.onBandwidthChange,\n          onError: this._params.onError,\n          onDashCallback: this._onDashCallback\n        });\n      } catch (t) {\n        throw this._params.onError('DashSourceOpen', `Source open exception ${String(t)}`, t), t;\n      }\n      this._loadInitAndSidx(t), i.duration || (i.duration = this._duration), this._loopTimeout || n(), i.removeEventListener('sourceopen', o), i.removeEventListener('webkitsourceopen', o);\n    };\n\n    i.addEventListener('sourceopen', o, !1), i.addEventListener('webkitsourceopen', o, !1), this._video && (this._video.src = window.URL.createObjectURL(i), this._video.addEventListener('waiting', () => {\n      const t = this._video && this._video.played.length;\n      t && !this._video.currentTime && this._video.loop ? this._video.duration - this._video.played.end(t - 1) < this.STREAM_END_THRESHOLD && this.seek(0) : this._video.duration - this._video.currentTime < this.STREAM_END_THRESHOLD && this._stream.endOfStream();\n    }));\n  }\n\n  _loadRef(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    this._lastLoadOffset = void 0, this._loadInitAndSidx(t, () => {\n      this._currentRepresentation = t;\n\n      const a = this._findRef(e);\n\n      if (a) {\n        if (i) {\n          this._isLastRef(a) && e >= a.toTime && (e = a.fromTime);\n\n          const t = this._findRef(this._video.currentTime),\n                i = Math.abs(this._video.currentTime - e),\n                r = s || this._video.duration < this._config.SEEK_IN_SEGMENT_THRESHOLD / 1e3 || a === t || i <= this._config.SEEK_IN_SEGMENT_DELTA / 1e3;\n\n          this._video.currentTime = r ? e : a.fromTime;\n        }\n\n        this._appendVector[String(a.fromTime)] = t, this._stream.load(t, a.fromOffset, a.toOffset, (t, e) => this._stream.append(t, e), () => {\n          this._lastLoadOffset = a.toTime, this._video.duration - this._lastLoadOffset < this.STREAM_END_THRESHOLD && this._stream.endOfStream();\n        }, t => this._params.onResponseHeaders(t), t.bufferSize);\n      }\n    });\n  }\n\n  setQualityByRepresentation(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n\n    const i = this._buffer.getByTime(this._video.currentTime),\n          s = this._findRef(this._video.currentTime);\n\n    if (!i || !s) return void (this._video.currentTime && e && this._loadRef(t, this._video.currentTime));\n    const a = .1;\n\n    if (s.toTime < i.to + a) {\n      const e = this._findRef(s.toTime);\n\n      e && e.toTime < i.to + a ? (this._buffer.smartRemove(s.fromTime - a, e.toTime + a, (t, e) => this._stream.remove(t, e)), this._loadRef(t, e.toTime)) : (this._buffer.smartRemove(s.fromTime - a, s.toTime + a, (t, e) => this._stream.remove(t, e)), this._loadRef(t, s.toTime));\n    }\n  }\n\n  setQuality(t) {\n    return this.setQualityByRepresentation(this._representations[t]);\n  }\n\n  pauseCaching() {\n    this._cachingPaused = !0;\n  }\n\n  resumeCaching() {\n    this._cachingPaused = !1;\n  }\n\n  seek(t, e) {\n    this._stream && this._buffer.getByTime(t) ? this._video.currentTime = t : this._loadRef(this._params.selectRepresentation(this._representations), t, !0, e);\n  }\n\n  updateRefsForCurrentTime() {\n    const t = this._video.currentTime;\n    this._stream && !a(this._buffer.getByTime(t)) || this._loadRef(this._params.selectRepresentation(this._representations), t, !1);\n  }\n\n  _findRef(t) {\n    const e = this._currentRepresentation?.refs;\n    if (!e) return;\n    if (Array.isArray(e) && 0 === e.length) return void this._params.onError('emptyrefs', 'Empty refs');\n    let i;\n\n    for (let s = 0; s < e.length; s++) {\n      const a = e[s];\n      if (a.fromTime <= t && a.toTime > t) return a;\n      a.fromTime > t && (!i || a.fromTime < i.fromTime) && (i = a);\n    }\n\n    if (!i) {\n      const i = e[e.length - 1];\n      if (t > i.toTime) return i;\n    }\n\n    return i;\n  }\n\n  _isLastRef(t) {\n    const e = this._currentRepresentation?.refs;\n    if (!e) return !1;\n    const i = e[e.length - 1];\n    return t.fromTime === i.fromTime;\n  }\n\n  _findBufferRangeEnd(t) {\n    let e = this._video.buffered.length;\n\n    for (; e-- > 0;) {\n      const i = this._video.buffered.start(e),\n            s = this._video.buffered.end(e);\n\n      if (t > i && t < s) return Math.round(10 * s) / 10;\n    }\n\n    return t;\n  }\n\n  destroy() {\n    this._stream && this._stream.destroy(), clearTimeout(this._loopTimeout), this._loopTimeout = void 0;\n  }\n\n}\n\nvar ee;\n!function (t) {\n  t.STOPPED = 'stopped', t.MANIFEST_LOADED = 'manifest-loaded', t.INITIAL_REPRESENTATION_SELECTED = 'initial-representation-selected', t.METADATA_LOADED = 'metadata-loaded', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(ee || (ee = {}));\nconst ie = [ee.PAUSED, ee.PLAYING];\n\nclass se {\n  videoState = new z(ee.STOPPED);\n  subscription = new i();\n  video;\n  buffer;\n  dash;\n  representations$ = new t([]);\n  currentRepresentation$ = new t(void 0);\n  params;\n  textTracksManager = new gt();\n  elementSize$ = new t(void 0);\n  dashLiteEvents = {\n    idxRequestPing$: new e(),\n    responseHeaders$: new e(),\n    manifestReady$: new e(),\n    representationPlay$: new e(),\n    error$: new e()\n  };\n  log;\n\n  constructor(t) {\n    this.params = t, this.log = this.params.dependencies.logger.createComponentLog('DashProvider'), o(this.videoState.stateChangeStarted$.pipe(h(t => ({\n      transition: t,\n      type: 'start'\n    }))), this.videoState.stateChangeEnded$.pipe(h(t => ({\n      transition: t,\n      type: 'end'\n    })))).subscribe(_ref45 => {\n      let {\n        transition: t,\n        type: e\n      } = _ref45;\n      this.log({\n        message: `[videoState change] ${e}: ${JSON.stringify(t)}`\n      });\n    }), this.video = St(t.container), this.params.output.element$.next(this.video), this.params.output.isLive$.next(!1), 'url' === this.params.source.type && this.params.output.hostname$.next(Ct(this.params.source.url)), this.params.output.autoVideoTrackLimitingAvailable$.next(!0), this.buffer = new vt(this.video), this.dash = new te({\n      video: this.video,\n      buffer: this.buffer,\n      selectRepresentation: this.selectRepresentation,\n      onIdxRequestPing: t => this.dashLiteEvents.idxRequestPing$.next(t),\n      onResponseHeaders: t => this.dashLiteEvents.responseHeaders$.next(t),\n      onManifestReady: t => this.dashLiteEvents.manifestReady$.next(t),\n      onRepresentationPlay: t => this.dashLiteEvents.representationPlay$.next(t),\n      onBandwidthChange: t => this.params.dependencies.throughputEstimator.addRawSpeed(t.size, t.duration),\n      onError: (t, e, i) => {\n        this.log({\n          message: `[DashLite error], ${t}`\n        }), this.dashLiteEvents.error$.next({\n          id: t,\n          message: e,\n          thrown: i\n        });\n      },\n      config: {\n        SEEK_IN_SEGMENT_THRESHOLD: this.params.tuning.dashSeekInSegmentDurationThreshold,\n        SEEK_IN_SEGMENT_DELTA: this.params.tuning.dashSeekInSegmentAlwaysSeekDelta,\n        FRONT_CACHE_DURATION: this.params.config.cacheDuration / 1e3,\n        REQUEST_QUIC: this.params.tuning.requestQuick\n      }\n    }), this.subscribe();\n  }\n\n  subscribe() {\n    const {\n      output: t,\n      desiredState: e\n    } = this.params,\n          i = e => {\n      t.error$.next({\n        id: 'DashProvider',\n        message: 'DashProvider internal logic error',\n        thrown: e\n      });\n    },\n          n = () => {\n      const t = this.params.desiredState.autoVideoTrackSwitching.getState(),\n            e = this.params.desiredState.autoVideoTrackSwitching.getTransition();\n      return e ? e.to : t;\n    },\n          d = Tt(this.video),\n          l = (t, e) => this.subscription.add(t.subscribe(e, i));\n\n    l(d.timeUpdate$, t.position$), l(d.durationChange$, t.duration$), l(d.ended$, t.endedEvent$), l(d.looped$, t.loopedEvent$), l(d.error$, t.error$), l(d.isBuffering$, t.isBuffering$), l(d.playing$, t.firstFrameEvent$), l(d.canplay$, t.canplay$), this.subscription.add(d.seeking$.subscribe(() => {\n      a(this.params.desiredState.seekState.getState().state !== L.Applying) && (this.videoState.getState() === ee.PLAYING || this.videoState.getState() === ee.PAUSED) && this.dash.updateRefsForCurrentTime();\n    })), this.subscription.add(d.seeked$.subscribe(t.seekedEvent$, i)), this.subscription.add(lt(this.video, e.isLooped, i)), this.subscription.add(pt(this.video, e.volume, d.volumeState$, i)), this.subscription.add(d.volumeState$.subscribe(this.params.output.volume$)), this.subscription.add(mt(this.video, e.playbackRate, d.playbackRateState$, i)), this.textTracksManager.connect(this.video, e, t), l(It(this.video), this.elementSize$), this.subscription.add(d.canplay$.subscribe(() => {\n      this.videoState.getTransition()?.to === ee.READY && this.videoState.setState(ee.READY);\n    }, i)).add(d.pause$.subscribe(() => {\n      this.videoState.setState(ee.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED);\n    })).add(d.playing$.subscribe(() => {\n      this.videoState.setState(ee.PLAYING), U(this.params.desiredState.playbackState, P.PLAYING);\n    }, i)).add(d.loadedMetadata$.subscribe(() => {\n      this.videoState.setState(ee.METADATA_LOADED);\n    }, i)).add(d.currentBuffer$.subscribe(e => {\n      this.buffer.fill(), t.currentBuffer$.next(e);\n    }, i)).add(this.dashLiteEvents.error$.pipe(h(_ref46 => {\n      let {\n        id: t,\n        message: e,\n        thrown: i\n      } = _ref46;\n      return {\n        id: `DashLite_${t}`,\n        message: e,\n        thrown: i\n      };\n    })).subscribe(this.params.output.error$)).add(o(this.params.desiredState.videoTrack.transitionStarted$, this.params.desiredState.autoVideoTrackSwitching.transitionStarted$, this.representations$, this.params.dependencies.throughputEstimator.rttAdjustedThroughput$, this.params.desiredState.autoVideoTrackLimits.stateChangeEnded$, this.params.output.element$, this.elementSize$, r(this.video, 'progress')).pipe(h(() => {\n      const t = this.currentRepresentation$.getValue(),\n            e = this.representations$.getValue(),\n            i = this.params.desiredState.autoVideoTrackSwitching.getTransition(),\n            a = this.params.desiredState.videoTrack.getState(),\n            r = this.params.dependencies.throughputEstimator.rttAdjustedThroughput$.getValue(),\n            o = this.elementSize$.getValue(),\n            d = n();\n      let h;\n      if (i && this.params.desiredState.autoVideoTrackSwitching.setState(i.to), !d && s(a)) h = a;else {\n        const i = Xt(this.video.buffered, 1e3 * this.video.currentTime),\n              s = d ? this.params.tuning.dash.forwardBufferTargetAuto : this.params.tuning.dash.forwardBufferTargetManual,\n              a = Math.min(i / s, 1);\n        h = _t(e.map(_ref47 => {\n          let {\n            track: t\n          } = _ref47;\n          return t;\n        }), {\n          container: o,\n          throughput: r,\n          tuning: this.params.tuning.autoTrackSelection,\n          limits: this.params.desiredState.autoVideoTrackLimits.getState(),\n          forwardBufferHealth: a,\n          playbackRate: this.video.playbackRate,\n          current: e.find(_ref48 => {\n            let {\n              representation: e\n            } = _ref48;\n            return e === t;\n          })?.track\n        })?.id;\n      }\n      return s(h) ? e.find(_ref49 => {\n        let {\n          track: t\n        } = _ref49;\n        return t.id === h;\n      })?.representation : void 0;\n    }), c()).subscribe(this.currentRepresentation$, i)).add(y({\n      needToSelectRepresentation: this.videoState.stateChangeStarted$.pipe(f(t => t.to === ee.INITIAL_REPRESENTATION_SELECTED)),\n      currentRepresentationSelected: this.currentRepresentation$.pipe(f(s))\n    }).pipe(v()).subscribe(() => this.videoState.setState(ee.INITIAL_REPRESENTATION_SELECTED), i)).add(this.currentRepresentation$.pipe(f(s), c((t, e) => this.params.tuning.autoTrackSelection.lazyQualitySwitch && n() ? t.height <= e.height : t === e)).subscribe(t => {\n      const e = Xt(this.video.buffered, 1e3 * this.video.currentTime),\n            i = Math.min(e / this.params.tuning.dash.forwardBufferTarget, 1);\n      (!this.params.tuning.autoTrackSelection.lazyQualitySwitch || i <= .5 || !n()) && (this.dash.setQualityByRepresentation(t, !0), this.params.output.hostname$.next(Ct(t.baseURL)));\n    }, i)).add(this.dashLiteEvents.responseHeaders$.subscribe(t => {\n      const {\n        type: e,\n        reused: i\n      } = Jt(t);\n      this.params.output.httpConnectionType$.next(e), this.params.output.httpConnectionReused$.next(i);\n    })).add(this.dashLiteEvents.idxRequestPing$.pipe(v(), g(void 0)).subscribe(this.params.output.firstBytesEvent$)).add(this.dashLiteEvents.idxRequestPing$.subscribe(t => this.params.dependencies.throughputEstimator.addRawRtt(t))).add(this.dashLiteEvents.manifestReady$.subscribe(this.handleManifestReady, i)).add(this.dashLiteEvents.representationPlay$.pipe(f(s)).subscribe(this.handleRepresentationPlay, i)).add(o(e.playbackState.stateChangeStarted$, e.seekState.stateChangeEnded$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0)).subscribe(this.syncPlayback, i));\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.textTracksManager.destroy(), this.video.remove(), this.params.output.element$.next(void 0), this.buffer.destroy(), this.dash.destroy();\n  }\n\n  prepare() {\n    const t = this.params.source;\n\n    switch (t.type) {\n      case 'url':\n        this.dash.attachSource(t.url);\n        break;\n\n      case 'raw':\n        this.dash.attachManifest(t.raw);\n        break;\n\n      default:\n        return n(t);\n    }\n  }\n\n  handleManifestReady = t => {\n    const e = [];\n\n    for (const i of t) {\n      const t = i.name ?? i.id ?? i.height.toString(10),\n            s = (i.name && Mt(i.name)) ?? G(i),\n            a = i.bandwidth / 1e3,\n            r = {\n        width: i.width,\n        height: i.height\n      },\n            n = i.fps;\n      if (!s) continue;\n      const o = {\n        id: t,\n        quality: s,\n        bitrate: a,\n        size: r,\n        fps: n\n      };\n      e.push({\n        track: o,\n        representation: i\n      });\n    }\n\n    this.representations$.next(e), this.params.output.availableVideoTracks$.next(e.map(_ref50 => {\n      let {\n        track: t\n      } = _ref50;\n      return t;\n    })), this.videoState.setState(ee.MANIFEST_LOADED);\n  };\n  handleRepresentationPlay = t => {\n    const e = this.representations$.getValue().find(_ref51 => {\n      let {\n        representation: e\n      } = _ref51;\n      return e === t;\n    })?.track;\n\n    if (e) {\n      this.params.output.currentVideoTrack$.next(e);\n      this.params.desiredState.videoTrack.getTransition() && this.params.desiredState.videoTrack.setState(e.id);\n    }\n  };\n  selectRepresentation = () => {\n    const t = this.currentRepresentation$.getValue();\n    return l(t, 'Can\\'t select representation. something went wrong'), t;\n  };\n\n  seek(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    this.log({\n      message: `[seek] position: ${t}`\n    }), this.params.output.willSeekEvent$.next(), this.dash.seek(t / 1e3, e);\n  }\n\n  playIfAllowed() {\n    Ot(this.video).then(t => {\n      t || (this.videoState.setState(ee.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED, !0));\n    });\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.videoState.getTransition(),\n          i = this.params.desiredState.playbackState.getState(),\n          s = this.params.desiredState.playbackState.getTransition(),\n          a = this.params.desiredState.seekState.getState();\n\n    if (this.log({\n      message: `[syncPlayback] videoState: ${t}; videoTransition: ${JSON.stringify(e)}; desiredPlaybackState: ${i}; seekState: ${JSON.stringify(a)};`\n    }), i !== P.STOPPED) {\n      if (!e) switch (s?.to !== P.PAUSED && a.state === L.Requested && ie.includes(t) && this.seek(a.position, a.forcePrecise), t) {\n        case ee.STOPPED:\n          return this.videoState.startTransitionTo(ee.MANIFEST_LOADED), void this.prepare();\n\n        case ee.MANIFEST_LOADED:\n          return void this.videoState.startTransitionTo(ee.INITIAL_REPRESENTATION_SELECTED);\n\n        case ee.INITIAL_REPRESENTATION_SELECTED:\n          return this.videoState.startTransitionTo(ee.METADATA_LOADED), void this.dash.startPlay(this.selectRepresentation());\n\n        case ee.METADATA_LOADED:\n          return this.videoState.startTransitionTo(ee.READY), void this.dash.updateRefsForCurrentTime();\n\n        case ee.READY:\n          return void (i === P.PAUSED ? (this.videoState.setState(ee.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED)) : i === P.PLAYING && (this.videoState.startTransitionTo(ee.PLAYING), this.playIfAllowed()));\n\n        case ee.PLAYING:\n          return void (i === P.PAUSED ? (this.videoState.startTransitionTo(ee.PAUSED), this.video.pause()) : s?.to === P.PLAYING && U(this.params.desiredState.playbackState, P.PLAYING));\n\n        case ee.PAUSED:\n          return void (i === P.PLAYING ? (this.videoState.startTransitionTo(ee.PLAYING), this.playIfAllowed()) : s?.to === P.PAUSED && U(this.params.desiredState.playbackState, P.PAUSED));\n\n        default:\n          return n(t);\n      }\n    } else t !== ee.STOPPED && (this.videoState.startTransitionTo(ee.STOPPED), this.dash.destroy(), this.video.setAttribute('src', ''), this.video.load(), this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.videoState.setState(ee.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0));\n  };\n}\n\nvar ae, re, ne, oe, de;\n!function (t) {\n  t.VIDEO = 'video', t.AUDIO = 'audio', t.TEXT = 'text';\n}(ae || (ae = {})), function (t) {\n  t.WEBM_AS_IN_SPEC = 'urn:mpeg:dash:profile:webm-on-demand:2012', t.WEBM_AS_IN_FFMPEG = 'urn:webm:dash:profile:webm-on-demand:2012';\n}(re || (re = {})), function (t) {\n  t.BYTE_RANGE = 'byteRange', t.TEMPLATE = 'template';\n}(ne || (ne = {})), function (t) {\n  t.NONE = 'none', t.DOWNLOADING = 'downloading', t.DOWNLOADED = 'downloaded', t.PARTIALLY_FED = 'partially_fed', t.FED = 'fed';\n}(oe || (oe = {})), function (t) {\n  t.MP4 = 'mp4', t.WEBM = 'webm';\n}(de || (de = {}));\n\nvar he = (t, e) => {\n  for (let i = 0; i < t.length; i++) {\n    if (1e3 * t.start(i) <= e && 1e3 * t.end(i) > e) return !0;\n  }\n\n  return !1;\n};\n\nconst ue = 'function' != typeof window.requestIdleCallback || 'function' != typeof window.cancelIdleCallback ? function (t) {\n  let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const i = e.timeout || 1,\n        s = performance.now();\n  return window.setTimeout(() => {\n    t({\n      get didTimeout() {\n        return !e.timeout && performance.now() - s - 1 > i;\n      },\n\n      timeRemaining: () => Math.max(0, performance.now() - s + 1)\n    });\n  }, 1);\n} : window.requestIdleCallback;\n\nvar ce = () => {\n  const {\n    userAgent: t\n  } = window.navigator;\n  return !/chrome/i.test(t) && /webkit|safari|khtml/i.test(t);\n};\n\nlet le = !1;\n\ntry {\n  le = ce() && parseInt(navigator.userAgent.match(/Version\\/(\\d+)/)?.[1] ?? '', 10) < 16;\n} catch (t) {\n  console.error(t);\n}\n\nclass pe {\n  bufferFull$ = new e();\n  error$ = new e();\n  buffer;\n  queue = [];\n  currentTask = null;\n  destroyed = !1;\n\n  constructor(t) {\n    this.buffer = t, this.buffer.addEventListener('updateend', this.completeTask);\n  }\n\n  async append(t, e) {\n    return (!e || !e.aborted) && new Promise(i => {\n      const s = {\n        operation: 'append',\n        data: t,\n        signal: e,\n        callback: i\n      };\n      this.queue.push(s), this.pull();\n    });\n  }\n\n  async remove(t, e, i) {\n    return (!i || !i.aborted) && new Promise(s => {\n      const a = {\n        operation: 'remove',\n        from: t,\n        to: e,\n        signal: i,\n        callback: s\n      };\n      this.queue.unshift(a), this.pull();\n    });\n  }\n\n  async abort(t) {\n    return new Promise(e => {\n      let i;\n      i = le && t ? {\n        operation: 'safariAbort',\n        init: t,\n        callback: e\n      } : {\n        operation: 'abort',\n        callback: e\n      };\n\n      for (const {\n        callback: t\n      } of this.queue) t(!1);\n\n      i && (this.queue = [i]), this.pull();\n    });\n  }\n\n  destroy() {\n    this.destroyed = !0, this.buffer.removeEventListener('updateend', this.completeTask);\n  }\n\n  completeTask = () => {\n    try {\n      if (this.currentTask) {\n        const t = this.currentTask.signal?.aborted;\n        this.currentTask.callback(!t), this.currentTask = null;\n      }\n\n      this.queue.length && this.pull();\n    } catch (t) {\n      this.error$.next({\n        id: 'BufferTaskQueueUnknown',\n        message: 'Buffer appending or removal failed',\n        thrown: t\n      });\n    }\n  };\n\n  pull() {\n    if (this.buffer.updating || this.currentTask || this.destroyed) return;\n    const t = this.queue.shift();\n    if (!t) return;\n    if (t.signal?.aborted) return t.callback(!1), void this.pull();\n    this.currentTask = t;\n    const {\n      operation: e\n    } = this.currentTask;\n\n    try {\n      this.execute(this.currentTask);\n    } catch (t) {\n      t instanceof DOMException && 'QuotaExceededError' === t.name && 'append' === e && this.bufferFull$.next(this.currentTask.data.byteLength), t instanceof DOMException && 'InvalidStateError' === t.name && 'remove' === e || this.error$.next({\n        id: `BufferTaskQueue:${e}`,\n        message: 'Buffer operation failed',\n        thrown: t\n      }), this.currentTask.callback(!1), this.currentTask = null;\n    }\n\n    this.currentTask && 'abort' === this.currentTask.operation && this.completeTask();\n  }\n\n  execute(t) {\n    const {\n      operation: e\n    } = t;\n\n    switch (e) {\n      case 'append':\n        this.buffer.appendBuffer(t.data);\n        break;\n\n      case 'remove':\n        this.buffer.remove(t.from / 1e3, t.to / 1e3);\n        break;\n\n      case 'abort':\n        this.buffer.abort();\n        break;\n\n      case 'safariAbort':\n        this.buffer.abort(), this.buffer.appendBuffer(t.init);\n        break;\n\n      default:\n        n(e);\n    }\n  }\n\n}\n\nvar me;\n!function (t) {\n  t[t.HEADER = 0] = 'HEADER', t[t.PARAM = 1] = 'PARAM';\n}(me || (me = {}));\n\nclass fe {\n  throughputEstimator;\n  requestQuic;\n  lastConnectionType$ = new t(void 0);\n  lastConnectionReused$ = new t(void 0);\n  lastRequestFirstBytes$ = new t(void 0);\n  abortAllController = new it();\n  subscription = new i();\n\n  constructor(_ref52) {\n    let {\n      throughputEstimator: t,\n      requestQuic: e\n    } = _ref52;\n    this.throughputEstimator = t, this.requestQuic = e;\n  }\n\n  onHeadersReceived(t) {\n    const {\n      type: e,\n      reused: i\n    } = Jt(t);\n    this.lastConnectionType$.next(e), this.lastConnectionReused$.next(i);\n  }\n\n  fetchManifest = T(this.abortAllController.signal, async function* (t) {\n    let e = t;\n    this.requestQuic && (e = ht(e));\n    const i = yield et(e, {\n      signal: this.abortAllController.signal\n    }).catch(ge);\n    return i ? (this.onHeadersReceived(i.headers), i.text()) : null;\n  }.bind(this));\n  fetch = T(this.abortAllController.signal, async function* (t) {\n    let {\n      rangeMethod: e = me.HEADER,\n      range: i,\n      onProgress: s,\n      priority: a = 'auto',\n      signal: d,\n      measureThroughput: h = !0\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let u = t;\n    const c = new Headers();\n    if (i) switch (e) {\n      case me.HEADER:\n        c.append('Range', `${i.from}-${i.to}`);\n        break;\n\n      case me.PARAM:\n        {\n          const t = new URL(u, location.href);\n          t.searchParams.append('bytes', `${i.from}-${i.to}`), u = t.toString();\n          break;\n        }\n\n      default:\n        n(e);\n    }\n    this.requestQuic && (u = ht(u));\n    let l = this.abortAllController.signal;\n\n    if (d) {\n      const t = new it();\n      if (this.subscription.add(o(r(this.abortAllController.signal, 'abort'), r(d, 'abort')).subscribe(() => {\n        try {\n          t.abort();\n        } catch (t) {\n          ge(t);\n        }\n      })), this.abortAllController.signal.aborted || d.aborted) try {\n        t.abort();\n      } catch (t) {\n        ge(t);\n      }\n      l = t.signal;\n    }\n\n    const p = S(),\n          m = yield et(u, {\n      priority: a,\n      headers: c,\n      signal: l\n    }).catch(ge),\n          f = S();\n    if (this.throughputEstimator?.addRawRtt(f - p), !m) return null;\n    if (!m.ok || !m.body) return Promise.reject(new Error(`Fetch error ${m.status}: ${m.statusText}`));\n    this.onHeadersReceived(m.headers);\n    const g = parseInt(m.headers.get('Content-Length') ?? '', 10) || i && i.to - i.from + 1 || NaN;\n\n    if (!g) {\n      const t = yield m.arrayBuffer();\n      return this.throughputEstimator?.addRawSpeed(t.byteLength, S() - f), s?.(new DataView(t), t.byteLength), t;\n    }\n\n    if (!s && !h) return m.arrayBuffer();\n    const [b, v] = m.body.tee(),\n          y = b.getReader();\n    h && this.throughputEstimator?.trackStream(v);\n    let E = 0;\n    const $ = new ArrayBuffer(g),\n          w = new Uint8Array($),\n          k = new DataView($);\n    let A = !1;\n\n    const P = t => {\n      A = !0, ge(t);\n    },\n          R = T(l, async function* (_ref53) {\n      let {\n        done: t,\n        value: e\n      } = _ref53;\n      0 === E && this.lastRequestFirstBytes$.next(S() - p), l.aborted || (t ? s?.(k, E) : e && (w.set(e, E), E += e.byteLength, s?.(k, E), yield y?.read().then(R, P)));\n    }.bind(this));\n\n    return yield y?.read().then(R, P), A ? null : $;\n  }.bind(this));\n\n  async fetchRepresentation(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n    const {\n      type: s\n    } = t;\n\n    switch (s) {\n      case ne.BYTE_RANGE:\n        return (await this.fetchByteRangeRepresentation(t, e, i)) ?? null;\n\n      case ne.TEMPLATE:\n        return (await this.fetchTemplateRepresentation(t, i)) ?? null;\n\n      default:\n        n(s);\n    }\n  }\n\n  destroy() {\n    this.abortAllController.abort(), this.subscription.unsubscribe();\n  }\n\n  fetchByteRangeRepresentation = T(this.abortAllController.signal, async function* (t, e, i) {\n    if (t.type !== ne.BYTE_RANGE) return null;\n    const {\n      from: s,\n      to: a\n    } = t.initRange;\n    let r,\n        n,\n        o = s,\n        d = a,\n        h = !1;\n    t.indexRange && (r = t.indexRange.from, n = t.indexRange.to, h = a + 1 === r, h && (o = Math.min(r, s), d = Math.max(n, a))), o = Math.min(o, 0);\n    const u = yield this.fetch(t.url, {\n      rangeMethod: me.PARAM,\n      range: {\n        from: o,\n        to: d\n      },\n      priority: i,\n      measureThroughput: !1\n    });\n    if (!u) return null;\n    const c = new DataView(u, s - o, a - o + 1);\n    if (!e.validateData(c)) throw new Error('Invalid media file');\n    const l = e.parseInit(c);\n    let p;\n    if (h && void 0 !== r && void 0 !== n) p = new DataView(u, r - o, n - r + 1);else {\n      const s = e.getIndexRange(l);\n\n      if (s) {\n        const e = yield this.fetch(t.url, {\n          rangeMethod: me.PARAM,\n          range: s,\n          priority: i,\n          measureThroughput: !1\n        });\n        if (!e) return null;\n        p = new DataView(e);\n      }\n    }\n    if (!p) throw new ReferenceError('No way to load representation index');\n    const m = e.parseSegments(p, l);\n    return {\n      dataView: new DataView(u),\n      segments: m\n    };\n  }.bind(this));\n  fetchTemplateRepresentation = T(this.abortAllController.signal, async function* (t, e) {\n    if (t.type !== ne.TEMPLATE) return null;\n    const i = new URL(t.initUrl, t.baseUrl).toString(),\n          s = yield this.fetch(i, {\n      priority: e,\n      measureThroughput: !1\n    });\n    if (!s) return null;\n    return {\n      segments: t.segments.map(t => ({ ...t,\n        status: oe.NONE,\n        size: void 0\n      })),\n      dataView: new DataView(s)\n    };\n  }.bind(this));\n}\n\nconst ge = t => {\n  if (!(t instanceof DOMException) || 'AbortError' !== t.name && 20 !== t.code) throw t;\n},\n      Se = new TextDecoder('ascii'),\n      be = t => {\n  let e = 0,\n      i = t.getUint32(e);\n  e += 4;\n  const s = new DataView(t.buffer, t.byteOffset + e, 4),\n        a = Se.decode(s);\n  e += 4, 0 === i ? i = 1 / 0 : 1 === i && (e += 8, i = 1 / 0);\n  const r = Math.min(i, t.byteLength) - e;\n  return {\n    id: a,\n    size: i,\n    contents: new DataView(t.buffer, t.byteOffset + e, r)\n  };\n},\n      ve = {\n  validateData: t => 'ftyp' === Se.decode(new DataView(t.buffer, t.byteOffset + 4, 4)),\n  parseInit: () => null,\n  getIndexRange: () => {},\n  parseSegments: t => {\n    const e = be(t),\n          i = [];\n    let s = 0;\n\n    const a = () => {\n      const t = e.contents.getUint32(s);\n      return s += 4, t;\n    };\n\n    if (0 !== (4278190080 & a())) throw new SyntaxError('Unsupported sidx version');\n    a();\n    const r = a(),\n          n = a(),\n          o = a(),\n          d = 4294967295 & a();\n    let h = n / r * 1e3,\n        u = t.byteOffset + t.byteLength + o;\n\n    for (let t = 0; t < d; t++) {\n      const t = a(),\n            e = t >>> 31,\n            s = t << 1 >>> 1,\n            n = a();\n      if (a(), 0 !== e) throw new Error('Unsupported multilevel sidx');\n      const o = n / r * 1e3;\n      i.push({\n        status: oe.NONE,\n        time: {\n          from: h,\n          to: h + o\n        },\n        byte: {\n          from: u,\n          to: u + s - 1\n        }\n      }), h += o, u += s;\n    }\n\n    return i;\n  },\n  parseFeedableSegmentChunk: t => {\n    let e = 0,\n        i = !1,\n        s = !1;\n\n    for (; e <= t.byteLength && !i;) {\n      const a = new DataView(t.buffer, t.byteOffset + e);\n\n      try {\n        const i = be(a);\n        if (s ||= 'mdat' === i.id, !(e + i.size <= t.byteLength)) break;\n        e += i.size;\n      } catch (t) {\n        i = !0;\n      }\n    }\n\n    return e > 0 && e <= t.byteLength && s ? new DataView(t.buffer, t.byteOffset, e) : null;\n  }\n};\n\nvar ye, Te;\n!function (t) {\n  t[t.EBML = 440786851] = 'EBML', t[t.EBMLVersion = 17030] = 'EBMLVersion', t[t.EBMLReadVersion = 17143] = 'EBMLReadVersion', t[t.EBMLMaxIDLength = 17138] = 'EBMLMaxIDLength', t[t.EBMLMaxSizeLength = 17139] = 'EBMLMaxSizeLength', t[t.DocType = 17026] = 'DocType', t[t.DocTypeVersion = 17031] = 'DocTypeVersion', t[t.DocTypeReadVersion = 17029] = 'DocTypeReadVersion', t[t.Void = 236] = 'Void', t[t.Segment = 408125543] = 'Segment', t[t.SeekHead = 290298740] = 'SeekHead', t[t.Seek = 19899] = 'Seek', t[t.SeekID = 21419] = 'SeekID', t[t.SeekPosition = 21420] = 'SeekPosition', t[t.Info = 357149030] = 'Info', t[t.TimestampScale = 2807729] = 'TimestampScale', t[t.Duration = 17545] = 'Duration', t[t.Tracks = 374648427] = 'Tracks', t[t.Chapters = 272869232] = 'Chapters', t[t.Cluster = 524531317] = 'Cluster', t[t.Timestamp = 231] = 'Timestamp', t[t.SilentTracks = 22612] = 'SilentTracks', t[t.SilentTrackNumber = 22743] = 'SilentTrackNumber', t[t.Position = 167] = 'Position', t[t.PrevSize = 171] = 'PrevSize', t[t.SimpleBlock = 163] = 'SimpleBlock', t[t.BlockGroup = 160] = 'BlockGroup', t[t.EncryptedBlock = 175] = 'EncryptedBlock', t[t.Attachments = 423732329] = 'Attachments', t[t.Tags = 307544935] = 'Tags', t[t.Cues = 475249515] = 'Cues', t[t.CuePoint = 187] = 'CuePoint', t[t.CueTime = 179] = 'CueTime', t[t.CueTrackPositions = 183] = 'CueTrackPositions', t[t.CueTrack = 247] = 'CueTrack', t[t.CueClusterPosition = 241] = 'CueClusterPosition', t[t.CueRelativePosition = 240] = 'CueRelativePosition', t[t.CueDuration = 178] = 'CueDuration', t[t.CueBlockNumber = 21368] = 'CueBlockNumber', t[t.CueCodecState = 234] = 'CueCodecState', t[t.CueReference = 219] = 'CueReference', t[t.CueRefTime = 150] = 'CueRefTime';\n}(ye || (ye = {})), function (t) {\n  t.SignedInteger = 'int', t.UnsignedInteger = 'uint', t.Float = 'float', t.String = 'string', t.UTF8 = 'utf8', t.Date = 'date', t.Master = 'master', t.Binary = 'binary';\n}(Te || (Te = {}));\n\nconst Ee = {\n  [ye.EBML]: {\n    type: Te.Master\n  },\n  [ye.EBMLVersion]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.EBMLReadVersion]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.EBMLMaxIDLength]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.EBMLMaxSizeLength]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.DocType]: {\n    type: Te.String\n  },\n  [ye.DocTypeVersion]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.DocTypeReadVersion]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.Void]: {\n    type: Te.Binary\n  },\n  [ye.Segment]: {\n    type: Te.Master\n  },\n  [ye.SeekHead]: {\n    type: Te.Master\n  },\n  [ye.Seek]: {\n    type: Te.Master\n  },\n  [ye.SeekID]: {\n    type: Te.Binary\n  },\n  [ye.SeekPosition]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.Info]: {\n    type: Te.Master\n  },\n  [ye.TimestampScale]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.Duration]: {\n    type: Te.Float\n  },\n  [ye.Tracks]: {\n    type: Te.Master\n  },\n  [ye.Chapters]: {\n    type: Te.Master\n  },\n  [ye.Cluster]: {\n    type: Te.Master\n  },\n  [ye.Timestamp]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.SilentTracks]: {\n    type: Te.Master\n  },\n  [ye.SilentTrackNumber]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.Position]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.PrevSize]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.SimpleBlock]: {\n    type: Te.Binary\n  },\n  [ye.BlockGroup]: {\n    type: Te.Master\n  },\n  [ye.EncryptedBlock]: {\n    type: Te.Binary\n  },\n  [ye.Attachments]: {\n    type: Te.Master\n  },\n  [ye.Tags]: {\n    type: Te.Master\n  },\n  [ye.Cues]: {\n    type: Te.Master\n  },\n  [ye.CuePoint]: {\n    type: Te.Master\n  },\n  [ye.CueTime]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.CueTrackPositions]: {\n    type: Te.Master\n  },\n  [ye.CueTrack]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.CueClusterPosition]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.CueRelativePosition]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.CueDuration]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.CueBlockNumber]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.CueCodecState]: {\n    type: Te.UnsignedInteger\n  },\n  [ye.CueReference]: {\n    type: Te.Master\n  },\n  [ye.CueRefTime]: {\n    type: Te.UnsignedInteger\n  }\n},\n      $e = t => {\n  const e = t.getUint8(0);\n  let i = 0;\n  128 & e ? i = 1 : 64 & e ? i = 2 : 32 & e ? i = 3 : 16 & e && (i = 4);\n  const s = we(t, i),\n        a = (s in Ee),\n        r = a ? Ee[s].type : Te.Binary,\n        n = t.getUint8(i);\n  let o = 0;\n  128 & n ? o = 1 : 64 & n ? o = 2 : 32 & n ? o = 3 : 16 & n ? o = 4 : 8 & n ? o = 5 : 4 & n ? o = 6 : 2 & n ? o = 7 : 1 & n && (o = 8);\n  const d = new DataView(t.buffer, t.byteOffset + i + 1, o - 1),\n        h = ((n & 255 >> o) << 8 * (o - 1)) + we(d),\n        u = i + o;\n  let c;\n  return c = u + h > t.byteLength ? new DataView(t.buffer, t.byteOffset + u) : new DataView(t.buffer, t.byteOffset + u, h), {\n    tag: a ? s : '0x' + s.toString(16).toUpperCase(),\n    type: r,\n    tagHeaderSize: u,\n    tagSize: u + h,\n    value: c,\n    valueSize: h\n  };\n},\n      we = function (t) {\n  let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t.byteLength;\n\n  switch (e) {\n    case 1:\n      return t.getUint8(0);\n\n    case 2:\n      return t.getUint16(0);\n\n    case 3:\n      return t.getUint16(0) << 8 | t.getUint8(2);\n\n    case 4:\n      return t.getUint32(0);\n\n    case 5:\n      return t.getUint32(0) << 8 | t.getUint8(4);\n\n    case 6:\n      return t.getUint32(0) << 16 | t.getUint16(4);\n\n    case 7:\n      return t.getUint32(0) << 32 | t.getUint16(4) << 8 | t.getUint8(6);\n\n    case 8:\n      return t.getUint32(0) << 32 | t.getUint32(4);\n  }\n\n  return 0;\n},\n      ke = (t, e) => {\n  switch (e) {\n    case Te.SignedInteger:\n      return t.getInt8(0);\n\n    case Te.UnsignedInteger:\n      return we(t);\n\n    case Te.Float:\n      return 4 === t.byteLength ? t.getFloat32(0) : t.getFloat64(0);\n\n    case Te.String:\n      return new TextDecoder('ascii').decode(t);\n\n    case Te.UTF8:\n      return new TextDecoder('utf-8').decode(t);\n\n    case Te.Date:\n      return new Date(Date.UTC(2001, 0) + t.getInt8(0)).getTime();\n\n    case Te.Master:\n    case Te.Binary:\n      return t;\n\n    default:\n      n(e);\n  }\n},\n      Ae = (t, e) => {\n  let i = 0;\n\n  for (; i < t.byteLength;) {\n    const s = new DataView(t.buffer, t.byteOffset + i),\n          a = $e(s);\n    if (!e(a)) return;\n    a.type === Te.Master && Ae(a.value, e), i = a.value.byteOffset - t.byteOffset + a.valueSize;\n  }\n},\n      Pe = [ye.Info, ye.SeekHead, ye.Tracks, ye.Chapters, ye.Cluster, ye.Cues, ye.Attachments, ye.Tags],\n      Re = [ye.Timestamp, ye.SilentTracks, ye.SilentTrackNumber, ye.Position, ye.PrevSize, ye.SimpleBlock, ye.BlockGroup, ye.EncryptedBlock],\n      De = {\n  validateData: t => {\n    if (t.getUint32(0) !== ye.EBML) return !1;\n    let e, i, s;\n    const a = $e(t);\n    return Ae(a.value, _ref54 => {\n      let {\n        tag: t,\n        type: a,\n        value: r\n      } = _ref54;\n      return t === ye.EBMLReadVersion ? e = ke(r, a) : t === ye.DocType ? i = ke(r, a) : t === ye.DocTypeReadVersion && (s = ke(r, a)), !0;\n    }), (void 0 === e || e <= 1) && void 0 !== i && 'webm' === i && (void 0 === s || s <= 2);\n  },\n  parseInit: t => {\n    let e,\n        i,\n        s,\n        a,\n        r,\n        n,\n        o = !1,\n        d = !1,\n        h = !1;\n    return Ae(t, _ref55 => {\n      let {\n        tag: t,\n        type: u,\n        value: c,\n        valueSize: l\n      } = _ref55;\n\n      if (t === ye.SeekID) {\n        const t = ke(c, u);\n        n = we(t);\n      } else t !== ye.SeekPosition && (n = void 0);\n\n      return t === ye.Segment ? (e = c.byteOffset, i = c.byteOffset + l) : t === ye.Info ? o = !0 : t === ye.SeekHead ? d = !0 : t === ye.TimestampScale ? s = ke(c, u) : t === ye.Duration ? a = ke(c, u) : t === ye.SeekPosition && n === ye.Cues ? r = ke(c, u) : o && d && Pe.includes(t) && (h = !0), !h;\n    }), l(e, 'Failed to parse webm Segment start'), l(i, 'Failed to parse webm Segment end'), l(a, 'Failed to parse webm Segment duration'), s = s ?? 1e6, {\n      segmentStart: Math.round(e / 1e9 * s * 1e3),\n      segmentEnd: Math.round(i / 1e9 * s * 1e3),\n      timeScale: s,\n      segmentDuration: Math.round(a / 1e9 * s * 1e3),\n      cuesSeekPosition: r\n    };\n  },\n  getIndexRange: t => {\n    if (a(t.cuesSeekPosition)) return;\n    const e = t.segmentStart + t.cuesSeekPosition;\n    return {\n      from: e,\n      to: e + 1048576\n    };\n  },\n  parseSegments: (t, e) => {\n    let i = !1,\n        a = !1;\n\n    const r = t => s(t.time) && s(t.position),\n          n = [];\n\n    let o;\n    return Ae(t, _ref56 => {\n      let {\n        tag: t,\n        type: e,\n        value: s\n      } = _ref56;\n\n      switch (t) {\n        case ye.Cues:\n          i = !0;\n          break;\n\n        case ye.CuePoint:\n          o && r(o) && n.push(o), o = {};\n          break;\n\n        case ye.CueTime:\n          o && (o.time = ke(s, e));\n          break;\n\n        case ye.CueTrackPositions:\n          break;\n\n        case ye.CueClusterPosition:\n          o && (o.position = ke(s, e));\n          break;\n\n        default:\n          i && Pe.includes(t) && (a = !0);\n      }\n\n      return !(i && a);\n    }), o && r(o) && n.push(o), n.map((t, i) => {\n      const {\n        time: s,\n        position: a\n      } = t,\n            r = n[i + 1];\n      return {\n        status: oe.NONE,\n        time: {\n          from: s,\n          to: r ? r.time : e.segmentDuration\n        },\n        byte: {\n          from: e.segmentStart + a,\n          to: r ? e.segmentStart + r.position - 1 : e.segmentEnd - 1\n        }\n      };\n    });\n  },\n  parseFeedableSegmentChunk: t => {\n    let e = 0,\n        i = !1;\n\n    try {\n      Ae(t, s => s.tag === ye.Cluster ? s.tagSize <= t.byteLength ? (e = s.tagSize, !1) : (e += s.tagHeaderSize, !0) : !!Re.includes(s.tag) && (e + s.tagSize <= t.byteLength && (e += s.tagSize, i ||= [ye.SimpleBlock, ye.BlockGroup, ye.EncryptedBlock].includes(s.tag)), !0));\n    } catch (t) {}\n\n    return e > 0 && e <= t.byteLength && i ? new DataView(t.buffer, t.byteOffset, e) : null;\n  }\n};\n\nclass _e {\n  onLastSegment$ = new t(!1);\n  fullyBuffered$ = new t(!1);\n  playingRepresentation$ = new t(void 0);\n  error$ = new e();\n  gaps = [];\n  subscription = new i();\n  kind;\n  container;\n  containerParser;\n  initData;\n  representations;\n  segments;\n  allInitsLoaded = !1;\n  activeSegments = new Set();\n  mediaSource;\n  playingRepresentationId;\n  downloadingRepresentationId;\n  switchingToRepresentationId;\n  sourceBuffer;\n  downloadAbortController = new it();\n  destroyAbortController = new it();\n  getCurrentPosition;\n  tuning;\n  forwardBufferTarget;\n  fetcher;\n  bufferLimit = 1 / 0;\n  sourceBufferTaskQueue;\n  gapDetectionIdleCallback;\n  initLoadIdleCallback;\n  failedDownloads = 0;\n\n  constructor(t, e, i, s, _ref57) {\n    let {\n      fetcher: a,\n      tuning: r,\n      getCurrentPosition: o\n    } = _ref57;\n\n    switch (this.fetcher = a, this.tuning = r, this.forwardBufferTarget = r.dash.forwardBufferTargetAuto, this.getCurrentPosition = o, this.container = i, i) {\n      case de.MP4:\n        this.containerParser = ve;\n        break;\n\n      case de.WEBM:\n        this.containerParser = De;\n        break;\n\n      default:\n        n(i);\n    }\n\n    this.initData = new Map(s.map(t => [t.id, null])), this.segments = new Map(), this.representations = new Map(s.map(t => [t.id, t])), this.kind = t, this.mediaSource = e, this.sourceBuffer = null;\n  }\n\n  startWith = T(this.destroyAbortController.signal, async function* (t) {\n    const e = this.representations.get(t);\n    l(e, `Cannot find representation ${t}`), this.playingRepresentationId = t, this.downloadingRepresentationId = t, this.sourceBuffer = this.mediaSource.addSourceBuffer(`${e.mime}; codecs=\"${e.codecs}\"`), this.sourceBufferTaskQueue = new pe(this.sourceBuffer), this.subscription.add(r(this.sourceBuffer, 'updateend').subscribe(() => this.checkEjectedSegments(), t => this.error$.next({\n      id: 'SegmentEjection',\n      message: 'Error when trying to clear segments ejected by browser',\n      thrown: t\n    }))), this.subscription.add(r(this.sourceBuffer, 'error').subscribe(() => this.error$.next({\n      id: 'SourceBuffer',\n      message: 'SourceBuffer Error event fired'\n    }))), this.subscription.add(this.sourceBufferTaskQueue.bufferFull$.subscribe(t => this.pruneBuffer(t))), this.subscription.add(this.sourceBufferTaskQueue.error$.subscribe(t => this.error$.next(t))), yield this.loadInit(e, 'high', !0);\n    const i = this.initData.get(e.id),\n          a = this.segments.get(e.id);\n    if (l(i, 'No init buffer for starting representation'), l(a, 'No segments for starting representation'), !(i instanceof ArrayBuffer)) return;\n    let n = 0;\n\n    for (const t of a) t.time.from - n >= 300 && this.gaps.push({\n      representation: e.id,\n      from: n,\n      to: t.time.from\n    }), n = t.time.to;\n\n    s(e.duration) && e.duration - n >= 300 && this.gaps.push({\n      representation: e.id,\n      from: n,\n      to: e.duration\n    }), yield this.sourceBufferTaskQueue.append(i, this.destroyAbortController.signal), this.playingRepresentation$.next(this.playingRepresentationId);\n  }.bind(this));\n  switchTo = T(this.destroyAbortController.signal, async function* (t) {\n    if (t === this.downloadingRepresentationId || t === this.switchingToRepresentationId) return;\n    this.switchingToRepresentationId = t;\n    const e = this.representations.get(t);\n    l(e, `No such representation ${t}`);\n    let i = this.initData.get(t);\n    if (a(i) ? yield this.loadInit(e, 'high', !1) : i instanceof Promise && (yield i), i = this.initData.get(t), !(i && i instanceof ArrayBuffer && this.sourceBuffer)) return;\n    this.switchingToRepresentationId = void 0, this.downloadingRepresentationId = t, this.abort(), yield this.sourceBufferTaskQueue.append(i, this.downloadAbortController.signal);\n    const r = this.getCurrentPosition();\n    s(r) && this.maintain(r);\n  }.bind(this));\n\n  abort() {\n    for (const t of this.activeSegments) this.abortSegment(t.segment);\n\n    this.activeSegments.clear(), this.downloadAbortController.abort(), this.downloadAbortController = new it(), this.abortBuffer();\n  }\n\n  maintain(t) {\n    if (a(this.downloadingRepresentationId) || a(this.playingRepresentationId) || a(this.sourceBuffer)) return;\n    const e = this.representations.get(this.downloadingRepresentationId),\n          i = this.segments.get(this.downloadingRepresentationId);\n    if (l(e, `No such representation ${this.downloadingRepresentationId}`), !i) return;\n    const s = i.find(e => t >= e.time.from && t < e.time.to);\n    let r = t;\n\n    if (this.playingRepresentationId !== this.downloadingRepresentationId) {\n      const e = 100,\n            i = Xt(this.sourceBuffer.buffered, t),\n            a = s ? s.time.to + e : -1 / 0;\n      s && i >= s.time.to - t + e && (r = a);\n    }\n\n    let n = [];\n    if (isFinite(this.bufferLimit) && (t => {\n      let e = 0;\n\n      for (let i = 0; i < t.length; i++) e += t.end(i) - t.start(i);\n\n      return 1e3 * e;\n    })(this.sourceBuffer.buffered) >= .8 * this.bufferLimit) this.pruneBuffer(1 / 0);else if (!this.activeSegments.size && (n = this.selectForwardBufferSegments(i, e.segmentReference.type, r), n.length)) {\n      let t = 'auto';\n      if (this.tuning.dash.useFetchPriorityHints && s) if (n.includes(s)) t = 'high';else {\n        const e = n.at(0);\n        e && e.time.from - s.time.to >= this.forwardBufferTarget / 2 && (t = 'low');\n      }\n      this.loadSegments(n, e, t);\n    }\n    !this.allInitsLoaded && s && s.status === oe.FED && !n.length && Xt(this.sourceBuffer.buffered, t) > 3e3 && this.loadNextInit();\n    const o = i.at(-1);\n    o && o.status === oe.FED && (this.fullyBuffered$.next(!0), this.onLastSegment$.next(s === o));\n  }\n\n  findSegmentStartTime(t) {\n    const e = this.switchingToRepresentationId ?? this.downloadingRepresentationId ?? this.playingRepresentationId;\n    if (!e) return;\n    const i = this.segments.get(e);\n    if (!i) return;\n    return i.find(e => e.time.from <= t && e.time.to >= t)?.time.from ?? void 0;\n  }\n\n  setTarget(t) {\n    this.forwardBufferTarget = t;\n  }\n\n  destroy() {\n    this.initData.clear(), this.segments.clear(), this.representations.clear(), this.sourceBufferTaskQueue?.destroy(), this.gapDetectionIdleCallback && window.cancelIdleCallback && window.cancelIdleCallback(this.gapDetectionIdleCallback), this.initLoadIdleCallback && window.cancelIdleCallback && window.cancelIdleCallback(this.initLoadIdleCallback), this.subscription.unsubscribe(), this.sourceBuffer && 'open' === this.mediaSource.readyState && (this.abortBuffer(), this.mediaSource.removeSourceBuffer(this.sourceBuffer)), this.sourceBuffer = null, this.downloadAbortController.abort(), this.destroyAbortController.abort();\n  }\n\n  selectForwardBufferSegments(t, e, i) {\n    const s = t.findIndex(_ref58 => {\n      let {\n        status: t,\n        time: {\n          from: e,\n          to: s\n        }\n      } = _ref58;\n      return t === oe.NONE && (e > i || e <= i && s >= i) && s <= i + this.forwardBufferTarget;\n    });\n    if (-1 === s) return [];\n    if (e !== ne.BYTE_RANGE) return t.slice(s, s + 1);\n    const a = t;\n    let r = 0;\n    const n = [];\n\n    for (let t = s; t < a.length && r <= this.tuning.dash.segmentRequestSize; t++) {\n      const e = a[t];\n      if (r += e.byte.to + 1 - e.byte.from, e.status !== oe.NONE) break;\n      n.push(e);\n    }\n\n    return n;\n  }\n\n  async loadSegments(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n    if (!t.length) return;\n    let s,\n        a,\n        r = t;\n    const {\n      type: o\n    } = e.segmentReference;\n\n    switch (o) {\n      case ne.BYTE_RANGE:\n        s = e.segmentReference.url, a = {\n          from: t.at(0).byte.from,\n          to: t.at(-1).byte.to\n        };\n        break;\n\n      case ne.TEMPLATE:\n        {\n          const i = t.at(0);\n          s = new URL(i.url, e.segmentReference.baseUrl).toString(), r = [i];\n          break;\n        }\n\n      default:\n        n(o);\n    }\n\n    for (const t of r) t.status = oe.DOWNLOADING, this.activeSegments.add({\n      segment: t,\n      loadedBytes: 0,\n      fedBytes: 0,\n      representationId: e.id\n    });\n\n    const {\n      signal: d\n    } = this.downloadAbortController;\n    if (this.failedDownloads && (await T(d, async function* () {\n      const t = E(this.failedDownloads, this.tuning.downloadBackoff);\n      yield new Promise(e => setTimeout(e, t));\n    }.bind(this))(), d.aborted)) for (const e of this.activeSegments) t.includes(e.segment) && this.abortSegment(e.segment);\n    this.fetcher.fetch(s, {\n      rangeMethod: me.PARAM,\n      range: a,\n      onProgress: (t, i) => {\n        if (!d.aborted) try {\n          this.onSomeDataLoaded(t, e.id, a ? a.from : 0, i, d);\n        } catch (t) {\n          this.error$.next({\n            id: 'SegmentFeeding',\n            message: 'Error when feeding segments',\n            thrown: t\n          });\n        }\n      },\n      signal: d,\n      priority: i\n    }).then(() => this.failedDownloads = 0, e => {\n      for (const e of this.activeSegments) t.includes(e.segment) && this.abortSegment(e.segment);\n\n      this.onSegmentDownloadError(e);\n    });\n  }\n\n  onSegmentDownloadError(t) {\n    let e = !1;\n    const i = this.getCurrentPosition();\n\n    if (this.sourceBuffer && s(i)) {\n      e = Xt(this.sourceBuffer?.buffered, i) >= this.tuning.downloadBackoff.bufferThreshold;\n    }\n\n    this.failedDownloads++, e || this.error$.next({\n      id: 'SegmentDownload',\n      message: 'Error when fetching segments',\n      thrown: t\n    });\n  }\n\n  onSomeDataLoaded(t, e, i, s, a) {\n    if (!this.activeSegments.size) return;\n\n    const r = t => {\n      this.abortSegment(t.segment);\n    },\n          n = t => {\n      this.playingRepresentationId = e, this.playingRepresentation$.next(this.playingRepresentationId), t.segment.status = oe.FED, 'size' in t.segment && (t.segment.size = t.fedBytes);\n\n      for (const i of this.representations.values()) if (i.id !== e) for (const e of this.segments.get(i.id) ?? []) e.status === oe.FED && e.time.from === t.segment.time.from && e.time.to === t.segment.time.to && (e.status = oe.NONE);\n\n      this.activeSegments.delete(t), this.detectGapsWhenIdle(e, [t.segment]);\n    },\n          o = this.representations.get(e);\n\n    if (!o) return;\n    const d = o.segmentReference.type,\n          h = t.byteLength;\n\n    for (const o of this.activeSegments) {\n      const {\n        segment: u\n      } = o,\n            c = d === ne.BYTE_RANGE,\n            l = c ? u.byte.to - u.byte.from + 1 : h;\n      if (o.representationId !== e) continue;\n      if (!(!c || u.byte.from >= i && u.byte.to < i + t.byteLength)) continue;\n\n      if (a.aborted) {\n        r(o);\n        continue;\n      }\n\n      const p = c ? u.byte.from - i : 0,\n            m = p < s,\n            f = (c ? u.byte.to - i : t.byteLength) <= s;\n\n      if (u.status === oe.DOWNLOADING && m && f) {\n        u.status = oe.DOWNLOADED, this.activeSegments.delete(o);\n        const e = new DataView(t.buffer, t.byteOffset + p, l);\n        this.sourceBufferTaskQueue.append(e, a).then(t => t && !a.aborted ? n(o) : r(o));\n      } else if (this.tuning.dash.enableSubSegmentBufferFeeding && m && (o.loadedBytes = Math.min(l, s - p), o.loadedBytes > o.fedBytes)) {\n        const e = new DataView(t.buffer, t.byteOffset + p + o.fedBytes, o.loadedBytes - o.fedBytes),\n              i = o.loadedBytes === l ? e : this.containerParser.parseFeedableSegmentChunk(e);\n        i?.byteLength && (u.status = oe.PARTIALLY_FED, o.fedBytes += i.byteLength, this.sourceBufferTaskQueue.append(i, a).then(t => {\n          !t || a.aborted ? r(o) : o.fedBytes === l && n(o);\n        }));\n      }\n    }\n  }\n\n  abortSegment(t) {\n    t.status === oe.PARTIALLY_FED ? (this.sourceBufferTaskQueue.remove(t.time.from, t.time.to).then(() => t.status = oe.NONE), t.status = oe.NONE) : t.status = oe.NONE;\n\n    for (const e of this.activeSegments.values()) if (e.segment === t) {\n      this.activeSegments.delete(e);\n      break;\n    }\n  }\n\n  loadNextInit() {\n    if (this.allInitsLoaded || this.initLoadIdleCallback) return;\n    let t = null,\n        e = !1;\n\n    for (const [i, s] of this.initData.entries()) {\n      const a = s instanceof Promise;\n      e ||= a, null === s && (t = i);\n    }\n\n    if (!t) return void (this.allInitsLoaded = !0);\n    if (e) return;\n    const i = this.representations.get(t);\n    i && (this.initLoadIdleCallback = ue(() => this.loadInit(i, 'low', !1).finally(() => this.initLoadIdleCallback = null)));\n  }\n\n  async loadInit(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    const s = this.tuning.dash.useFetchPriorityHints ? e : 'auto',\n          a = (!i && this.failedDownloads > 0 ? T(this.destroyAbortController.signal, async function* () {\n      const t = E(this.failedDownloads, this.tuning.downloadBackoff);\n      yield new Promise(e => setTimeout(e, t));\n    }.bind(this))() : Promise.resolve()).then(() => this.fetcher.fetchRepresentation(t.segmentReference, this.containerParser, s)).then(e => {\n      if (!e) return;\n      const {\n        dataView: i,\n        segments: s\n      } = e,\n            a = i.buffer.slice(i.byteOffset, i.byteOffset + i.byteLength);\n      this.initData.set(t.id, a), this.segments.set(t.id, s);\n    }).then(() => this.failedDownloads = 0, e => {\n      this.initData.set(t.id, null), i && this.error$.next({\n        id: 'LoadInits',\n        message: 'loadInit threw',\n        thrown: e\n      });\n    });\n    return this.initData.set(t.id, a), a;\n  }\n\n  async pruneBuffer(t) {\n    const e = this.getCurrentPosition();\n    if (!this.sourceBuffer || !this.playingRepresentationId || a(e)) return !1;\n    if (this.sourceBuffer.updating) return !1;\n    const i = this.segments.get(this.playingRepresentationId);\n    if (!i) return !1;\n    let s = 0,\n        r = 1 / 0,\n        n = -1 / 0,\n        o = !1;\n\n    const d = t => {\n      r = Math.min(r, t.time.from), n = Math.max(n, t.time.to);\n      const e = 'size' in t ? t.size ?? 0 : t.byte.to - t.byte.from;\n      s += e;\n    };\n\n    for (const a of i) {\n      if (a.time.to >= e || s >= t) break;\n      a.status === oe.FED && d(a);\n    }\n\n    if (o = isFinite(r) && isFinite(n), !o) {\n      s = 0, r = 1 / 0, n = -1 / 0;\n\n      for (const a of i) {\n        if (a.time.from < e + this.forwardBufferTarget || s > t) break;\n        a.status === oe.FED && d(a);\n      }\n    }\n\n    return o = isFinite(r) && isFinite(n), !!o && this.sourceBufferTaskQueue.remove(r / 1e3, n / 1e3);\n  }\n\n  abortBuffer() {\n    if (!this.sourceBuffer || 'open' !== this.mediaSource.readyState) return;\n    const t = this.playingRepresentationId && this.initData.get(this.playingRepresentationId),\n          e = t instanceof ArrayBuffer ? t : void 0;\n    this.sourceBufferTaskQueue.abort(e);\n  }\n\n  detectGaps(t, e) {\n    if (this.sourceBuffer) for (const i of e) {\n      let e = {\n        representation: t,\n        from: i.time.from,\n        to: i.time.to\n      };\n\n      for (let t = 0; t < this.sourceBuffer.buffered.length; t++) {\n        const s = 1e3 * this.sourceBuffer.buffered.start(t),\n              a = 1e3 * this.sourceBuffer.buffered.end(t);\n\n        if (!(a <= i.time.from || s >= i.time.to)) {\n          if (s <= i.time.from && a >= i.time.to) {\n            e = void 0;\n            break;\n          }\n\n          a > i.time.from && a < i.time.to && (e.from = a), s < i.time.to && s > i.time.from && (e.to = s);\n        }\n      }\n\n      e && e.to - e.from >= 1 && this.gaps.push(e);\n    }\n  }\n\n  detectGapsWhenIdle(t, e) {\n    this.gapDetectionIdleCallback || (this.gapDetectionIdleCallback = ue(() => {\n      try {\n        this.detectGaps(t, e);\n      } catch (t) {\n        this.error$.next({\n          id: 'GapDetection',\n          message: 'detectGaps threw',\n          thrown: t\n        });\n      } finally {\n        this.gapDetectionIdleCallback = null;\n      }\n    }));\n  }\n\n  checkEjectedSegments() {\n    if (a(this.sourceBuffer) || a(this.playingRepresentationId)) return;\n    const t = [];\n\n    for (let e = 0; e < this.sourceBuffer.buffered.length; e++) {\n      const i = 1e3 * this.sourceBuffer.buffered.start(e),\n            s = 1e3 * this.sourceBuffer.buffered.end(e);\n      t.push({\n        from: i,\n        to: s\n      });\n    }\n\n    const e = this.tuning.dash.segmentTimelineTolerance;\n\n    for (const i of this.segments.values()) for (const s of i) {\n      const i = t.some(t => t.from - e <= s.time.from && t.to + e >= s.time.to);\n      s.status !== oe.FED || i || (s.status = oe.NONE);\n    }\n  }\n\n}\n\nconst Ce = t => {\n  if (!t.startsWith('P')) return;\n\n  const e = (t, e) => {\n    const i = t ? parseFloat(t.replace(',', '.')) : NaN;\n    return (isNaN(i) ? 0 : i) * e;\n  },\n        i = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/.exec(t),\n        s = '-' === i?.[1] ? -1 : 1;\n\n  return 24 * e(i?.[5], s) * 60 * 60 * 1e3 + 60 * e(i?.[6], s) * 60 * 1e3 + 60 * e(i?.[7], s) * 1e3 + 1e3 * e(i?.[8], s);\n},\n      Ie = (t, e) => {\n  let i = t;\n  i = i.replaceAll('$$', '$');\n  const s = {\n    RepresentationID: e.representationId,\n    Number: e.segmentNumber,\n    Bandwidth: e.bandwidth,\n    Time: e.segmentTime\n  };\n\n  for (const [t, e] of Object.entries(s)) {\n    const s = new RegExp(`\\\\$${t}(?:%0(\\\\d+)d)?\\\\$`, 'g');\n    i = i.replaceAll(s, (t, i) => a(e) ? t : a(i) ? e : e.padStart(parseInt(i, 10), '0'));\n  }\n\n  return i;\n},\n      Le = ['timeupdate', 'progress', 'play', 'seeked', 'stalled'];\n\nvar xe, Ne;\n!function (t) {\n  t.NONE = 'none', t.MANIFEST_LOADED = 'manifest_loaded', t.REPRESENTATION_SELECTED = 'representation_selected';\n}(xe || (xe = {}));\n\nclass Be {\n  element = null;\n  source = null;\n  manifest = null;\n  tuning;\n  videoBufferManager;\n  audioBufferManager;\n  bufferManagers;\n  throughputEstimator;\n  subscription = new i();\n  fetcher;\n  state$ = new z(xe.NONE);\n  currentVideoRepresentation$ = new t(void 0);\n  error$ = new e();\n  lastConnectionType$ = new t(void 0);\n  lastConnectionReused$ = new t(void 0);\n  lastRequestFirstBytes$ = new t(void 0);\n  forceEnded$ = new e();\n  gapWatchdogStarted = !1;\n  gapWatchdogSubscription;\n  destroyController = new it();\n\n  constructor(t) {\n    this.throughputEstimator = t.throughputEstimator, this.tuning = t.tuning, this.fetcher = new fe({\n      throughputEstimator: this.throughputEstimator,\n      requestQuic: this.tuning.requestQuick\n    });\n  }\n\n  initManifest = T(this.destroyController.signal, async function* (t, e) {\n    this.element = t, this.state$.startTransitionTo(xe.MANIFEST_LOADED);\n    const i = yield this.fetcher.fetchManifest(e).catch(t => this.error$.next({\n      id: 'LoadManifest',\n      message: 'Failed to load manifest',\n      thrown: t\n    }));\n    if (!i) return null;\n    let a;\n\n    try {\n      a = ((t, e) => {\n        const i = {\n          video: [],\n          audio: [],\n          text: []\n        },\n              a = new DOMParser().parseFromString(t, 'application/xml').children[0],\n              r = a.getElementsByTagName('Period')[0],\n              n = r.children;\n        let o;\n        const d = a.getAttribute('mediaPresentationDuration'),\n              h = r.getAttribute('duration');\n        if (d) o = Ce(d);else if (h) {\n          const t = Ce(h);\n          s(t) && (o = t);\n        }\n        let u = 0;\n        const c = a.getAttribute('profiles')?.split(',') ?? [],\n              l = c.includes(re.WEBM_AS_IN_FFMPEG) || c.includes(re.WEBM_AS_IN_SPEC) ? de.WEBM : de.MP4;\n\n        for (const t of n) {\n          const s = t.getAttribute('mimeType'),\n                a = t.getAttribute('codecs'),\n                r = t.getAttribute('contentType') ?? s?.split('/')[0],\n                n = t.getAttribute('profiles')?.split(',') ?? [],\n                d = t.querySelectorAll('Representation');\n          if ('text' !== r) for (const h of d) {\n            const d = h.getAttribute('mimeType') ?? s,\n                  l = h.getAttribute('codecs') ?? a ?? '',\n                  p = h.getAttribute('contentType') ?? d?.split('/')[0] ?? r,\n                  m = t.getAttribute('profiles')?.split(',') ?? [],\n                  f = parseInt(h.getAttribute('width') ?? '', 10),\n                  g = parseInt(h.getAttribute('height') ?? '', 10),\n                  S = parseInt(h.getAttribute('bandwidth') ?? '', 10) / 1e3,\n                  b = h.getAttribute('frameRate') ?? '',\n                  v = h.getAttribute('quality') ?? void 0,\n                  y = b ? Et(b) : void 0,\n                  T = `${h.getAttribute('id') ?? (u++).toString(10)}@${'video' === p ? `${g}p` : 'audio' === p ? `${S}Kbps` : l}`,\n                  E = h.querySelector('BaseURL')?.textContent?.trim() ?? '',\n                  $ = new URL(E, e).toString(),\n                  w = [...c, ...n, ...m];\n            let k;\n            const A = h.querySelector('SegmentBase'),\n                  P = h.querySelector('SegmentTemplate');\n\n            if (A) {\n              const t = h.querySelector('SegmentBase Initialization')?.getAttribute('range') ?? '',\n                    [e, i] = t.split('-').map(t => parseInt(t, 10)),\n                    s = {\n                from: e,\n                to: i\n              },\n                    a = h.querySelector('SegmentBase')?.getAttribute('indexRange'),\n                    [r, n] = a ? a.split('-').map(t => parseInt(t, 10)) : [],\n                    o = a ? {\n                from: r,\n                to: n\n              } : void 0;\n              k = {\n                type: ne.BYTE_RANGE,\n                url: $,\n                initRange: s,\n                indexRange: o\n              };\n            } else {\n              if (!P) throw new ReferenceError('Unknown MPD segment referencing type');\n              {\n                const t = {\n                  representationId: h.getAttribute('id') ?? void 0,\n                  bandwidth: h.getAttribute('bandwidth') ?? void 0\n                },\n                      e = parseInt(P.getAttribute('timescale') ?? '', 10),\n                      i = P.getAttribute('initialization') ?? '',\n                      s = P.getAttribute('media'),\n                      a = parseInt(P.getAttribute('startNumber') ?? '', 10) ?? 1,\n                      r = Ie(i, t);\n                if (!s) throw new ReferenceError('No media attribute in SegmentTemplate');\n                const n = P.querySelectorAll('SegmentTimeline S') ?? [],\n                      o = [];\n                let d = a,\n                    u = 0;\n\n                for (const i of n) {\n                  const a = 1e3 * parseInt(i.getAttribute('d') ?? '', 10),\n                        r = parseInt(i.getAttribute('r') ?? '', 10) || 0,\n                        n = parseInt(i.getAttribute('t') ?? '', 10) ?? void 0;\n\n                  for (let i = 0; i < r + 1; i++) {\n                    const i = Ie(s, { ...t,\n                      segmentNumber: d.toString(10),\n                      segmentTime: n.toString(10)\n                    }),\n                          r = n ? n / e : u;\n                    u += a / e;\n                    const h = u;\n                    d++, o.push({\n                      time: {\n                        from: r,\n                        to: h\n                      },\n                      url: i\n                    });\n                  }\n                }\n\n                k = {\n                  type: ne.TEMPLATE,\n                  baseUrl: $,\n                  initUrl: r,\n                  segments: o\n                };\n              }\n            }\n\n            if (!p || !d) continue;\n            const R = {\n              video: ae.VIDEO,\n              audio: ae.AUDIO,\n              text: ae.TEXT\n            }[p];\n            R && i[R].push({\n              id: T,\n              kind: R,\n              segmentReference: k,\n              profiles: w,\n              duration: o,\n              bitrate: S,\n              mime: d,\n              codecs: l,\n              width: f,\n              height: g,\n              fps: y,\n              quality: v\n            });\n          }\n        }\n\n        return {\n          duration: o,\n          container: l,\n          representations: i\n        };\n      })(i ?? '', e);\n    } catch (t) {\n      this.error$.next({\n        id: 'ManifestParsing',\n        message: 'Failed to parse MPD manifest',\n        thrown: t\n      });\n    }\n\n    if (!a) return null;\n\n    const r = _ref59 => {\n      let {\n        mime: e,\n        codecs: i\n      } = _ref59;\n      return Boolean(t.canPlayType?.(e) && window.MediaSource?.isTypeSupported?.(`${e}; codecs=\"${i}\"`));\n    };\n\n    return this.manifest = { ...a,\n      representations: Object.fromEntries(Object.entries(a.representations).map(_ref60 => {\n        let [t, e] = _ref60;\n        return [t, e.filter(r)];\n      }))\n    }, this.manifest.representations.video.length ? this.state$.setState(xe.MANIFEST_LOADED) : this.error$.next({\n      id: 'NoRepresentations',\n      message: 'No playable video representations'\n    }), this.manifest;\n  }.bind(this));\n  initRepresentations = T(this.destroyController.signal, async function* (t, e) {\n    l(this.manifest), l(this.element), this.state$.startTransitionTo(xe.REPRESENTATION_SELECTED), this.source = new MediaSource(), this.element.src = URL.createObjectURL(this.source);\n    const i = {\n      fetcher: this.fetcher,\n      tuning: this.tuning,\n      getCurrentPosition: () => this.element ? 1e3 * this.element.currentTime : void 0\n    };\n    this.videoBufferManager = new _e(ae.VIDEO, this.source, this.manifest.container, this.manifest.representations.video, i), this.bufferManagers = [this.videoBufferManager], s(e) && (this.audioBufferManager = new _e(ae.AUDIO, this.source, this.manifest.container, this.manifest.representations.audio, i), this.bufferManagers.push(this.audioBufferManager)), this.subscription.add(this.fetcher.lastConnectionType$.subscribe(this.lastConnectionType$)), this.subscription.add(this.fetcher.lastConnectionReused$.subscribe(this.lastConnectionReused$)), this.subscription.add(this.fetcher.lastRequestFirstBytes$.subscribe(this.lastRequestFirstBytes$));\n    const a = o(...this.bufferManagers.map(t => t.fullyBuffered$)).pipe(h(() => this.bufferManagers.every(t => t.fullyBuffered$.getValue()))),\n          n = o(...this.bufferManagers.map(t => t.onLastSegment$)).pipe(h(() => this.bufferManagers.some(t => t.onLastSegment$.getValue())));\n    this.subscription.add(o(this.forceEnded$, y({\n      allBuffersFull: a,\n      someBufferEnded: n\n    }).pipe(f(_ref61 => {\n      let {\n        allBuffersFull: t,\n        someBufferEnded: e\n      } = _ref61;\n      return t && e;\n    }))).subscribe(() => {\n      if (this.source && 'open' === this.source.readyState && Array.from(this.source.sourceBuffers).every(t => !t.updating)) try {\n        this.source?.endOfStream();\n      } catch (t) {\n        this.error$.next({\n          id: 'EndOfStream',\n          message: 'Failed to end MediaSource stream',\n          thrown: t\n        });\n      }\n    })), this.subscription.add(o(...this.bufferManagers.map(t => t.error$)).subscribe(this.error$)), this.subscription.add(this.videoBufferManager.playingRepresentation$.subscribe(this.currentVideoRepresentation$)), 'open' !== this.source.readyState && (yield new Promise(t => this.source?.addEventListener('sourceopen', t))), s(this.manifest.duration) && (this.source.duration = this.manifest.duration / 1e3), this.audioBufferManager && s(e) ? yield Promise.all([this.videoBufferManager.startWith(t), this.audioBufferManager.startWith(e)]) : yield this.videoBufferManager.startWith(t), this.state$.setState(xe.REPRESENTATION_SELECTED), l(this.element), this.subscription.add(o(...Le.map(t => r(this.element, t)), r(window, 'online')).subscribe(this.tick, t => {\n      this.error$.next({\n        id: 'DashVKPlayer',\n        message: 'Internal logic error',\n        thrown: t\n      });\n    })), this.subscription.add(r(this.element, 'progress').subscribe(() => {\n      this.element && 2 === this.element.readyState && !this.element.seeking && (this.element.currentTime = this.element.currentTime);\n    })), this.subscription.add(r(this.element, 'waiting').subscribe(() => {\n      this.element && 2 === this.element.readyState && !this.element.seeking && he(this.element.buffered, 1e3 * this.element.currentTime) && (this.element.currentTime = this.element.currentTime);\n    })), this.tick();\n  }.bind(this));\n\n  async switchRepresentation(t, e) {\n    return {\n      [ae.VIDEO]: this.videoBufferManager,\n      [ae.AUDIO]: this.audioBufferManager,\n      [ae.TEXT]: null\n    }[t]?.switchTo(e);\n  }\n\n  seek(t, e) {\n    let i;\n    l(this.element), l(this.videoBufferManager), i = e || 1e3 * this.element.duration <= this.tuning.dashSeekInSegmentDurationThreshold || Math.abs(1e3 * this.element.currentTime - t) <= this.tuning.dashSeekInSegmentAlwaysSeekDelta ? t : Math.max(this.videoBufferManager.findSegmentStartTime(t) ?? t, this.audioBufferManager?.findSegmentStartTime(t) ?? t), he(this.element.buffered, i) || (this.videoBufferManager.abort(), this.audioBufferManager?.abort()), this.videoBufferManager.maintain(i), this.audioBufferManager?.maintain(i), this.element.currentTime = i / 1e3;\n  }\n\n  stop() {\n    this.element = null, this.source = null, this.manifest = null, this.currentVideoRepresentation$.next(void 0), this.videoBufferManager?.destroy(), this.videoBufferManager = null, this.audioBufferManager?.destroy(), this.audioBufferManager = null, this.bufferManagers = [], this.state$.setState(xe.NONE);\n  }\n\n  setBufferTarget(t) {\n    for (const e of this.bufferManagers) e.setTarget(t);\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.destroyController.abort(), this.fetcher.destroy(), this.stop(), this.source = null;\n  }\n\n  tick = () => {\n    if (!this.element || !this.videoBufferManager) return;\n    const t = 1e3 * this.element.currentTime;\n    this.videoBufferManager.maintain(t), this.audioBufferManager?.maintain(t), !this.videoBufferManager.gaps.length && !this.audioBufferManager?.gaps.length || this.gapWatchdogStarted || (this.gapWatchdogStarted = !0, this.gapWatchdogSubscription = $(this.tuning.gapWatchdogInterval).subscribe(() => this.jumGap(), t => {\n      this.error$.next({\n        id: 'GapWatchdog',\n        message: 'Error handling gaps',\n        thrown: t\n      });\n    }), this.subscription.add(this.gapWatchdogSubscription));\n  };\n\n  jumGap() {\n    if (!this.element || !this.videoBufferManager) return;\n    const t = 1e3 * this.element.currentTime,\n          e = 1 === this.element.readyState ? this.tuning.endGapTolerance : 0;\n\n    for (const i of this.bufferManagers) for (const s of i.gaps) if (i.playingRepresentation$.getValue() === s.representation && s.from - e <= t && s.to + e > t) {\n      if (1e3 * this.element.duration - s.to < this.tuning.endGapTolerance) return this.forceEnded$.next(), this.gapWatchdogSubscription.unsubscribe(), void (this.gapWatchdogStarted = !1);\n      this.element.currentTime = s.to / 1e3;\n      break;\n    }\n  }\n\n}\n\n!function (t) {\n  t.STOPPED = 'stopped', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(Ne || (Ne = {}));\n\nconst Me = _ref62 => {\n  let {\n    id: t,\n    width: e,\n    height: i,\n    bitrate: s,\n    fps: a,\n    quality: r\n  } = _ref62;\n  const n = (r ? Mt(r) : void 0) ?? G({\n    width: e,\n    height: i\n  });\n  return n && {\n    id: t,\n    quality: n,\n    bitrate: s,\n    size: {\n      width: e,\n      height: i\n    },\n    fps: a\n  };\n},\n      Oe = (t, e, i) => {\n  const s = e.indexOf(i);\n  return t.at(Math.round(t.length * s / e.length)) ?? t.at(-1);\n};\n\nclass Ue {\n  subscription = new i();\n  videoState = new z(Ne.STOPPED);\n  video;\n  player;\n  params;\n  elementSize$ = new t(void 0);\n  textTracksManager = new gt();\n  videoTracks = [];\n  audioRepresentations = new Map();\n  videoTrackSwitchHistory = new Dt();\n\n  constructor(t) {\n    this.params = t, this.video = St(this.params.container), this.params.output.element$.next(this.video), this.params.output.availableVideoTracks$.next([]), this.params.output.hostname$.next(Ct(this.params.source.url)), this.params.output.isLive$.next(!1), this.params.output.autoVideoTrackLimitingAvailable$.next(!0), this.player = new Be({\n      throughputEstimator: this.params.dependencies.throughputEstimator,\n      tuning: this.params.tuning\n    }), this.subscribe();\n  }\n\n  subscribe() {\n    const {\n      output: t,\n      desiredState: e\n    } = this.params,\n          i = Tt(this.video),\n          a = e => {\n      t.error$.next({\n        id: 'DashVKProvider',\n        message: 'DashVKProvider internal logic error',\n        thrown: e\n      });\n    },\n          n = (t, e) => this.subscription.add(t.subscribe(e, a));\n\n    n(i.timeUpdate$, t.position$), n(i.durationChange$, t.duration$), n(i.ended$, t.endedEvent$), n(i.looped$, t.loopedEvent$), n(i.error$, t.error$), n(i.isBuffering$, t.isBuffering$), n(i.currentBuffer$, t.currentBuffer$), n(i.playing$, t.firstFrameEvent$), n(i.canplay$, t.canplay$), n(this.player.error$, t.error$), n(this.player.lastConnectionType$, t.httpConnectionType$), n(this.player.lastConnectionReused$, t.httpConnectionReused$), n(this.player.lastRequestFirstBytes$.pipe(f(s), v(), g(void 0)), t.firstBytesEvent$), this.subscription.add(i.seeked$.subscribe(t.seekedEvent$, a)), this.subscription.add(lt(this.video, e.isLooped, a)), this.subscription.add(pt(this.video, e.volume, i.volumeState$, a)), this.subscription.add(i.volumeState$.subscribe(this.params.output.volume$, a)), this.subscription.add(mt(this.video, e.playbackRate, i.playbackRateState$, a)), n(It(this.video), this.elementSize$), this.subscription.add(i.playing$.subscribe(() => {\n      this.videoState.setState(Ne.PLAYING), U(e.playbackState, P.PLAYING);\n    }, a)).add(i.pause$.subscribe(() => {\n      this.videoState.setState(Ne.PAUSED), U(e.playbackState, P.PAUSED);\n    }, a)).add(i.canplay$.subscribe(() => {\n      this.videoState.getState() === Ne.PLAYING && this.playIfAllowed();\n    }, a)), this.subscription.add(this.player.state$.stateChangeEnded$.pipe(f(_ref63 => {\n      let {\n        to: t\n      } = _ref63;\n      return t === xe.REPRESENTATION_SELECTED;\n    })).subscribe(() => {\n      this.videoState.setState(Ne.READY);\n    }));\n\n    const d = e => t.error$.next({\n      id: 'RepresentationSwitch',\n      message: 'Switching representations threw',\n      thrown: e\n    });\n\n    this.subscription.add(o(this.player.state$.stateChangeEnded$, e.videoTrack.stateChangeStarted$, e.autoVideoTrackSwitching.transitionStarted$, this.params.dependencies.throughputEstimator.rttAdjustedThroughput$, e.autoVideoTrackLimits.stateChangeEnded$, this.elementSize$, r(this.video, 'progress')).subscribe(() => {\n      const i = this.player.state$.getState(),\n            s = this.player.state$.getTransition();\n      if (i === xe.NONE || !this.videoTracks.length) return;\n\n      const a = i === xe.MANIFEST_LOADED && !s,\n            r = i === xe.REPRESENTATION_SELECTED && !s,\n            n = e.autoVideoTrackSwitching.getState(),\n            o = e.videoTrack.getState(),\n            h = this.videoTracks.find(_ref64 => {\n        let {\n          track: {\n            id: t\n          }\n        } = _ref64;\n        return t === o;\n      })?.track,\n            u = t.currentVideoTrack$.getValue(),\n            c = Xt(this.video.buffered, 1e3 * this.video.currentTime),\n            p = n ? this.params.tuning.dash.forwardBufferTargetAuto : this.params.tuning.dash.forwardBufferTargetManual,\n            m = Math.min(c / Math.min(p, (1e3 * this.video.duration || 1 / 0) - 1e3 * this.video.currentTime), 1),\n            f = Math.max(h && !n ? this.audioRepresentations.get(h.id)?.bitrate ?? 0 : 0, u ? this.audioRepresentations.get(u.id)?.bitrate ?? 0 : 0),\n            g = _t(this.videoTracks.map(_ref65 => {\n        let {\n          track: t\n        } = _ref65;\n        return t;\n      }), {\n        container: this.elementSize$.getValue(),\n        throughput: this.params.dependencies.throughputEstimator.rttAdjustedThroughput$.getValue(),\n        tuning: this.params.tuning.autoTrackSelection,\n        limits: e.autoVideoTrackLimits.getState(),\n        reserve: f,\n        forwardBufferHealth: m,\n        current: u,\n        history: this.videoTrackSwitchHistory,\n        playbackRate: this.video.playbackRate\n      }),\n            S = n ? g ?? h : h ?? g;\n\n      if (e.autoVideoTrackSwitching.getTransition() && (e.autoVideoTrackSwitching.setState(n), this.player.setBufferTarget(p)), a) {\n        const t = S && this.videoTracks.find(_ref66 => {\n          let {\n            track: t\n          } = _ref66;\n          return t === S;\n        })?.representation;\n        l(t), this.player.initRepresentations(t.id, this.audioRepresentations.get(t.id)?.id);\n      } else if (r) {\n        const t = S && this.videoTracks.find(_ref67 => {\n          let {\n            track: t\n          } = _ref67;\n          return t === S;\n        })?.representation;\n\n        if (t) {\n          const e = this.audioRepresentations.get(t.id);\n          this.player.switchRepresentation(ae.VIDEO, t.id).catch(d), e && this.player.switchRepresentation(ae.AUDIO, e.id).catch(d);\n        }\n      }\n    }, a)), this.subscription.add(this.player.currentVideoRepresentation$.pipe(c(), h(t => t && this.videoTracks.find(_ref68 => {\n      let {\n        representation: {\n          id: e\n        }\n      } = _ref68;\n      return e === t;\n    })?.track)).subscribe(t.currentVideoTrack$, a)), this.textTracksManager.connect(this.video, e, t);\n    const m = o(e.playbackState.stateChangeStarted$, e.videoTrack.stateChangeStarted$, e.seekState.stateChangeEnded$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0));\n    this.subscription.add(m.subscribe(this.syncPlayback, a));\n  }\n\n  async prepare() {\n    const t = await this.player.initManifest(this.video, this.params.source.url);\n    if (!t) return;\n    this.videoTracks = [];\n    const e = Array.from(t.representations.audio).sort((t, e) => e.bitrate - t.bitrate),\n          i = Array.from(t.representations.video).sort((t, e) => e.bitrate - t.bitrate);\n\n    for (const t of i) {\n      const s = Me(t);\n\n      if (s) {\n        this.videoTracks.push({\n          track: s,\n          representation: t\n        });\n        const a = Oe(e, i, t);\n        a && this.audioRepresentations.set(t.id, a);\n      }\n    }\n\n    this.params.output.availableVideoTracks$.next(this.videoTracks.map(_ref69 => {\n      let {\n        track: t\n      } = _ref69;\n      return t;\n    }));\n  }\n\n  seek(t, e) {\n    this.params.output.willSeekEvent$.next(), this.player.seek(t, e);\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.params.desiredState.playbackState.getState(),\n          i = this.params.desiredState.playbackState.getTransition(),\n          s = this.params.desiredState.seekState.getState();\n    if (!this.videoState.getTransition()) if (s.state === L.Requested && i?.to !== P.PAUSED && t !== Ne.STOPPED && e !== P.STOPPED && this.seek(s.position, s.forcePrecise), e !== P.STOPPED) {\n      if (t === Ne.STOPPED) return this.videoState.startTransitionTo(Ne.READY), void this.prepare();\n\n      switch (t) {\n        case Ne.READY:\n          return void (e === P.PAUSED ? (this.videoState.setState(Ne.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED)) : e === P.PLAYING && (this.videoState.startTransitionTo(Ne.PLAYING), this.playIfAllowed()));\n\n        case Ne.PLAYING:\n          return void (e === P.PAUSED ? (this.videoState.startTransitionTo(Ne.PAUSED), this.video.pause()) : i?.to === P.PLAYING && U(this.params.desiredState.playbackState, P.PLAYING));\n\n        case Ne.PAUSED:\n          return void (e === P.PLAYING ? (this.videoState.startTransitionTo(Ne.PLAYING), this.playIfAllowed()) : i?.to === P.PAUSED && U(this.params.desiredState.playbackState, P.PAUSED));\n\n        default:\n          return n(t);\n      }\n    } else t !== Ne.STOPPED && (this.videoState.startTransitionTo(Ne.STOPPED), this.player.stop(), this.video.setAttribute('src', ''), this.video.load(), this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.videoState.setState(Ne.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0));\n  };\n\n  destroy() {\n    this.subscription.unsubscribe(), this.textTracksManager.destroy(), this.video.remove(), this.params.output.element$.next(void 0), this.player.destroy();\n  }\n\n  playIfAllowed() {\n    Ot(this.video).then(t => {\n      t || (this.videoState.setState(Ne.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED, !0));\n    });\n  }\n\n}\n\nconst Ve = {};\nvar qe;\n!function (t) {\n  t.INITIALIZING = 'initializing', t.STOPPED = 'stopped', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(qe || (qe = {}));\n\nconst Fe = (t, e) => new b(i => {\n  const s = (t, e) => i.next(e);\n\n  return t.on(e, s), () => t.off(e, s);\n});\n\nclass He {\n  subscription = new i();\n  videoState = new z(qe.INITIALIZING);\n  video;\n  params;\n  hls;\n  textTracksManager = new gt();\n  trackLevels = new Map();\n\n  constructor(t) {\n    this.video = St(t.container), this.params = t, this.params.output.element$.next(this.video), this.params.output.isLive$.next(!1), this.params.output.hostname$.next(Ct(this.params.source.url)), this.loadHlsJs();\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.trackLevels.clear(), this.textTracksManager.destroy(), this.hls?.detachMedia(), this.hls?.destroy(), this.video.remove(), this.params.output.element$.next(void 0);\n  }\n\n  loadHlsJs() {\n    let t = !1;\n\n    const e = e => {\n      t || this.params.output.error$.next({\n        id: 'timeout' === e ? 'HlsJsTimeout' : 'HlsJsLoadError',\n        message: 'Failed to load Hls.js',\n        thrown: e\n      }), t = !0;\n    },\n          i = window.setTimeout(() => e('timeout'), 5e3);\n\n    import('hls.js').then(e => {\n      t || (Ve.Hls = e.default, Ve.Events = e.default.Events, this.init());\n    }, e).finally(() => {\n      window.clearTimeout(i), t = !0;\n    });\n  }\n\n  init() {\n    l(Ve.Hls, 'hls.js not loaded'), this.hls = new Ve.Hls({\n      fragLoadingMaxRetry: 5,\n      levelLoadingMaxRetry: 2,\n      manifestLoadingMaxRetry: 2,\n      fragLoadingMaxRetryTimeout: 16e3,\n      manifestLoadingMaxRetryTimeout: 2e3,\n      levelLoadingMaxRetryTimeout: 2e3\n    }), this.subscribe(), this.videoState.setState(qe.STOPPED);\n  }\n\n  subscribe() {\n    l(Ve.Events, 'hls.js not loaded');\n\n    const {\n      desiredState: t,\n      output: e\n    } = this.params,\n          i = t => {\n      e.error$.next({\n        id: 'HlsJsProvider',\n        message: 'HlsJsProvider internal logic error',\n        thrown: t\n      });\n    },\n          r = Tt(this.video),\n          n = (t, e) => this.subscription.add(t.subscribe(e, i));\n\n    n(r.timeUpdate$, e.position$), n(r.durationChange$, e.duration$), n(r.ended$, e.endedEvent$), n(r.looped$, e.loopedEvent$), n(r.error$, e.error$), n(r.isBuffering$, e.isBuffering$), n(r.currentBuffer$, e.currentBuffer$), n(r.loadStart$, e.firstBytesEvent$), n(r.playing$, e.firstFrameEvent$), n(r.canplay$, e.canplay$), n(r.seeked$, e.seekedEvent$), this.subscription.add(lt(this.video, t.isLooped, i)), this.subscription.add(pt(this.video, t.volume, r.volumeState$, i)), this.subscription.add(r.volumeState$.subscribe(this.params.output.volume$)), this.subscription.add(mt(this.video, t.playbackRate, r.playbackRateState$, i)), this.subscription.add(Fe(this.hls, Ve.Events.ERROR).subscribe(t => {\n      t.fatal && e.error$.next({\n        id: ['HlsJsFatal', t.type, t.details].join('_'),\n        message: `HlsJs fatal ${t.type} ${t.details}, ${t.err?.message} ${t.reason}`,\n        thrown: t.error\n      });\n    })), this.subscription.add(r.playing$.subscribe(() => {\n      this.videoState.setState(qe.PLAYING), U(t.playbackState, P.PLAYING);\n    }, i)).add(r.pause$.subscribe(() => {\n      this.videoState.setState(qe.PAUSED), U(t.playbackState, P.PAUSED);\n    }, i)).add(r.canplay$.subscribe(() => {\n      this.videoState.getTransition()?.to === qe.READY && this.videoState.setState(qe.READY), this.videoState.getState() === qe.PLAYING && this.playIfAllowed();\n    }, i)), n(Fe(this.hls, Ve.Events.MANIFEST_PARSED).pipe(h(_ref70 => {\n      let {\n        levels: t\n      } = _ref70;\n      return t.reduce((t, e) => {\n        const i = e.name || e.height.toString(10),\n              {\n          width: s,\n          height: a\n        } = e,\n              r = Mt(e.attrs.QUALITY ?? '') ?? G({\n          width: s,\n          height: a\n        });\n        if (!r) return t;\n        const n = e.attrs['FRAME-RATE'] ? parseFloat(e.attrs['FRAME-RATE']) : void 0,\n              o = {\n          id: i.toString(),\n          quality: r,\n          bitrate: e.bitrate / 1e3,\n          size: {\n            width: s,\n            height: a\n          },\n          fps: n\n        };\n        return this.trackLevels.set(i, {\n          track: o,\n          level: e\n        }), t.push(o), t;\n      }, []);\n    })), e.availableVideoTracks$), n(Fe(this.hls, Ve.Events.LEVEL_LOADING).pipe(h(_ref71 => {\n      let {\n        url: t\n      } = _ref71;\n      return Ct(t);\n    })), e.hostname$), this.subscription.add(ct(t.autoVideoTrackSwitching, () => this.hls.autoLevelEnabled, t => {\n      this.hls.nextLevel = t ? -1 : this.hls.currentLevel, this.hls.loadLevel = t ? -1 : this.hls.loadLevel;\n    }, {\n      onError: i\n    }));\n\n    const d = t => Array.from(this.trackLevels.values()).find(_ref72 => {\n      let {\n        level: e\n      } = _ref72;\n      return e === t;\n    })?.track,\n          c = Fe(this.hls, Ve.Events.LEVEL_SWITCHED).pipe(h(_ref73 => {\n      let {\n        level: t\n      } = _ref73;\n      return d(this.hls.levels[t]);\n    }));\n\n    c.pipe(f(s)).subscribe(e.currentVideoTrack$, i), this.subscription.add(ct(t.videoTrack, () => d(this.hls.levels[this.hls.currentLevel])?.id, t => {\n      if (a(t)) return;\n      const e = this.trackLevels.get(t)?.level;\n      if (!e) return;\n      const i = this.hls.levels.indexOf(e),\n            s = this.hls.currentLevel,\n            r = this.hls.levels[s];\n      !r || e.bitrate > r.bitrate ? this.hls.nextLevel = i : (this.hls.loadLevel = i, this.hls.loadLevel = i);\n    }, {\n      changed$: c.pipe(h(t => t?.id)),\n      onError: i\n    })), n(r.progress$, () => {\n      this.params.dependencies.throughputEstimator.addRawThroughput(this.hls.bandwidthEstimate / 1e3);\n    }), this.textTracksManager.connect(this.video, t, e);\n    const m = o(t.playbackState.stateChangeStarted$, t.videoTrack.stateChangeStarted$, t.seekState.stateChangeEnded$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0));\n    this.subscription.add(m.subscribe(this.syncPlayback, i));\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.params.desiredState.playbackState.getState(),\n          i = this.params.desiredState.playbackState.getTransition(),\n          s = this.params.desiredState.seekState.getState();\n    if (t !== qe.INITIALIZING) switch (i?.to !== P.PAUSED && s.state === L.Requested && this.seek(s.position), e) {\n      case P.STOPPED:\n        switch (t) {\n          case qe.STOPPED:\n            break;\n\n          case qe.READY:\n          case qe.PLAYING:\n          case qe.PAUSED:\n            this.stop();\n            break;\n\n          default:\n            n(t);\n        }\n\n        break;\n\n      case P.PLAYING:\n        switch (t) {\n          case qe.PLAYING:\n            break;\n\n          case qe.STOPPED:\n            this.prepare();\n            break;\n\n          case qe.READY:\n          case qe.PAUSED:\n            this.playIfAllowed();\n            break;\n\n          default:\n            n(t);\n        }\n\n        break;\n\n      case P.PAUSED:\n        switch (t) {\n          case qe.PAUSED:\n            break;\n\n          case qe.STOPPED:\n            this.prepare();\n            break;\n\n          case qe.READY:\n            this.videoState.setState(qe.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED);\n            break;\n\n          case qe.PLAYING:\n            this.pause();\n            break;\n\n          default:\n            n(t);\n        }\n\n        break;\n\n      default:\n        n(e);\n    }\n  };\n\n  prepare() {\n    this.videoState.startTransitionTo(qe.READY), this.hls.attachMedia(this.video), this.hls.loadSource(this.params.source.url);\n  }\n\n  async playIfAllowed() {\n    this.videoState.startTransitionTo(qe.PLAYING);\n    (await Ot(this.video)) || (this.videoState.setState(qe.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED, !0));\n  }\n\n  pause() {\n    this.videoState.startTransitionTo(qe.PAUSED), this.video.pause();\n  }\n\n  seek(t) {\n    this.params.output.willSeekEvent$.next(), this.video.currentTime = t / 1e3;\n  }\n\n  stop() {\n    this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.hls.stopLoad(), this.hls.detachMedia(), this.video.setAttribute('src', ''), this.video.load(), this.videoState.setState(qe.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0);\n  }\n\n}\n\nconst Ge = t => {\n  let e = null;\n\n  if (t.QUALITY && (e = Mt(t.QUALITY)), !e && t.RESOLUTION) {\n    const [i, s] = t.RESOLUTION.split('x').map(t => parseInt(t, 10));\n    e = G({\n      width: i,\n      height: s\n    });\n  }\n\n  return e ?? null;\n},\n      Ye = async function (t) {\n  let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t;\n  const i = await et(t),\n        s = (await i.text()).split('\\n'),\n        a = [];\n\n  for (let t = 0; t < s.length; t++) {\n    const i = s[t].match(/^#EXT-X-STREAM-INF:(.+)/);\n    if (!i) continue;\n    const r = Object.fromEntries(i[1].split(',').map(t => t.split('='))),\n          n = r.QUALITY ?? `stream-${r.BANDWIDTH}`,\n          o = Ge(r);\n    let d;\n    r.BANDWIDTH && (d = parseInt(r.BANDWIDTH, 10) / 1e3 || void 0), !d && r['AVERAGE-BANDWIDTH'] && (d = parseInt(r['AVERAGE-BANDWIDTH'], 10) / 1e3 || void 0);\n    const h = r['FRAME-RATE'] ? parseFloat(r['FRAME-RATE']) : void 0;\n    let u;\n\n    if (r.RESOLUTION) {\n      const [t, e] = r.RESOLUTION.split('x').map(t => parseInt(t, 10));\n      t && e && (u = {\n        width: t,\n        height: e\n      });\n    }\n\n    const c = new URL(s[++t], e).toString();\n    o && a.push({\n      id: n,\n      quality: o,\n      url: c,\n      bandwidth: d,\n      size: u,\n      fps: h\n    });\n  }\n\n  return a;\n};\n\nvar ze, Qe, We;\n!function (t) {\n  t.STOPPED = 'stopped', t.READY = 'ready', t.PLAYING = 'playing', t.CHANGING_MANIFEST = 'changing_manifest', t.PAUSED = 'paused';\n}(ze || (ze = {}));\n\nclass je {\n  subscription = new i();\n  videoState = new z(ze.STOPPED);\n  video;\n  params;\n  textTracksManager = new gt();\n  manifests$ = new t([]);\n  maxSeekBackTime$;\n  liveOffset = new bt();\n  manifestStartTime$ = new t(void 0);\n\n  constructor(e) {\n    this.params = e, this.video = St(e.container), this.params.output.element$.next(this.video);\n    const i = {\n      id: 'master',\n      quality: M.INVARIANT,\n      url: this.params.source.url\n    };\n    this.manifests$.next([i]), Ye(O(this.params.source.url), this.params.source.url).then(t => {\n      this.manifests$.next([i, ...t]);\n    }, t => this.params.output.error$.next({\n      id: 'ExtractHlsQualities',\n      message: 'Error fetching manifest and extracting qualities',\n      thrown: t\n    })), this.params.output.isLive$.next(!0), this.params.output.hostname$.next(Ct(this.params.source.url)), this.maxSeekBackTime$ = new t(e.source.maxSeekBackTime ?? 1 / 0), this.subscribe();\n  }\n\n  selectManifest() {\n    const {\n      autoVideoTrackSwitching: t,\n      videoTrack: e\n    } = this.params.desiredState,\n          i = t.getState(),\n          s = e.getTransition(),\n          a = s?.to ?? e.getState() ?? 'master',\n          r = this.manifests$.getValue();\n    if (!r) return;\n    const n = i ? 'master' : a;\n    return i && !s && e.startTransitionTo('master'), r.find(t => t.id === n);\n  }\n\n  subscribe() {\n    const {\n      output: t,\n      desiredState: e\n    } = this.params,\n          i = e => {\n      t.error$.next({\n        id: 'HlsLiveProvider',\n        message: 'HlsLiveProvider internal logic error',\n        thrown: e\n      });\n    },\n          a = Tt(this.video),\n          r = (t, e) => this.subscription.add(t.subscribe(e, i));\n\n    r(a.ended$, t.endedEvent$), r(a.error$, t.error$), r(a.isBuffering$, t.isBuffering$), r(a.currentBuffer$, t.currentBuffer$), r(a.loadedMetadata$, t.firstBytesEvent$), r(a.playing$, t.firstFrameEvent$), r(a.canplay$, t.canplay$), this.subscription.add(e.isLooped.stateChangeStarted$.subscribe(() => e.isLooped.setState(!1), i)), this.subscription.add(pt(this.video, e.volume, a.volumeState$, i)), this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$, i)), this.subscription.add(mt(this.video, e.playbackRate, a.playbackRateState$, i)), this.textTracksManager.connect(this.video, e, t), this.subscription.add(a.playing$.subscribe(() => {\n      this.videoState.setState(ze.PLAYING), U(e.playbackState, P.PLAYING);\n    }, i)).add(a.pause$.subscribe(() => {\n      this.videoState.setState(ze.PAUSED), U(e.playbackState, P.PAUSED);\n    }, i)).add(a.canplay$.subscribe(() => {\n      this.videoState.getTransition()?.to === ze.READY && this.videoState.setState(ze.READY), this.videoState.getState() === ze.PLAYING && this.playIfAllowed();\n    }, i)), this.subscription.add(this.maxSeekBackTime$.pipe(c(), h(t => -t / 1e3)).subscribe(this.params.output.duration$, i)), this.subscription.add(a.loadedMetadata$.subscribe(() => {\n      const t = this.params.desiredState.seekState.getState(),\n            e = this.videoState.getTransition(),\n            i = this.params.desiredState.videoTrack.getTransition(),\n            a = this.params.desiredState.autoVideoTrackSwitching.getTransition();\n\n      if (i && s(i.to)) {\n        const t = i.to;\n        this.params.desiredState.videoTrack.setState(t);\n        const e = this.manifests$.getValue().find(e => e.id === t);\n        e && (this.params.output.currentVideoTrack$.next(e), this.params.output.hostname$.next(Ct(e.url)));\n      }\n\n      a && this.params.desiredState.autoVideoTrackSwitching.setState(a.to), e && e.from === ze.CHANGING_MANIFEST && this.videoState.setState(e.to), t && t.state === L.Requested && this.seek(t.position);\n    }, i)), this.subscription.add(a.loadedData$.subscribe(() => {\n      const t = this.video?.getStartDate()?.getTime();\n      this.manifestStartTime$.next(t || void 0);\n    }, i)), this.subscription.add(y({\n      startTime: this.manifestStartTime$.pipe(f(s)),\n      currentTime: a.timeUpdate$\n    }).subscribe(_ref74 => {\n      let {\n        startTime: t,\n        currentTime: e\n      } = _ref74;\n      return this.params.output.liveTime$.next(t + 1e3 * e);\n    }, i)), this.subscription.add(this.manifests$.pipe(h(t => t.map(_ref75 => {\n      let {\n        id: t,\n        quality: e,\n        size: i,\n        bandwidth: s,\n        fps: a\n      } = _ref75;\n      return {\n        id: t,\n        quality: e,\n        size: i,\n        fps: a,\n        bitrate: s\n      };\n    }))).subscribe(this.params.output.availableVideoTracks$, i));\n    const n = o(e.playbackState.stateChangeStarted$, e.seekState.stateChangeEnded$, this.videoState.stateChangeEnded$, e.videoTrack.stateChangeStarted$, e.autoVideoTrackSwitching.stateChangeStarted$, u(['init'])).pipe(p(0));\n    this.subscription.add(n.subscribe(this.syncPlayback, i));\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.textTracksManager.destroy(), this.video.remove(), this.params.output.element$.next(void 0);\n  }\n\n  prepare() {\n    const t = this.selectManifest();\n    if (a(t)) return;\n    const e = O(t.url, this.liveOffset.getTotalOffset());\n    this.video.setAttribute('src', e), this.video.load(), (async t => {\n      const e = await et(t, {\n        method: 'HEAD'\n      });\n      return e.headers.has('X-Playback-Duration') ? parseInt(e.headers.get('X-Playback-Duration'), 10) : void 0;\n    })(e).then(t => {\n      a(t) || this.maxSeekBackTime$.next(t);\n    });\n  }\n\n  playIfAllowed() {\n    Ot(this.video).then(t => {\n      t || (this.videoState.setState(ze.PAUSED), this.liveOffset.pause(), U(this.params.desiredState.playbackState, P.PAUSED, !0));\n    });\n  }\n\n  seek(t) {\n    this.params.output.willSeekEvent$.next();\n    const e = -t,\n          i = e < this.maxSeekBackTime$.getValue() ? e : 0;\n    this.liveOffset.resetTo(i), this.params.output.position$.next(-i / 1e3), this.params.output.seekedEvent$.next();\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.params.desiredState.playbackState.getState(),\n          i = this.params.desiredState.playbackState.getTransition(),\n          s = this.params.desiredState.videoTrack.getTransition(),\n          a = this.params.desiredState.autoVideoTrackSwitching.getTransition();\n    if (e === P.STOPPED) return void (t !== ze.STOPPED && (this.videoState.startTransitionTo(ze.STOPPED), this.video.setAttribute('src', ''), this.video.load(), this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.videoState.setState(ze.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0)));\n    if (this.videoState.getTransition()) return;\n    const r = this.params.desiredState.seekState.getState();\n    if (t === ze.STOPPED) return this.videoState.startTransitionTo(ze.READY), void this.prepare();\n\n    if (s || a) {\n      const t = this.videoState.getState();\n      return this.videoState.setState(ze.CHANGING_MANIFEST), this.videoState.startTransitionTo(t), this.prepare(), void (r.state === L.None && this.params.desiredState.seekState.setState({\n        state: L.Requested,\n        position: -this.liveOffset.getTotalOffset(),\n        forcePrecise: !0\n      }));\n    }\n\n    if (i?.to !== P.PAUSED && r.state === L.Requested) return this.videoState.startTransitionTo(ze.READY), this.seek(r.position - this.liveOffset.getTotalPausedTime()), void this.prepare();\n\n    switch (t) {\n      case ze.READY:\n        return void (e === P.PAUSED ? (this.videoState.setState(ze.PAUSED), this.liveOffset.pause(), U(this.params.desiredState.playbackState, P.PAUSED)) : e === P.PLAYING && (this.videoState.startTransitionTo(ze.PLAYING), this.playIfAllowed()));\n\n      case ze.PLAYING:\n        return void (e === P.PAUSED ? (this.videoState.startTransitionTo(ze.PAUSED), this.liveOffset.pause(), this.video.pause()) : i?.to === P.PLAYING && U(this.params.desiredState.playbackState, P.PLAYING));\n\n      case ze.PAUSED:\n        return void (e === P.PLAYING ? (this.videoState.startTransitionTo(ze.PLAYING), this.liveOffset.getTotalPausedTime() < this.params.config.maxPausedTime && this.liveOffset.getTotalOffset() < this.maxSeekBackTime$.getValue() ? (this.liveOffset.resume(), this.playIfAllowed(), this.params.output.position$.next(-this.liveOffset.getTotalOffset() / 1e3)) : this.seek(-this.liveOffset.getTotalOffset())) : i?.to === P.PAUSED && (U(this.params.desiredState.playbackState, P.PAUSED), this.liveOffset.pause()));\n\n      case ze.CHANGING_MANIFEST:\n        break;\n\n      default:\n        return n(t);\n    }\n  };\n}\n\n!function (t) {\n  t.STOPPED = 'stopped', t.READY = 'ready', t.PLAYING = 'playing', t.CHANGING_MANIFEST = 'changing_manifest', t.PAUSED = 'paused';\n}(Qe || (Qe = {}));\n\nclass Je {\n  subscription = new i();\n  videoState = new z(Qe.STOPPED);\n  video;\n  params;\n  textTracksManager = new gt();\n  manifests$ = new t([]);\n\n  constructor(t) {\n    this.params = t, this.video = St(t.container), this.params.output.element$.next(this.video);\n    const e = {\n      id: 'master',\n      quality: M.INVARIANT,\n      url: this.params.source.url\n    };\n    this.manifests$.next([e]), this.params.output.isLive$.next(!1), this.params.output.hostname$.next(Ct(this.params.source.url)), Ye(this.params.source.url).then(t => {\n      this.manifests$.next([e, ...t]);\n    }, t => this.params.output.error$.next({\n      id: 'ExtractHlsQualities',\n      message: 'Error fetching manifest and extracting qualities',\n      thrown: t\n    })), this.subscribe();\n  }\n\n  selectManifest() {\n    const {\n      autoVideoTrackSwitching: t,\n      videoTrack: e\n    } = this.params.desiredState,\n          i = t.getState(),\n          s = e.getTransition(),\n          a = s?.to ?? e.getState() ?? 'master',\n          r = this.manifests$.getValue();\n    if (!r) return;\n    const n = i ? 'master' : a;\n    return i && !s && e.startTransitionTo('master'), r.find(t => t.id === n);\n  }\n\n  subscribe() {\n    const {\n      output: t,\n      desiredState: e\n    } = this.params,\n          i = e => {\n      t.error$.next({\n        id: 'HlsProvider',\n        message: 'HlsProvider internal logic error',\n        thrown: e\n      });\n    },\n          a = Tt(this.video),\n          r = (t, e) => this.subscription.add(t.subscribe(e));\n\n    r(a.timeUpdate$, t.position$), r(a.durationChange$, t.duration$), r(a.ended$, t.endedEvent$), r(a.looped$, t.loopedEvent$), r(a.error$, t.error$), r(a.isBuffering$, t.isBuffering$), r(a.currentBuffer$, t.currentBuffer$), r(a.loadedMetadata$, t.firstBytesEvent$), r(a.playing$, t.firstFrameEvent$), r(a.canplay$, t.canplay$), r(a.seeked$, t.seekedEvent$), this.subscription.add(lt(this.video, e.isLooped, i)), this.subscription.add(pt(this.video, e.volume, a.volumeState$, i)), this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$, i)), this.subscription.add(mt(this.video, e.playbackRate, a.playbackRateState$, i)), this.textTracksManager.connect(this.video, e, t), this.subscription.add(a.playing$.subscribe(() => {\n      this.videoState.setState(Qe.PLAYING), U(e.playbackState, P.PLAYING);\n    }, i)).add(a.pause$.subscribe(() => {\n      this.videoState.setState(Qe.PAUSED), U(e.playbackState, P.PAUSED);\n    }, i)).add(a.canplay$.subscribe(() => {\n      this.videoState.getTransition()?.to === Qe.READY && this.videoState.setState(Qe.READY), this.videoState.getState() === Qe.PLAYING && this.playIfAllowed();\n    }, i).add(a.loadedMetadata$.subscribe(() => {\n      const t = this.params.desiredState.seekState.getState(),\n            e = this.videoState.getTransition(),\n            i = this.params.desiredState.videoTrack.getTransition(),\n            a = this.params.desiredState.autoVideoTrackSwitching.getTransition();\n\n      if (i && s(i.to)) {\n        const t = i.to;\n        this.params.desiredState.videoTrack.setState(t);\n        const e = this.manifests$.getValue().find(e => e.id === t);\n        e && (this.params.output.currentVideoTrack$.next(e), this.params.output.hostname$.next(Ct(e.url)));\n      }\n\n      a && this.params.desiredState.autoVideoTrackSwitching.setState(a.to), e && e.from === Qe.CHANGING_MANIFEST && this.videoState.setState(e.to), t.state === L.Requested && this.seek(t.position);\n    }, i))), this.subscription.add(this.manifests$.pipe(h(t => t.map(_ref76 => {\n      let {\n        id: t,\n        quality: e,\n        size: i,\n        bandwidth: s,\n        fps: a\n      } = _ref76;\n      return {\n        id: t,\n        quality: e,\n        size: i,\n        fps: a,\n        bitrate: s\n      };\n    }))).subscribe(this.params.output.availableVideoTracks$, i));\n    const n = o(e.playbackState.stateChangeStarted$, e.seekState.stateChangeEnded$, e.videoTrack.stateChangeStarted$, e.autoVideoTrackSwitching.stateChangeStarted$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0));\n    this.subscription.add(n.subscribe(this.syncPlayback, i));\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.textTracksManager.destroy(), this.video.remove(), this.params.output.element$.next(void 0);\n  }\n\n  prepare() {\n    const t = this.selectManifest();\n    a(t) || (this.video.setAttribute('src', t.url), this.video.load());\n  }\n\n  playIfAllowed() {\n    Ot(this.video).then(t => {\n      t || (this.videoState.setState(Qe.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED, !0));\n    });\n  }\n\n  seek(t) {\n    this.params.output.willSeekEvent$.next(), this.video.currentTime = t / 1e3;\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.params.desiredState.playbackState.getState(),\n          i = this.params.desiredState.playbackState.getTransition(),\n          s = this.params.desiredState.videoTrack.getTransition(),\n          a = this.params.desiredState.autoVideoTrackSwitching.getTransition();\n    if (e === P.STOPPED) return void (t !== Qe.STOPPED && (this.videoState.startTransitionTo(Qe.STOPPED), this.video.setAttribute('src', ''), this.video.load(), this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.videoState.setState(Qe.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0)));\n    if (this.videoState.getTransition()) return;\n    const r = this.params.desiredState.seekState.getState();\n    if (t === Qe.STOPPED) return this.videoState.startTransitionTo(Qe.READY), void this.prepare();\n\n    if (s || a) {\n      const t = this.videoState.getState();\n      this.videoState.setState(Qe.CHANGING_MANIFEST), this.videoState.startTransitionTo(t);\n      const {\n        currentTime: e\n      } = this.video;\n      return this.prepare(), void (r.state === L.None && this.params.desiredState.seekState.setState({\n        state: L.Requested,\n        position: 1e3 * e,\n        forcePrecise: !0\n      }));\n    }\n\n    switch (i?.to !== P.PAUSED && r.state === L.Requested && this.seek(r.position), t) {\n      case Qe.READY:\n        return void (e === P.PAUSED ? (this.videoState.setState(Qe.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED)) : e === P.PLAYING && (this.videoState.startTransitionTo(Qe.PLAYING), this.playIfAllowed()));\n\n      case Qe.PLAYING:\n        return void (e === P.PAUSED ? (this.videoState.startTransitionTo(Qe.PAUSED), this.video.pause()) : i?.to === P.PLAYING && U(this.params.desiredState.playbackState, P.PLAYING));\n\n      case Qe.PAUSED:\n        return void (e === P.PLAYING ? (this.videoState.startTransitionTo(Qe.PLAYING), this.playIfAllowed()) : i?.to === P.PAUSED && U(this.params.desiredState.playbackState, P.PAUSED));\n\n      case Qe.CHANGING_MANIFEST:\n        break;\n\n      default:\n        return n(t);\n    }\n  };\n}\n\n!function (t) {\n  t.STOPPED = 'stopped', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(We || (We = {}));\n\nclass Xe {\n  subscription = new i();\n  videoState = new z(We.STOPPED);\n  video;\n  trackUrls = {};\n  params;\n  textTracksManager = new gt();\n\n  constructor(t) {\n    this.params = t, this.video = St(t.container), this.params.output.element$.next(this.video), Object.entries(this.params.source).forEach((_ref77, i) => {\n      let [t, e] = _ref77;\n      const s = i.toString(10);\n      this.trackUrls[s] = {\n        track: {\n          quality: t,\n          id: s\n        },\n        url: e\n      };\n    }), this.params.output.availableVideoTracks$.next(Object.values(this.trackUrls).map(_ref78 => {\n      let {\n        track: t\n      } = _ref78;\n      return t;\n    })), this.params.output.isLive$.next(!1), this.subscribe();\n  }\n\n  subscribe() {\n    const {\n      output: t,\n      desiredState: e\n    } = this.params,\n          i = e => {\n      t.error$.next({\n        id: 'MpegProvider',\n        message: 'MpegProvider internal logic error',\n        thrown: e\n      });\n    },\n          a = Tt(this.video),\n          r = (t, e) => this.subscription.add(t.subscribe(e, i));\n\n    r(a.timeUpdate$, t.position$), r(a.durationChange$, t.duration$), r(a.ended$, t.endedEvent$), r(a.looped$, t.loopedEvent$), r(a.error$, t.error$), r(a.isBuffering$, t.isBuffering$), r(a.currentBuffer$, t.currentBuffer$), r(a.loadedMetadata$, t.firstBytesEvent$), r(a.playing$, t.firstFrameEvent$), r(a.canplay$, t.canplay$), r(a.seeked$, t.seekedEvent$), this.subscription.add(lt(this.video, e.isLooped, i)), this.subscription.add(pt(this.video, e.volume, a.volumeState$, i)), this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$, i)), this.subscription.add(mt(this.video, e.playbackRate, a.playbackRateState$, i)), this.subscription.add(a.playing$.subscribe(() => {\n      this.videoState.setState(We.PLAYING), U(e.playbackState, P.PLAYING);\n    }, i)).add(a.pause$.subscribe(() => {\n      this.videoState.setState(We.PAUSED), U(e.playbackState, P.PAUSED);\n    }, i)).add(a.canplay$.subscribe(() => {\n      this.videoState.getTransition()?.to === We.READY && this.videoState.setState(We.READY);\n      const t = this.params.desiredState.videoTrack.getTransition();\n      t && s(t.to) && (this.params.desiredState.videoTrack.setState(t.to), this.params.output.currentVideoTrack$.next(this.trackUrls[t.to].track)), this.videoState.getState() === We.PLAYING && this.playIfAllowed();\n    }, i)), this.subscription.add(e.autoVideoTrackSwitching.stateChangeStarted$.subscribe(() => e.autoVideoTrackSwitching.setState(!1), i)), this.textTracksManager.connect(this.video, e, t);\n    const n = o(e.playbackState.stateChangeStarted$, e.videoTrack.stateChangeStarted$, e.seekState.stateChangeEnded$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0));\n    this.subscription.add(n.subscribe(this.syncPlayback, i));\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.textTracksManager.destroy(), this.trackUrls = {}, this.video.remove(), this.params.output.element$.next(void 0);\n  }\n\n  prepare() {\n    const t = this.params.desiredState.videoTrack.getTransition()?.to ?? this.params.desiredState.videoTrack.getState();\n    l(t, 'MpegProvider: track is not selected');\n    let {\n      url: e\n    } = this.trackUrls[t];\n    l(e, `MpegProvider: No url for ${t}`), this.params.tuning.requestQuick && (e = ht(e)), this.video.setAttribute('src', e), this.video.load(), this.params.output.hostname$.next(Ct(e));\n  }\n\n  playIfAllowed() {\n    Ot(this.video).then(t => {\n      t || (this.videoState.setState(We.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED, !0));\n    });\n  }\n\n  seek(t) {\n    this.params.output.willSeekEvent$.next(), this.video.currentTime = t / 1e3;\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.params.desiredState.playbackState.getState(),\n          i = this.params.desiredState.playbackState.getTransition();\n    if (e === P.STOPPED) return void (t !== We.STOPPED && (this.videoState.startTransitionTo(We.STOPPED), this.video.setAttribute('src', ''), this.video.load(), this.params.output.position$.next(0), this.params.output.duration$.next(1 / 0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.videoState.setState(We.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0)));\n    if (this.videoState.getTransition()) return;\n    const s = this.params.desiredState.videoTrack.getTransition(),\n          a = this.params.desiredState.seekState.getState();\n    if (t === We.STOPPED) return this.videoState.startTransitionTo(We.READY), void this.prepare();\n\n    if (s) {\n      const {\n        currentTime: t\n      } = this.video;\n      return this.prepare(), void (a.state === L.None && this.params.desiredState.seekState.setState({\n        state: L.Requested,\n        position: 1e3 * t,\n        forcePrecise: !0\n      }));\n    }\n\n    switch (i?.to !== P.PAUSED && a.state === L.Requested && this.seek(a.position), t) {\n      case We.READY:\n        return void (e === P.PAUSED ? (this.videoState.setState(We.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED)) : e === P.PLAYING && (this.videoState.startTransitionTo(We.PLAYING), this.playIfAllowed()));\n\n      case We.PLAYING:\n        return void (e === P.PAUSED ? (this.videoState.startTransitionTo(We.PAUSED), this.video.pause()) : i?.to === P.PLAYING && U(this.params.desiredState.playbackState, P.PLAYING));\n\n      case We.PAUSED:\n        return void (e === P.PLAYING ? (this.videoState.startTransitionTo(We.PLAYING), this.playIfAllowed()) : i?.to === P.PAUSED && U(this.params.desiredState.playbackState, P.PAUSED));\n\n      default:\n        return n(t);\n    }\n  };\n}\n\nconst Ke = ['stun:videostun.mycdn.me:80'],\n      Ze = () => null;\n\nclass ti {\n  options;\n  ws = null;\n  peerConnection = null;\n  serverUrl = '';\n  streamKey = '';\n  stream = null;\n  signalingType = 'JOIN';\n  retryTimeout;\n  retryCount = 0;\n  externalStartCallback = Ze;\n  externalStopCallback = Ze;\n  externalErrorCallback = Ze;\n\n  constructor(t, e) {\n    this.options = this.normalizeOptions(e);\n    const i = t.split('/');\n    this.serverUrl = i.slice(0, i.length - 1).join('/'), this.streamKey = i[i.length - 1];\n  }\n\n  onStart(t) {\n    try {\n      this.externalStartCallback = t;\n    } catch (t) {\n      this.handleSystemError(t);\n    }\n  }\n\n  onStop(t) {\n    try {\n      this.externalStopCallback = t;\n    } catch (t) {\n      this.handleSystemError(t);\n    }\n  }\n\n  onError(t) {\n    try {\n      this.externalErrorCallback = t;\n    } catch (t) {\n      this.handleSystemError(t);\n    }\n  }\n\n  connect() {\n    this.connectWS();\n  }\n\n  disconnect() {\n    try {\n      this.externalStopCallback(), this.closeConnections();\n    } catch (t) {\n      this.handleSystemError(t);\n    }\n  }\n\n  connectWS() {\n    this.ws || (this.ws = new WebSocket(this.serverUrl), this.ws.onopen = this.onSocketOpen.bind(this), this.ws.onmessage = this.onSocketMessage.bind(this), this.ws.onclose = this.onSocketClose.bind(this), this.ws.onerror = this.onSocketError.bind(this));\n  }\n\n  onSocketOpen() {\n    this.handleLogin();\n  }\n\n  onSocketClose(t) {\n    try {\n      if (!this.ws) return;\n      this.ws = null, t.code > 1e3 ? (this.retryCount++, this.retryCount > this.options.maxRetryNumber ? this.handleNetworkError() : this.scheduleRetry()) : this.externalStopCallback();\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  onSocketError(t) {\n    try {\n      this.externalErrorCallback(new Error(t.toString()));\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  onSocketMessage(t) {\n    try {\n      const e = this.parseMessage(t.data);\n\n      switch (e.type) {\n        case 'JOIN':\n        case 'CALL_JOIN':\n          this.handleJoinMessage(e);\n          break;\n\n        case 'UPDATE':\n          this.handleUpdateMessage(e);\n          break;\n\n        case 'STATUS':\n          this.handleStatusMessage(e);\n      }\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  handleJoinMessage(t) {\n    switch (t.inviteType) {\n      case 'ANSWER':\n        this.handleAnswer(t.sdp);\n        break;\n\n      case 'CANDIDATE':\n        this.handleCandidate(t.candidate);\n    }\n  }\n\n  handleStatusMessage(t) {\n    switch (t.status) {\n      case 'UNPUBLISHED':\n        this.handleUnpublished();\n    }\n  }\n\n  async handleUpdateMessage(t) {\n    try {\n      const e = await this.createOffer();\n      this.peerConnection && (await this.peerConnection.setLocalDescription(e)), this.handleAnswer(t.sdp);\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  async handleLogin() {\n    try {\n      const t = {\n        iceServers: [{\n          urls: Ke\n        }]\n      };\n      this.peerConnection = new RTCPeerConnection(t), this.peerConnection.ontrack = this.onPeerConnectionStream.bind(this), this.peerConnection.onicecandidate = this.onPeerConnectionIceCandidate.bind(this), this.peerConnection.oniceconnectionstatechange = this.onPeerConnectionIceConnectionStateChange.bind(this);\n      const e = await this.createOffer();\n      await this.peerConnection.setLocalDescription(e), this.send({\n        type: this.signalingType,\n        inviteType: 'OFFER',\n        streamKey: this.streamKey,\n        sdp: e.sdp,\n        callSupport: !1\n      });\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  async handleAnswer(t) {\n    try {\n      this.peerConnection && (await this.peerConnection.setRemoteDescription(new RTCSessionDescription({\n        type: 'answer',\n        sdp: t\n      })));\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  async handleCandidate(t) {\n    if (t) try {\n      this.peerConnection && (await this.peerConnection.addIceCandidate(t));\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  handleUnpublished() {\n    try {\n      this.closeConnections(), this.externalStopCallback();\n    } catch (t) {\n      this.handleRTCError(t);\n    }\n  }\n\n  handleSystemError(t) {\n    this.options.errorChanel && this.options.errorChanel.next({\n      id: 'webrtc-provider-error',\n      message: t.message\n    });\n  }\n\n  async onPeerConnectionStream(t) {\n    const e = t.streams[0];\n    this.stream && this.stream.id === e.id || (this.stream = e, this.externalStartCallback(this.stream));\n  }\n\n  onPeerConnectionIceCandidate(t) {\n    t.candidate && this.send({\n      type: this.signalingType,\n      inviteType: 'CANDIDATE',\n      candidate: t.candidate\n    });\n  }\n\n  onPeerConnectionIceConnectionStateChange() {\n    if (this.peerConnection) {\n      const t = this.peerConnection.iceConnectionState;\n      ['failed', 'closed'].indexOf(t) > -1 && (this.retryCount++, this.retryCount > this.options.maxRetryNumber ? this.handleNetworkError() : (this.closeConnections(), this.scheduleRetry()));\n    }\n  }\n\n  async createOffer() {\n    if (!this.peerConnection) throw new Error('Can not create offer - no peer connection instance ');\n    const t = await this.peerConnection.createOffer({\n      offerToReceiveAudio: !0,\n      offerToReceiveVideo: !0,\n      voiceActivityDetection: !1\n    }),\n          e = t.sdp || '';\n    if (!/^a=rtpmap:\\d+ H264\\/\\d+$/m.test(e)) throw new Error('No h264 codec support error');\n    return t;\n  }\n\n  handleRTCError(t) {\n    try {\n      this.externalErrorCallback(t || new Error('RTC connection error'));\n    } catch (t) {\n      this.handleSystemError(t);\n    }\n  }\n\n  handleNetworkError() {\n    try {\n      this.externalErrorCallback(new Error('Network error'));\n    } catch (t) {\n      this.handleSystemError(t);\n    }\n  }\n\n  send(t) {\n    this.ws && this.ws.send(JSON.stringify(t));\n  }\n\n  parseMessage(t) {\n    try {\n      return JSON.parse(t);\n    } catch (t) {\n      throw new Error('Can not parse socket message');\n    }\n  }\n\n  closeConnections() {\n    const t = this.ws;\n    t && (this.ws = null, t.close(1e3)), this.removePeerConnection();\n  }\n\n  removePeerConnection() {\n    let t = this.peerConnection;\n    t && (this.peerConnection = null, t.close(), t.ontrack = null, t.onicecandidate = null, t.oniceconnectionstatechange = null, t = null);\n  }\n\n  scheduleRetry() {\n    this.retryTimeout = setTimeout(this.connectWS.bind(this), 1e3);\n  }\n\n  normalizeOptions() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const e = {\n      stunServerList: Ke,\n      maxRetryNumber: 3,\n      errorChanel: null\n    };\n    return t.stunServerList && (e.stunServerList = t.stunServerList), t.maxRetryNumber && t.maxRetryNumber > 0 && (e.maxRetryNumber = t.maxRetryNumber), e;\n  }\n\n}\n\nvar ei;\n!function (t) {\n  t.STOPPED = 'stopped', t.READY = 'ready', t.PLAYING = 'playing', t.PAUSED = 'paused';\n}(ei || (ei = {}));\n\nclass ii {\n  subscription;\n  params;\n  log;\n  video;\n  videoState = new z(ei.STOPPED);\n  liveStreamClient;\n  maxSeekBackTime$ = new t(0);\n\n  constructor(t) {\n    this.subscription = new i(), this.params = t, this.log = this.params.dependencies.logger.createComponentLog('WebRTCLiveProvider'), this.video = St(t.container), this.liveStreamClient = new ti(this.params.source.url, {\n      maxRetryNumber: this.params.tuning.webrtc.connectionRetryMaxNumber,\n      errorChanel: this.params.output.error$\n    }), this.liveStreamClient.onStart(this.onLiveStreamStart.bind(this)), this.liveStreamClient.onStop(this.onLiveStreamStop.bind(this)), this.liveStreamClient.onError(this.onLiveStreamError.bind(this)), this.subscribe();\n  }\n\n  destroy() {\n    this.subscription.unsubscribe(), this.video.remove(), this.params.output.element$.next(void 0), this.liveStreamClient.disconnect();\n  }\n\n  subscribe() {\n    const {\n      output: t,\n      desiredState: e\n    } = this.params,\n          i = e => {\n      t.error$.next({\n        id: 'WebRTCLiveProvider',\n        message: 'WebRTCLiveProvider internal logic error',\n        thrown: e\n      });\n    };\n\n    o(this.videoState.stateChangeStarted$.pipe(h(t => ({\n      transition: t,\n      type: 'start'\n    }))), this.videoState.stateChangeEnded$.pipe(h(t => ({\n      transition: t,\n      type: 'end'\n    })))).subscribe(_ref79 => {\n      let {\n        transition: t,\n        type: e\n      } = _ref79;\n      this.log({\n        message: `[videoState change] ${e}: ${JSON.stringify(t)}`\n      });\n    });\n\n    const s = Tt(this.video),\n          a = (t, e) => this.subscription.add(t.subscribe(e, i));\n\n    a(s.timeUpdate$, t.liveTime$), a(s.ended$, t.endedEvent$), a(s.looped$, t.loopedEvent$), a(s.error$, t.error$), a(s.isBuffering$, t.isBuffering$), a(s.currentBuffer$, t.currentBuffer$), this.subscription.add(s.durationChange$.subscribe(e => {\n      t.duration$.next(e === 1 / 0 ? 0 : e);\n    })).add(s.canplay$.subscribe(() => {\n      this.videoState.getTransition()?.to === ei.READY && this.videoState.setState(ei.READY);\n    }, i)).add(s.pause$.subscribe(() => {\n      this.videoState.setState(ei.PAUSED);\n    }, i)).add(s.playing$.subscribe(() => {\n      this.videoState.setState(ei.PLAYING);\n    }, i)).add(s.error$.subscribe(t.error$)).add(this.maxSeekBackTime$.subscribe(this.params.output.duration$)).add(pt(this.video, e.volume, s.volumeState$, i)).add(s.volumeState$.subscribe(t.volume$, i)).add(this.videoState.stateChangeEnded$.subscribe(i => {\n      switch (i.to) {\n        case ei.STOPPED:\n          t.position$.next(0), t.duration$.next(0), e.playbackState.setState(P.STOPPED);\n          break;\n\n        case ei.READY:\n          break;\n\n        case ei.PAUSED:\n          e.playbackState.setState(P.PAUSED);\n          break;\n\n        case ei.PLAYING:\n          e.playbackState.setState(P.PLAYING);\n          break;\n\n        default:\n          return n(i.to);\n      }\n    }, i)).add(o(e.playbackState.stateChangeStarted$, this.videoState.stateChangeEnded$, u(['init'])).pipe(p(0)).subscribe(this.syncPlayback.bind(this), i)), this.subscription.add(e.isLooped.stateChangeStarted$.subscribe(() => e.isLooped.setState(!1), i)), this.subscription.add(e.autoVideoTrackSwitching.stateChangeStarted$.subscribe(() => e.autoVideoTrackSwitching.setState(!1), i));\n  }\n\n  onLiveStreamStart(t) {\n    this.params.output.element$.next(this.video), this.params.output.duration$.next(0), this.params.output.position$.next(0), this.params.output.isLive$.next(!0), this.params.output.hostname$.next(Ct(this.params.source.url)), this.params.output.autoVideoTrackLimitingAvailable$.next(!1), this.params.output.availableVideoTracks$.next([]), this.params.output.currentVideoTrack$.next({\n      id: 'webrtc',\n      quality: M.INVARIANT\n    }), this.video.srcObject = t, U(this.params.desiredState.playbackState, P.PLAYING);\n  }\n\n  onLiveStreamStop() {\n    this.videoState.startTransitionTo(ei.STOPPED), this.syncPlayback(), this.params.output.position$.next(0), this.params.output.duration$.next(0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.params.output.endedEvent$.next();\n  }\n\n  onLiveStreamError(t) {\n    this.onLiveStreamStop(), this.params.output.error$.next({\n      id: 'WebRTC stream runtime error',\n      message: t.message,\n      thrown: t\n    });\n  }\n\n  playIfAllowed() {\n    Ot(this.video).then(t => {\n      t || (this.videoState.setState(ei.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED, !0));\n    });\n  }\n\n  prepare() {\n    this.liveStreamClient.connect();\n  }\n\n  syncPlayback = () => {\n    const t = this.videoState.getState(),\n          e = this.params.desiredState.playbackState.getState(),\n          i = this.params.desiredState.playbackState.getTransition();\n    if (e === P.STOPPED) return void (t !== ei.STOPPED && (this.videoState.startTransitionTo(ei.STOPPED), this.video.pause(), this.video.srcObject = null, this.params.output.position$.next(0), this.params.output.duration$.next(0), this.params.output.currentBuffer$.next(void 0), this.params.output.hostname$.next(void 0), this.videoState.setState(ei.STOPPED), U(this.params.desiredState.playbackState, P.STOPPED, !0)));\n    if (this.videoState.getTransition()) return;\n    const s = this.params.desiredState.videoTrack.getTransition();\n    if (t === ei.STOPPED) return this.videoState.startTransitionTo(ei.READY), void this.prepare();\n    if (s) this.prepare();else switch (t) {\n      case ei.READY:\n        return void (e === P.PAUSED ? (this.videoState.setState(ei.PAUSED), U(this.params.desiredState.playbackState, P.PAUSED)) : e === P.PLAYING && (this.videoState.startTransitionTo(ei.PLAYING), this.playIfAllowed()));\n\n      case ei.PLAYING:\n        return void (e === P.PAUSED ? (this.videoState.startTransitionTo(ei.PAUSED), this.video.pause()) : i?.to === P.PLAYING && U(this.params.desiredState.playbackState, P.PLAYING));\n\n      case ei.PAUSED:\n        return void (e === P.PLAYING ? (this.videoState.startTransitionTo(ei.PLAYING), this.playIfAllowed()) : i?.to === P.PAUSED && U(this.params.desiredState.playbackState, P.PAUSED));\n\n      default:\n        return n(t);\n    }\n  };\n}\n\nclass si {\n  iterator;\n  current;\n\n  constructor(t) {\n    this.iterator = t[Symbol.iterator](), this.next();\n  }\n\n  next() {\n    this.current = this.iterator.next();\n  }\n\n  getValue() {\n    if (this.current.done) throw new Error('Iterable is completed');\n    return this.current.value;\n  }\n\n  isCompleted() {\n    return Boolean(this.current.done);\n  }\n\n}\n\nconst ai = ce(),\n      ri = navigator?.userAgentData?.mobile || /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion),\n      ni = document.createElement('video'),\n      oi = {\n  mse: Boolean(window.MediaSource && window.MediaStreamTrack && window.SourceBuffer?.prototype?.appendBuffer),\n  hls: Boolean(ni.canPlayType?.('application/x-mpegurl') || ni.canPlayType?.('vnd.apple.mpegURL')),\n  webrtc: Boolean(window.RTCPeerConnection)\n},\n      di = {\n  mp4: Boolean(ni.canPlayType?.('video/mp4')),\n  webm: Boolean(ni.canPlayType?.('video/webm'))\n},\n      hi = {\n  h264: Boolean(window.MediaSource?.isTypeSupported?.('video/mp4; codecs=\"avc1.42000a,mp4a.40.2\"')),\n  h265: Boolean(window.MediaSource?.isTypeSupported?.('video/mp4; codecs=\"hev1.1.6.L93.B0\"')),\n  vp9: Boolean(window.MediaSource?.isTypeSupported?.('video/webm; codecs=\"vp9\"')),\n  aac: Boolean(window.MediaSource?.isTypeSupported?.('audio/mp4; codecs=\"mp4a.40.2\"')),\n  opus: Boolean(window.MediaSource?.isTypeSupported?.('audio/webm; codecs=\"opus\"'))\n},\n      ui = (hi.h264 || hi.h265) && hi.aac,\n      ci = !ai,\n      li = oi.hls && di.mp4 && (ri || ai),\n      pi = Boolean(window.WebSocket);\nconst mi = 3e4,\n      fi = 18e4,\n      gi = 3,\n      Si = 100,\n      bi = {\n  cacheDuration: 12e4\n},\n      vi = {\n  maxPausedTime: 3e4,\n  chunkDuration: 5e3,\n  maxParallelRequests: 5\n},\n      yi = {\n  maxPausedTime: 3e4\n},\n      Ti = {\n  maxPausedTime: 3e4\n};\n\nclass Ei {\n  current$ = new t({\n    type: void 0\n  });\n  providerError$ = new e();\n  noAvailableProvidersError$ = new e();\n  providerOutput = {\n    position$: new t(0),\n    duration$: new t(1 / 0),\n    volume$: new t({\n      muted: !1,\n      volume: 1\n    }),\n    currentVideoTrack$: new t(void 0),\n    availableVideoTracks$: new t([]),\n    autoVideoTrackLimitingAvailable$: new t(!1),\n    currentBuffer$: new t(void 0),\n    isBuffering$: new t(!0),\n    error$: new e(),\n    willSeekEvent$: new e(),\n    seekedEvent$: new e(),\n    loopedEvent$: new e(),\n    endedEvent$: new e(),\n    firstBytesEvent$: new e(),\n    firstFrameEvent$: new e(),\n    canplay$: new e(),\n    isLive$: new t(void 0),\n    liveTime$: new t(void 0),\n    availableTextTracks$: new t([]),\n    currentTextTrack$: new t(void 0),\n    hostname$: new t(void 0),\n    httpConnectionType$: new t(void 0),\n    httpConnectionReused$: new t(void 0),\n    element$: new t(void 0)\n  };\n  subscription = new i();\n  screenFormatsIterator;\n  chromecastFormatsIterator;\n  log;\n  params;\n\n  constructor(t) {\n    this.params = t, this.log = this.params.dependencies.logger.createComponentLog('ProviderContainer');\n    const {\n      formatsToAvoid: e\n    } = this.params.tuning,\n          i = e.length ? [...t.screenFormatsPriority.filter(t => !e.includes(t)), ...t.screenFormatsPriority.filter(t => e.includes(t))] : t.screenFormatsPriority;\n    this.screenFormatsIterator = new si(function (t) {\n      let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      return t.filter(t => {\n        switch (t) {\n          case R.DASH:\n            return oi.mse && di.mp4 && ui && ci;\n\n          case R.DASH_SEP:\n            return oi.mse && di.mp4 && ui;\n\n          case R.DASH_WEBM:\n            return oi.mse && di.webm && hi.vp9 && hi.opus;\n\n          case R.DASH_LIVE:\n          case R.DASH_ONDEMAND:\n            return oi.mse && di.mp4 && ui;\n\n          case R.HLS:\n          case R.HLS_LIVE:\n          case R.HLS_ONDEMAND:\n            return li || e && oi.mse && di.mp4 && ui;\n\n          case R.MPEG:\n            return di.mp4;\n\n          case R.DASH_LIVE_WEBM:\n            return !1;\n\n          case R.WEB_RTC_LIVE:\n            return oi.webrtc && pi && hi.h264 && (di.mp4 || di.webm);\n\n          default:\n            return n(t);\n        }\n      });\n    }(i.filter(e => s(t.sources[e])), this.params.tuning.useHlsJs)), this.chromecastFormatsIterator = new si(t.chromecastFormatsPriority.filter(e => s(t.sources[e])));\n  }\n\n  init() {\n    this.subscription.add(this.initProviderErrorHandling()), this.subscription.add(this.params.dependencies.chromecastInitializer.connection$.subscribe(() => {\n      this.reinitProvider();\n    }));\n  }\n\n  destroy() {\n    this.destroyProvider(), this.current$.next({\n      type: void 0\n    }), this.subscription.unsubscribe();\n  }\n\n  initProvider() {\n    const t = this.chooseDestination(),\n          e = this.chooseFormat(t);\n    if (a(e)) return void this.handleNoFormatsError(t);\n    let i;\n\n    try {\n      i = this.createProvider(t, e);\n    } catch (t) {\n      this.providerError$.next({\n        id: 'ProviderNotConstructed',\n        message: 'Failed to create provider',\n        thrown: t\n      });\n    }\n\n    i ? this.current$.next({\n      type: e,\n      provider: i,\n      destination: t\n    }) : this.switchToNextProvider();\n  }\n\n  reinitProvider() {\n    this.destroyProvider(), this.initProvider();\n  }\n\n  switchToNextProvider() {\n    this.destroyProvider();\n    const t = this.current$.getValue().destination;\n    l(t, 'No current provider'), this.skipFormat(t), this.initProvider();\n  }\n\n  destroyProvider() {\n    const t = this.current$.getValue().provider;\n    if (!t) return;\n    this.log({\n      message: 'destroyProvider'\n    });\n    const e = 1e3 * this.providerOutput.position$.getValue(),\n          i = this.params.desiredState.seekState.getState(),\n          s = i.state !== L.None;\n    this.params.desiredState.seekState.setState({\n      state: L.Requested,\n      position: s ? i.position : e,\n      forcePrecise: !!s && i.forcePrecise\n    }), t.destroy();\n    const a = this.providerOutput.isBuffering$;\n    a.getValue() || a.next(!0);\n  }\n\n  createProvider(t, e) {\n    switch (this.log({\n      message: `createProvider: ${t}:${e}`\n    }), t) {\n      case D.SCREEN:\n        return this.createScreenProvider(e);\n\n      case D.CHROMECAST:\n        return this.createChromecastProvider(e);\n\n      default:\n        return n(t);\n    }\n  }\n\n  createScreenProvider(t) {\n    const {\n      sources: e,\n      container: i,\n      desiredState: s\n    } = this.params,\n          a = this.providerOutput,\n          r = {\n      container: i,\n      source: null,\n      desiredState: s,\n      output: a,\n      dependencies: this.params.dependencies,\n      tuning: this.params.tuning\n    };\n\n    switch (t) {\n      case R.DASH:\n        {\n          const i = e[t];\n          return l(i), new se({ ...r,\n            source: i,\n            config: bi\n          });\n        }\n\n      case R.DASH_SEP:\n      case R.DASH_WEBM:\n      case R.DASH_ONDEMAND:\n        {\n          const i = e[t];\n          return l(i), this.params.tuning.useDashJs ? new Bt({ ...r,\n            source: i,\n            format: t,\n            config: Ti\n          }) : new Ue({ ...r,\n            source: i\n          });\n        }\n\n      case R.HLS:\n      case R.HLS_ONDEMAND:\n        {\n          const i = e[t];\n          return l(i), li || !this.params.tuning.useHlsJs ? new Je({ ...r,\n            source: i\n          }) : new He({ ...r,\n            source: i\n          });\n        }\n\n      case R.HLS_LIVE:\n        {\n          const i = e[t];\n          return l(i), new je({ ...r,\n            source: i,\n            config: yi\n          });\n        }\n\n      case R.MPEG:\n        {\n          const i = e[t];\n          return l(i), new Xe({ ...r,\n            source: i\n          });\n        }\n\n      case R.DASH_LIVE:\n        {\n          const i = e[t];\n          return l(i), new jt({ ...r,\n            source: i,\n            config: vi\n          });\n        }\n\n      case R.WEB_RTC_LIVE:\n        {\n          const r = e[t];\n          return l(r), new ii({\n            container: i,\n            source: r,\n            desiredState: s,\n            output: a,\n            dependencies: this.params.dependencies,\n            tuning: this.params.tuning\n          });\n        }\n\n      case R.DASH_LIVE_WEBM:\n        throw new Error('DASH_LIVE_WEBM is no longer supported');\n\n      default:\n        return n(t);\n    }\n  }\n\n  createChromecastProvider(t) {\n    const {\n      sources: e,\n      container: i,\n      desiredState: s,\n      meta: a\n    } = this.params,\n          r = this.providerOutput,\n          n = this.params.dependencies.chromecastInitializer.connection$.getValue();\n    return l(n), new W({\n      connection: n,\n      meta: a,\n      container: i,\n      source: e,\n      format: t,\n      desiredState: s,\n      output: r,\n      dependencies: this.params.dependencies,\n      tuning: this.params.tuning\n    });\n  }\n\n  chooseDestination() {\n    return this.params.dependencies.chromecastInitializer.connection$.getValue() ? D.CHROMECAST : D.SCREEN;\n  }\n\n  chooseFormat(t) {\n    switch (t) {\n      case D.SCREEN:\n        return this.screenFormatsIterator.isCompleted() ? void 0 : this.screenFormatsIterator.getValue();\n\n      case D.CHROMECAST:\n        return this.chromecastFormatsIterator.isCompleted() ? void 0 : this.chromecastFormatsIterator.getValue();\n\n      default:\n        return n(t);\n    }\n  }\n\n  skipFormat(t) {\n    switch (t) {\n      case D.SCREEN:\n        return this.screenFormatsIterator.next();\n\n      case D.CHROMECAST:\n        return this.chromecastFormatsIterator.next();\n\n      default:\n        return n(t);\n    }\n  }\n\n  handleNoFormatsError(t) {\n    switch (t) {\n      case D.SCREEN:\n        return this.noAvailableProvidersError$.next(), void this.current$.next({\n          type: void 0\n        });\n\n      case D.CHROMECAST:\n        return void this.params.dependencies.chromecastInitializer.disconnect();\n\n      default:\n        return n(t);\n    }\n  }\n\n  initProviderErrorHandling() {\n    let t = [],\n        a = 0;\n    const r = new i();\n    var n;\n    return r.add(o(this.providerOutput.error$, (n = {\n      desiredPlaybackState$: this.params.desiredState.playbackState,\n      maxTransitionInterval: mi,\n      position$: this.providerOutput.position$,\n      providerChanged$: this.current$.pipe(f(_ref80 => {\n        let {\n          type: t\n        } = _ref80;\n        return void 0 !== t;\n      }))\n    }, new b(t => {\n      const s = new i(),\n            a = n.desiredPlaybackState$.stateChangeStarted$.pipe(h(_ref81 => {\n        let {\n          from: t,\n          to: e\n        } = _ref81;\n        return `${t}-${e}`;\n      })),\n            r = n.desiredPlaybackState$.stateChangeEnded$,\n            o = n.providerChanged$,\n            d = new e();\n      let u = 0,\n          c = 'unknown';\n      return s.add(a.subscribe(t => {\n        u && window.clearTimeout(u), c = t, u = window.setTimeout(() => d.next(t), n.maxTransitionInterval);\n      })), s.add(r.subscribe(() => {\n        window.clearTimeout(u), c = 'provider change', u = 0;\n      })), s.add(o.subscribe(() => {\n        u && (window.clearTimeout(u), u = window.setTimeout(() => d.next(c), n.maxTransitionInterval));\n      })), s.add(d.subscribe(t)), () => {\n        window.clearTimeout(u), s.unsubscribe();\n      };\n    })).pipe(h(t => ({\n      id: `ProviderHangup:${t}`,\n      message: `A ${t} transition failed to complete within reasonable time`\n    })))).subscribe(this.providerError$)), r.add(this.providerError$.pipe(w(Si, {\n      leading: !1,\n      trailing: !0\n    })).subscribe(() => {\n      const e = Date.now();\n      this.current$.getValue().destination === D.CHROMECAST ? (this.destroyProvider(), this.params.dependencies.chromecastInitializer.stopMedia().then(() => {\n        this.switchToNextProvider();\n      }, () => {\n        this.params.dependencies.chromecastInitializer.disconnect();\n      })) : s(t[a]) && e < t[a] + fi ? (t = [], this.switchToNextProvider()) : (t[a] = e, this.reinitProvider()), a = (a + 1) % gi;\n    })), r;\n  }\n\n}\n\nconst $i = (t, e, i) => i * e + (1 - i) * t;\n\nclass wi {\n  prevReported = void 0;\n  slow;\n  fast;\n  smoothed;\n  pastMeasures = [];\n  measuresCursor = 0;\n  params;\n  rawSeries$;\n  smoothedSeries$;\n  reportedSeries$;\n  smoothed$;\n  debounced$;\n\n  constructor(e) {\n    this.params = e, this.pastMeasures = Array(e.deviationDepth), this.slow = this.fast = this.smoothed = this.prevReported = e.initial, this.smoothed$ = new t(e.initial), this.debounced$ = new t(e.initial);\n    const i = e.label ?? 'value' + Math.random().toString(16).substring(2, 6);\n    this.rawSeries$ = new Pt(`raw_${i}`), this.smoothedSeries$ = new Pt(`smoothed_${i}`), this.reportedSeries$ = new Pt(`reported_${i}`), this.rawSeries$.next(e.initial), this.smoothedSeries$.next(e.initial), this.reportedSeries$.next(e.initial);\n  }\n\n  next(t) {\n    let e = 0,\n        i = 0;\n\n    for (let t = 0; t < this.pastMeasures.length; t++) void 0 !== this.pastMeasures[t] && (e += (this.pastMeasures[t] - this.smoothed) ** 2, i++);\n\n    e /= i;\n    const s = Math.sqrt(e),\n          r = this.smoothed + this.params.deviationFactor * s,\n          n = this.smoothed - this.params.deviationFactor * s;\n    this.pastMeasures[this.measuresCursor] = t, this.measuresCursor = (this.measuresCursor + 1) % this.pastMeasures.length, this.rawSeries$.next(t), this.slow = $i(this.slow, t, this.params.emaAlphaSlow), this.fast = $i(this.fast, t, this.params.emaAlphaFast);\n    const o = this.params.fastDirection > 0 ? Math.max : Math.min;\n    this.smoothed = o(this.slow, this.fast), this.smoothed$.next(this.smoothed), this.smoothedSeries$.next(this.smoothed), this.smoothed > r || this.smoothed < n || (a(this.prevReported) || Math.abs(this.smoothed - this.prevReported) / this.prevReported >= this.params.changeThreshold) && (this.prevReported = this.smoothed, this.debounced$.next(this.smoothed), this.reportedSeries$.next(this.smoothed));\n  }\n\n}\n\nvar ki;\n!function (t) {\n  t[t.LOCAL_STORAGE = 0] = 'LOCAL_STORAGE', t[t.SESSION_STORAGE = 1] = 'SESSION_STORAGE', t[t.RUNTIME = 2] = 'RUNTIME';\n}(ki || (ki = {}));\nconst Ai = new Map();\nlet Pi = ki.RUNTIME;\nconst Ri = `vk-videoplayer-dummy-key-${Math.random()}`;\n\n(() => {\n  try {\n    localStorage.setItem(Ri, 'test'), localStorage.removeItem(Ri), Pi = ki.LOCAL_STORAGE;\n  } catch (t) {\n    if (!(t instanceof DOMException || t instanceof TypeError)) throw t;\n\n    try {\n      sessionStorage.getItem(Ri), Pi = ki.SESSION_STORAGE;\n    } catch (t) {\n      if (!(t instanceof DOMException || t instanceof TypeError)) throw t;\n      Pi = ki.RUNTIME;\n    }\n  }\n})();\n\nconst Di = (t, e) => {\n  switch (Pi) {\n    case ki.LOCAL_STORAGE:\n      try {\n        localStorage.setItem(t, e);\n      } catch (t) {\n        if (!(t instanceof DOMException)) throw t;\n        console.error(t);\n      }\n\n      break;\n\n    case ki.SESSION_STORAGE:\n      try {\n        sessionStorage.setItem(t, e);\n      } catch (t) {\n        if (!(t instanceof DOMException)) throw t;\n        console.error(t);\n      }\n\n      break;\n\n    case ki.RUNTIME:\n      return void Ai.set(t, e);\n\n    default:\n      n(Pi);\n  }\n},\n      _i = window.navigator.connection,\n      Ci = () => {\n  const t = _i?.downlink;\n  if (s(t) && 10 !== t) return 1e3 * t;\n},\n      Ii = () => {\n  const t = _i?.rtt;\n  if (s(t) && 3e3 !== t) return t;\n},\n      Li = (t, e, i) => {\n  const s = 8 * i;\n  return s / (s / t + e);\n};\n\nclass xi {\n  throughput;\n  rtt;\n  subscription = new i();\n  tuningConfig;\n  concurrentDownloads = new Set();\n  throughput$;\n  rtt$;\n  rttAdjustedThroughput$;\n\n  constructor(e) {\n    this.tuningConfig = e;\n    const i = xi.load('one_video_throughput') || (e.useBrowserEstimation ? Ci() : void 0) || 5e3,\n          a = xi.load('one_video_rtt') ?? (e.useBrowserEstimation ? Ii() : void 0) ?? 0;\n\n    if (this.throughput$ = new t(i), this.rtt$ = new t(a), this.rttAdjustedThroughput$ = new t(Li(i, a, e.rttPenaltyRequestSize)), this.throughput = new wi({\n      initial: i,\n      emaAlphaSlow: e.emaAlphaSlow,\n      emaAlphaFast: e.emaAlphaFast,\n      changeThreshold: e.changeThreshold,\n      fastDirection: -1,\n      deviationDepth: e.deviationDepth,\n      deviationFactor: e.deviationFactor,\n      label: 'throughput'\n    }), this.rtt = new wi({\n      initial: a,\n      emaAlphaSlow: e.emaAlphaSlow,\n      emaAlphaFast: e.emaAlphaFast,\n      changeThreshold: e.changeThreshold,\n      fastDirection: 1,\n      deviationDepth: e.deviationDepth,\n      deviationFactor: e.deviationFactor,\n      label: 'rtt'\n    }), e.useBrowserEstimation) {\n      const t = () => {\n        const t = Ci();\n        t && this.throughput.next(t);\n        const e = Ii();\n        s(e) && this.rtt.next(e);\n      };\n\n      _i && 'onchange' in _i && this.subscription.add(r(_i, 'change').subscribe(t)), t();\n    }\n\n    this.subscription.add(this.throughput.smoothed$.subscribe(t => {\n      Di('one_video_throughput', t.toFixed(0));\n    })), this.subscription.add(this.rtt.smoothed$.subscribe(t => {\n      Di('one_video_rtt', t.toFixed(0));\n    })), this.subscription.add(this.throughput.debounced$.subscribe(this.throughput$)), this.subscription.add(this.rtt.debounced$.subscribe(this.rtt$)), this.subscription.add(y({\n      throughput: this.throughput.smoothed$,\n      rtt: this.rtt.smoothed$\n    }).pipe(h(_ref82 => {\n      let {\n        throughput: t,\n        rtt: i\n      } = _ref82;\n      return Li(t, i, e.rttPenaltyRequestSize);\n    }), f(t => {\n      const i = this.rttAdjustedThroughput$.getValue() || 0;\n      return Math.abs(t - i) / i >= e.changeThreshold;\n    })).subscribe(this.rttAdjustedThroughput$));\n  }\n\n  destroy() {\n    this.concurrentDownloads.clear(), this.subscription.unsubscribe();\n  }\n\n  trackXHR(t) {\n    let e = 0,\n        s = S();\n    const a = new i();\n\n    switch (this.subscription.add(a), this.concurrentDownloads.add(t), t.readyState) {\n      case 4:\n        break;\n\n      case 3:\n      case 2:\n        a.add(r(t, 'progress').pipe(v()).subscribe(t => {\n          e = t.loaded, s = S();\n        }));\n        break;\n\n      case 1:\n      case 0:\n        a.add(r(t, 'loadstart').subscribe(() => {\n          e = 0, s = S();\n        }));\n    }\n\n    a.add(r(t, 'loadend').subscribe(i => {\n      if (200 === t.status) {\n        const t = i.loaded,\n              a = S(),\n              r = t - e,\n              n = a - s;\n        this.addRawSpeed(r, n, 1);\n      }\n\n      this.concurrentDownloads.delete(t), a.unsubscribe();\n    }));\n  }\n\n  trackStream(t) {\n    const e = t.getReader();\n    if (!e) return void t.cancel('Could not get reader');\n    let i = 0;\n    const s = S();\n    let a = 0,\n        r = S();\n\n    const n = i => {\n      this.concurrentDownloads.delete(t), e.releaseLock(), t.cancel(`Throughput Estimator error: ${i}`).catch(() => {});\n    },\n          o = async _ref83 => {\n      let {\n        done: d,\n        value: h\n      } = _ref83;\n      d ? (this.addRawSpeed(i, S() - s, 1), this.concurrentDownloads.delete(t)) : h && (i += h.byteLength, a += h.byteLength, a >= this.tuningConfig.streamMinSampleSize && S() - r >= this.tuningConfig.streamMinSampleTime && (this.addRawSpeed(a, S() - r, this.concurrentDownloads.size), a = 0, r = S()), await e?.read().then(o, n));\n    };\n\n    this.concurrentDownloads.add(t), e?.read().then(o, n);\n  }\n\n  addRawSpeed(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    if (xi.sanityCheck(t, e)) {\n      const s = 8 * t / e;\n      this.throughput.next(s * i);\n    }\n  }\n\n  addRawThroughput(t) {\n    this.throughput.next(t);\n  }\n\n  addRawRtt(t) {\n    this.rtt.next(t);\n  }\n\n  static sanityCheck(t, e) {\n    const i = 8 * t / e;\n    return !(!i || !isFinite(i)) && !(i > 1e6) && !(i < 30) && !(t < 10240) && !(e <= 20);\n  }\n\n  static load(t) {\n    const e = (t => {\n      switch (Pi) {\n        case ki.LOCAL_STORAGE:\n          return localStorage.getItem(t) ?? void 0;\n\n        case ki.SESSION_STORAGE:\n          return sessionStorage.getItem(t) ?? void 0;\n\n        case ki.RUNTIME:\n          return Ai.get(t);\n\n        default:\n          n(Pi);\n      }\n    })(t);\n\n    if (s(e)) return parseInt(e, 10) ?? void 0;\n  }\n\n}\n\nconst Ni = {\n  throughputEstimator: {\n    emaAlphaSlow: .2,\n    emaAlphaFast: .7,\n    changeThreshold: .05,\n    useBrowserEstimation: !0,\n    rttPenaltyRequestSize: 1048576,\n    streamMinSampleSize: 10240,\n    streamMinSampleTime: 300,\n    deviationDepth: 10,\n    deviationFactor: .5\n  },\n  autoTrackSelection: {\n    bitrateFactorAtEmptyBuffer: 1.8,\n    bitrateFactorAtFullBuffer: 1.2,\n    usePixelRatio: !0,\n    limitByContainer: !0,\n    containerSizeFactor: 2,\n    lazyQualitySwitch: !0,\n    minBufferToSwitchUp: .3,\n    considerPlaybackRate: !1,\n    trackCooldown: 3e3\n  },\n  dash: {\n    forwardBufferTarget: 6e4,\n    forwardBufferTargetAuto: 6e4,\n    forwardBufferTargetManual: 3e5,\n    segmentRequestSize: 1048576,\n    representationSwitchForwardBufferGap: 3e3,\n    enableSubSegmentBufferFeeding: !0,\n    segmentTimelineTolerance: 100,\n    useFetchPriorityHints: !0\n  },\n  live: {\n    minBuffer: 3e3,\n    minBufferSegments: 3,\n    lowLatencyMinBuffer: 1e3,\n    lowLatencyMinBufferSegments: 1\n  },\n  downloadBackoff: {\n    bufferThreshold: 100,\n    start: 100,\n    factor: 2,\n    max: 3e3,\n    random: .1\n  },\n  enableTelemetryAtStart: !1,\n  formatsToAvoid: [],\n  disableChromecast: !1,\n  chromecastReceiverId: void 0,\n  useWebmBigRequest: !0,\n  bigRequestMinInitSize: 51200,\n  bigRequestMinDataSize: 1048576,\n  stripRangeHeader: !0,\n  flushShortLoopedBuffers: !0,\n  insufficientBufferRuleMargin: 1e4,\n  dashSeekInSegmentDurationThreshold: 18e4,\n  dashSeekInSegmentAlwaysSeekDelta: 1e4,\n  endGapTolerance: 300,\n  stallIgnoreThreshold: 33,\n  gapWatchdogInterval: 50,\n  requestQuick: !1,\n  useDashJs: !1,\n  useHlsJs: !0,\n  webrtc: {\n    connectionRetryMaxNumber: 3\n  }\n};\n\nconst Bi = _ref84 => {\n  let {\n    playbackState: t,\n    seekState: e,\n    playbackAbort$: r,\n    looped$: n,\n    position$: d\n  } = _ref84;\n  return new b(u => {\n    let c;\n    const l = t.transitionEnded$.pipe(f(t => (t.from === P.PAUSED || t.from === P.STOPPED) && t.to === P.PLAYING)),\n          p = t.stateChangeEnded$.pipe(f(t => t.from === P.PLAYING && t.to === P.PAUSED)),\n          m = e.stateChangeEnded$.pipe(f(_ref85 => {\n      let {\n        to: e\n      } = _ref85;\n      return e.state === L.Requested && (t.getTransition()?.from ?? t.getState()) === P.PLAYING;\n    })),\n          g = e.stateChangeEnded$.pipe(f(_ref86 => {\n      let {\n        from: e,\n        to: i\n      } = _ref86;\n      return e.state === L.Applying && i.state === L.None && (t.getTransition()?.from ?? t.getState()) === P.PLAYING;\n    })),\n          S = o(l, g).pipe(h(() => d.getValue()), f(s)),\n          b = o(o(p, m, r), n).pipe(h(() => d.getValue()), f(s));\n    return new i().add(S.subscribe(t => {\n      c = t;\n    })).add(b.subscribe(t => {\n      if (a(c) || c === t) return;\n      const e = {\n        from: c,\n        to: t\n      };\n      c = void 0, u.next(e);\n    }));\n  });\n},\n      Mi = {\n  [D.SCREEN]: {\n    vod: [...(li ? [R.HLS, R.HLS_ONDEMAND] : []), R.DASH_WEBM, R.DASH_SEP, R.DASH, R.DASH_ONDEMAND, ...(li ? [] : [R.HLS, R.HLS_ONDEMAND]), R.MPEG],\n    live: li ? [R.WEB_RTC_LIVE, R.HLS_LIVE, R.DASH_LIVE] : [R.WEB_RTC_LIVE, R.DASH_LIVE, R.HLS_LIVE]\n  },\n  [D.CHROMECAST]: {\n    vod: [R.DASH_WEBM, R.DASH_SEP, R.DASH_ONDEMAND, R.HLS, R.HLS_ONDEMAND, R.MPEG],\n    live: [R.HLS_LIVE]\n  }\n};\n\nclass Oi {\n  subscription = new i();\n  domContainer;\n  providerContainer;\n  chromecastInitializer;\n  logger = new k();\n  explicitInitialQuality;\n  config;\n  tuning;\n  throughputEstimator;\n  isPlaybackStarted = !1;\n  initedAt;\n  desiredState = {\n    playbackState: new z(P.STOPPED),\n    seekState: new z({\n      state: L.None\n    }),\n    volume: new z({\n      volume: 1,\n      muted: !1\n    }),\n    videoTrack: new z(void 0),\n    autoVideoTrackSwitching: new z(!0),\n    autoVideoTrackLimits: new z({}),\n    isLooped: new z(!1),\n    playbackRate: new z(1),\n    externalTextTracks: new z([]),\n    currentTextTrack: new z(void 0),\n    textTrackCuesSettings: new z({})\n  };\n  info = {\n    playbackState$: new t(P.STOPPED),\n    position$: new t(0),\n    duration$: new t(1 / 0),\n    muted$: new t(!1),\n    volume$: new t(1),\n    availableQualities$: new t([]),\n    availableQualitiesFps$: new t({}),\n    currentQuality$: new t(void 0),\n    isAutoQualityEnabled$: new t(!0),\n    autoQualityLimitingAvailable$: new t(!1),\n    autoQualityLimits$: new t({}),\n    currentPlaybackRate$: new t(1),\n    currentBuffer$: new t({\n      start: 0,\n      end: 0\n    }),\n    isBuffering$: new t(!0),\n    isStalled$: new t(!1),\n    isEnded$: new t(!1),\n    isLooped$: new t(!1),\n    isLive$: new t(void 0),\n    liveTime$: new t(void 0),\n    currentFormat$: new t(void 0),\n    availableTextTracks$: new t([]),\n    currentTextTrack$: new t(void 0),\n    throughputEstimation$: new t(void 0),\n    rttEstimation$: new t(void 0),\n    videoBitrate$: new t(void 0),\n    hostname$: new t(void 0),\n    httpConnectionType$: new t(void 0),\n    httpConnectionReused$: new t(void 0),\n    chromecastState$: new t(_.NOT_AVAILABLE),\n    chromecastDeviceName$: new t(void 0),\n    intrinsicVideoSize$: new t(void 0)\n  };\n  events = {\n    inited$: new e(),\n    started$: new e(),\n    startAttempt$: new e(),\n    willPause$: new e(),\n    willResume$: new e(),\n    willDestruct$: new e(),\n    watchCoverageRecord$: new e(),\n    watchCoverageLive$: new e(),\n    managedError$: new e(),\n    fatalError$: new e(),\n    ended$: new e(),\n    looped$: new e(),\n    seeked$: new e(),\n    willSeek$: new e(),\n    firstBytes$: new e(),\n    firstFrame$: new e(),\n    canplay$: new e(),\n    log$: new e()\n  };\n  experimental = {\n    element$: new t(void 0),\n    enableDebugTelemetry$: new t(!1),\n    dumpTelemetry: kt\n  };\n\n  constructor() {\n    var _this = this;\n\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (this.initLogs(), this.tuning = (t => {\n      const e = {};\n\n      for (const i of Object.keys(Ni)) {\n        const s = Ni[i],\n              a = t[i];\n        Array.isArray(s) && Array.isArray(a) ? e[i] = a : e[i] = 'object' == typeof s && 'object' == typeof a ? { ...s,\n          ...a\n        } : a ?? s;\n      }\n\n      return e;\n    })(t), this.chromecastInitializer = new x({\n      receiverApplicationId: t.chromecastReceiverId,\n      isDisabled: t.disableChromecast,\n      dependencies: {\n        logger: this.logger\n      }\n    }), this.throughputEstimator = new xi(this.tuning.throughputEstimator), this.initChromecastSubscription(), this.initDesiredStateSubscriptions(), Proxy && Reflect) return new Proxy(this, {\n      get: (t, e, i) => {\n        const s = Reflect.get(t, e, i);\n        return 'function' != typeof s ? s : function () {\n          for (var _len2 = arguments.length, i = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            i[_key2] = arguments[_key2];\n          }\n\n          try {\n            return s.apply(t, i);\n          } catch (t) {\n            const s = i.map(t => JSON.stringify(t, (t, e) => {\n              const i = typeof e;\n              return ['number', 'string', 'boolean'].includes(i) ? e : null === e ? null : `<${i}>`;\n            })),\n                  a = `Player.${String(e)}`,\n                  r = `Exception calling ${a} (${s.join(', ')})`;\n            throw _this.events.fatalError$.next({\n              id: a,\n              message: r,\n              thrown: t\n            }), t;\n          }\n        };\n      }\n    });\n  }\n\n  initVideo(t) {\n    return this.config = t, this.domContainer = (t => {\n      const e = 'string' == typeof t.container ? document.getElementById(t.container) : t.container;\n      return l(e, `Wrong container or containerId {${t.container}}`), e;\n    })(t), this.chromecastInitializer.contentId = t.meta?.videoId, this.providerContainer = new Ei({\n      screenFormatsPriority: [...Mi[D.SCREEN].live, ...Mi[D.SCREEN].vod],\n      chromecastFormatsPriority: [...Mi[D.CHROMECAST].live, ...Mi[D.CHROMECAST].vod],\n      sources: t.sources,\n      meta: t.meta ?? {},\n      container: this.domContainer,\n      desiredState: this.desiredState,\n      dependencies: {\n        throughputEstimator: this.throughputEstimator,\n        chromecastInitializer: this.chromecastInitializer,\n        logger: this.logger\n      },\n      tuning: this.tuning\n    }), this.initProviderContainerSubscription(this.providerContainer), this.initStartingVideoTrack(this.providerContainer), this.providerContainer.init(), this.initDebugTelemetry(), this;\n  }\n\n  destroy() {\n    this.events.willDestruct$.next(), this.providerContainer?.destroy(), this.throughputEstimator.destroy(), this.chromecastInitializer.destroy(), this.subscription.unsubscribe();\n  }\n\n  play() {\n    const t = this.desiredState.playbackState;\n    return t.getState() !== P.PLAYING && t.startTransitionTo(P.PLAYING), this;\n  }\n\n  pause() {\n    const t = this.desiredState.playbackState;\n    return t.getState() !== P.PAUSED && t.startTransitionTo(P.PAUSED), this;\n  }\n\n  stop() {\n    const t = this.desiredState.playbackState;\n    return t.getState() !== P.STOPPED && t.startTransitionTo(P.STOPPED), this;\n  }\n\n  seekTime(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    return this.events.willSeek$.next({\n      from: this.getExactTime(),\n      to: t\n    }), this.desiredState.seekState.setState({\n      state: L.Requested,\n      position: 1e3 * t,\n      forcePrecise: e\n    }), this;\n  }\n\n  seekPercent(t) {\n    const e = this.info.duration$.getValue();\n    return isFinite(e) && this.seekTime(Math.abs(e) * t), this;\n  }\n\n  setVolume(t) {\n    return this.chromecastInitializer.castState$.getValue() === _.CONNECTED ? this.chromecastInitializer.setVolume(t) : this.desiredState.volume.startTransitionTo({\n      volume: t,\n      muted: this.desiredState.volume.getState().muted\n    }), this;\n  }\n\n  setMuted(t) {\n    return this.chromecastInitializer.castState$.getValue() === _.CONNECTED ? this.chromecastInitializer.setMuted(t) : this.desiredState.volume.startTransitionTo({\n      volume: this.desiredState.volume.getState().volume,\n      muted: t\n    }), this;\n  }\n\n  setQuality(t) {\n    l(this.providerContainer);\n    const e = this.providerContainer.providerOutput.availableVideoTracks$.getValue();\n    e.length || (this.explicitInitialQuality = t);\n    const i = e.find(e => e.quality === t);\n    return i && this.desiredState.videoTrack.startTransitionTo(i.id), this;\n  }\n\n  setAutoQuality(t) {\n    return this.desiredState.autoVideoTrackSwitching.startTransitionTo(t), this;\n  }\n\n  setAutoQualityLimits(t) {\n    return this.desiredState.autoVideoTrackLimits.setState(t), this;\n  }\n\n  setPlaybackRate(t) {\n    l(this.providerContainer);\n    const e = this.providerContainer?.providerOutput.element$.getValue();\n    return e && (this.desiredState.playbackRate.setState(t), e.playbackRate = t), this;\n  }\n\n  setExternalTextTracks(t) {\n    return this.desiredState.externalTextTracks.startTransitionTo(t.map(t => ({\n      type: 'external',\n      ...t\n    }))), this;\n  }\n\n  selectTextTrack(t) {\n    return (void 0 === t || this.providerContainer?.providerOutput.availableTextTracks$.getValue().find(e => e.id === t)) && this.desiredState.currentTextTrack.startTransitionTo(t), this;\n  }\n\n  setTextTrackCueSettings(t) {\n    return this.desiredState.textTrackCuesSettings.startTransitionTo(t), this;\n  }\n\n  setLooped(t) {\n    return this.desiredState.isLooped.startTransitionTo(t), this;\n  }\n\n  toggleChromecast() {\n    this.chromecastInitializer.toggleConnection();\n  }\n\n  getExactTime() {\n    l(this.providerContainer);\n    const t = this.providerContainer.providerOutput.element$.getValue();\n    if (a(t)) return this.info.position$.getValue();\n    const e = this.desiredState.seekState.getState(),\n          i = e.state === L.None ? void 0 : e.position;\n    return s(i) ? i / 1e3 : t.currentTime;\n  }\n\n  getAllLogs() {\n    return this.logger.getAllLogs();\n  }\n\n  initDesiredStateSubscriptions() {\n    this.subscription.add(o(this.desiredState.playbackState.stateChangeStarted$, this.desiredState.playbackState.forceChanged$).pipe(h(t => t.to)).subscribe(this.info.playbackState$)).add(this.desiredState.isLooped.stateChangeEnded$.pipe(h(t => t.to)).subscribe(this.info.isLooped$)).add(this.desiredState.playbackRate.stateChangeEnded$.pipe(h(t => t.to)).subscribe(this.info.currentPlaybackRate$)).add(this.desiredState.autoVideoTrackSwitching.stateChangeEnded$.pipe(h(t => t.to)).subscribe(this.info.isAutoQualityEnabled$)).add(this.desiredState.autoVideoTrackLimits.stateChangeEnded$.pipe(h(t => t.to)).subscribe(this.info.autoQualityLimits$));\n    const t = new i();\n    this.subscription.add(t), this.subscription.add(this.desiredState.playbackState.stateChangeStarted$.pipe(f(t => t.to === P.PLAYING), f(() => !this.isPlaybackStarted)).subscribe(() => {\n      this.initedAt = S(), this.events.inited$.next(), t.unsubscribe(), t.add(this.desiredState.playbackState.stateChangeEnded$.pipe(f(t => t.to === P.PLAYING || t.to === P.PAUSED), p(0), v()).subscribe(t => {\n        const e = t.to === P.PLAYING,\n              i = this.info.muted$.getValue(),\n              s = e ? i ? C.SuccessWithoutSound : C.SuccessWithSound : C.Failed;\n        this.events.startAttempt$.next(s);\n      }));\n    })), this.subscription.add(this.desiredState.playbackState.stateChangeEnded$.pipe(f(t => t.to === P.PLAYING)).subscribe(() => {\n      if (!this.isPlaybackStarted) {\n        const t = this.info.muted$.getValue();\n        this.isPlaybackStarted = !0, this.events.started$.next(t);\n      }\n    })).add(this.desiredState.playbackState.stateChangeStarted$.subscribe(t => {\n      switch (t.to) {\n        case P.PAUSED:\n          this.events.willPause$.next();\n          break;\n\n        case P.PLAYING:\n          this.isPlaybackStarted && this.events.willResume$.next();\n      }\n    }));\n  }\n\n  initProviderContainerSubscription(e) {\n    this.subscription.add(e.providerOutput.willSeekEvent$.subscribe(() => {\n      const t = this.desiredState.seekState.getState();\n      t.state === L.Requested ? this.desiredState.seekState.setState({ ...t,\n        state: L.Applying\n      }) : this.events.managedError$.next({\n        id: `WillSeekIn${t.state}`,\n        message: 'Received unexpeceted willSeek$'\n      });\n    })).add(e.providerOutput.seekedEvent$.subscribe(() => {\n      this.desiredState.seekState.getState().state === L.Applying && (this.desiredState.seekState.setState({\n        state: L.None\n      }), this.events.seeked$.next());\n    })).add(e.current$.pipe(h(t => t.type)).subscribe(this.info.currentFormat$)).add(e.current$.pipe(h(t => t.destination), c()).subscribe(() => {\n      this.isPlaybackStarted = !1;\n    })).add(e.providerOutput.availableVideoTracks$.pipe(h(t => t.map(_ref87 => {\n      let {\n        quality: t\n      } = _ref87;\n      return t;\n    }).sort((t, e) => Y(t) ? 1 : Y(e) ? -1 : q(e, t) ? 1 : -1))).subscribe(this.info.availableQualities$)).add(e.providerOutput.availableVideoTracks$.subscribe(t => {\n      const e = {};\n\n      for (const i of t) i.fps && (e[i.quality] = i.fps);\n\n      this.info.availableQualitiesFps$.next(e);\n    })).add(e.providerOutput.currentVideoTrack$.subscribe(t => {\n      this.info.currentQuality$.next(t?.quality), this.info.videoBitrate$.next(t?.bitrate);\n      const i = e.providerOutput.element$.getValue();\n      i && this.info.intrinsicVideoSize$.next({\n        width: i.videoWidth,\n        height: i.videoHeight\n      });\n    })).add(e.providerOutput.hostname$.pipe(c()).subscribe(this.info.hostname$)).add(e.providerOutput.httpConnectionType$.pipe(c()).subscribe(this.info.httpConnectionType$)).add(e.providerOutput.httpConnectionReused$.pipe(c()).subscribe(this.info.httpConnectionReused$)).add(e.providerOutput.currentTextTrack$.subscribe(this.info.currentTextTrack$)).add(e.providerOutput.availableTextTracks$.subscribe(this.info.availableTextTracks$)).add(e.providerOutput.autoVideoTrackLimitingAvailable$.subscribe(this.info.autoQualityLimitingAvailable$)).add(e.providerOutput.currentBuffer$.pipe(h(t => t ? {\n      start: t.from,\n      end: t.to\n    } : {\n      start: 0,\n      end: 0\n    })).subscribe(this.info.currentBuffer$)).add(e.providerOutput.duration$.subscribe(this.info.duration$)).add(e.providerOutput.isBuffering$.subscribe(this.info.isBuffering$)).add(e.providerOutput.isLive$.subscribe(this.info.isLive$)).add(e.providerOutput.liveTime$.subscribe(this.info.liveTime$)).add(e.providerOutput.volume$.pipe(h(t => t.muted), c()).subscribe(this.info.muted$)).add(e.providerOutput.volume$.pipe(h(t => t.volume), c()).subscribe(this.info.volume$)).add((_ref88 => {\n      let {\n        seekState: t,\n        position$: e\n      } = _ref88;\n      return o(t.stateChangeEnded$.pipe(h(_ref89 => {\n        let {\n          to: t\n        } = _ref89;\n        return t.state === L.None ? void 0 : (t.position ?? NaN) / 1e3;\n      }), f(s)), e.pipe(f(() => t.getState().state === L.None)));\n    })({\n      seekState: this.desiredState.seekState,\n      position$: e.providerOutput.position$\n    }).subscribe(this.info.position$)).add(o(e.providerOutput.endedEvent$.pipe(g(!0)), e.providerOutput.seekedEvent$.pipe(g(!1))).pipe(c()).subscribe(this.info.isEnded$)).add(e.providerOutput.endedEvent$.subscribe(this.events.ended$)).add(e.providerOutput.loopedEvent$.subscribe(this.events.looped$)).add(e.providerError$.subscribe(this.events.managedError$)).add(e.noAvailableProvidersError$.pipe(h(t => ({\n      id: 'NoProviders',\n      message: 'No suitable providers or all providers failed'\n    }))).subscribe(this.events.fatalError$)).add(e.providerOutput.element$.subscribe(this.experimental.element$)).add(e.providerOutput.firstBytesEvent$.pipe(v(), h(() => S() - this.initedAt)).subscribe(this.events.firstBytes$)).add(e.providerOutput.firstFrameEvent$.pipe(v(), h(() => S() - this.initedAt)).subscribe(this.events.firstFrame$)).add(e.providerOutput.canplay$.pipe(v(), h(() => S() - this.initedAt)).subscribe(this.events.canplay$)).add(this.throughputEstimator.throughput$.subscribe(this.info.throughputEstimation$)).add(this.throughputEstimator.rtt$.subscribe(this.info.rttEstimation$));\n    const a = new t(!1);\n    this.subscription.add(e.providerOutput.seekedEvent$.subscribe(() => a.next(!1))).add(e.providerOutput.willSeekEvent$.subscribe(() => a.next(!0)));\n    const n = new t(!0);\n    this.subscription.add(e.current$.subscribe(() => n.next(!0))).add(this.desiredState.playbackState.stateChangeEnded$.pipe(f(_ref90 => {\n      let {\n        to: t\n      } = _ref90;\n      return t === P.PLAYING;\n    }), v()).subscribe(() => n.next(!1)));\n    let d = 0;\n    const u = o(e.providerOutput.isBuffering$, a, n).pipe(h(() => {\n      const t = e.providerOutput.isBuffering$.getValue(),\n            i = a.getValue() || n.getValue();\n      return t && !i;\n    }), c());\n    this.subscription.add(u.subscribe(t => {\n      t ? d = window.setTimeout(() => this.info.isStalled$.next(!0), this.tuning.stallIgnoreThreshold) : (window.clearTimeout(d), this.info.isStalled$.next(!1));\n    }));\n    const p = new i();\n    this.subscription.add(p);\n    const m = o(r(window, 'beforeunload'), this.events.willDestruct$, e.current$.pipe(f(t => Boolean(t?.provider))));\n    e.providerOutput.isLive$.pipe(c()).subscribe(t => {\n      switch (l(this.providerContainer), p.unsubscribe(), t) {\n        case !0:\n          p.add(Bi({\n            seekState: this.desiredState.seekState,\n            playbackState: this.desiredState.playbackState,\n            playbackAbort$: m,\n            looped$: this.events.looped$,\n            position$: this.providerContainer.providerOutput.liveTime$\n          }).pipe(h(_ref91 => {\n            let {\n              from: t,\n              to: e\n            } = _ref91;\n            return {\n              start: t,\n              end: e\n            };\n          })).subscribe(this.events.watchCoverageLive$));\n          break;\n\n        case !1:\n          p.add(Bi({\n            seekState: this.desiredState.seekState,\n            playbackState: this.desiredState.playbackState,\n            looped$: this.events.looped$,\n            playbackAbort$: m,\n            position$: this.providerContainer.providerOutput.position$\n          }).pipe(h(_ref92 => {\n            let {\n              from: t,\n              to: e\n            } = _ref92;\n            return {\n              start: t,\n              end: e\n            };\n          })).subscribe(this.events.watchCoverageRecord$));\n      }\n    });\n  }\n\n  initChromecastSubscription() {\n    this.subscription.add(this.chromecastInitializer.castState$.subscribe(this.info.chromecastState$)), this.subscription.add(this.chromecastInitializer.connection$.pipe(h(t => t?.castDevice.friendlyName)).subscribe(this.info.chromecastDeviceName$)), this.subscription.add(this.chromecastInitializer.errorEvent$.subscribe(this.events.managedError$));\n  }\n\n  initStartingVideoTrack(t) {\n    const e = new i();\n    this.subscription.add(e), this.subscription.add(t.current$.pipe(c((t, e) => t.provider === e.provider)).subscribe(() => {\n      e.unsubscribe(), e.add(t.providerOutput.availableVideoTracks$.pipe(f(t => t.length > 0), v()).subscribe(t => {\n        this.setStartingVideoTrack(t);\n      }));\n    }));\n  }\n\n  setStartingVideoTrack(t) {\n    let e;\n    this.explicitInitialQuality && (e = t.find(_ref93 => {\n      let {\n        quality: t\n      } = _ref93;\n      return t === this.explicitInitialQuality;\n    }), this.explicitInitialQuality = void 0), e || (e = _t(t, {\n      container: this.domContainer.getBoundingClientRect(),\n      throughput: this.throughputEstimator.throughput$.getValue(),\n      tuning: this.tuning.autoTrackSelection,\n      limits: this.desiredState.autoVideoTrackLimits.getState(),\n      playbackRate: this.info.currentPlaybackRate$.getValue(),\n      forwardBufferHealth: 0\n    })), this.desiredState.videoTrack.startTransitionTo(e.id), this.info.currentQuality$.next(e.quality), this.info.videoBitrate$.next(e.bitrate);\n  }\n\n  initLogs() {\n    this.subscription.add(o(this.desiredState.videoTrack.stateChangeStarted$.pipe(h(t => ({\n      transition: t,\n      entity: 'quality',\n      type: 'start'\n    }))), this.desiredState.videoTrack.stateChangeEnded$.pipe(h(t => ({\n      transition: t,\n      entity: 'quality',\n      type: 'end'\n    }))), this.desiredState.autoVideoTrackSwitching.stateChangeStarted$.pipe(h(t => ({\n      transition: t,\n      entity: 'autoQualityEnabled',\n      type: 'start'\n    }))), this.desiredState.autoVideoTrackSwitching.stateChangeEnded$.pipe(h(t => ({\n      transition: t,\n      entity: 'autoQualityEnabled',\n      type: 'end'\n    }))), this.desiredState.seekState.stateChangeStarted$.pipe(h(t => ({\n      transition: t,\n      entity: 'seekState',\n      type: 'start'\n    }))), this.desiredState.seekState.stateChangeEnded$.pipe(h(t => ({\n      transition: t,\n      entity: 'seekState',\n      type: 'end'\n    }))), this.desiredState.playbackState.stateChangeStarted$.pipe(h(t => ({\n      transition: t,\n      entity: 'playbackState',\n      type: 'start'\n    }))), this.desiredState.playbackState.stateChangeEnded$.pipe(h(t => ({\n      transition: t,\n      entity: 'playbackState',\n      type: 'end'\n    })))).pipe(h(t => ({\n      component: 'desiredState',\n      message: `[${t.entity} change] ${t.type}: ${JSON.stringify(t.transition)}`\n    }))).subscribe(this.logger.log)), this.subscription.add(this.logger.log$.subscribe(this.events.log$));\n  }\n\n  initDebugTelemetry() {\n    const t = this.providerContainer?.providerOutput;\n    l(this.providerContainer), l(t), wt = {}, this.experimental.enableDebugTelemetry$.next(this.tuning.enableTelemetryAtStart), [this.experimental.enableDebugTelemetry$.subscribe(t => {\n      $t = t;\n    }), this.providerContainer.current$.subscribe(_ref94 => {\n      let {\n        type: t\n      } = _ref94;\n      return At('provider', t);\n    }), t.duration$.subscribe(t => At('duration', t)), t.availableVideoTracks$.pipe(f(t => !!t.length), v()).subscribe(t => At('tracks', t)), this.events.fatalError$.subscribe(new Pt('fatalError')), this.events.managedError$.subscribe(new Pt('managedError')), t.position$.subscribe(new Pt('position')), t.currentVideoTrack$.pipe(h(t => t?.quality)).subscribe(new Pt('quality')), this.info.currentBuffer$.subscribe(new Pt('buffer')), t.isBuffering$.subscribe(new Pt('isBuffering'))].forEach(t => this.subscription.add(t)), At('codecs', Object.keys(hi).filter(t => hi[t]));\n  }\n\n}\n\nconst Ui = '@vkontakte/videoplayer-core@2.0.71';\nexport { _ as ChromecastState, I as HttpConnectionType, P as PlaybackState, Oi as Player, Ui as SDK_VERSION, C as StartStatus, R as VideoFormat, M as VideoQuality };","map":{"version":3,"names":["ValueSubject","t","Subject","e","Subscription","i","isNonNullable","s","isNullable","a","fromEvent","r","assertNever","n","merge","o","tap","d","map","h","observableFrom","u","filterChanged","c","assertNonNullable","l","debounce","p","timeout","m","filter","f","mapTo","g","now","S","Observable","b","once","v","combine","y","abortable","T","getExponentialDelay","E","interval","$","throttle","w","Logger","k","A","P","R","D","_","C","I","L","STOPPED","PLAYING","PAUSED","MPEG","DASH","DASH_SEP","DASH_SEP_VK","DASH_WEBM","DASH_WEBM_VK","DASH_ONDEMAND","DASH_ONDEMAND_VK","DASH_LIVE","DASH_LIVE_WEBM","HLS","HLS_ONDEMAND","HLS_JS","HLS_LIVE","WEB_RTC_LIVE","SCREEN","CHROMECAST","NOT_AVAILABLE","AVAILABLE","CONNECTING","CONNECTED","SuccessWithSound","SuccessWithoutSound","Failed","HTTP1","HTTP2","QUIC","None","Requested","Applying","x","connection$","castState$","errorEvent$","contentId","realCastState$","subscription","log","params","constructor","dependencies","logger","createComponentLog","window","message","receiverApplicationId","isDisabled","chrome","cast","initializeCastApi","__onGCastApiAvailable","Promise","document","createElement","setAttribute","onload","onerror","body","appendChild","catch","next","id","connect","framework","CastContext","getInstance","requestSession","disconnect","getCurrentSession","endSession","stopMedia","getMediaSession","stop","media","StopRequest","toggleConnection","getValue","setVolume","remotePlayer","volumeLevel","remotePlayerController","setVolumeLevel","setMuted","isMuted","muteOrUnmute","destroy","unsubscribe","initListeners","RemotePlayer","RemotePlayerController","add","CastContextEventType","SESSION_STATE_CHANGED","subscribe","sessionState","SessionState","SESSION_STARTED","SESSION_STARTING","SESSION_RESUMED","NO_SESSION","SESSION_ENDING","SESSION_ENDED","SESSION_START_FAILED","CAST_STATE_CHANGED","pipe","JSON","stringify","castState","getCastState","N","getCastDevice","session","castDevice","DEFAULT_MEDIA_RECEIVER_APP_ID","AutoJoinPolicy","ORIGIN_SCOPED","setOptions","autoJoinPolicy","thrown","CastState","NO_DEVICES_AVAILABLE","NOT_CONNECTED","B","OFFSET_P","PLAYBACK_SHIFT","M","O","replace","toFixed","URL","searchParams","append","toString","U","getTransition","to","setState","INVARIANT","Q_144P","Q_240P","Q_360P","Q_480P","Q_720P","Q_1080P","Q_1440P","Q_2160P","Q_4320P","V","width","height","q","F","H","Object","keys","sort","G","Math","min","max","find","Y","z","state","transition","transitionStarted$","transitionEnded$","transitionUpdated$","forceChanged$","stateChangeStarted$","stateChangeEnded$","from","canceledTransition","startTransitionTo","getState","Q","READY","W","loadMediaTimeoutSubscription","videoState","format","output","isLive$","handleRemoteVolumeChange","volume","connection","muted","restoreSession","position$","duration$","seekedEvent$","NaN","RemotePlayerEventType","CURRENT_TIME_CHANGED","logRemoteEvent","value","desiredState","seekState","abs","DURATION_CHANGED","IS_MEDIA_LOADED_CHANGED","handleRemoteReady","handleRemoteStop","IS_PAUSED_CHANGED","handleRemotePause","handleRemotePlay","PLAYER_STATE_CHANGED","isBuffering$","PlayerState","BUFFERING","IDLE","duration","currentTime","endedEvent$","playbackState","VOLUME_LEVEL_CHANGED","IS_MUTED_CHANGED","syncPlayback","playerState","isPaused","prepare","createMediaInfo","createLoadRequest","loadMedia","volume$","seek","willSeekEvent$","source","StreamType","BUFFERED","url","LIVE","Error","error$","MediaInfo","meta","videoId","contentUrl","streamType","metadata","GenericMediaMetadata","title","subtitle","LoadRequest","autoplay","position","race","then","finally","playOrPause","j","defineProperty","writable","configurable","addEventListener","listeners","push","callback","options","removeEventListener","length","splice","dispatchEvent","type","slice","call","resolve","defaultPrevented","J","aborted","onabort","X","abort","Event","createEvent","initEvent","createEventObject","bubbles","cancelable","signal","K","__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL","console","Request","prototype","hasOwnProperty","AbortController","Symbol","toStringTag","Z","fetch","tt","enumerable","isPrototypeOf","DOMException","name","reject","et","it","st","range","split","parseInt","at","dashJsRequestQueue","activeRequests","dashMetrics","Map","setMetrics","queueDashJSRequest","request","get","set","executeNextRequests","entries","onBigRequestProgress","delete","sendBigRequest","includes","abortController","values","clear","minDataSize","minInitSize","location","href","loaded","data","onBigRequestAbort","onError","response","ok","onBigRequestError","tee","onDownloadStream","getReader","headers","ArrayBuffer","Uint8Array","done","byteLength","read","suppressStreamErrors","suppressAbort","has","requestStartDate","Date","firstByteDate","bytesLoaded","bytesTotal","requestEndDate","success","Array","join","addHttpRequest","status","progress","total","lengthComputable","stream","error","String","code","rt","baseLoader","config","bigRequest","shouldDelegateToBase","action","mediaType","responseType","load","nt","extend","parent","getLoader","create","ot","on","timeToEnd","signalEndOfStream","dt","bind","fromEntries","getAllResponseHeaders","trim","getResponseHeader","isNaN","readyState","playbackDuration$","ping$","connectionReused$","connectionType$","ht","ut","ct","equal","changed$","lt","loop","pt","mt","playbackRate","ft","language","label","gt","available$","current$","video","cueSettings","externalTracks","textTrackCuesSettings","availableTextTracks$","currentTextTrack$","externalTextTracks","setExternal","every","currentTextTrack","htmlTextTracksAsArray","mode","htmlTextTrackToITextTrack","select","applyCueSettings","cues","activeCues","textTracks","target","track","align","size","line","isHealthyTrack","kind","forEach","attach","detach","getElementsByTagName","getAttribute","removeChild","St","bt","pausedTime","streamOffset","pauseTimestamp","getTotalPausedTime","getCurrentPausedTime","getStreamOffset","getTotalOffset","pause","resume","resetTo","vt","_buffer","_source","fill","buffered","start","end","getByTime","getNextWithGap","getNext","indexOf","smartRemove","yt","Tt","playing$","pause$","canplay$","ended$","looped$","seeked$","seeking$","progress$","loadStart$","loadedMetadata$","loadedData$","timeUpdate$","durationChange$","currentBuffer$","volumeState$","playbackRateState$","Et","parseFloat","$t","wt","kt","At","Pt","series","Rt","Dt","last","history","recordSelection","recordSwitch","_t","container","throughput","tuning","limits","reserve","forwardBufferHealth","current","usePixelRatio","devicePixelRatio","limitByContainer","containerSizeFactor","considerPlaybackRate","quality","bitrateFactorAtEmptyBuffer","bitrateFactorAtFullBuffer","pow","isFinite","bitrate","lazyQualitySwitch","minBufferToSwitchUp","ceil","trackCooldown","Ct","hostname","It","getBoundingClientRect","ResizeObserver","contentBoxSize","blockSize","inlineSize","contentRect","observe","Lt","xt","DOWNLOADING_LIB","STREAM_INITIALIZED","Nt","off","Bt","player","textTracksManager","videoTracks","frameRatesByFrameHeight","maxSeekBackTime$","availableFrom$","elementSize$","liveOffset","destroyBigRequest","element$","availableVideoTracks$","hostname$","autoVideoTrackLimitingAvailable$","loadDashJs","setTimeout","MediaPlayer","Debug","init","clearTimeout","updateSettings","debug","logLevel","streaming","buffer","fastSwitchEnabled","abr","limitBitrateByPortal","autoTrackSelection","usePixelRatioInLimitBitrateByPortal","additionalAbrRules","insufficientBufferRule","utcSynchronization","useManifestDateHeaderTimeSource","registerCustomCapabilitiesFilter","frameRate","useWebmBigRequest","bigRequestMinInitSize","bigRequestMinDataSize","throughputEstimator","trackStream","stripRangeHeader","requestQuick","modifyRequestURL","clearDefaultUTCTimingSources","newQuality","bitrateInfo","qualityIndex","currentVideoTrack$","videoTrack","getQualityFor","setQualityFor","autoVideoTrackSwitching","getSettings","autoSwitchBitrate","getDashMetrics","getLatestFragmentRequestHeaderValueByID","httpConnectionType$","httpConnectionReused$","streamInfo","manifestInfo","isDynamic","availableFrom","getTime","getBitrateInfoListFor","fps","addRawSpeed","throughput$","autoVideoTrackLimits","maxSeekBackTime","isLive","time","liveTime$","setMute","play","isReady","updatePortalSize","firstBytesEvent$","flushShortLoopedBuffers","isShort","flushBufferAtTrackSwitch","insufficientBufferRuleMargin","firstFrameEvent$","isLooped","loopedEvent$","attachSource","attachView","initialize","maxPausedTime","remove","Mt","Ot","warn","Ut","Vt","qt","test","startsWith","floor","random","Ft","XMLHttpRequest","open","updateChunk","HEADERS_RECEIVED","send","withBitrateReporting","withParallel","withJSONResponse","withRetryCount","withRetryInterval","withTimeout","withFinally","Ht","intervals","currentRate","_updateRate","_createInterval","bytes","_doMergeIntervals","_mergeIntervals","_flushIntervals","round","_joinIntervals","addInterval","getBitRate","Gt","pendingQueue","completeRequests","averageSegmentDuration","lastPrefetchStart","throttleTimeout","RETRY_COUNT","TIMEOUT","BITRATE_ESTIMATOR","MAX_PARALLEL_REQUESTS","limitCompleteCount","_getParallelRequestCount","_sendRequest","_sendPending","_error","_errorMsg","_errorCB","_request","_complete","_responseData","_downloadTime","_cb","_retry","_retryCB","_finallyCB","_getPrefetchDelay","_canSendPending","pop","_removeFromActive","abortAll","requestData","prefetch","unshift","optimizeForSegDuration","Yt","paused","autoQuality","maxAutoQuality","buffering","destroyed","videoPlayStarted","lowLatency","rep","manifest","bitrateSwitcher","filesFetcher","sourceBuffer","mediaSource","currentManifestEntry","manifestRequest","manifestRefetchTimer","bufferStates","downloadRate","sourceJitter","chunkRateEstimator","manifestUrl","urlResolver","_initVideo","_initBitrateSwitcher","_initManifest","setAutoQualityEnabled","setMaxAutoQuality","switchByName","_switchToQuality","catchUp","_initPlayerWith","_notifyBuffering","videoElement","_getBufferSizeSec","shouldPlay","_playVideoElement","startPlay","reinit","_handleNetworkError","playerCallback","_retryCallback","isBuffering","_fixupStall","_selectQuality","offsetHeight","_setVideoSrc","MediaSource","src","createObjectURL","addSourceBuffer","codecs","apply","maxParallelRequests","_representation","buf","ts","dur","fragIndex","chunkIdx","startTS","discontinuity","lowLatencyMinBuffer","minBuffer","lowLatencyMinBufferSegments","minBufferSegments","Boolean","zeroTime","shiftDuration","jitter","nextChunk","jidxUrl","updating","appendBuffer","shift","fragUrlTemplate","cachedHeader","headerUrl","getTimestampSec","notifySwitch","_qualityAvailable","speed","_fetchManifest","_handleManifestUpdate","canPlayType","isTypeSupported","index","_refetchManifest","zt","MANIFEST_READY","Qt","Wt","jt","dash","representations$","zeroTime$","createLiveDashPlayer","live","_dashCb","component","offsetWidth","representation","setVideoTrack","setAutoQuality","Jt","reused","Xt","Kt","_failoverIndex","_failoverCount","_xhr","_url","_failoverHosts","_completeCb","_progressCb","_headersCb","_errorCb","_retryTimeout","overrideMimeType","onreadystatechange","Headers","host","Zt","_appendPromiseUint8Array","_lastXhr","_lastStreamUpdatingCallback","_maxBufferDuration","Number","POSITIVE_INFINITY","_isFull","_mediaSource","_sourceBuffer","_onDashCallback","_params","onDashCallback","_appendBuffer","getMaxBufferDuration","isFull","_str2ua","substr","baseURL","requestQuic","failoverHosts","onBandwidthChange","_sbUpdatingStop","_sbUpdatingWatch","_concatUint8","endOfStream","charCodeAt","te","_representations","_appendVector","_currentRepresentation","_stream","_lastLoadOffset","_loopTimeout","_cachingPaused","_duration","STREAM_END_THRESHOLD","_video","_config","_parseDurationFromISO8601","exec","getRepresentations","REQUEST_QUIC","attachManifest","origin","onResponseHeaders","DOMParser","parseFromString","documentElement","attributes","getNamedItem","parentElement","childNodes","bandwidth","indexFrom","indexTo","initFrom","initTo","mimeType","bufferSize","bufferLength","onManifestReady","_loadInitAndSidx","refs","initMessage","DataView","getUint32","getUint16","fromTime","toTime","fromOffset","toOffset","onIdxRequestPing","WebKitMediaSource","_findRef","FRONT_CACHE_DURATION","_findBufferRangeEnd","_loadRef","selectRepresentation","onRepresentationPlay","played","_isLastRef","SEEK_IN_SEGMENT_THRESHOLD","SEEK_IN_SEGMENT_DELTA","setQualityByRepresentation","setQuality","pauseCaching","resumeCaching","updateRefsForCurrentTime","isArray","ee","MANIFEST_LOADED","INITIAL_REPRESENTATION_SELECTED","METADATA_LOADED","ie","se","currentRepresentation$","dashLiteEvents","idxRequestPing$","responseHeaders$","manifestReady$","representationPlay$","dashSeekInSegmentDurationThreshold","dashSeekInSegmentAlwaysSeekDelta","cacheDuration","rttAdjustedThroughput$","forwardBufferTargetAuto","forwardBufferTargetManual","needToSelectRepresentation","currentRepresentationSelected","forwardBufferTarget","addRawRtt","handleManifestReady","handleRepresentationPlay","raw","playIfAllowed","forcePrecise","ae","re","ne","oe","de","VIDEO","AUDIO","TEXT","WEBM_AS_IN_SPEC","WEBM_AS_IN_FFMPEG","BYTE_RANGE","TEMPLATE","NONE","DOWNLOADING","DOWNLOADED","PARTIALLY_FED","FED","MP4","WEBM","he","ue","requestIdleCallback","cancelIdleCallback","performance","didTimeout","timeRemaining","ce","userAgent","navigator","le","match","pe","bufferFull$","queue","currentTask","completeTask","operation","pull","execute","me","HEADER","PARAM","fe","lastConnectionType$","lastConnectionReused$","lastRequestFirstBytes$","abortAllController","onHeadersReceived","fetchManifest","ge","text","rangeMethod","onProgress","priority","measureThroughput","statusText","arrayBuffer","fetchRepresentation","fetchByteRangeRepresentation","fetchTemplateRepresentation","initRange","indexRange","validateData","parseInit","getIndexRange","ReferenceError","parseSegments","dataView","segments","initUrl","baseUrl","Se","TextDecoder","be","byteOffset","decode","contents","ve","SyntaxError","byte","parseFeedableSegmentChunk","ye","Te","EBML","EBMLVersion","EBMLReadVersion","EBMLMaxIDLength","EBMLMaxSizeLength","DocType","DocTypeVersion","DocTypeReadVersion","Void","Segment","SeekHead","Seek","SeekID","SeekPosition","Info","TimestampScale","Duration","Tracks","Chapters","Cluster","Timestamp","SilentTracks","SilentTrackNumber","Position","PrevSize","SimpleBlock","BlockGroup","EncryptedBlock","Attachments","Tags","Cues","CuePoint","CueTime","CueTrackPositions","CueTrack","CueClusterPosition","CueRelativePosition","CueDuration","CueBlockNumber","CueCodecState","CueReference","CueRefTime","SignedInteger","UnsignedInteger","Float","UTF8","Master","Binary","Ee","$e","getUint8","we","tag","toUpperCase","tagHeaderSize","tagSize","valueSize","ke","getInt8","getFloat32","getFloat64","UTC","Ae","Pe","Re","De","segmentStart","segmentEnd","timeScale","segmentDuration","cuesSeekPosition","_e","onLastSegment$","fullyBuffered$","playingRepresentation$","gaps","containerParser","initData","representations","allInitsLoaded","activeSegments","Set","playingRepresentationId","downloadingRepresentationId","switchingToRepresentationId","downloadAbortController","destroyAbortController","getCurrentPosition","fetcher","bufferLimit","sourceBufferTaskQueue","gapDetectionIdleCallback","initLoadIdleCallback","failedDownloads","startWith","mime","checkEjectedSegments","pruneBuffer","loadInit","switchTo","maintain","abortSegment","segment","abortBuffer","selectForwardBufferSegments","segmentReference","useFetchPriorityHints","loadSegments","loadNextInit","findSegmentStartTime","setTarget","removeSourceBuffer","findIndex","segmentRequestSize","loadedBytes","fedBytes","representationId","downloadBackoff","onSomeDataLoaded","onSegmentDownloadError","bufferThreshold","detectGapsWhenIdle","enableSubSegmentBufferFeeding","detectGaps","segmentTimelineTolerance","some","Ce","Ie","replaceAll","RepresentationID","segmentNumber","Bandwidth","Time","segmentTime","RegExp","padStart","Le","xe","Ne","REPRESENTATION_SELECTED","Be","element","videoBufferManager","audioBufferManager","bufferManagers","state$","currentVideoRepresentation$","forceEnded$","gapWatchdogStarted","gapWatchdogSubscription","destroyController","initManifest","audio","children","querySelectorAll","querySelector","textContent","profiles","initRepresentations","allBuffersFull","someBufferEnded","sourceBuffers","all","tick","seeking","switchRepresentation","setBufferTarget","gapWatchdogInterval","jumGap","endGapTolerance","Me","Oe","Ue","audioRepresentations","videoTrackSwitchHistory","Ve","qe","INITIALIZING","Fe","He","hls","trackLevels","loadHlsJs","detachMedia","Hls","default","Events","fragLoadingMaxRetry","levelLoadingMaxRetry","manifestLoadingMaxRetry","fragLoadingMaxRetryTimeout","manifestLoadingMaxRetryTimeout","levelLoadingMaxRetryTimeout","ERROR","fatal","details","err","reason","MANIFEST_PARSED","levels","reduce","attrs","QUALITY","level","LEVEL_LOADING","autoLevelEnabled","nextLevel","currentLevel","loadLevel","LEVEL_SWITCHED","addRawThroughput","bandwidthEstimate","attachMedia","loadSource","stopLoad","Ge","RESOLUTION","Ye","BANDWIDTH","ze","Qe","We","CHANGING_MANIFEST","je","manifests$","manifestStartTime$","selectManifest","getStartDate","startTime","method","Je","Xe","trackUrls","Ke","Ze","ti","ws","peerConnection","serverUrl","streamKey","signalingType","retryTimeout","retryCount","externalStartCallback","externalStopCallback","externalErrorCallback","normalizeOptions","onStart","handleSystemError","onStop","connectWS","closeConnections","WebSocket","onopen","onSocketOpen","onmessage","onSocketMessage","onclose","onSocketClose","onSocketError","handleLogin","maxRetryNumber","handleNetworkError","scheduleRetry","handleRTCError","parseMessage","handleJoinMessage","handleUpdateMessage","handleStatusMessage","inviteType","handleAnswer","sdp","handleCandidate","candidate","handleUnpublished","createOffer","setLocalDescription","iceServers","urls","RTCPeerConnection","ontrack","onPeerConnectionStream","onicecandidate","onPeerConnectionIceCandidate","oniceconnectionstatechange","onPeerConnectionIceConnectionStateChange","callSupport","setRemoteDescription","RTCSessionDescription","addIceCandidate","errorChanel","streams","iceConnectionState","offerToReceiveAudio","offerToReceiveVideo","voiceActivityDetection","parse","close","removePeerConnection","stunServerList","ei","ii","liveStreamClient","webrtc","connectionRetryMaxNumber","onLiveStreamStart","onLiveStreamStop","onLiveStreamError","srcObject","si","iterator","isCompleted","ai","ri","userAgentData","mobile","appVersion","ni","oi","mse","MediaStreamTrack","SourceBuffer","di","mp4","webm","hi","h264","h265","vp9","aac","opus","ui","ci","li","pi","mi","fi","gi","Si","bi","vi","chunkDuration","yi","Ti","Ei","providerError$","noAvailableProvidersError$","providerOutput","screenFormatsIterator","chromecastFormatsIterator","formatsToAvoid","screenFormatsPriority","sources","useHlsJs","chromecastFormatsPriority","initProviderErrorHandling","chromecastInitializer","reinitProvider","destroyProvider","initProvider","chooseDestination","chooseFormat","handleNoFormatsError","createProvider","provider","destination","switchToNextProvider","skipFormat","createScreenProvider","createChromecastProvider","useDashJs","desiredPlaybackState$","maxTransitionInterval","providerChanged$","leading","trailing","$i","wi","prevReported","slow","fast","smoothed","pastMeasures","measuresCursor","rawSeries$","smoothedSeries$","reportedSeries$","smoothed$","debounced$","deviationDepth","initial","substring","sqrt","deviationFactor","emaAlphaSlow","emaAlphaFast","fastDirection","changeThreshold","ki","LOCAL_STORAGE","SESSION_STORAGE","RUNTIME","Ai","Pi","Ri","localStorage","setItem","removeItem","TypeError","sessionStorage","getItem","Di","_i","Ci","downlink","Ii","rtt","Li","xi","tuningConfig","concurrentDownloads","rtt$","useBrowserEstimation","rttPenaltyRequestSize","trackXHR","cancel","releaseLock","streamMinSampleSize","streamMinSampleTime","sanityCheck","Ni","representationSwitchForwardBufferGap","factor","enableTelemetryAtStart","disableChromecast","chromecastReceiverId","stallIgnoreThreshold","Bi","playbackAbort$","Mi","vod","Oi","domContainer","providerContainer","explicitInitialQuality","isPlaybackStarted","initedAt","info","playbackState$","muted$","availableQualities$","availableQualitiesFps$","currentQuality$","isAutoQualityEnabled$","autoQualityLimitingAvailable$","autoQualityLimits$","currentPlaybackRate$","isStalled$","isEnded$","isLooped$","currentFormat$","throughputEstimation$","rttEstimation$","videoBitrate$","chromecastState$","chromecastDeviceName$","intrinsicVideoSize$","events","inited$","started$","startAttempt$","willPause$","willResume$","willDestruct$","watchCoverageRecord$","watchCoverageLive$","managedError$","fatalError$","willSeek$","firstBytes$","firstFrame$","log$","experimental","enableDebugTelemetry$","dumpTelemetry","initLogs","initChromecastSubscription","initDesiredStateSubscriptions","Proxy","Reflect","initVideo","getElementById","initProviderContainerSubscription","initStartingVideoTrack","initDebugTelemetry","seekTime","getExactTime","seekPercent","setAutoQualityLimits","setPlaybackRate","setExternalTextTracks","selectTextTrack","setTextTrackCueSettings","setLooped","toggleChromecast","getAllLogs","videoWidth","videoHeight","friendlyName","setStartingVideoTrack","entity","Ui","ChromecastState","HttpConnectionType","PlaybackState","Player","SDK_VERSION","StartStatus","VideoFormat","VideoQuality"],"sources":["/Users/al.balandin/code/vkvideo-test/node_modules/@vkontakte/videoplayer-core/esnext.esm.js"],"sourcesContent":["/**\n * @vkontakte/videoplayer-core v2.0.71\n * Wed, 21 Sep 2022 05:29:45 GMT\n * https://st.mycdn.me/static/vkontakte-videoplayer/2-0-71/doc/\n */\nimport{ValueSubject as t,Subject as e,Subscription as i,isNonNullable as s,isNullable as a,fromEvent as r,assertNever as n,merge as o,tap as d,map as h,observableFrom as u,filterChanged as c,assertNonNullable as l,debounce as p,timeout as m,filter as f,mapTo as g,now as S,Observable as b,once as v,combine as y,abortable as T,getExponentialDelay as E,interval as $,throttle as w,Logger as k}from'@vkontakte/videoplayer-shared/esnext.esm.js';export{Observable,Subject,Subscription,ValueSubject}from'@vkontakte/videoplayer-shared/esnext.esm.js';import A from'lodash/debounce.js';var P,R,D,_,C,I,L;!function(t){t.STOPPED='stopped',t.PLAYING='playing',t.PAUSED='paused'}(P||(P={})),function(t){t.MPEG='MPEG',t.DASH='DASH',t.DASH_SEP='DASH_SEP',t.DASH_SEP_VK='DASH_SEP',t.DASH_WEBM='DASH_WEBM',t.DASH_WEBM_VK='DASH_WEBM',t.DASH_ONDEMAND='DASH_ONDEMAND',t.DASH_ONDEMAND_VK='DASH_ONDEMAND',t.DASH_LIVE='DASH_LIVE',t.DASH_LIVE_WEBM='DASH_LIVE_WEBM',t.HLS='HLS',t.HLS_ONDEMAND='HLS_ONDEMAND',t.HLS_JS='HLS',t.HLS_LIVE='HLS_LIVE',t.WEB_RTC_LIVE='WEB_RTC_LIVE'}(R||(R={})),function(t){t.SCREEN='SCREEN',t.CHROMECAST='CHROMECAST'}(D||(D={})),function(t){t.NOT_AVAILABLE='NOT_AVAILABLE',t.AVAILABLE='AVAILABLE',t.CONNECTING='CONNECTING',t.CONNECTED='CONNECTED'}(_||(_={})),function(t){t.SuccessWithSound='success_with_sound',t.SuccessWithoutSound='success_without_sound',t.Failed='failed'}(C||(C={})),function(t){t.HTTP1='http1',t.HTTP2='http2',t.QUIC='quic'}(I||(I={})),function(t){t.None='none',t.Requested='requested',t.Applying='applying'}(L||(L={}));class x{connection$=new t(void 0);castState$=new t(_.NOT_AVAILABLE);errorEvent$=new e;contentId;realCastState$=new t(_.NOT_AVAILABLE);subscription=new i;log;params;constructor(t){this.params=t,this.log=this.params.dependencies.logger.createComponentLog('ChromecastInitializer');const e='chrome'in window;if(this.log({message:`[constructor] receiverApplicationId: ${this.params.receiverApplicationId}, isDisabled: ${this.params.isDisabled}, isSupported: ${e}`}),t.isDisabled||!e)return;var i;s(window.chrome?.cast)?this.initializeCastApi():(window.__onGCastApiAvailable=t=>{t&&this.initializeCastApi()},(i='https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1',new Promise(((t,e)=>{const s=document.createElement('script');s.setAttribute('src',i),s.onload=()=>t,s.onerror=()=>e,document.body.appendChild(s)}))).catch((()=>this.errorEvent$.next({id:'ChromecastLoading',message:'Script loading failed!'}))))}connect(){cast.framework.CastContext.getInstance()?.requestSession()}disconnect(){cast.framework.CastContext.getInstance()?.getCurrentSession()?.endSession(!0)}stopMedia(){return new Promise(((t,e)=>{cast.framework.CastContext.getInstance()?.getCurrentSession()?.getMediaSession()?.stop(new chrome.cast.media.StopRequest,t,e)}))}toggleConnection(){s(this.connection$.getValue())?this.disconnect():this.connect()}setVolume(t){const e=this.connection$.getValue();a(e)||(e.remotePlayer.volumeLevel=t,e.remotePlayerController.setVolumeLevel())}setMuted(t){const e=this.connection$.getValue();a(e)||t!==e.remotePlayer.isMuted&&e.remotePlayerController.muteOrUnmute()}destroy(){this.subscription.unsubscribe()}initListeners(){const t=new cast.framework.RemotePlayer,e=new cast.framework.RemotePlayerController(t),i=cast.framework.CastContext.getInstance();this.subscription.add(r(i,cast.framework.CastContextEventType.SESSION_STATE_CHANGED).subscribe((t=>{switch(t.sessionState){case cast.framework.SessionState.SESSION_STARTED:case cast.framework.SessionState.SESSION_STARTING:case cast.framework.SessionState.SESSION_RESUMED:this.contentId=i.getCurrentSession()?.getMediaSession()?.media.contentId;break;case cast.framework.SessionState.NO_SESSION:case cast.framework.SessionState.SESSION_ENDING:case cast.framework.SessionState.SESSION_ENDED:case cast.framework.SessionState.SESSION_START_FAILED:this.contentId=void 0;break;default:return n(t.sessionState)}}))).add(o(r(i,cast.framework.CastContextEventType.CAST_STATE_CHANGED).pipe(d((t=>{this.log({message:`[cast.framework.RemotePlayerEventType.CAST_STATE_CHANGED]: ${JSON.stringify(t)}`})})),h((t=>t.castState))),u([i.getCastState()])).pipe(c(),h(N),d((t=>{this.log({message:`realCastState$: ${t}`})}))).subscribe(this.realCastState$)).add(this.realCastState$.subscribe((r=>{const n=r===_.CONNECTED,o=s(this.connection$.getValue());if(n&&!o){const s=i.getCurrentSession();l(s);const r=s.getCastDevice(),n=s.getMediaSession()?.media.contentId;(a(n)||n===this.contentId)&&(this.log({message:'connection created'}),this.connection$.next({remotePlayer:t,remotePlayerController:e,session:s,castDevice:r}))}else!n&&o&&(this.log({message:'connection destroyed'}),this.connection$.next(void 0));this.castState$.next(r===_.CONNECTED?s(this.connection$.getValue())?_.CONNECTED:_.AVAILABLE:r)})))}initializeCastApi(){let t,e,i;try{t=cast.framework.CastContext.getInstance(),e=chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,i=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}catch(t){return}try{t.setOptions({receiverApplicationId:this.params.receiverApplicationId??e,autoJoinPolicy:i}),this.initListeners()}catch(t){this.errorEvent$.next({id:'ChromecastInitializer',message:'[initializeCastApi] failed',thrown:t})}}}const N=t=>{switch(t){case cast.framework.CastState.NO_DEVICES_AVAILABLE:return _.NOT_AVAILABLE;case cast.framework.CastState.NOT_CONNECTED:return _.AVAILABLE;case cast.framework.CastState.CONNECTING:return _.CONNECTING;case cast.framework.CastState.CONNECTED:return _.CONNECTED;default:return n(t)}};var B;!function(t){t[t.OFFSET_P=0]='OFFSET_P',t[t.PLAYBACK_SHIFT=1]='PLAYBACK_SHIFT'}(B||(B={}));var M,O=(t,e=0,i=B.OFFSET_P)=>{switch(i){case B.OFFSET_P:return t.replace('_offset_p',0===e?'':'_'+e.toFixed(0));case B.PLAYBACK_SHIFT:{if(0===e)return t;const i=new URL(t);return i.searchParams.append('playback_shift',e.toFixed(0)),i.toString()}default:n(i)}return t},U=(t,e,i=!1)=>{const s=t.getTransition();!i&&s&&s.to!==e||t.setState(e)};!function(t){t.INVARIANT='Invariant quality',t.Q_144P='144p',t.Q_240P='240p',t.Q_360P='360p',t.Q_480P='480p',t.Q_720P='720p',t.Q_1080P='1080p',t.Q_1440P='1440p',t.Q_2160P='2160p',t.Q_4320P='4320p'}(M||(M={}));const V={[M.Q_144P]:{width:256,height:144},[M.Q_240P]:{width:428,height:240},[M.Q_360P]:{width:640,height:360},[M.Q_480P]:{width:856,height:480},[M.Q_720P]:{width:1280,height:720},[M.Q_1080P]:{width:1920,height:1080},[M.Q_1440P]:{width:2560,height:1440},[M.Q_2160P]:{width:3840,height:2160},[M.Q_4320P]:{width:7680,height:4320}},q=(t,e)=>V[t].height>V[e].height,F=(t,e)=>V[t].height<V[e].height,H=Object.keys(V).sort(((t,e)=>F(t,e)?-1:1)),G=({width:t,height:e})=>{const i=Math.min(t,e),s=Math.max(t,e);return H.find((t=>{const e=V[t];return e.width>=s&&e.height>=i}))},Y=t=>t===M.INVARIANT;class z{state;transition;transitionStarted$=new e;transitionEnded$=new e;transitionUpdated$=new e;forceChanged$=new e;stateChangeStarted$=o(this.transitionStarted$,this.transitionUpdated$);stateChangeEnded$=o(this.transitionEnded$,this.forceChanged$);constructor(t){this.state=t}setState(t){const e=this.transition,i=this.state;this.transition=void 0,this.state=t,e?e.to===t?this.transitionEnded$.next(e):this.forceChanged$.next({from:e.from,to:t,canceledTransition:e}):this.forceChanged$.next({from:i,to:t,canceledTransition:e})}startTransitionTo(t){const e=this.transition,i=this.state;i===t||s(e)&&e.to===t||(this.state=t,e?(this.transition={from:e.from,to:t,canceledTransition:e},this.transitionUpdated$.next(this.transition)):(this.transition={from:i,to:t},this.transitionStarted$.next(this.transition)))}getTransition(){return this.transition}getState(){return this.state}}var Q;!function(t){t.STOPPED='stopped',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(Q||(Q={}));class W{subscription=new i;loadMediaTimeoutSubscription=new i;videoState=new z(Q.STOPPED);params;log;constructor(t){this.params=t,this.log=this.params.dependencies.logger.createComponentLog('ChromecastProvider'),this.log({message:`constructor, format: ${t.format}`}),this.params.output.isLive$.next((t=>{switch(t){case R.MPEG:case R.DASH:case R.DASH_SEP:case R.DASH_ONDEMAND:case R.DASH_WEBM:case R.HLS:case R.HLS_ONDEMAND:return!1;case R.HLS_LIVE:case R.DASH_LIVE:case R.DASH_LIVE_WEBM:case R.WEB_RTC_LIVE:return!0;default:return n(t)}})(t.format)),this.handleRemoteVolumeChange({volume:this.params.connection.remotePlayer.volumeLevel,muted:this.params.connection.remotePlayer.isMuted});const e=this.params.connection.session.getMediaSession();e&&this.restoreSession(e),this.subscribe()}destroy(){this.log({message:'[destroy]'}),this.subscription.unsubscribe()}subscribe(){this.subscription.add(this.loadMediaTimeoutSubscription);const t=new i;this.subscription.add(t),this.subscription.add(o(this.videoState.stateChangeStarted$.pipe(h((t=>`stateChangeStarted$ ${JSON.stringify(t)}`))),this.videoState.stateChangeEnded$.pipe(h((t=>`stateChangeEnded$ ${JSON.stringify(t)}`)))).subscribe((t=>this.log({message:`[videoState] ${t}`}))));const s=(t,e)=>this.subscription.add(t.subscribe(e));if(this.params.output.isLive$.getValue())this.params.output.position$.next(0),this.params.output.duration$.next(0);else{const i=new e;t.add(i.pipe(p(500)).subscribe((()=>{this.params.output.seekedEvent$.next()})));let s=NaN;t.add(r(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED).subscribe((t=>{this.logRemoteEvent(t);const e=t.value;this.params.output.position$.next(e);(this.params.desiredState.seekState.getState().state===L.Applying||Math.abs(e-s)>5)&&i.next(e),s=e}))),t.add(r(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.DURATION_CHANGED).subscribe((t=>{this.logRemoteEvent(t),this.params.output.duration$.next(t.value)})))}s(r(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED),(e=>{this.logRemoteEvent(e),e.value?this.handleRemoteReady():(this.handleRemoteStop(),t.unsubscribe())})),s(r(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED),(t=>{this.logRemoteEvent(t),t.value?this.handleRemotePause():this.handleRemotePlay()})),s(r(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED),(t=>{this.logRemoteEvent(t);const{remotePlayer:e}=this.params.connection,i=t.value,s=this.params.output.isBuffering$.getValue(),a=i===chrome.cast.media.PlayerState.BUFFERING;switch(s!==a&&this.params.output.isBuffering$.next(a),i){case chrome.cast.media.PlayerState.IDLE:!this.params.output.isLive$.getValue()&&e.duration-e.currentTime<5&&this.params.output.endedEvent$.next(),this.handleRemoteStop(),U(this.params.desiredState.playbackState,P.STOPPED);break;case chrome.cast.media.PlayerState.PAUSED:this.handleRemotePause();break;case chrome.cast.media.PlayerState.PLAYING:this.handleRemotePlay();break;case chrome.cast.media.PlayerState.BUFFERING:break;default:n(i)}})),s(r(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED),(t=>{this.logRemoteEvent(t),this.handleRemoteVolumeChange({volume:t.value})})),s(r(this.params.connection.remotePlayerController,cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED),(t=>{this.logRemoteEvent(t),this.handleRemoteVolumeChange({muted:t.value})}));s(o(this.params.desiredState.playbackState.stateChangeStarted$,this.params.desiredState.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0)),this.syncPlayback)}restoreSession(t){this.log({message:'restoreSession'});const{remotePlayer:e}=this.params.connection;if(t.playerState!==chrome.cast.media.PlayerState.IDLE){e.isPaused?(this.videoState.setState(Q.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED)):(this.videoState.setState(Q.PLAYING),U(this.params.desiredState.playbackState,P.PLAYING));const t=this.params.output.isLive$.getValue();this.params.output.duration$.next(t?0:e.duration),this.params.output.position$.next(t?0:e.currentTime),this.params.desiredState.seekState.setState({state:L.None})}}prepare(){const t=this.params.format;this.log({message:`[prepare] format: ${t}`});const e=this.createMediaInfo(t),i=this.createLoadRequest(e);this.loadMedia(i)}handleRemotePause(){const t=this.videoState.getState();this.videoState.getTransition()?.to!==Q.PAUSED&&t!==Q.PLAYING||(this.videoState.setState(Q.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED))}handleRemotePlay(){const t=this.videoState.getState();this.videoState.getTransition()?.to!==Q.PLAYING&&t!==Q.PAUSED||(this.videoState.setState(Q.PLAYING),U(this.params.desiredState.playbackState,P.PLAYING))}handleRemoteReady(){this.videoState.getTransition()?.to===Q.READY&&this.videoState.setState(Q.READY)}handleRemoteStop(){this.videoState.getState()!==Q.STOPPED&&this.videoState.setState(Q.STOPPED)}handleRemoteVolumeChange(t){const e=this.params.output.volume$.getValue(),i={volume:t.volume??e.volume,muted:t.muted??e.muted};i.volume===e.volume&&i.muted==i.muted||this.params.output.volume$.next(i)}seek(t){this.params.output.willSeekEvent$.next();const{remotePlayer:e,remotePlayerController:i}=this.params.connection;e.currentTime=t,i.seek()}stop(){const{remotePlayerController:t}=this.params.connection;t.stop()}createMediaInfo(t){const e=this.params.source;let i,a,r;switch(t){case R.MPEG:{const s=e[t];l(s);const n=Object.keys(s).sort(((t,e)=>t===e?0:t===M.INVARIANT?1:e===M.INVARIANT?-1:F(t,e)?1:-1))[0];l(n);const o=s[n];l(o),i=o,a='video/mp4',r=chrome.cast.media.StreamType.BUFFERED;break}case R.HLS:case R.HLS_ONDEMAND:{const s=e[t];l(s),i=s.url,a='application/x-mpegurl',r=chrome.cast.media.StreamType.BUFFERED;break}case R.DASH_SEP:case R.DASH_ONDEMAND:case R.DASH_WEBM:{const s=e[t];l(s),i=s.url,a='application/dash+xml',r=chrome.cast.media.StreamType.BUFFERED;break}case R.HLS_LIVE:{const s=e[t];l(s),i=O(s.url),a='application/x-mpegurl',r=chrome.cast.media.StreamType.LIVE;break}case R.DASH:case R.DASH_LIVE:case R.WEB_RTC_LIVE:{const t='Unsupported format for Chromecast',e=new Error(t);throw this.params.output.error$.next({id:'ChromecastProvider.createMediaInfo()',message:t,thrown:e}),e}case R.DASH_LIVE_WEBM:throw new Error('DASH_LIVE_WEBM is no longer supported');default:return n(t)}const o=new chrome.cast.media.MediaInfo(this.params.meta.videoId??i,a);o.contentUrl=i,o.streamType=r,o.metadata=new chrome.cast.media.GenericMediaMetadata;const{title:d,subtitle:h}=this.params.meta;return s(d)&&(o.metadata.title=d),s(h)&&(o.metadata.subtitle=h),o}createLoadRequest(t){const e=new chrome.cast.media.LoadRequest(t);e.autoplay=!1;const i=this.params.desiredState.seekState.getState();return i.state===L.Applying||i.state===L.Requested?e.currentTime=this.params.output.isLive$.getValue()?0:i.position/1e3:e.currentTime=0,e}loadMedia(t){const e=this.params.connection.session.loadMedia(t),i=new Promise(((t,e)=>{this.loadMediaTimeoutSubscription.add(m(7e3).subscribe((()=>e('timeout(7000)'))))}));Promise.race([e,i]).then((()=>{this.log({message:`[loadMedia] completed, format: ${this.params.format}`});this.params.desiredState.seekState.getState().state===L.Applying&&this.params.output.seekedEvent$.next(),this.handleRemoteReady()}),(t=>{const e=`[prepare] loadMedia failed, format: ${this.params.format}, reason: ${t}`;this.log({message:e}),this.params.output.error$.next({id:'ChromecastProvider.loadMedia',message:e,thrown:t})})).finally((()=>{this.loadMediaTimeoutSubscription.unsubscribe()}))}logRemoteEvent(t){this.log({message:`[remoteEvent] ${JSON.stringify(t)}`})}syncPlayback=()=>{const t=this.videoState.getState(),e=this.videoState.getTransition(),i=this.params.desiredState.playbackState.getState(),s=this.params.desiredState.playbackState.getTransition(),a=this.params.desiredState.seekState.getState();if(this.log({message:`[syncPlayback] videoState: ${t}; videoTransition: ${JSON.stringify(e)}; desiredPlaybackState: ${i}; desiredPlaybackStateTransition: ${this.params.desiredState.playbackState.getTransition()}; seekState: ${JSON.stringify(a)};`}),i!==P.STOPPED){if(!e)if(s?.to===P.PAUSED||a.state!==L.Requested||t===Q.STOPPED)switch(i){case P.PLAYING:switch(t){case Q.PLAYING:break;case Q.PAUSED:case Q.READY:this.videoState.startTransitionTo(Q.PLAYING),this.params.connection.remotePlayerController.playOrPause();break;case Q.STOPPED:this.videoState.startTransitionTo(Q.READY),this.prepare();break;default:n(t)}break;case P.PAUSED:switch(t){case Q.PLAYING:this.videoState.startTransitionTo(Q.PAUSED),this.params.connection.remotePlayerController.playOrPause();break;case Q.PAUSED:break;case Q.READY:this.videoState.startTransitionTo(Q.PAUSED),this.videoState.setState(Q.PAUSED);break;case Q.STOPPED:this.videoState.startTransitionTo(Q.READY),this.prepare();break;default:n(t)}break;default:n(i)}else this.seek(a.position)}else t!==Q.STOPPED&&(this.videoState.startTransitionTo(Q.STOPPED),this.stop())}}class j{constructor(){Object.defineProperty(this,'listeners',{value:{},writable:!0,configurable:!0})}addEventListener(t,e,i){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:i})}removeEventListener(t,e){if(!(t in this.listeners))return;const i=this.listeners[t];for(let t=0,s=i.length;t<s;t++)if(i[t].callback===e)return void i.splice(t,1)}dispatchEvent(t){if(!(t.type in this.listeners))return;const e=this.listeners[t.type].slice();for(let i=0,s=e.length;i<s;i++){const s=e[i];try{s.callback.call(this,t)}catch(t){Promise.resolve().then((()=>{throw t}))}s.options&&s.options.once&&this.removeEventListener(t.type,s.callback)}return!t.defaultPrevented}}class J extends j{constructor(){super(),this.listeners||j.call(this),Object.defineProperty(this,'aborted',{value:!1,writable:!0,configurable:!0}),Object.defineProperty(this,'onabort',{value:null,writable:!0,configurable:!0})}toString(){return'[object AbortSignal]'}dispatchEvent(t){'abort'===t.type&&(this.aborted=!0,'function'==typeof this.onabort&&this.onabort.call(this,t)),super.dispatchEvent(t)}}class X{constructor(){Object.defineProperty(this,'signal',{value:new J,writable:!0,configurable:!0})}abort(){let t;try{t=new Event('abort')}catch(e){'undefined'!=typeof document?document.createEvent?(t=document.createEvent('Event'),t.initEvent('abort',!1,!1)):(t=document.createEventObject(),t.type='abort'):t={type:'abort',bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}toString(){return'[object AbortController]'}}function K(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill'),!0):'function'==typeof t.Request&&!t.Request.prototype.hasOwnProperty('signal')||!t.AbortController}'undefined'!=typeof Symbol&&Symbol.toStringTag&&(X.prototype[Symbol.toStringTag]='AbortController',J.prototype[Symbol.toStringTag]='AbortSignal');const Z=K({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}),tt=Z?function(t){'function'==typeof t&&(t={fetch:t});const{fetch:e,Request:i=e.Request,AbortController:s,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a=!1}=t;if(!K({fetch:e,Request:i,AbortController:s,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:e,Request:r};let r=i;(r&&!r.prototype.hasOwnProperty('signal')||a)&&(r=function(t,e){let s;e&&e.signal&&(s=e.signal,delete e.signal);const a=new i(t,e);return s&&Object.defineProperty(a,'signal',{writable:!1,enumerable:!1,configurable:!0,value:s}),a},r.prototype=i.prototype);const n=e;return{fetch:(t,e)=>{const i=r&&r.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(i){let s;try{s=new DOMException('Aborted','AbortError')}catch(t){s=new Error('Aborted'),s.name='AbortError'}if(i.aborted)return Promise.reject(s);const a=new Promise(((t,e)=>{i.addEventListener('abort',(()=>e(s)),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([a,n(t,e)])}return n(t,e)},Request:r}}({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}):void 0,et=Z?tt.fetch:window.fetch;Z?tt.Request:window.Request;const it=Z?X:window.AbortController,st=t=>t.range?t.range.split('-').map((t=>parseInt(t,10))):[NaN,NaN];class at{dashJsRequestQueue;activeRequests;dashMetrics;params;constructor(t){this.params=t,this.dashJsRequestQueue=new Map,this.activeRequests=new Map}setMetrics(t){this.dashMetrics=t}queueDashJSRequest(t){const{url:e}=t.request,i=this.dashJsRequestQueue.get(e)??[];i.push(t),this.dashJsRequestQueue.set(e,i)}async executeNextRequests(){for(const[t,e]of this.dashJsRequestQueue.entries()){const i=this.activeRequests.get(t);if(i){e.length&&this.onBigRequestProgress(i);const s=e[0];if(!s||!s.request.range)continue;const[a,r]=st(s.request);if(a>=i.from&&r<=i.to)continue;this.activeRequests.delete(t)}if(e.length){const i=this.sendBigRequest(t,e.map((({request:t})=>t)));this.activeRequests.set(t,i)}}}abort(t){if(t){const{request:e}=t,i=(this.dashJsRequestQueue.get(e.url)??[]).includes(t),s=this.activeRequests.get(e.url);i&&s&&s.abortController.abort()}else for(const{abortController:t}of this.activeRequests.values())t.abort()}destroy(){this.abort(),this.dashMetrics=void 0,this.dashJsRequestQueue.clear(),this.activeRequests.clear()}sendBigRequest(t,e){const i=e.map(st),s=i[0][0];let a=i[0][1];for(let t=1;t<i.length&&a<this.params.minDataSize;t++){const e=i[t][1];e-s<=2*this.params.minDataSize&&(a=Math.max(a,e))}a=0===s?Math.max(a,s+this.params.minInitSize):Math.max(a,s+this.params.minDataSize);const r=new URL(t,location.href);r.searchParams.append('bytes',`${s}-${a}`);const n=r.toString(),o=new it,d=o.signal,h={url:t,from:s,to:a,loaded:0,data:null,abortController:o};d.addEventListener('abort',(()=>this.onBigRequestAbort(h)));const u=t=>{throw this.params.onError?.({id:'BigRequestParsing',message:'Error parsing response data',thrown:t}),t};return et(n,{signal:d}).then((t=>{if(h.response=t,!t.ok||!t.body)return void this.onBigRequestError(h);const[e,i]=t.body.tee();this.params.onDownloadStream?.(i);const r=e.getReader(),n=parseInt(t.headers.get('Content-Length')??'',10)||a-s+1;h.data=new ArrayBuffer(n);const o=new Uint8Array(h.data),d=async({done:t,value:e})=>{t?this.onBigRequestProgress(h):e&&(o.set(e,h.loaded),h.loaded+=e.byteLength,this.onBigRequestProgress(h),await(r?.read().then(d,at.suppressStreamErrors).catch(u)))};r?.read().then(d,at.suppressStreamErrors).catch(u)}),at.suppressAbort).catch((t=>this.onBigRequestError(h,t))),h}onBigRequestProgress({url:t,from:e,to:i,loaded:s,data:a,response:r}){if(!this.activeRequests.has(t)||!a)return;const n=this.dashJsRequestQueue.get(t)??[];for(const o of n){const{request:n}=o,[d,h]=st(n),u=d>=e&&h<=e+s,c=e>=d&&e+s<h,l=a.slice(d-e,Math.min(h-e+1,s));if((u||c)&&(n.requestStartDate=n.requestStartDate??new Date,n.firstByteDate=n.firstByteDate??new Date,n.bytesLoaded=l.byteLength,n.bytesTotal=i-e),u){n.requestEndDate=new Date,this.dashJsRequestQueue.set(t,(this.dashJsRequestQueue.get(t)??[]).filter((t=>t!==o))),o.success?.(l,'',t);const e=r?Array.from(r.headers.entries()).map((([t,e])=>`${t}: ${e}`)).join('\\r\\n'):'';this.dashMetrics?.addHttpRequest(n,t,r?.status??200,e,[])}else c&&o.progress?.({loaded:s,total:i-e,lengthComputable:!0,stream:!0})}}onBigRequestError({url:t,from:e,to:i},s){if(this.params.onError?.({id:'BigRequest',message:'Download error',thrown:s}),!this.activeRequests.has(t))return;const a=this.dashJsRequestQueue.get(t)??[];for(const t of a){const[a,r]=st(t.request);(a>=e&&a<i||r>e&&r<=i)&&t?.error?.(t.request,String(s))}if(this.activeRequests.delete(t),s)throw s}onBigRequestAbort({url:t,from:e,to:i}){if(!this.activeRequests.has(t))return;const s=this.dashJsRequestQueue.get(t)??[];for(const t of s){const[s,a]=st(t.request);(s>=e&&s<i||a>e&&a<=i)&&t?.abort?.(t.request)}this.activeRequests.delete(t)}static suppressAbort(t){if(!(t instanceof DOMException)||'AbortError'!==t.name&&20!==t.code)throw t}static suppressStreamErrors(){}}class rt{baseLoader;config;bigRequest;constructor(t,e,i){this.baseLoader=t,this.config=i,this.bigRequest=e,e.setMetrics(i.dashMetrics)}static shouldDelegateToBase(t){return'download'!==t.action||'text'===t.mediaType||!t.range||'arraybuffer'!==t.responseType}load(t){const{request:e}=t;if(rt.shouldDelegateToBase(e))return this.baseLoader.load(t);this.bigRequest.queueDashJSRequest(t),this.bigRequest.executeNextRequests()}abort(t){if(!t)return this.baseLoader.abort(),void this.bigRequest.abort();const{request:e}=t;rt.shouldDelegateToBase(e)?this.baseLoader.abort(t):this.bigRequest.abort(t)}}const nt=(t,e)=>{const i=new at(e);return t.extend('SchemeLoaderFactory',(function(){const{parent:t}=this,e=t.getLoader;return{getLoader:t=>((t,e)=>i=>({create:s=>{const a=t(i).create(s);return new rt(a,e,s)}}))(e(t),i)}}),!0),()=>i.destroy()};var ot=t=>{let e,i=!1,s=!1;t.on('playbackTimeUpdated',(({timeToEnd:t})=>{s=t<=3,i&&s&&e?.()})),t.extend('MediaSourceController',(function(){const{parent:t}=this,a=t.signalEndOfStream;return{signalEndOfStream:t=>{i=!0,e=()=>a(t),i&&s&&e?.()}}}),!0)},dt=i=>{const a=new t(1/0),r=new e,n=new t(void 0),o=new t(void 0);let d=NaN,h=!1;return i.extend('XHRLoader',(function(){const{parent:t}=this,e=t.load.bind(t);return{load:function(t){if('MPD'===t.request.type){const e=t.onload,i=t.progress;t.onload=function(...t){return(t=>{const e=Object.fromEntries(t.getAllResponseHeaders().trim().split(/[\\n\\r]+/).map((t=>t.split(': '))));if('x-playback-duration'in e||'x-playback-duration-millis'in e){const e=parseInt(t.getResponseHeader('X-Playback-Duration')??'',10),i=parseInt(t.getResponseHeader('X-Playback-Duration-Millis')??'',10)??1e3*e??NaN;s(i)&&!isNaN(i)&&a.next(i)}const i=e['x-delivery-type']??I.HTTP1,r={1:!0,0:!1}[e['x-reused']]??void 0;n.next(i),o.next(r)})(this),e(...t)},t.progress=function(...t){return this.readyState>=2&&!h&&(h=!0,r.next(Date.now()-d)),i(...t)},d=Date.now(),h=!1}return e(t)}}}),!0),{playbackDuration$:a,ping$:r,connectionReused$:o,connectionType$:n}},ht=t=>{const e=new URL(t);return e.searchParams.set('quic','1'),e.toString()},ut=t=>{t.extend('HTTPLoader',(function(){const{parent:t}=this,e=t.load;return{load:t=>{if(t.request&&t.request.range){const[e,i]=t.request.range.split('-').map((t=>parseInt(t,10))),s=new URL(t.request.url,location.href);s.searchParams.append('bytes',`${e}-${i}`),t.request.url=s.toString(),t.request.range=void 0}e(t)}}}),!0)};const ct=(t,e,s,{equal:r=((t,e)=>t===e),changed$:n,onError:o}={})=>{const d=t.getState(),h=e(),u=a(n),c=new i;return n&&c.add(n.subscribe((e=>{const i=t.getState();r(e,i)&&t.setState(e)}),o)),r(h,d)||(s(d),u&&t.setState(d)),c.add(t.stateChangeStarted$.subscribe((e=>{s(e.to),u&&t.setState(e.to)}),o)),c},lt=(t,e,i)=>ct(e,(()=>t.loop),(e=>{s(e)&&(t.loop=e)}),{onError:i}),pt=(t,e,i,a)=>ct(e,(()=>({muted:t.muted,volume:t.volume})),(e=>{s(e)&&(t.muted=e.muted,t.volume=e.volume)}),{equal:(t,e)=>t===e||t?.muted===e?.muted&&t?.volume===e?.volume,changed$:i,onError:a}),mt=(t,e,i,a)=>ct(e,(()=>t.playbackRate),(e=>{s(e)&&(t.playbackRate=e)}),{changed$:i,onError:a}),ft=(t,e)=>{if(t.id===e)return!0;const[i,s,a]=e.split('|');return t.language===s&&t.label===a};class gt{available$=new e;current$=new t(void 0);error$=new e;video;cueSettings;subscription=new i;externalTracks=new Map;connect(t,e,i){this.video=t,this.cueSettings=e.textTrackCuesSettings,this.subscribe();const a=t=>{this.error$.next({id:'TextTracksManager',message:'Generic HtmlVideoTextTrackManager error',thrown:t})};this.subscription.add(this.available$.subscribe(i.availableTextTracks$)),this.subscription.add(this.current$.subscribe(i.currentTextTrack$)),this.subscription.add(this.error$.subscribe(i.error$)),this.subscription.add(ct(e.externalTextTracks,(()=>Object.values(this.externalTracks)),(t=>{s(t)&&this.setExternal(t)}),{equal:(t,e)=>s(t)&&s(e)&&t.length===e.length&&t.every((({id:t},i)=>t===e[i].id)),changed$:this.available$.pipe(h((t=>t.filter((({type:t})=>'external'===t))))),onError:a})),this.subscription.add(ct(e.currentTextTrack,(()=>{if(this.video)return;const t=this.htmlTextTracksAsArray().find((({mode:t})=>'showing'===t));return t&&this.htmlTextTrackToITextTrack(t).id}),(t=>this.select(t)),{changed$:this.current$,onError:a})),this.subscription.add(ct(e.textTrackCuesSettings,(()=>({})),(()=>{if(this.video)for(const t of this.htmlTextTracksAsArray())this.applyCueSettings(t.cues),this.applyCueSettings(t.activeCues)})))}subscribe(){l(this.video);const{textTracks:t}=this.video;this.subscription.add(r(t,'addtrack').subscribe((()=>{const t=this.current$.getValue();this.select(t)}))),this.subscription.add(o(r(t,'addtrack'),r(t,'removetrack'),u(['init'])).pipe(h((()=>this.htmlTextTracksAsArray().map((t=>this.htmlTextTrackToITextTrack(t))))),c(((t,e)=>t.length===e.length&&t.every((({id:t},i)=>t===e[i].id))))).subscribe(this.available$)),this.subscription.add(o(r(t,'change'),u(['init'])).pipe(h((()=>this.htmlTextTracksAsArray().find((({mode:t})=>'showing'===t)))),h((t=>t&&this.htmlTextTrackToITextTrack(t).id)),c()).subscribe(this.current$));const e=t=>this.applyCueSettings(t.target?.activeCues??null);this.subscription.add(r(t,'addtrack').subscribe((t=>{t.track?.addEventListener('cuechange',e);const i=t=>{const e=t.target?.cues??null;e&&e.length&&(this.applyCueSettings(t.target?.cues??null),t.target?.removeEventListener('cuechange',i))};t.track?.addEventListener('cuechange',i)}))),this.subscription.add(r(t,'removetrack').subscribe((t=>{t.track?.removeEventListener('cuechange',e)})))}applyCueSettings(t){if(!t||!t.length)return;const e=this.cueSettings.getState();for(const i of Array.from(t)){const t=i;s(e.align)&&(t.align=e.align),s(e.position)&&(t.position=e.position),s(e.size)&&(t.size=e.size),s(e.line)&&(t.line=e.line)}}htmlTextTracksAsArray(t=!1){l(this.video);const e=[...this.video.textTracks];return t?e:e.filter(gt.isHealthyTrack)}htmlTextTrackToITextTrack(t){const{language:e,label:i}=t,s=''!==t.id?t.id:(t=>['__',t.language,t.label].join('|'))(t);return this.externalTracks.has(s)?{id:s,type:'external',language:e,label:i,url:this.externalTracks.get(s).url}:{id:s,type:'internal',language:e,label:i}}static isHealthyTrack(t){return'metadata'!==t.kind&&(''!==t.id||''!==t.label||''!==t.language)}setExternal(t){t.filter((({id:t})=>!this.externalTracks.has(t))).forEach((t=>this.attach(t))),Array.from(this.externalTracks.keys()).filter((e=>!t.find((t=>t.id===e)))).forEach((t=>this.detach(t)))}select(t){l(this.video);for(const e of this.htmlTextTracksAsArray(!0))s(t)&&ft(e,t)?e.mode='showing':e.mode='disabled'}destroy(){if(this.subscription.unsubscribe(),this.video)for(const t of Array.from(this.video.getElementsByTagName('track'))){const e=t.getAttribute('id');e&&this.externalTracks.has(e)&&this.video.removeChild(t)}this.externalTracks.clear()}attach(t){l(this.video);const e=document.createElement('track');e.setAttribute('src',t.url),e.setAttribute('id',t.id),t.label&&e.setAttribute('label',t.label),t.language&&e.setAttribute('srclang',t.language),this.externalTracks.set(t.id,t),this.video.appendChild(e)}detach(t){l(this.video);const e=Array.prototype.find.call(this.video.getElementsByTagName('track'),(e=>e.getAttribute('id')===t));e&&this.video.removeChild(e),this.externalTracks.delete(t)}}var St=t=>{const e=document.createElement('video');return e.setAttribute('crossorigin','anonymous'),e.setAttribute('playsinline','playsinline'),t.appendChild(e),e};class bt{pausedTime=0;streamOffset=0;pauseTimestamp=0;getTotalPausedTime(){return this.pausedTime+this.getCurrentPausedTime()}getCurrentPausedTime(){return this.pauseTimestamp>0?Date.now()-this.pauseTimestamp:0}getStreamOffset(){return this.streamOffset}getTotalOffset(){return this.getTotalPausedTime()+this.streamOffset}pause(){0===this.pauseTimestamp&&(this.pauseTimestamp=Date.now())}resume(){this.pauseTimestamp>0&&(this.pausedTime+=this.getCurrentPausedTime(),this.pauseTimestamp=0)}resetTo(t){this.streamOffset=t,this.pauseTimestamp=0,this.pausedTime=0}}class vt{_buffer=[];_source;constructor(t){this._source=t}fill(){this._buffer=[];const t=this._source.currentTime;for(let e=0,i=this._source.buffered.length;e<i;e++){let i=this._source.buffered.start(e);const s=this._source.buffered.end(e);i>t&&i-t<3&&(i=t),this._buffer.push({from:i,to:s,i:e})}return this._buffer.sort((function(t,e){return t.from-e.from})),this._buffer}getByTime(t){return this._buffer.find((e=>t>=e.from&&t<e.to))}getNextWithGap(t,e){const i=this.getNext(t);if(i&&i.from-t.to<(e||3))return i}getNext(t){let e=this._buffer.indexOf(t);if(~e&&this._buffer.length-1>e)return this._buffer[++e]}smartRemove(t,e,i){this._buffer.forEach((({from:s,to:a})=>{const r=s>=t&&s<e,n=a>=t&&a<e;r&&n||(r?i(e,a):n?i(s,t):s<t&&a>e?(i(e,a),i(s,t)):i(s,a))}))}destroy(){this._buffer=[]}}var yt=(t,e,i=3)=>{let s=0,a=0;for(let r=0;r<t.length;r++){const n=t.start(r),o=t.end(r);if(n<=e&&e<=o){if(s=n,a=o,!i)return{from:s,to:a};for(let e=r-1;e>=0;e--)t.end(e)+i>=s&&(s=t.start(e));for(let e=r+1;e<t.length;e++)t.start(e)-i<=a&&(a=t.end(e))}}return{from:s,to:a}};const Tt=t=>{const i=e=>r(t,e).pipe(g(void 0)),a=o(...['waiting','pause','canplay','play','canplaythrough','playing','seeking','seeked','ended'].map((e=>r(t,e)))).pipe(h((()=>t.readyState<3)),c()),n=o(r(t,'progress'),r(t,'timeupdate')).pipe(h((()=>yt(t.buffered,t.currentTime)))),d=r(t,'volumechange').pipe(p(0),h((()=>({muted:t.muted,volume:t.volume})))),u=r(t,'ratechange').pipe(h((()=>t.playbackRate))),l=r(t,'error').pipe(h((()=>{const e=t.error;return{id:e?`MediaError#${e.code}`:'HtmlVideoError',message:e?e.message:'Error event from HTML video element'}}))),m=r(t,'timeupdate').pipe(h((()=>t.currentTime))),S=new e;let b;return m.subscribe((e=>{t.loop&&s(b)&&s(e)&&b>=t.duration-.3&&e<=.3&&S.next(b),b=e})),{playing$:i('playing'),pause$:i('pause').pipe(f((()=>!t.error))),canplay$:i('canplay'),ended$:i('ended'),looped$:S,error$:l,seeked$:i('seeked'),seeking$:i('seeking'),progress$:i('progress'),loadStart$:i('loadstart'),loadedMetadata$:i('loadedmetadata'),loadedData$:i('loadeddata'),timeUpdate$:m,durationChange$:r(t,'durationchange').pipe(h((()=>t.duration))),isBuffering$:a,currentBuffer$:n,volumeState$:d,playbackRateState$:u}},Et=t=>{if(t.includes('/')){const e=t.split('/');return parseInt(e[0])/parseInt(e[1])}return parseFloat(t)};let $t=!1,wt={};const kt=t=>{t(wt)},At=(t,e)=>{$t&&(wt.meta=wt.meta??{},wt.meta[t]=e)};class Pt{name;constructor(t){this.name=t}next(t){if(!$t)return;wt.series=wt.series??{};const e=wt.series[this.name]??[];e.push([Date.now(),t]),wt.series[this.name]=e}}const Rt=new Pt('best_bitrate');class Dt{last;history={};recordSelection(t){this.history[t.id]=S()}recordSwitch(t){this.last=t}clear(){this.last=void 0,this.history={}}}const _t=(t,{container:e,throughput:i,tuning:r,limits:n,reserve:o=0,forwardBufferHealth:d,playbackRate:h,current:u,history:c})=>{const l=r.usePixelRatio?window.devicePixelRatio??1:1,p=r.limitByContainer&&e&&e.width>0&&e.height>0&&{width:e.width*l*r.containerSizeFactor,height:e.height*l*r.containerSizeFactor},m=p&&G(p),f=r.considerPlaybackRate&&s(h)?h:1,g=t.filter((t=>!Y(t.quality))).sort(((t,e)=>q(t.quality,e.quality)?-1:1)),b=g.at(-1)?.quality,v=g.at(0)?.quality,y=a(n)||s(n.min)&&s(n.max)&&F(n.max,n.min)||s(n.min)&&v&&q(n.min,v)||s(n.max)&&b&&F(n.max,b),T=f*(E=d??.5,$=r.bitrateFactorAtEmptyBuffer,w=r.bitrateFactorAtFullBuffer,($-w)*Math.pow(2,-10*E)+w);var E,$,w;const k=g.filter((t=>{const e=!m||F(t.quality,m),h=!(s(i)&&isFinite(i)&&s(t.bitrate))||i-o>=t.bitrate*T,c=r.lazyQualitySwitch&&s(r.minBufferToSwitchUp)&&u&&!Y(u.quality)&&(d??0)<r.minBufferToSwitchUp&&q(t.quality,u.quality),l=y||(a(n.max)||(p=t.quality,f=n.max,V[p].height<=V[f].height))&&(a(n.min)||((t,e)=>V[t].height>=V[e].height)(t.quality,n.min));var p,f;return e&&h&&!c&&l}))[0];k&&k.bitrate&&Rt.next(k.bitrate);const A=k??g[Math.ceil((g.length-1)/2)]??t[0],P=A&&c&&c.history[A.id]&&S()-c.history[A.id]<=r.trackCooldown&&(!c.last||A.id!==c.last.id);if(A?.id&&c&&!P&&c.recordSelection(A),P&&c?.last){const t=c.last;return c?.recordSwitch(t),t}return c?.recordSwitch(A),A};var Ct=t=>new URL(t).hostname;const It=(t,e=300)=>new b((i=>{const{width:a,height:r}=t.getBoundingClientRect();if(i.next({width:a,height:r}),!window.ResizeObserver)return;const n=new ResizeObserver(A((t=>{const e=t[0];if(!e)return;let a,r;e.contentBoxSize&&e.contentBoxSize[0]?(r=e.contentBoxSize[0].blockSize,a=e.contentBoxSize[0].inlineSize):e.contentRect&&(a=e.contentRect.width,r=e.contentRect.height),s(a)&&s(r)&&i.next({width:a,height:r})}),e));return n.observe(t),()=>n.disconnect()})),Lt={};var xt;!function(t){t.DOWNLOADING_LIB='downloading_lib',t.STOPPED='stopped',t.STREAM_INITIALIZED='stream_initialized',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(xt||(xt={}));const Nt=(t,e)=>new b((i=>{const s=t=>i.next(t);return t.on(e,s),()=>t.off(e,s)}));class Bt{subscription=new i;videoState=new z(xt.DOWNLOADING_LIB);video;player;params;textTracksManager=new gt;videoTracks=[];frameRatesByFrameHeight={};isLive$=new t(void 0);maxSeekBackTime$=new t(1/0);availableFrom$=new t(void 0);elementSize$=new t(void 0);liveOffset=new bt;destroyBigRequest;constructor(t){this.video=St(t.container),this.params=t,this.params.output.element$.next(this.video),this.params.output.availableVideoTracks$.next([]),this.params.output.hostname$.next(Ct(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.loadDashJs()}loadDashJs(){let t=!1;const e=e=>{t||this.params.output.error$.next({id:'timeout'===e?'DashJSTimedOut':'DashJSLoadingError',message:`Dash.js failed to load: ${e?.toString?.()}`,thrown:e}),t=!0},i=window.setTimeout((()=>e('timeout')),5e3);import('dashjs/dist/dash.mediaplayer.min.js').then((e=>{t||(Lt.MediaPlayer=e.MediaPlayer,Lt.Debug=e.Debug,this.init())}),e).finally((()=>{window.clearTimeout(i),t=!0}))}init(){l(Lt.MediaPlayer,'dashjs not loaded'),l(Lt.Debug,'dashjs not loaded'),this.player=Lt.MediaPlayer().create(),this.player.updateSettings({debug:{logLevel:3},streaming:{buffer:{fastSwitchEnabled:!0},abr:{limitBitrateByPortal:this.params.tuning.autoTrackSelection.limitByContainer,usePixelRatioInLimitBitrateByPortal:this.params.tuning.autoTrackSelection.usePixelRatio,additionalAbrRules:{insufficientBufferRule:!1}},utcSynchronization:{useManifestDateHeaderTimeSource:!0}}}),this.player.registerCustomCapabilitiesFilter((t=>(t.height&&(this.frameRatesByFrameHeight[t.height]=t.frameRate?Et(t.frameRate+''):void 0),!0)));(this.params.format===R.DASH_WEBM||this.params.format===R.DASH_LIVE_WEBM)&&this.params.tuning.useWebmBigRequest?this.destroyBigRequest=nt(this.player,{minInitSize:this.params.tuning.bigRequestMinInitSize,minDataSize:this.params.tuning.bigRequestMinDataSize,onError:t=>this.params.output.error$.next(t),onDownloadStream:t=>this.params.dependencies.throughputEstimator.trackStream(t)}):this.params.tuning.stripRangeHeader&&ut(this.player),ot(this.player),this.params.tuning.requestQuick&&this.player.extend('RequestModifier',(()=>({modifyRequestURL:ht})),!0),this.player.clearDefaultUTCTimingSources(),this.subscribe(),this.videoState.setState(xt.STOPPED)}subscribe(){const{output:t,desiredState:e}=this.params,i=e=>{t.error$.next({id:'DashIFProvider',message:'DashIFProvider internal logic error',thrown:e})},r=(t,e)=>this.subscription.add(t.subscribe(e,i));r(It(this.video),this.elementSize$),r(Nt(this.player,'error').pipe(h((t=>({id:`DashJS#${'object'==typeof t.error?t.error.code:t.error}`,message:'object'==typeof t.error?t.error.message:void 0})))),t.error$),r(Nt(this.player,'playbackError').pipe(h((t=>({id:'DashJSPlayback',message:t.error})))),t.error$);const n=Nt(this.player,'qualityChangeRendered').pipe(f((({mediaType:t})=>'video'===t)),h((({newQuality:t})=>this.videoTracks.find((({bitrateInfo:e})=>e.qualityIndex===t))?.track)));n.pipe(f(s)).subscribe(t.currentVideoTrack$),this.subscription.add(this.videoState.transitionEnded$.pipe(f((({to:t})=>t===xt.STREAM_INITIALIZED)),v()).subscribe((()=>{this.subscription.add(ct(e.videoTrack,(()=>{const t=this.player.getQualityFor('video');return this.videoTracks.find((({bitrateInfo:e})=>e.qualityIndex===t))?.track?.id}),(t=>{if(a(t))return;const e=this.videoTracks.find((({track:e})=>e.id===t))?.bitrateInfo;e&&this.player.setQualityFor('video',e.qualityIndex)}),{changed$:n.pipe(h((t=>t?.id))),onError:i}))}),i)),this.subscription.add(ct(e.autoVideoTrackSwitching,(()=>this.player.getSettings().streaming?.abr?.autoSwitchBitrate?.video),(t=>this.player.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:t}}}})),{onError:i})),r(Nt(this.player,'bufferStateChanged').pipe(f((({mediaType:t})=>'video'===t)),h((({state:t})=>'bufferStalled'===t))),t.isBuffering$),r(Nt(this.player,'fragmentLoadingStarted'),(({mediaType:e,request:{url:i}})=>{const s=this.player.getDashMetrics(),a=s.getLatestFragmentRequestHeaderValueByID(e,'X-Reused'),r=s.getLatestFragmentRequestHeaderValueByID(e,'X-Delivery-Type')??I.HTTP1,n={1:!0,0:!1}[a]??void 0;this.params.output.httpConnectionType$.next(r),this.params.output.httpConnectionReused$.next(n),t.hostname$.next(Ct(i))})),r(Nt(this.player,'streamInitialized'),(({streamInfo:{duration:e,manifestInfo:{isDynamic:i,availableFrom:s}}})=>{this.isLive$.next(i),this.availableFrom$.next(s.getTime()),i||t.duration$.next(e),this.videoTracks=[];const a=this.player.getQualityFor('video');let r;for(const t of this.player.getBitrateInfoListFor('video')){const e=t.qualityIndex.toString(10),i=G(t),s=t.bitrate/1e3,n={width:t.width,height:t.height},o=this.frameRatesByFrameHeight[t.height];if(i){const d={id:e,quality:i,bitrate:s,size:n,fps:o};this.videoTracks.push({track:d,bitrateInfo:t}),t.qualityIndex===a&&(r=d)}}t.availableVideoTracks$.next(this.videoTracks.map((({track:t})=>t))),r&&t.currentVideoTrack$.next(r),this.videoState.setState(xt.STREAM_INITIALIZED),this.videoState.startTransitionTo(xt.READY)})),r(Nt(this.player,'fragmentLoadingCompleted'),(({request:t})=>{if(!t.requestEndDate||!t.firstByteDate||!t.bytesLoaded)return;const e=t.requestEndDate.getTime()-t.firstByteDate.getTime(),i=t.bytesLoaded;this.params.dependencies.throughputEstimator.addRawSpeed(i,e)})),r(o(this.params.dependencies.throughputEstimator.throughput$,this.elementSize$,e.autoVideoTrackLimits.stateChangeEnded$),(()=>{if(!this.params.desiredState.autoVideoTrackSwitching.getState()||!this.videoTracks.length)return;const t=this.params.dependencies.throughputEstimator.throughput$.getValue(),i=_t(this.videoTracks.map((({track:t})=>t)),{container:this.elementSize$.getValue(),throughput:t,tuning:this.params.tuning.autoTrackSelection,limits:e.autoVideoTrackLimits.getState()}),s=this.videoTracks.find((({track:t})=>t===i));s?.bitrateInfo&&this.player.setQualityFor('video',s?.bitrateInfo.qualityIndex,!1)})),r(y({maxSeekBackTime:this.maxSeekBackTime$,isLive:this.isLive$.pipe(f(s))}).pipe(f((({isLive:t})=>t)),h((({maxSeekBackTime:t})=>-t/1e3))),this.params.output.duration$);const d=Nt(this.player,'playbackTimeUpdated').pipe(h((({time:t})=>t??0)));r(y({availableFrom:this.availableFrom$.pipe(f(s)),currentTime:d}),(({availableFrom:t,currentTime:e})=>this.params.output.liveTime$.next(t+1e3*e))),r(d.pipe(f((()=>!1===this.isLive$.getValue()))),t.position$),r(Nt(this.player,'playbackSeeked'),(()=>t.seekedEvent$.next())),r(Nt(this.player,'playbackEnded'),t.endedEvent$),r(Nt(this.player,'playbackProgress').pipe(h((()=>yt(this.video.buffered,this.video.currentTime)))),t.currentBuffer$),r(Nt(this.player,'playbackPlaying'),(()=>{this.videoState.setState(xt.PLAYING),U(e.playbackState,P.PLAYING)})),r(Nt(this.player,'playbackNotAllowed'),(()=>{this.player.isMuted()?(this.player.setMute(!1),this.videoState.setState(xt.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED,!0)):(this.player.setMute(!0),this.player.play())})),r(Nt(this.player,'playbackPaused'),(()=>{this.videoState.setState(xt.PAUSED),U(e.playbackState,P.PAUSED)})),r(Nt(this.player,'canPlay'),(()=>{this.videoState.getTransition()?.to===xt.READY&&this.videoState.setState(xt.READY)})),r(this.isLive$,t.isLive$),r(It(this.video),(()=>{this.player.isReady()&&this.player.updatePortalSize()}));r(o(e.playbackState.stateChangeStarted$,e.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0)),this.syncPlayback);const{playbackDuration$:c,ping$:l,connectionType$:m,connectionReused$:S}=dt(this.player);r(m,this.params.output.httpConnectionType$),r(S,this.params.output.httpConnectionReused$),r(c,this.maxSeekBackTime$),r(l.pipe(v()),t.firstBytesEvent$),r(Nt(this.player,'canPlay'),t.canplay$),this.params.tuning.flushShortLoopedBuffers&&r(y({isLive:this.isLive$,isShort:t.duration$.pipe(h((t=>t<60)))}),(({isLive:t,isShort:e})=>{const i=!t&&e;this.player.updateSettings({streaming:{buffer:{flushBufferAtTrackSwitch:i}}})})),r(d.pipe(f((t=>t>this.params.tuning.insufficientBufferRuleMargin)),v()),(()=>this.player.updateSettings({streaming:{abr:{additionalAbrRules:{insufficientBufferRule:!0}}}}))),this.textTracksManager.connect(this.video,e,t),this.subscription.add(Nt(this.player,'manifestLoaded').pipe(v()).subscribe((()=>{this.subscription.add(Nt(this.player,'playbackPlaying').pipe(v(),g(void 0)).subscribe(t.firstFrameEvent$,i))}),i)),this.subscription.add(lt(this.video,e.isLooped,i));const{volumeState$:b,looped$:T,playbackRateState$:E}=Tt(this.video);this.subscription.add(pt(this.video,e.volume,b,i)),this.subscription.add(b.subscribe(t.volume$,i)),this.subscription.add(T.subscribe(t.loopedEvent$)),this.subscription.add(mt(this.video,e.playbackRate,E,i))}stop(){this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.player.attachSource(null),this.player.attachView(null),this.player.initialize(),this.player.clearDefaultUTCTimingSources(),this.videoState.setState(xt.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0)}prepare(){this.videoState.startTransitionTo(xt.STREAM_INITIALIZED),this.player.initialize(),this.player.clearDefaultUTCTimingSources(),this.player.attachView(this.video),this.player.attachSource(this.params.source.url)}seek(t){if(this.params.output.willSeekEvent$.next(),this.isLive$.getValue()){const e=-t,i=e<this.maxSeekBackTime$.getValue()?e:0;this.liveOffset.resetTo(i),this.params.output.position$.next(-i/1e3);const s=O(this.params.source.url,this.liveOffset.getTotalOffset()/1e3,B.PLAYBACK_SHIFT);this.player.attachSource(s)}else this.player.seek(t/1e3)}play(){this.videoState.startTransitionTo(xt.PLAYING),this.player.play()}pause(){this.videoState.startTransitionTo(xt.PAUSED),this.video.pause()}syncPlayback=()=>{const t=this.videoState.getState(),e=this.params.desiredState.playbackState.getState(),i=this.params.desiredState.playbackState.getTransition(),s=this.params.desiredState.seekState.getState(),a=this.isLive$.getValue();if(!this.videoState.getTransition()&&t!==xt.DOWNLOADING_LIB&&t!==xt.STREAM_INITIALIZED)switch(i?.to!==P.PAUSED&&s.state===L.Requested&&t!==xt.STOPPED&&e!==P.STOPPED&&(a?this.seek(s.position-this.liveOffset.getTotalPausedTime()):this.seek(s.position)),e){case P.STOPPED:switch(t){case xt.STOPPED:break;case xt.PLAYING:case xt.PAUSED:case xt.READY:this.stop();break;default:n(t)}break;case P.PLAYING:switch(t){case xt.PLAYING:break;case xt.PAUSED:a&&(this.liveOffset.getTotalPausedTime()<this.params.config.maxPausedTime&&this.liveOffset.getTotalOffset()<this.maxSeekBackTime$.getValue()?(this.liveOffset.resume(),this.params.output.position$.next(-this.liveOffset.getTotalOffset()/1e3)):this.seek(-this.liveOffset.getTotalOffset())),this.play();break;case xt.READY:this.play();break;case xt.STOPPED:this.prepare();break;default:n(t)}break;case P.PAUSED:switch(t){case xt.PLAYING:this.pause(),this.liveOffset.pause();break;case xt.PAUSED:break;case xt.READY:this.videoState.setState(xt.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED);break;case xt.STOPPED:this.prepare();break;default:n(t)}break;default:n(e)}};destroy(){this.subscription.unsubscribe(),this.textTracksManager.destroy();try{this.player?.destroy()}catch(t){}this.video.remove(),this.params.output.element$.next(void 0),this.destroyBigRequest?.()}}var Mt=t=>{switch(t){case'mobile':return M.Q_144P;case'lowest':return M.Q_240P;case'low':return M.Q_360P;case'sd':case'medium':return M.Q_480P;case'hd':case'high':return M.Q_720P;case'fullhd':case'full':return M.Q_1080P;case'quadhd':case'quad':return M.Q_1440P;case'ultrahd':case'ultra':return M.Q_2160P}},Ot=async t=>{const e=t.muted;try{await t.play()}catch(i){if(i instanceof DOMException&&(20===i.code||'AbortError'===i.name))return!1;if(e)return console.warn(i),!1;t.muted=!0;try{await t.play()}catch(e){return t.muted=!1,console.warn(e),!1}}return!0};function Ut(){return S()}function Vt(t){return Ut()-t}function qt(t){const e=t.split('/'),i=e.slice(0,e.length-1).join('/'),s=/^([a-z]+:)?\\/\\//i;return{resolve:(t,e,a=!1)=>{(t=>s.test(t))(t)||(t.startsWith('/')||(t='/'+t),t=i+t);let r=t.indexOf('?')>-1?'&':'?';return a&&(t+=r+'lowLat=1',r='&'),e&&(t+=r+'_rnd='+Math.floor(999999999*Math.random())),t}}}function Ft(t,e,i,a){const r=window.XMLHttpRequest;let n,o,d,h,u,c=!1,p=0,m=!1,f='arraybuffer',g=7e3,S=2e3,b=()=>{if(c)return;l(h);const t=Vt(h);let e;if(t<S)return e=S-t,void setTimeout(b,e);S*=2,S>g&&(S=g),o&&o.abort(),o=new r,y()};const v=()=>{if(!c){if(--p>=0)return b(),void(a&&a());c=!0,u&&u(),i&&i()}},y=()=>{h=Ut(),o=new r,o.open('get',t);let i,s=0,a=0;const p=()=>(l(h),Math.max(h,Math.max(i||0,a||0)));if(n&&o.addEventListener('progress',(t=>{const e=Ut();n.updateChunk&&t.loaded>s&&(n.updateChunk(p(),t.loaded-s),s=t.loaded,i=e)})),d&&(o.timeout=d,o.addEventListener('timeout',(()=>v()))),o.addEventListener('load',(()=>{if(c)return;l(o);const t=o.status;if(t>=200&&t<300){if(o.response.byteLength&&n){const t=o.response.byteLength-s;t&&n.updateChunk&&n.updateChunk(p(),t)}u&&u(),o&&e(o.response)}else v()})),o.addEventListener('error',(()=>{v()})),m){const t=()=>{l(o),o.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(a=Ut(),o.removeEventListener('readystatechange',t))};o.addEventListener('readystatechange',t)}return o.responseType=f,o.send(),T},T={withBitrateReporting:t=>(n=t,T),withParallel:t=>(m=t,T),withJSONResponse:()=>(f='json',T),withRetryCount:t=>(p=t,T),withRetryInterval:(t,e)=>(s(t)&&(S=t),s(e)&&(g=e),T),withTimeout:t=>(d=t,T),withFinally:t=>(u=t,T),send:y,abort:()=>{o&&(o.abort(),o=void 0),c=!0,u&&u()}};return T}class Ht{intervals=[];currentRate=0;logger;constructor(t){this.logger=t}_updateRate(t){let e=.2;this.currentRate&&(t<.1*this.currentRate?e=.8:t<.5*this.currentRate?e=.5:t<.7*this.currentRate&&(e=.3)),t=Math.max(1,Math.min(t,104857600)),this.currentRate=this.currentRate?this.currentRate*(1-e)+t*e:t}_createInterval(t,e,i){return{start:t,end:e,bytes:i}}_doMergeIntervals(t,e){t.start=Math.min(e.start,t.start),t.end=Math.max(e.end,t.end),t.bytes+=e.bytes}_mergeIntervals(t,e){return t.start<=e.end&&e.start<=t.end&&(this._doMergeIntervals(t,e),!0)}_flushIntervals(){if(!this.intervals.length)return!1;const t=this.intervals[0].start,e=this.intervals[this.intervals.length-1].end-500;if(e-t>2e3){let i=0,s=0;for(;this.intervals.length>0;){const t=this.intervals[0];if(t.end<=e)i+=t.end-t.start,s+=t.bytes,this.intervals.splice(0,1);else{if(t.start>=e)break;{const a=e-t.start,r=t.end-t.start;i+=a;const n=t.bytes*a/r;s+=n,t.start=e,t.bytes-=n}}}if(s>0&&i>0){const a=8*s/(i/1e3);return this._updateRate(a),this.logger(`rate updated, new=${Math.round(a/1024)}K; average=${Math.round(this.currentRate/1024)}K bytes/ms=${Math.round(s)}/${Math.round(i)} interval=${Math.round(e-t)}`),!0}}return!1}_joinIntervals(){let t;do{t=!1;for(let e=0;e<this.intervals.length-1;++e)this._mergeIntervals(this.intervals[e],this.intervals[e+1])&&(this.intervals.splice(e+1,1),t=!0)}while(t)}addInterval(t,e,i){return this.intervals.push(this._createInterval(t,e,i)),this._joinIntervals(),this.intervals.length>100&&(this.logger(`too many intervals (${this.intervals.length}); will merge`,{type:'warn'}),this._doMergeIntervals(this.intervals[1],this.intervals[0]),this.intervals.splice(0,1)),this._flushIntervals()}getBitRate(){return this.currentRate}}class Gt{pendingQueue=[];activeRequests={};completeRequests={};averageSegmentDuration=2e3;lastPrefetchStart=0;throttleTimeout=null;RETRY_COUNT;TIMEOUT;BITRATE_ESTIMATOR;MAX_PARALLEL_REQUESTS;logger;constructor(t,e,i,s,a){this.RETRY_COUNT=t,this.TIMEOUT=e,this.BITRATE_ESTIMATOR=i,this.MAX_PARALLEL_REQUESTS=s,this.logger=a}limitCompleteCount(){let t;for(;(t=Object.keys(this.completeRequests)).length>this._getParallelRequestCount()+2;){const e=t[Math.floor(Math.random()*t.length)];this.logger(`Dropping completed request for url ${e}`,{type:'warn'}),delete this.completeRequests[e]}}_sendRequest(t,e){const i=Ut(),s=i=>{delete this.activeRequests[e],this.limitCompleteCount(),this.completeRequests[e]=t,this._sendPending(),t._error=1,t._errorMsg=i,t._errorCB?t._errorCB(i):(this.limitCompleteCount(),this.completeRequests[e]=t)};t._request=Ft(e,(s=>{t._complete=1,t._responseData=s,t._downloadTime=Ut()-i,delete this.activeRequests[e],this._sendPending(),t._cb?t._cb(s,t._downloadTime):(this.limitCompleteCount(),this.completeRequests[e]=t)}),(()=>s('error')),(()=>{t._retry=1,t._retryCB&&t._retryCB()})),t._request.withRetryCount(this.RETRY_COUNT).withTimeout(this.TIMEOUT).withBitrateReporting(this.BITRATE_ESTIMATOR).withParallel(this._getParallelRequestCount()>1).withFinally((()=>{t._finallyCB&&t._finallyCB()})),this.activeRequests[e]=t,t._request.send(),this.lastPrefetchStart=Ut()}_getParallelRequestCount(){return Math.min(this.MAX_PARALLEL_REQUESTS,this.averageSegmentDuration<3e3?3:2)}_getPrefetchDelay(){return Math.max(100,Math.min(5e3,this.averageSegmentDuration/3))}_canSendPending(){const t=this._getParallelRequestCount(),e=Ut();if(Object.keys(this.activeRequests).length>=t)return!1;const i=this._getPrefetchDelay()-(e-this.lastPrefetchStart);return this.throttleTimeout&&clearTimeout(this.throttleTimeout),!(i>0)||(this.throttleTimeout=window.setTimeout((()=>this._sendPending()),i),!1)}_sendPending(){for(;this._canSendPending();){const t=this.pendingQueue.pop();if(!t)return;this.activeRequests[t]||this.completeRequests[t]||(this.logger(`Submitting pending request url=${t}`),this._sendRequest({},t))}}_removeFromActive(t){delete this.completeRequests[t],delete this.activeRequests[t]}abortAll(){Object.values(this.activeRequests).forEach((t=>{t&&t._request&&t._request.abort()})),this.activeRequests={},this.pendingQueue=[],this.completeRequests={}}requestData(t,e,i,s){const a={};return a.send=()=>{const r=this.activeRequests[t]||this.completeRequests[t];if(r)r._cb=e,r._errorCB=i,r._retryCB=s,r._finallyCB=a._finallyCB,r._error||r._complete?(this._removeFromActive(t),setTimeout((()=>{r._complete?(this.logger(`Requested url already prefetched, url=${t}`),e(r._responseData,r._downloadTime)):(this.logger(`Requested url already prefetched with error, url=${t}`),i(r._errorMsg)),a._finallyCB&&a._finallyCB()}),0)):this.logger(`Attached to active request, url=${t}`);else{const e=this.pendingQueue.indexOf(t);-1!==e&&this.pendingQueue.splice(e,1),this.logger(`Request not prefetched, starting new request, url=${t}${-1===e?'':'; removed pending'}`),this._sendRequest(a,t)}},a._cb=e,a._errorCB=i,a._retryCB=s,a.abort=function(){a.request&&a.request.abort()},a.withFinally=t=>(a._finallyCB=t,a),a}prefetch(t){this.activeRequests[t]||this.completeRequests[t]?this.logger(`Request already active for url=${t}`):(this.logger(`Added to pending queue; url=${t}`),this.pendingQueue.unshift(t),this._sendPending())}optimizeForSegDuration(t){this.averageSegmentDuration=t}}class Yt{paused=!1;autoQuality=!0;maxAutoQuality=void 0;buffering=!0;destroyed=!1;videoPlayStarted=!1;lowLatency=!1;rep;bitrate=0;manifest=[];bitrateSwitcher;filesFetcher;sourceBuffer=0;mediaSource;currentManifestEntry;manifestRequest;manifestRefetchTimer;bufferStates=[];downloadRate;sourceJitter=-1;chunkRateEstimator;manifestUrl;urlResolver;params;constructor(t){this.params=t,this.chunkRateEstimator=new Ht(this.params.logger),this._initVideo()}attachSource(t){this.manifestUrl=t,this.urlResolver=qt(t),this.bitrateSwitcher=this._initBitrateSwitcher(),this._initManifest()}setAutoQualityEnabled(t){this.autoQuality=t}setMaxAutoQuality(t){this.maxAutoQuality=t}switchByName(t){let e;for(let i=0;i<this.manifest.length;++i)if(e=this.manifest[i],e.name===t)return void this._switchToQuality(e)}catchUp(){this.rep&&this.rep.stop(),this.currentManifestEntry&&(this.paused=!1,this._initPlayerWith(this.currentManifestEntry),this._notifyBuffering(!0))}stop(){this.params.videoElement.pause(),this.rep&&(this.rep.stop(),this.rep=null)}pause(){this.paused=!0,this.params.videoElement.pause(),this.videoPlayStarted=!1,this._notifyBuffering(!1)}play(t){this.paused=!1;const e=this.lowLatency&&this._getBufferSizeSec()>this.sourceJitter+5;this.rep&&!e?(this.bufferStates=[],this.videoPlayStarted=!1,this.shouldPlay()?this._playVideoElement(t):this._notifyBuffering(!0)):this.catchUp()}startPlay(t,e){this.autoQuality=e,this._initPlayerWith(t)}destroy(){this.destroyed=!0,this.rep&&(this.rep.stop(),this.rep=null),this.manifestRequest&&this.manifestRequest.abort(),this.manifestRefetchTimer&&(clearTimeout(this.manifestRefetchTimer),this.manifestRefetchTimer=void 0)}reinit(t){this.manifestUrl=t,this.urlResolver=qt(t),this.catchUp()}_handleNetworkError(){this.params.logger('Fatal network error'),this.params.playerCallback({name:'error',type:'network'})}_retryCallback(){this.params.playerCallback({name:'retry'})}_getBufferSizeSec(){const t=this.params.videoElement;let e=0;const i=t.buffered.length;return 0!==i&&(e=t.buffered.end(i-1)-Math.max(t.currentTime,t.buffered.start(0))),e}_notifyBuffering(t){this.destroyed||(this.params.logger(`buffering: ${t}`),this.params.playerCallback({name:'buffering',isBuffering:t}),this.buffering=t)}_initVideo(){const{videoElement:t,logger:e}=this.params;t.addEventListener('error',(i=>{this.destroyed||(e(`Video element error: ${t.error?.code}`),this.params.playerCallback({name:'error',type:'media'}))})),t.addEventListener('timeupdate',(()=>{const e=this._getBufferSizeSec();!this.paused&&e<.3?this.buffering||(this.buffering=!0,window.setTimeout((()=>{!this.paused&&this.buffering&&this._notifyBuffering(!0),t.pause(),this.videoPlayStarted=!1}),1e3*(e+.1))):this.buffering&&this.videoPlayStarted&&this._notifyBuffering(!1)})),t.addEventListener('playing',(()=>{e('playing')})),t.addEventListener('stalled',(()=>this._fixupStall())),t.addEventListener('waiting',(()=>this._fixupStall()))}_fixupStall(){const{logger:t,videoElement:e}=this.params,i=e.buffered.length;let s;0!==i&&(s=e.buffered.start(i-1),e.currentTime<s&&(t('Fixup stall'),e.currentTime=s))}_selectQuality(t){const{videoElement:e}=this.params;let i,s,a;const r=e&&1.62*(window.devicePixelRatio||1)*e.offsetHeight||520;for(let e=0;e<this.manifest.length;++e)a=this.manifest[e],this.maxAutoQuality&&a.video.height>this.maxAutoQuality||(a.bitrate<t&&r>Math.min(a.video.height,a.video.width)?(!s||a.bitrate>s.bitrate)&&(s=a):(!i||i.bitrate>a.bitrate)&&(i=a));return s||i}shouldPlay(){if(this.paused)return!1;const t=this._getBufferSizeSec()-Math.max(1,this.sourceJitter);return t>3||s(this.downloadRate)&&(this.downloadRate>1.5&&t>2||this.downloadRate>2&&t>1)}_setVideoSrc(t,e){const{logger:i,videoElement:s,playerCallback:a}=this.params;this.mediaSource=new window.MediaSource,i('setting video src'),s.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener('sourceopen',(()=>{this.mediaSource&&(this.sourceBuffer=this.mediaSource.addSourceBuffer(t.codecs),this.bufferStates=[],e())})),this.videoPlayStarted=!1,s.addEventListener('canplay',(()=>{this.shouldPlay()&&(this.videoPlayStarted=!0,this._playVideoElement())}));const r=()=>{!function(t,e,i){const s=(...a)=>{i.apply(null,a),t.removeEventListener(e,s)};t.addEventListener(e,s)}(s,'progress',(()=>{s.buffered.length?(s.currentTime=s.buffered.start(0),a({name:'playing'})):r()}))};r()}_initPlayerWith(t){this.bitrate=0,this.rep=0,this.sourceBuffer=0,this.bufferStates=[],this.filesFetcher&&this.filesFetcher.abortAll(),this.filesFetcher=new Gt(3,1e4,this.bitrateSwitcher,this.params.config.maxParallelRequests,this.params.logger),this._setVideoSrc(t,(()=>this._switchToQuality(t)))}_representation(t){const{logger:e,videoElement:i,playerCallback:r}=this.params;let n=!1,o=null,d=null,h=null,u=null,c=!1;const p=()=>{const t=n&&(!c||c===this.rep);return t||e('Not running!'),t},m=(t,e,i)=>{h&&h.abort(),h=Ft(this.urlResolver.resolve(t,!1),e,i,(()=>this._retryCallback())).withTimeout(1e4).withBitrateReporting(this.bitrateSwitcher).withRetryCount(3).withFinally((()=>{h=null})).send()},f=(t,e,i)=>{l(this.filesFetcher),d?.abort(),d=this.filesFetcher.requestData(this.urlResolver.resolve(t,!1),e,i,(()=>this._retryCallback())).withFinally((()=>{d=null})).send()},g=t=>{const s=i.playbackRate;i.playbackRate!==t&&(e(`Playback rate switch: ${s}=>${t}`),i.playbackRate=t)},S=t=>{this.lowLatency=t,e(`lowLatency changed to ${t}`),b()},b=()=>{if(this.lowLatency){let t=this._getBufferSizeSec();if(this.bufferStates.length<5)return void g(1);const i=Ut()-6e4;let s=0;for(let e=0;e<this.bufferStates.length;e++){const a=this.bufferStates[e];t=Math.min(t,a.buf),a.ts<i&&s++}this.bufferStates.splice(0,s),e(`update playback rate;  minBuffer=${t} drop=${s} jitter=${this.sourceJitter}`);let a=t-1;this.sourceJitter>=0?a-=this.sourceJitter/2:this.sourceJitter-=1,g(a>3?1.15:a>1?1.1:a>.3?1.01:1)}else g(1)},v=t=>{let i;const a=()=>i&&i.start?i.start.length:0,n=t=>i.start[t]/1e3,o=t=>i.dur[t]/1e3,d=t=>i.fragIndex+t,h=(t,e)=>({chunkIdx:d(t),startTS:n(t),dur:o(t),discontinuity:e}),c=()=>{let t=0;if(i&&i.dur){let e=this.lowLatency?this.params.config.lowLatencyMinBuffer:this.params.config.minBuffer,s=this.lowLatency?this.params.config.lowLatencyMinBufferSegments:this.params.config.minBufferSegments,a=e;this.sourceJitter>1&&(a+=this.sourceJitter-1);let r=i.dur.length-1;for(;r>=0&&(a-=i.dur[r],!(a<=0));--r);t=Math.min(r,i.dur.length-1-s),t=Math.max(t,0)}return h(t,!0)},m=(t,e,i)=>{u&&u.abort(),u=Ft(this.urlResolver.resolve(t,!0,this.lowLatency),e,i,(()=>this._retryCallback())).withTimeout(1e4).withRetryCount(3).withFinally((()=>{u=null})).withJSONResponse().send()};return{seek:(e,o)=>{m(t,(t=>{if(!p())return;i=t;const d=Boolean(i.lowLatency);d!==this.lowLatency&&S(d);let u=0;for(let t=0;t<i.dur.length;++t)u+=i.dur[t];u>0&&(l(this.filesFetcher),this.filesFetcher.optimizeForSegDuration(u/i.dur.length)),r({name:'index',zeroTime:i.zeroTime,shiftDuration:i.shiftDuration}),this.sourceJitter=i.hasOwnProperty('jitter')?Math.min(10,Math.max(.01,i.jitter/1e3)):1,e((t=>{const e=a();if(!(e<=0)){if(s(t))for(let i=0;i<e;i++)if(n(i)>t)return h(i);return c()}})(o))}),(()=>this._handleNetworkError()))},nextChunk:t=>{const s=a(),r=t?t.chunkIdx+1:0,n=r-i.fragIndex;if(!(s<=0)){if(!t||n<0||n-s>10)return e(`Resync: offset=${n} bChunks=${s} chunk=`+JSON.stringify(t)),c();if(!(n>=s))return h(r-i.fragIndex,!1)}}}},y=()=>{n=!1,d&&d.abort(),h&&h.abort(),u&&u.abort(),l(this.filesFetcher),this.filesFetcher.abortAll()};return c={start:e=>{const{videoElement:i,logger:s}=this.params;let r,d,h,c,g,S,T,E=v(t.jidxUrl),$=0;const w=()=>{g&&(clearTimeout(g),g=void 0);const t=Math.max(500,1e3*(this._getBufferSizeSec()-this.sourceJitter-5)),e=$+t,i=Ut(),s=Math.min(1e4,e-i);$=i;const a=()=>{u||p()&&E.seek((()=>{p()&&($=Ut(),k(),w())}))};s>0?g=window.setTimeout((()=>{this.paused?w():a()}),s):a()},k=()=>{let e;for(;e=E.nextChunk(c);)c=e,_(e);const i=E.nextChunk(h);if(i){if(h&&i.discontinuity)return s('Detected discontinuity; restarting playback'),void(this.paused?w():(y(),this._initPlayerWith(t)));D(i)}else w()},A=(t,e)=>{if(!p()||!this.sourceBuffer)return;let a,r,n;const o=i=>{window.setTimeout((()=>{p()&&A(t,e)}),i)};if(this.sourceBuffer.updating)s('Source buffer is updating; delaying appendBuffer'),o(100);else{const d=Ut(),h=i.currentTime;!this.paused&&i.buffered.length>1&&S===h&&d-T>500&&(s('Stall suspected; trying to fix'),this._fixupStall()),S!==h&&(S=h,T=d);const u=this._getBufferSizeSec();if(u>30)s(`Buffered ${u} seconds; delaying appendBuffer`),o(2e3);else try{this.sourceBuffer.appendBuffer(t),this.videoPlayStarted?(this.bufferStates.push({ts:d,buf:u}),b(),this.bufferStates.length>200&&this.bufferStates.shift()):this.shouldPlay()&&(this.videoPlayStarted=!0,this._playVideoElement()),e&&e()}catch(t){if('QuotaExceededError'!==t.name)throw t;s('QuotaExceededError; delaying appendBuffer'),n=this.sourceBuffer.buffered.length,0!==n&&(a=this.sourceBuffer.buffered.start(0),r=h,r-a>4&&this.sourceBuffer.remove(a,r-3)),o(1e3)}}},P=()=>{d&&r&&(s([`Appending chunk, sz=${d.byteLength}:`,JSON.stringify(h)]),A(d,(function(){d=null,k()})))},R=e=>t.fragUrlTemplate.replace('%%id%%',e.chunkIdx),D=t=>{p()&&f(R(t),((e,i)=>{if(p()){if(i/=1e3,d=e,h=t,o=t.startTS,i){const e=Math.min(10,t.dur/i);this.downloadRate=this.downloadRate?.7*this.downloadRate+.3*e:e}P()}}),(()=>this._handleNetworkError()))},_=t=>{p()&&(l(this.filesFetcher),this.filesFetcher.prefetch(this.urlResolver.resolve(R(t),!1)))},C=e=>{p()&&(t.cachedHeader=e,A(e,(()=>{r=!0,P()})))};n=!0,E.seek((t=>{p()&&($=Ut(),t?(c=t,!a(e)||t.startTS>e?D(t):(h=t,k())):w())}),e),t.cachedHeader?C(t.cachedHeader):m(t.headerUrl,C,(()=>this._handleNetworkError()))},stop:y,getTimestampSec:()=>o},c}_switchToQuality(t){const{logger:e,playerCallback:i}=this.params;let a;t.bitrate!==this.bitrate&&(this.rep&&(a=this.rep.getTimestampSec(),s(a)&&(a+=.1),this.rep.stop()),this.currentManifestEntry=t,this.rep=this._representation(t),e(`switch to quality: codecs=${t.codecs}; headerUrl=${t.headerUrl}; bitrate=${t.bitrate}`),this.bitrate=t.bitrate,l(this.bitrateSwitcher),this.bitrateSwitcher.notifySwitch(this.bitrate),this.rep.start(a),i({name:'qualitySwitch',quality:t}))}_qualityAvailable(t){return s(this.manifest.find((e=>e.name===t)))}_initBitrateSwitcher(){const{logger:t,playerCallback:e}=this.params,i=e=>{if(!this.autoQuality)return;let i,s,a;this.currentManifestEntry&&this._qualityAvailable(this.currentManifestEntry.name)&&e<this.bitrate&&(s=this._getBufferSizeSec(),a=e/this.bitrate,s>10&&a>.8||s>15&&a>.5||s>20&&a>.3)?t(`Not switching: buffer=${Math.floor(s)}; bitrate=${this.bitrate}; newRate=${Math.floor(e)}`):(i=this._selectQuality(e),i?this._switchToQuality(i):t(`Could not find quality by bitrate ${e}`))},s=(()=>({updateChunk:(t,i)=>{const s=Ut();if(this.chunkRateEstimator.addInterval(t,s,i)){const a=this.chunkRateEstimator.getBitRate();return e({name:'bandwidth',size:i,duration:s-t,speed:a}),!0}},get:()=>{const t=this.chunkRateEstimator.getBitRate();return t?.85*t:0}}))();let a,r=-1/0,n=!0;const o=()=>{let t=s.get();if(t&&a&&this.autoQuality){if(n&&t>a&&Vt(r)<3e4)return;i(t)}n=this.autoQuality};return{updateChunk:(t,e)=>{const i=s.updateChunk(t,e);return i&&o(),i},notifySwitch:t=>{const e=Ut();t<a&&(r=e),a=t}}}_fetchManifest(t,e,i){this.manifestRequest=Ft(this.urlResolver.resolve(t,!0),e,i,(()=>this._retryCallback())).withJSONResponse().withTimeout(1e4).withRetryCount(3).withRetryInterval(300,2e3).send().withFinally((()=>{this.manifestRequest=void 0}))}_playVideoElement(t){const{videoElement:e}=this.params;Ot(e).then((e=>{e||t?.()}))}_handleManifestUpdate(t){const{logger:e,playerCallback:i,videoElement:s}=this.params;this.manifest=(t=>{const e=[];return t?.length?(t.forEach(((t,i)=>{t.video&&s.canPlayType(t.codecs).replace(/no/,'')&&window.MediaSource.isTypeSupported(t.codecs)&&(t.index=i,e.push(t))})),e.sort((function(t,e){return t.video&&e.video?e.video.height-t.video.height:e.bitrate-t.bitrate})),e):(this.params.playerCallback({name:'error',type:'partial_metadata'}),[])})(t),e(`Valid manifest entries: ${this.manifest.length}/${t.length}`),i({name:'manifest',manifest:this.manifest})}_refetchManifest(t){this.destroyed||(this.manifestRefetchTimer&&clearTimeout(this.manifestRefetchTimer),this.manifestRefetchTimer=window.setTimeout((()=>{this._fetchManifest(t,(e=>{this.destroyed||(this._handleManifestUpdate(e),this._refetchManifest(t))}),(()=>this._refetchManifest(t)))}),6e4))}_initManifest(){this._fetchManifest(this.manifestUrl,(t=>{this.destroyed||(this._handleManifestUpdate(t),this._refetchManifest(this.manifestUrl))}),(()=>this._handleNetworkError()))}}var zt;!function(t){t.STOPPED='stopped',t.MANIFEST_READY='manifest_ready',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(zt||(zt={}));const Qt=[zt.PAUSED,zt.PLAYING,zt.READY],Wt=[zt.PAUSED,zt.PLAYING,zt.READY];class jt{subscription=new i;video;videoState=new z(zt.STOPPED);dash;representations$=new t([]);textTracksManager=new gt;maxSeekBackTime$=new t(1/0);zeroTime$=new t(void 0);liveOffset=new bt;log;params;constructor(t){this.params=t,this.log=this.params.dependencies.logger.createComponentLog('DashLiveProvider');const e=e=>{t.output.error$.next({id:'DashLiveProvider',message:'DashLiveProvider internal logic error',thrown:e})};o(this.videoState.stateChangeStarted$.pipe(h((t=>({transition:t,type:'start'})))),this.videoState.stateChangeEnded$.pipe(h((t=>({transition:t,type:'end'}))))).subscribe((({transition:t,type:e})=>{this.log({message:`[videoState change] ${e}: ${JSON.stringify(t)}`})})),this.video=St(t.container),this.params.output.element$.next(this.video),this.dash=this.createLiveDashPlayer(),this.params.output.duration$.next(1/0),this.params.output.position$.next(0),this.params.output.isLive$.next(!0),this.params.output.hostname$.next(Ct(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.textTracksManager.connect(this.video,this.params.desiredState,this.params.output);const i=Tt(this.video);this.subscription.add(i.canplay$.subscribe((()=>{this.videoState.getTransition()?.to===zt.READY&&this.videoState.setState(zt.READY)}),e)).add(i.pause$.subscribe((()=>{this.videoState.setState(zt.PAUSED)}),e)).add(i.playing$.subscribe((()=>{this.params.desiredState.seekState.getState().state===L.Applying&&this.params.output.seekedEvent$.next(),this.videoState.setState(zt.PLAYING)}),e)).add(i.error$.subscribe(this.params.output.error$)).add(this.maxSeekBackTime$.pipe(c(),h((t=>-t/1e3))).subscribe(this.params.output.duration$)).add(y({zeroTime:this.zeroTime$.pipe(f(s)),position:i.timeUpdate$}).subscribe((({zeroTime:t,position:e})=>this.params.output.liveTime$.next(t+1e3*e)),e)).add(lt(this.video,this.params.desiredState.isLooped,e)).add(pt(this.video,this.params.desiredState.volume,i.volumeState$,e)).add(i.volumeState$.subscribe(this.params.output.volume$,e)).add(mt(this.video,this.params.desiredState.playbackRate,i.playbackRateState$,e)).add(i.loadStart$.subscribe(this.params.output.firstBytesEvent$)).add(i.playing$.subscribe(this.params.output.firstFrameEvent$)).add(i.canplay$.subscribe(this.params.output.canplay$)).add(this.params.desiredState.autoVideoTrackLimits.stateChangeEnded$.subscribe((({to:{max:t}})=>{const e=t&&V[t].height;this.dash.setMaxAutoQuality(e)}))).add(this.videoState.stateChangeEnded$.subscribe((t=>{switch(t.to){case zt.STOPPED:this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.desiredState.playbackState.setState(P.STOPPED);break;case zt.MANIFEST_READY:case zt.READY:break;case zt.PAUSED:this.params.desiredState.playbackState.setState(P.PAUSED);break;case zt.PLAYING:this.params.desiredState.playbackState.setState(P.PLAYING);break;default:return n(t.to)}}),e)).add(o(t.desiredState.playbackState.stateChangeStarted$,t.desiredState.seekState.stateChangeEnded$,t.desiredState.videoTrack.stateChangeStarted$,t.desiredState.autoVideoTrackSwitching.stateChangeStarted$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0)).subscribe(this.syncPlayback,e))}destroy(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0),this.dash.destroy()}createLiveDashPlayer(){const t=new Yt({videoElement:this.video,config:{maxParallelRequests:this.params.config.maxParallelRequests,minBuffer:this.params.tuning.live.minBuffer,minBufferSegments:this.params.tuning.live.minBufferSegments,lowLatencyMinBuffer:this.params.tuning.live.lowLatencyMinBuffer,lowLatencyMinBufferSegments:this.params.tuning.live.lowLatencyMinBufferSegments},playerCallback:this._dashCb,logger:t=>{this.params.dependencies.logger.log({message:String(t),component:'LiveDashPlayer'})}});return t.pause(),t}prepare(){const t=this.representations$.getValue(),e=this.params.desiredState.videoTrack.getTransition()?.to??this.params.desiredState.videoTrack.getState(),i=this.params.desiredState.autoVideoTrackSwitching.getTransition()?.to??this.params.desiredState.autoVideoTrackSwitching.getState(),a=!i&&s(e)?e:_t(t.map((({track:t})=>t)),{container:{width:this.video.offsetWidth,height:this.video.offsetHeight},throughput:this.params.dependencies.throughputEstimator.throughput$.getValue(),tuning:this.params.tuning.autoTrackSelection,limits:this.params.desiredState.autoVideoTrackLimits.getState()})?.id,r=t.find((({track:t})=>t.id===a))?.representation;l(r,'Representations missing'),this.dash.startPlay(r,i),this.params.desiredState.videoTrack.getTransition()&&this.params.desiredState.videoTrack.setState(a),this.params.desiredState.autoVideoTrackSwitching.getTransition()&&this.params.desiredState.autoVideoTrackSwitching.setState(i)}setVideoTrack(t){const e=this.representations$.getValue().find((({track:e})=>e.id===t))?.representation;l(e,`No such representation ${t}`),this.dash.switchByName(e.name),this.params.desiredState.videoTrack.setState(t)}setAutoQuality(t){this.dash.setAutoQualityEnabled(t),this.params.desiredState.autoVideoTrackSwitching.setState(t)}seek(t){this.log({message:`[seek] position: ${t}`}),this.params.output.willSeekEvent$.next();const e=-t,i=e<this.maxSeekBackTime$.getValue()?e:0;this.liveOffset.resetTo(i),this.dash.reinit(O(this.params.source.url,i))}_dashCb=t=>{switch(t.name){case'buffering':{const e=t.isBuffering;this.params.output.isBuffering$.next(e);break}case'error':this.params.output.error$.next({id:`DashLiveProviderInternal:${t.type}`,message:'LiveDashPlayer reported error'});break;case'manifest':{const e=t.manifest,i=[];for(const t of e){const e=t.name??t.index.toString(10),s=Mt(t.name)??G(t.video),a=t.bitrate/1e3,r={...t.video};if(!s)continue;const n={id:e,quality:s,bitrate:a,size:r};i.push({track:n,representation:t})}this.representations$.next(i),this.params.output.availableVideoTracks$.next(i.map((({track:t})=>t))),this.videoState.getTransition()?.to===zt.MANIFEST_READY&&this.videoState.setState(zt.MANIFEST_READY);break}case'qualitySwitch':{const e=t.quality,i=this.representations$.getValue().find((({representation:t})=>t===e))?.track;this.params.output.hostname$.next(new URL(e.headerUrl,this.params.source.url).hostname),s(i)&&this.params.output.currentVideoTrack$.next(i);break}case'bandwidth':{const{size:e,duration:i}=t;this.params.dependencies.throughputEstimator.addRawSpeed(e,i);break}case'index':this.maxSeekBackTime$.next(t.shiftDuration),this.zeroTime$.next(t.zeroTime)}};syncPlayback=()=>{const t=this.videoState.getState(),e=this.videoState.getTransition(),i=this.params.desiredState.playbackState.getState(),a=this.params.desiredState.playbackState.getTransition(),r=this.params.desiredState.seekState.getState();if(this.log({message:`[syncPlayback] videoState: ${t}; videoTransition: ${JSON.stringify(e)}; desiredPlaybackState: ${i}; seekState: ${JSON.stringify(r)};`}),i!==P.STOPPED){if(!e){if(Wt.includes(t)){const t=this.params.desiredState.videoTrack.getTransition()?.to;s(t)&&this.setVideoTrack(t);const e=this.params.desiredState.autoVideoTrackSwitching.getTransition();e&&this.setAutoQuality(e.to)}if(a?.to!==P.PAUSED&&r.state===L.Requested&&Qt.includes(t))this.seek(r.position-this.liveOffset.getTotalPausedTime());else switch(t){case zt.STOPPED:return this.videoState.startTransitionTo(zt.MANIFEST_READY),void this.dash.attachSource(O(this.params.source.url));case zt.MANIFEST_READY:this.videoState.startTransitionTo(zt.READY),this.prepare();break;case zt.READY:return void(i===P.PAUSED?this.videoState.setState(zt.PAUSED):i===P.PLAYING&&(this.videoState.startTransitionTo(zt.PLAYING),this.dash.play((()=>{this.liveOffset.pause(),this.videoState.setState(zt.PAUSED)}))));case zt.PLAYING:return void(i===P.PAUSED&&(this.videoState.startTransitionTo(zt.PAUSED),this.liveOffset.pause(),this.dash.pause()));case zt.PAUSED:return void(i===P.PLAYING&&(this.videoState.startTransitionTo(zt.PLAYING),this.liveOffset.getTotalPausedTime()<this.params.config.maxPausedTime&&this.liveOffset.getTotalOffset()<this.maxSeekBackTime$.getValue()?(this.liveOffset.resume(),this.dash.play((()=>{this.liveOffset.pause(),this.videoState.setState(zt.PAUSED)})),this.params.output.position$.next(-this.liveOffset.getTotalOffset()/1e3)):this.seek(-this.liveOffset.getTotalOffset())));default:return n(t)}}}else t!==zt.STOPPED&&(this.videoState.startTransitionTo(zt.STOPPED),this.dash.destroy(),this.video.setAttribute('src',''),this.video.load(),this.videoState.setState(zt.STOPPED))}}var Jt=t=>{const e=t.get('X-Delivery-Type'),i=t.get('X-Reused');return{type:null===e?I.HTTP1:e??void 0,reused:null===i?void 0:{1:!0,0:!1}[i]??void 0}},Xt=(t,e)=>{let i=0;for(let s=0;s<t.length;s++){const a=1e3*t.start(s),r=1e3*t.end(s);a<=e&&e<=r&&(i=r)}return Math.max(i-e,0)};class Kt{_failoverIndex=0;_failoverCount=0;_xhr=null;_url;_failoverHosts;_completeCb;_progressCb;_headersCb;_errorCb;_retryTimeout=0;constructor(t,e=[],i,s,a,r){this._url=t,this._failoverHosts=e,this._completeCb=i,this._progressCb=s,this._headersCb=a,this._errorCb=r,this._request()}_request(){this._xhr=new XMLHttpRequest,this._xhr.open('GET',this._url,!0),this._xhr.overrideMimeType('text/plain; charset=x-user-defined');let t=!1;this._xhr.onreadystatechange=()=>{if(l(this._xhr),this._xhr?.status>=400)return this._errorCb?.(`Http${this._xhr?.status}`,`XHR response code ${this._xhr?.status}`),void this.abort();if(4!==this._xhr.readyState||0!==this._xhr.status)try{if(this._xhr.readyState>=2&&!t){t=!0;const e=Object.fromEntries(this._xhr.getAllResponseHeaders().trim().split(/[\\n\\r]+/).map((t=>t.split(':').map((t=>t.trim())))));this._headersCb?.(new Headers(e))}else 4===this._xhr.readyState?this._completeCb?.(this._xhr.response):3===this._xhr.readyState&&this._progressCb?.(this._xhr.response)}catch(t){throw this._errorCb?.('XHR2CallbackError',`xhr2 callback threw ${String(t)}`,t),t}},this._xhr.onerror=()=>{this._xhr?.abort(),this._retryTimeout=window.setTimeout((()=>{if(this._xhr)if(++this._failoverCount>=30)this._xhr=null,this._errorCb?.('XHR2Failover','XHR failed, retrying failover host');else{let t;this._failoverIndex>=this._failoverHosts.length?(t=this._url,this._failoverIndex=0):(t=this._url.replace((t=>{const e=document.createElement('a');return e.href=t,e.host})(this._url),this._failoverHosts[this._failoverIndex]),this._failoverIndex++),this._xhr.open('GET',t,!0),this._xhr.send(null)}}),500)},this._xhr.send(null)}abort(){window.clearTimeout(this._retryTimeout),this._completeCb=this._progressCb=this._errorCb=void 0,this._xhr&&(this._xhr.abort(),this._xhr=null)}}class Zt{_appendPromiseUint8Array;_lastXhr;_lastStreamUpdatingCallback;_maxBufferDuration=Number.POSITIVE_INFINITY;_isFull=!1;_mediaSource;_sourceBuffer;_onDashCallback;_params;constructor(t){this._params=t,this._mediaSource=t.mediaSource,this._sourceBuffer=t.sourceBuffer,this._onDashCallback=t.onDashCallback}_appendBuffer(t,e){try{this._isFull=!1;(this._sourceBuffer.appendBuffer||this._sourceBuffer.append).bind(this._sourceBuffer)(t),e?.()}catch(t){if('QuotaExceededError'!==t.name)throw this._params.onError('AppendBuffer','Unknown Buffer error',t),t;{this._isFull=!0;const t=this._sourceBuffer.buffered;let e=0;for(let i=0,s=t.length;i<s;i++)e+=t.end(i)-t.start(i);e&&(this._maxBufferDuration=Math.round(e))}}}getMaxBufferDuration(){return this._maxBufferDuration}isFull(){return this._isFull}load(t,e,i,s,a,r,n){this.abort((()=>{let o=0;const d=Date.now();let h=0,u=0,c=0;const l=t=>{s(Zt._str2ua(t.substr(o))),o=t.length};let p=t.baseURL+'&bytes='+e+'-'+i;this._params.requestQuic&&(p=ht(p)),this._lastXhr=new Kt(p,t.failoverHosts,(t=>{this._lastXhr=void 0,l(t);const e=Date.now()-d;this._params.onBandwidthChange({size:t.length,duration:e,speed:8*t.length/(e/1e3)}),this._onDashCallback('loading',{size:t.length,done:!0}),a?.()}),(t=>{if(t.length-o>n&&l(t),0===u)return void(u=Date.now());c=t.length-h;const e=Date.now()-u;c>=102400&&e>=1e3&&(this._params.onBandwidthChange({size:c,duration:e,speed:8*c/(e/1e3)}),c=0,h=t.length,u=Date.now()),this._onDashCallback('loading',{size:t.length,done:!1})}),r,((t,e,i)=>this._params.onError(t,e,i)))}))}abort(t){this._lastXhr?.abort(),this._lastXhr=void 0,this._sbUpdatingStop(this._lastStreamUpdatingCallback),this._lastStreamUpdatingCallback=this._sbUpdatingWatch((()=>{this._appendPromiseUint8Array&&(this._appendBuffer(this._appendPromiseUint8Array),this._appendPromiseUint8Array=void 0),this._lastStreamUpdatingCallback=this._sbUpdatingWatch((()=>{'open'===this._mediaSource.readyState&&this._sourceBuffer.abort(),t?.()}))}))}_sbUpdatingWatch(t){if(this._sourceBuffer.updating){const e=()=>{try{this._sbUpdatingStop(e),this._sbUpdatingWatch(t)}catch(t){throw this._params.onError('SourceBuffer','Source Buffer update error',t),t}};return this._sourceBuffer.addEventListener('updateend',e,!1),e}t()}_sbUpdatingStop(t){t&&this._sourceBuffer.removeEventListener('updateend',t,!1)}append(t,e){this._appendPromiseUint8Array?this._appendPromiseUint8Array=Zt._concatUint8(this._appendPromiseUint8Array,t):(this._appendPromiseUint8Array=t,this._lastStreamUpdatingCallback=this._sbUpdatingWatch((()=>{this._appendPromiseUint8Array&&this._appendBuffer(this._appendPromiseUint8Array,(()=>{this._appendPromiseUint8Array=void 0,e&&this._sbUpdatingWatch(e)}))})))}endOfStream(){'open'===this._mediaSource.readyState&&this._sbUpdatingWatch((()=>this._mediaSource.endOfStream()))}static _concatUint8(t,e){const i=new Uint8Array(t.byteLength+e.byteLength);return i.set(t,0),i.set(e,t.byteLength),i}static _str2ua(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}remove(t,e){this._sbUpdatingWatch((()=>{!this._sourceBuffer.updating&&this._sourceBuffer.remove&&this._sourceBuffer.remove(t,e),this._maxBufferDuration=Number.POSITIVE_INFINITY}))}destroy(){this._lastXhr?.abort(),this._sbUpdatingStop(this._lastStreamUpdatingCallback),'open'===this._mediaSource.readyState&&this._sourceBuffer.abort()}}class te{_params;_representations=[];_appendVector={};_currentRepresentation;_stream;_lastLoadOffset;_loopTimeout;_cachingPaused=!1;_duration=0;STREAM_END_THRESHOLD=1;_video;_buffer;_onDashCallback;_config;constructor(t){this._params=t,this._video=t.video,this._buffer=t.buffer,this._onDashCallback=t.onDashCallback??(()=>{}),this._config=t.config}_parseDurationFromISO8601(t){const e=(t,e)=>{const i=t?parseFloat(t.replace(',','.')):NaN;return(isNaN(i)?0:i)*e},i=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/.exec(t),s='-'===i?.[1]?-1:1;e(i?.[2],s),e(i?.[3],s),e(i?.[4],s),e(i?.[5],s);return 3600*e(i?.[6],s)+60*e(i?.[7],s)+e(i?.[8],s)}getRepresentations(){return this._representations}attachSource(t,e){let i=t;this._config.REQUEST_QUIC&&(i=ht(i)),new Kt(i,e,(t=>{this.attachManifest(t,e,(t=>{const e=document.createElement('a');return e.href=t,e.origin})(i))}),void 0,(t=>{this._params.onResponseHeaders(t)}),((t,e,i)=>this._params.onError(t,e,i)))}attachManifest(t,e,i){const s=(new DOMParser).parseFromString(t,'text/xml').documentElement,a=(t,e)=>{const i=t.attributes.getNamedItem(e);return i?i.value:null};this._duration=this._parseDurationFromISO8601(String(a(s,'mediaPresentationDuration')));const r=[],n=[];Array.prototype.forEach.call(s.getElementsByTagName('Representation'),(t=>{const s=t.getElementsByTagName('SegmentBase')[0],o=s&&a(s,'indexRange').split('-'),d=s&&s.getElementsByTagName('Initialization')[0],h=d&&a(d,'range').split('-');if(!h||!o){const e=t.parentElement;if('text'===e?.getAttribute('contentType')){const s=t.getAttribute('id')??void 0,a=(i?i+'/':'')+t.getElementsByTagName('BaseURL')?.[0]?.childNodes?.[0]?.data,r=e.getAttribute('lang')??void 0;a&&n.push({id:s,url:a,language:r})}return}const u=Number(t.attributes.getNamedItem('bandwidth')?.value),c=(i?i+'/':'')+t.getElementsByTagName('BaseURL')[0].childNodes[0].data;let l;const p=t.attributes.getNamedItem('frameRate')?.value??void 0;l=p?Et(p):void 0,r.push({width:Number(t.attributes.getNamedItem('width')?.value),height:Number(t.attributes.getNamedItem('height')?.value),bandwidth:u,baseURL:c,failoverHosts:e,indexFrom:Number(o[0]),indexTo:Number(o[1]),initFrom:Number(h[0]),initTo:Number(h[1]),codecs:t.attributes.getNamedItem('codecs')?.value??void 0,mimeType:t.attributes.getNamedItem('mimeType')?.value??void 0,fps:l,bufferSize:.1*u/8,bufferLength:.1,name:t.attributes.getNamedItem('okQuality')?.value??void 0,id:t.attributes.getNamedItem('id')?.value??void 0})})),r.length?(this._representations=r,n.forEach((({id:t,language:e,url:i})=>{const s=document.createElement('track');s.setAttribute('src',i),t&&s.setAttribute('id',t),e&&s.setAttribute('srclang',e),this._video.appendChild(s)})),this._representations.sort(((t,e)=>e.bandwidth-t.bandwidth)),this._params.onManifestReady(this._representations)):this._onDashCallback('error')}_loadInitAndSidx(t,e){if(t===this._currentRepresentation)return void(e&&e());if(t.refs)return void this._stream.abort((()=>{this._stream.append(t.initMessage,e)}));const i=Date.now();this._stream.load(t,t.initFrom,t.indexTo,(i=>{let s=t.initTo-t.initFrom+1;if(!i.byteLength)return void this._params.onError('EmptyResponse','Empty response');t.initMessage=new Uint8Array(i.buffer,0,s);const a=new DataView(i.buffer);s+=12;const r=a.getUint32(s+4,!1);s+=8;let n=a.getUint32(s,!1),o=a.getUint32(s+4,!1)+(t.indexTo+1);s+=8;const d=a.getUint16(s+2,!1);s+=4,t.refs=[];for(let e=0;e<d;e+=1){const e=o+(2147483647&a.getUint32(s,!1)),i=n+a.getUint32(s+4,!1);s+=12,t.refs.push({fromTime:n/r,toTime:i/r,fromOffset:o,toOffset:e-1}),o=e,n=i}const h=t.refs[t.refs.length-1];h.toTime-h.fromTime<.3&&t.refs.pop(),this._stream.append(t.initMessage,e)}),void 0,(t=>{this._params.onResponseHeaders(t),this._params.onIdxRequestPing(Date.now()-i)}),t.indexTo-t.initFrom+1)}startPlay(t){const e=window.MediaSource||window.WebKitMediaSource;if(!e)return void this._params.onError('MediaSourceNotSupported','MediaSource is not supported');const i=new e;let s,a;const r=()=>{const e=this._findRef(this._video.currentTime);if(!e||this._video.paused)return;if(!this._cachingPaused&&void 0!==this._lastLoadOffset&&this._lastLoadOffset-this._video.currentTime<this._config.FRONT_CACHE_DURATION&&this._lastLoadOffset-this._video.currentTime<this._stream.getMaxBufferDuration()){const t=this._stream.isFull()?this._findBufferRangeEnd(this._video.currentTime):this._lastLoadOffset;this._loadRef(this._params.selectRepresentation(this._representations),t)}const i=this._appendVector[String(e.fromTime)];let r;i!==s&&(s=i,this._params.onRepresentationPlay(i));if(this._findRef(e.toTime)){const e=this._buffer.getByTime(this._video.currentTime);if(!e)return void this._onDashCallback('buffering');r=e.to-this._video.currentTime,r<t.bufferLength&&(this._onDashCallback('buffering'),a!==e.to&&(a=e.to,window.setTimeout((()=>{try{const t=this._buffer.getNextWithGap(e);t&&(this._video.currentTime=t.from)}catch(t){throw this._params.onError('GapSyncError',`Seek Error ${String(t)}`,t),t}}),1e3*r)))}},n=()=>{this._loopTimeout=window.setTimeout((()=>{try{r()}catch(t){throw this._params.onError('LoopError',`Dash Loop exception ${String(t)}`,t),t}n()}),250)},o=()=>{if(!this._stream)try{const e=i.addSourceBuffer(`${t.mimeType}; codecs=\"${t.codecs}\"`);this._stream=new Zt({mediaSource:i,sourceBuffer:e,requestQuic:this._params.config.REQUEST_QUIC,onBandwidthChange:this._params.onBandwidthChange,onError:this._params.onError,onDashCallback:this._onDashCallback})}catch(t){throw this._params.onError('DashSourceOpen',`Source open exception ${String(t)}`,t),t}this._loadInitAndSidx(t),i.duration||(i.duration=this._duration),this._loopTimeout||n(),i.removeEventListener('sourceopen',o),i.removeEventListener('webkitsourceopen',o)};i.addEventListener('sourceopen',o,!1),i.addEventListener('webkitsourceopen',o,!1),this._video&&(this._video.src=window.URL.createObjectURL(i),this._video.addEventListener('waiting',(()=>{const t=this._video&&this._video.played.length;t&&!this._video.currentTime&&this._video.loop?this._video.duration-this._video.played.end(t-1)<this.STREAM_END_THRESHOLD&&this.seek(0):this._video.duration-this._video.currentTime<this.STREAM_END_THRESHOLD&&this._stream.endOfStream()})))}_loadRef(t,e,i=!1,s=!1){this._lastLoadOffset=void 0,this._loadInitAndSidx(t,(()=>{this._currentRepresentation=t;const a=this._findRef(e);if(a){if(i){this._isLastRef(a)&&e>=a.toTime&&(e=a.fromTime);const t=this._findRef(this._video.currentTime),i=Math.abs(this._video.currentTime-e),r=s||this._video.duration<this._config.SEEK_IN_SEGMENT_THRESHOLD/1e3||a===t||i<=this._config.SEEK_IN_SEGMENT_DELTA/1e3;this._video.currentTime=r?e:a.fromTime}this._appendVector[String(a.fromTime)]=t,this._stream.load(t,a.fromOffset,a.toOffset,((t,e)=>this._stream.append(t,e)),(()=>{this._lastLoadOffset=a.toTime,this._video.duration-this._lastLoadOffset<this.STREAM_END_THRESHOLD&&this._stream.endOfStream()}),(t=>this._params.onResponseHeaders(t)),t.bufferSize)}}))}setQualityByRepresentation(t,e=!1){const i=this._buffer.getByTime(this._video.currentTime),s=this._findRef(this._video.currentTime);if(!i||!s)return void(this._video.currentTime&&e&&this._loadRef(t,this._video.currentTime));const a=.1;if(s.toTime<i.to+a){const e=this._findRef(s.toTime);e&&e.toTime<i.to+a?(this._buffer.smartRemove(s.fromTime-a,e.toTime+a,((t,e)=>this._stream.remove(t,e))),this._loadRef(t,e.toTime)):(this._buffer.smartRemove(s.fromTime-a,s.toTime+a,((t,e)=>this._stream.remove(t,e))),this._loadRef(t,s.toTime))}}setQuality(t){return this.setQualityByRepresentation(this._representations[t])}pauseCaching(){this._cachingPaused=!0}resumeCaching(){this._cachingPaused=!1}seek(t,e){this._stream&&this._buffer.getByTime(t)?this._video.currentTime=t:this._loadRef(this._params.selectRepresentation(this._representations),t,!0,e)}updateRefsForCurrentTime(){const t=this._video.currentTime;this._stream&&!a(this._buffer.getByTime(t))||this._loadRef(this._params.selectRepresentation(this._representations),t,!1)}_findRef(t){const e=this._currentRepresentation?.refs;if(!e)return;if(Array.isArray(e)&&0===e.length)return void this._params.onError('emptyrefs','Empty refs');let i;for(let s=0;s<e.length;s++){const a=e[s];if(a.fromTime<=t&&a.toTime>t)return a;a.fromTime>t&&(!i||a.fromTime<i.fromTime)&&(i=a)}if(!i){const i=e[e.length-1];if(t>i.toTime)return i}return i}_isLastRef(t){const e=this._currentRepresentation?.refs;if(!e)return!1;const i=e[e.length-1];return t.fromTime===i.fromTime}_findBufferRangeEnd(t){let e=this._video.buffered.length;for(;e-- >0;){const i=this._video.buffered.start(e),s=this._video.buffered.end(e);if(t>i&&t<s)return Math.round(10*s)/10}return t}destroy(){this._stream&&this._stream.destroy(),clearTimeout(this._loopTimeout),this._loopTimeout=void 0}}var ee;!function(t){t.STOPPED='stopped',t.MANIFEST_LOADED='manifest-loaded',t.INITIAL_REPRESENTATION_SELECTED='initial-representation-selected',t.METADATA_LOADED='metadata-loaded',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(ee||(ee={}));const ie=[ee.PAUSED,ee.PLAYING];class se{videoState=new z(ee.STOPPED);subscription=new i;video;buffer;dash;representations$=new t([]);currentRepresentation$=new t(void 0);params;textTracksManager=new gt;elementSize$=new t(void 0);dashLiteEvents={idxRequestPing$:new e,responseHeaders$:new e,manifestReady$:new e,representationPlay$:new e,error$:new e};log;constructor(t){this.params=t,this.log=this.params.dependencies.logger.createComponentLog('DashProvider'),o(this.videoState.stateChangeStarted$.pipe(h((t=>({transition:t,type:'start'})))),this.videoState.stateChangeEnded$.pipe(h((t=>({transition:t,type:'end'}))))).subscribe((({transition:t,type:e})=>{this.log({message:`[videoState change] ${e}: ${JSON.stringify(t)}`})})),this.video=St(t.container),this.params.output.element$.next(this.video),this.params.output.isLive$.next(!1),'url'===this.params.source.type&&this.params.output.hostname$.next(Ct(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.buffer=new vt(this.video),this.dash=new te({video:this.video,buffer:this.buffer,selectRepresentation:this.selectRepresentation,onIdxRequestPing:t=>this.dashLiteEvents.idxRequestPing$.next(t),onResponseHeaders:t=>this.dashLiteEvents.responseHeaders$.next(t),onManifestReady:t=>this.dashLiteEvents.manifestReady$.next(t),onRepresentationPlay:t=>this.dashLiteEvents.representationPlay$.next(t),onBandwidthChange:t=>this.params.dependencies.throughputEstimator.addRawSpeed(t.size,t.duration),onError:(t,e,i)=>{this.log({message:`[DashLite error], ${t}`}),this.dashLiteEvents.error$.next({id:t,message:e,thrown:i})},config:{SEEK_IN_SEGMENT_THRESHOLD:this.params.tuning.dashSeekInSegmentDurationThreshold,SEEK_IN_SEGMENT_DELTA:this.params.tuning.dashSeekInSegmentAlwaysSeekDelta,FRONT_CACHE_DURATION:this.params.config.cacheDuration/1e3,REQUEST_QUIC:this.params.tuning.requestQuick}}),this.subscribe()}subscribe(){const{output:t,desiredState:e}=this.params,i=e=>{t.error$.next({id:'DashProvider',message:'DashProvider internal logic error',thrown:e})},n=()=>{const t=this.params.desiredState.autoVideoTrackSwitching.getState(),e=this.params.desiredState.autoVideoTrackSwitching.getTransition();return e?e.to:t},d=Tt(this.video),l=(t,e)=>this.subscription.add(t.subscribe(e,i));l(d.timeUpdate$,t.position$),l(d.durationChange$,t.duration$),l(d.ended$,t.endedEvent$),l(d.looped$,t.loopedEvent$),l(d.error$,t.error$),l(d.isBuffering$,t.isBuffering$),l(d.playing$,t.firstFrameEvent$),l(d.canplay$,t.canplay$),this.subscription.add(d.seeking$.subscribe((()=>{a(this.params.desiredState.seekState.getState().state!==L.Applying)&&(this.videoState.getState()===ee.PLAYING||this.videoState.getState()===ee.PAUSED)&&this.dash.updateRefsForCurrentTime()}))),this.subscription.add(d.seeked$.subscribe(t.seekedEvent$,i)),this.subscription.add(lt(this.video,e.isLooped,i)),this.subscription.add(pt(this.video,e.volume,d.volumeState$,i)),this.subscription.add(d.volumeState$.subscribe(this.params.output.volume$)),this.subscription.add(mt(this.video,e.playbackRate,d.playbackRateState$,i)),this.textTracksManager.connect(this.video,e,t),l(It(this.video),this.elementSize$),this.subscription.add(d.canplay$.subscribe((()=>{this.videoState.getTransition()?.to===ee.READY&&this.videoState.setState(ee.READY)}),i)).add(d.pause$.subscribe((()=>{this.videoState.setState(ee.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED)}))).add(d.playing$.subscribe((()=>{this.videoState.setState(ee.PLAYING),U(this.params.desiredState.playbackState,P.PLAYING)}),i)).add(d.loadedMetadata$.subscribe((()=>{this.videoState.setState(ee.METADATA_LOADED)}),i)).add(d.currentBuffer$.subscribe((e=>{this.buffer.fill(),t.currentBuffer$.next(e)}),i)).add(this.dashLiteEvents.error$.pipe(h((({id:t,message:e,thrown:i})=>({id:`DashLite_${t}`,message:e,thrown:i})))).subscribe(this.params.output.error$)).add(o(this.params.desiredState.videoTrack.transitionStarted$,this.params.desiredState.autoVideoTrackSwitching.transitionStarted$,this.representations$,this.params.dependencies.throughputEstimator.rttAdjustedThroughput$,this.params.desiredState.autoVideoTrackLimits.stateChangeEnded$,this.params.output.element$,this.elementSize$,r(this.video,'progress')).pipe(h((()=>{const t=this.currentRepresentation$.getValue(),e=this.representations$.getValue(),i=this.params.desiredState.autoVideoTrackSwitching.getTransition(),a=this.params.desiredState.videoTrack.getState(),r=this.params.dependencies.throughputEstimator.rttAdjustedThroughput$.getValue(),o=this.elementSize$.getValue(),d=n();let h;if(i&&this.params.desiredState.autoVideoTrackSwitching.setState(i.to),!d&&s(a))h=a;else{const i=Xt(this.video.buffered,1e3*this.video.currentTime),s=d?this.params.tuning.dash.forwardBufferTargetAuto:this.params.tuning.dash.forwardBufferTargetManual,a=Math.min(i/s,1);h=_t(e.map((({track:t})=>t)),{container:o,throughput:r,tuning:this.params.tuning.autoTrackSelection,limits:this.params.desiredState.autoVideoTrackLimits.getState(),forwardBufferHealth:a,playbackRate:this.video.playbackRate,current:e.find((({representation:e})=>e===t))?.track})?.id}return s(h)?e.find((({track:t})=>t.id===h))?.representation:void 0})),c()).subscribe(this.currentRepresentation$,i)).add(y({needToSelectRepresentation:this.videoState.stateChangeStarted$.pipe(f((t=>t.to===ee.INITIAL_REPRESENTATION_SELECTED))),currentRepresentationSelected:this.currentRepresentation$.pipe(f(s))}).pipe(v()).subscribe((()=>this.videoState.setState(ee.INITIAL_REPRESENTATION_SELECTED)),i)).add(this.currentRepresentation$.pipe(f(s),c(((t,e)=>this.params.tuning.autoTrackSelection.lazyQualitySwitch&&n()?t.height<=e.height:t===e))).subscribe((t=>{const e=Xt(this.video.buffered,1e3*this.video.currentTime),i=Math.min(e/this.params.tuning.dash.forwardBufferTarget,1);(!this.params.tuning.autoTrackSelection.lazyQualitySwitch||i<=.5||!n())&&(this.dash.setQualityByRepresentation(t,!0),this.params.output.hostname$.next(Ct(t.baseURL)))}),i)).add(this.dashLiteEvents.responseHeaders$.subscribe((t=>{const{type:e,reused:i}=Jt(t);this.params.output.httpConnectionType$.next(e),this.params.output.httpConnectionReused$.next(i)}))).add(this.dashLiteEvents.idxRequestPing$.pipe(v(),g(void 0)).subscribe(this.params.output.firstBytesEvent$)).add(this.dashLiteEvents.idxRequestPing$.subscribe((t=>this.params.dependencies.throughputEstimator.addRawRtt(t)))).add(this.dashLiteEvents.manifestReady$.subscribe(this.handleManifestReady,i)).add(this.dashLiteEvents.representationPlay$.pipe(f(s)).subscribe(this.handleRepresentationPlay,i)).add(o(e.playbackState.stateChangeStarted$,e.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0)).subscribe(this.syncPlayback,i))}destroy(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0),this.buffer.destroy(),this.dash.destroy()}prepare(){const t=this.params.source;switch(t.type){case'url':this.dash.attachSource(t.url);break;case'raw':this.dash.attachManifest(t.raw);break;default:return n(t)}}handleManifestReady=t=>{const e=[];for(const i of t){const t=i.name??i.id??i.height.toString(10),s=(i.name&&Mt(i.name))??G(i),a=i.bandwidth/1e3,r={width:i.width,height:i.height},n=i.fps;if(!s)continue;const o={id:t,quality:s,bitrate:a,size:r,fps:n};e.push({track:o,representation:i})}this.representations$.next(e),this.params.output.availableVideoTracks$.next(e.map((({track:t})=>t))),this.videoState.setState(ee.MANIFEST_LOADED)};handleRepresentationPlay=t=>{const e=this.representations$.getValue().find((({representation:e})=>e===t))?.track;if(e){this.params.output.currentVideoTrack$.next(e);this.params.desiredState.videoTrack.getTransition()&&this.params.desiredState.videoTrack.setState(e.id)}};selectRepresentation=()=>{const t=this.currentRepresentation$.getValue();return l(t,'Can\\'t select representation. something went wrong'),t};seek(t,e=!1){this.log({message:`[seek] position: ${t}`}),this.params.output.willSeekEvent$.next(),this.dash.seek(t/1e3,e)}playIfAllowed(){Ot(this.video).then((t=>{t||(this.videoState.setState(ee.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED,!0))}))}syncPlayback=()=>{const t=this.videoState.getState(),e=this.videoState.getTransition(),i=this.params.desiredState.playbackState.getState(),s=this.params.desiredState.playbackState.getTransition(),a=this.params.desiredState.seekState.getState();if(this.log({message:`[syncPlayback] videoState: ${t}; videoTransition: ${JSON.stringify(e)}; desiredPlaybackState: ${i}; seekState: ${JSON.stringify(a)};`}),i!==P.STOPPED){if(!e)switch(s?.to!==P.PAUSED&&a.state===L.Requested&&ie.includes(t)&&this.seek(a.position,a.forcePrecise),t){case ee.STOPPED:return this.videoState.startTransitionTo(ee.MANIFEST_LOADED),void this.prepare();case ee.MANIFEST_LOADED:return void this.videoState.startTransitionTo(ee.INITIAL_REPRESENTATION_SELECTED);case ee.INITIAL_REPRESENTATION_SELECTED:return this.videoState.startTransitionTo(ee.METADATA_LOADED),void this.dash.startPlay(this.selectRepresentation());case ee.METADATA_LOADED:return this.videoState.startTransitionTo(ee.READY),void this.dash.updateRefsForCurrentTime();case ee.READY:return void(i===P.PAUSED?(this.videoState.setState(ee.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED)):i===P.PLAYING&&(this.videoState.startTransitionTo(ee.PLAYING),this.playIfAllowed()));case ee.PLAYING:return void(i===P.PAUSED?(this.videoState.startTransitionTo(ee.PAUSED),this.video.pause()):s?.to===P.PLAYING&&U(this.params.desiredState.playbackState,P.PLAYING));case ee.PAUSED:return void(i===P.PLAYING?(this.videoState.startTransitionTo(ee.PLAYING),this.playIfAllowed()):s?.to===P.PAUSED&&U(this.params.desiredState.playbackState,P.PAUSED));default:return n(t)}}else t!==ee.STOPPED&&(this.videoState.startTransitionTo(ee.STOPPED),this.dash.destroy(),this.video.setAttribute('src',''),this.video.load(),this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.videoState.setState(ee.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0))}}var ae,re,ne,oe,de;!function(t){t.VIDEO='video',t.AUDIO='audio',t.TEXT='text'}(ae||(ae={})),function(t){t.WEBM_AS_IN_SPEC='urn:mpeg:dash:profile:webm-on-demand:2012',t.WEBM_AS_IN_FFMPEG='urn:webm:dash:profile:webm-on-demand:2012'}(re||(re={})),function(t){t.BYTE_RANGE='byteRange',t.TEMPLATE='template'}(ne||(ne={})),function(t){t.NONE='none',t.DOWNLOADING='downloading',t.DOWNLOADED='downloaded',t.PARTIALLY_FED='partially_fed',t.FED='fed'}(oe||(oe={})),function(t){t.MP4='mp4',t.WEBM='webm'}(de||(de={}));var he=(t,e)=>{for(let i=0;i<t.length;i++){if(1e3*t.start(i)<=e&&1e3*t.end(i)>e)return!0}return!1};const ue='function'!=typeof window.requestIdleCallback||'function'!=typeof window.cancelIdleCallback?(t,e={})=>{const i=e.timeout||1,s=performance.now();return window.setTimeout((()=>{t({get didTimeout(){return!e.timeout&&performance.now()-s-1>i},timeRemaining:()=>Math.max(0,performance.now()-s+1)})}),1)}:window.requestIdleCallback;var ce=()=>{const{userAgent:t}=window.navigator;return!/chrome/i.test(t)&&/webkit|safari|khtml/i.test(t)};let le=!1;try{le=ce()&&parseInt(navigator.userAgent.match(/Version\\/(\\d+)/)?.[1]??'',10)<16}catch(t){console.error(t)}class pe{bufferFull$=new e;error$=new e;buffer;queue=[];currentTask=null;destroyed=!1;constructor(t){this.buffer=t,this.buffer.addEventListener('updateend',this.completeTask)}async append(t,e){return(!e||!e.aborted)&&new Promise((i=>{const s={operation:'append',data:t,signal:e,callback:i};this.queue.push(s),this.pull()}))}async remove(t,e,i){return(!i||!i.aborted)&&new Promise((s=>{const a={operation:'remove',from:t,to:e,signal:i,callback:s};this.queue.unshift(a),this.pull()}))}async abort(t){return new Promise((e=>{let i;i=le&&t?{operation:'safariAbort',init:t,callback:e}:{operation:'abort',callback:e};for(const{callback:t}of this.queue)t(!1);i&&(this.queue=[i]),this.pull()}))}destroy(){this.destroyed=!0,this.buffer.removeEventListener('updateend',this.completeTask)}completeTask=()=>{try{if(this.currentTask){const t=this.currentTask.signal?.aborted;this.currentTask.callback(!t),this.currentTask=null}this.queue.length&&this.pull()}catch(t){this.error$.next({id:'BufferTaskQueueUnknown',message:'Buffer appending or removal failed',thrown:t})}};pull(){if(this.buffer.updating||this.currentTask||this.destroyed)return;const t=this.queue.shift();if(!t)return;if(t.signal?.aborted)return t.callback(!1),void this.pull();this.currentTask=t;const{operation:e}=this.currentTask;try{this.execute(this.currentTask)}catch(t){t instanceof DOMException&&'QuotaExceededError'===t.name&&'append'===e&&this.bufferFull$.next(this.currentTask.data.byteLength),t instanceof DOMException&&'InvalidStateError'===t.name&&'remove'===e||this.error$.next({id:`BufferTaskQueue:${e}`,message:'Buffer operation failed',thrown:t}),this.currentTask.callback(!1),this.currentTask=null}this.currentTask&&'abort'===this.currentTask.operation&&this.completeTask()}execute(t){const{operation:e}=t;switch(e){case'append':this.buffer.appendBuffer(t.data);break;case'remove':this.buffer.remove(t.from/1e3,t.to/1e3);break;case'abort':this.buffer.abort();break;case'safariAbort':this.buffer.abort(),this.buffer.appendBuffer(t.init);break;default:n(e)}}}var me;!function(t){t[t.HEADER=0]='HEADER',t[t.PARAM=1]='PARAM'}(me||(me={}));class fe{throughputEstimator;requestQuic;lastConnectionType$=new t(void 0);lastConnectionReused$=new t(void 0);lastRequestFirstBytes$=new t(void 0);abortAllController=new it;subscription=new i;constructor({throughputEstimator:t,requestQuic:e}){this.throughputEstimator=t,this.requestQuic=e}onHeadersReceived(t){const{type:e,reused:i}=Jt(t);this.lastConnectionType$.next(e),this.lastConnectionReused$.next(i)}fetchManifest=T(this.abortAllController.signal,async function*(t){let e=t;this.requestQuic&&(e=ht(e));const i=yield et(e,{signal:this.abortAllController.signal}).catch(ge);return i?(this.onHeadersReceived(i.headers),i.text()):null}.bind(this));fetch=T(this.abortAllController.signal,async function*(t,{rangeMethod:e=me.HEADER,range:i,onProgress:s,priority:a='auto',signal:d,measureThroughput:h=!0}={}){let u=t;const c=new Headers;if(i)switch(e){case me.HEADER:c.append('Range',`${i.from}-${i.to}`);break;case me.PARAM:{const t=new URL(u,location.href);t.searchParams.append('bytes',`${i.from}-${i.to}`),u=t.toString();break}default:n(e)}this.requestQuic&&(u=ht(u));let l=this.abortAllController.signal;if(d){const t=new it;if(this.subscription.add(o(r(this.abortAllController.signal,'abort'),r(d,'abort')).subscribe((()=>{try{t.abort()}catch(t){ge(t)}}))),this.abortAllController.signal.aborted||d.aborted)try{t.abort()}catch(t){ge(t)}l=t.signal}const p=S(),m=yield et(u,{priority:a,headers:c,signal:l}).catch(ge),f=S();if(this.throughputEstimator?.addRawRtt(f-p),!m)return null;if(!m.ok||!m.body)return Promise.reject(new Error(`Fetch error ${m.status}: ${m.statusText}`));this.onHeadersReceived(m.headers);const g=parseInt(m.headers.get('Content-Length')??'',10)||i&&i.to-i.from+1||NaN;if(!g){const t=yield m.arrayBuffer();return this.throughputEstimator?.addRawSpeed(t.byteLength,S()-f),s?.(new DataView(t),t.byteLength),t}if(!s&&!h)return m.arrayBuffer();const[b,v]=m.body.tee(),y=b.getReader();h&&this.throughputEstimator?.trackStream(v);let E=0;const $=new ArrayBuffer(g),w=new Uint8Array($),k=new DataView($);let A=!1;const P=t=>{A=!0,ge(t)},R=T(l,async function*({done:t,value:e}){0===E&&this.lastRequestFirstBytes$.next(S()-p),l.aborted||(t?s?.(k,E):e&&(w.set(e,E),E+=e.byteLength,s?.(k,E),yield y?.read().then(R,P)))}.bind(this));return yield y?.read().then(R,P),A?null:$}.bind(this));async fetchRepresentation(t,e,i='auto'){const{type:s}=t;switch(s){case ne.BYTE_RANGE:return await this.fetchByteRangeRepresentation(t,e,i)??null;case ne.TEMPLATE:return await this.fetchTemplateRepresentation(t,i)??null;default:n(s)}}destroy(){this.abortAllController.abort(),this.subscription.unsubscribe()}fetchByteRangeRepresentation=T(this.abortAllController.signal,async function*(t,e,i){if(t.type!==ne.BYTE_RANGE)return null;const{from:s,to:a}=t.initRange;let r,n,o=s,d=a,h=!1;t.indexRange&&(r=t.indexRange.from,n=t.indexRange.to,h=a+1===r,h&&(o=Math.min(r,s),d=Math.max(n,a))),o=Math.min(o,0);const u=yield this.fetch(t.url,{rangeMethod:me.PARAM,range:{from:o,to:d},priority:i,measureThroughput:!1});if(!u)return null;const c=new DataView(u,s-o,a-o+1);if(!e.validateData(c))throw new Error('Invalid media file');const l=e.parseInit(c);let p;if(h&&void 0!==r&&void 0!==n)p=new DataView(u,r-o,n-r+1);else{const s=e.getIndexRange(l);if(s){const e=yield this.fetch(t.url,{rangeMethod:me.PARAM,range:s,priority:i,measureThroughput:!1});if(!e)return null;p=new DataView(e)}}if(!p)throw new ReferenceError('No way to load representation index');const m=e.parseSegments(p,l);return{dataView:new DataView(u),segments:m}}.bind(this));fetchTemplateRepresentation=T(this.abortAllController.signal,async function*(t,e){if(t.type!==ne.TEMPLATE)return null;const i=new URL(t.initUrl,t.baseUrl).toString(),s=yield this.fetch(i,{priority:e,measureThroughput:!1});if(!s)return null;return{segments:t.segments.map((t=>({...t,status:oe.NONE,size:void 0}))),dataView:new DataView(s)}}.bind(this))}const ge=t=>{if(!(t instanceof DOMException)||'AbortError'!==t.name&&20!==t.code)throw t},Se=new TextDecoder('ascii'),be=t=>{let e=0,i=t.getUint32(e);e+=4;const s=new DataView(t.buffer,t.byteOffset+e,4),a=Se.decode(s);e+=4,0===i?i=1/0:1===i&&(e+=8,i=1/0);const r=Math.min(i,t.byteLength)-e;return{id:a,size:i,contents:new DataView(t.buffer,t.byteOffset+e,r)}},ve={validateData:t=>'ftyp'===Se.decode(new DataView(t.buffer,t.byteOffset+4,4)),parseInit:()=>null,getIndexRange:()=>{},parseSegments:t=>{const e=be(t),i=[];let s=0;const a=()=>{const t=e.contents.getUint32(s);return s+=4,t};if(0!==(4278190080&a()))throw new SyntaxError('Unsupported sidx version');a();const r=a(),n=a(),o=a(),d=4294967295&a();let h=n/r*1e3,u=t.byteOffset+t.byteLength+o;for(let t=0;t<d;t++){const t=a(),e=t>>>31,s=t<<1>>>1,n=a();if(a(),0!==e)throw new Error('Unsupported multilevel sidx');const o=n/r*1e3;i.push({status:oe.NONE,time:{from:h,to:h+o},byte:{from:u,to:u+s-1}}),h+=o,u+=s}return i},parseFeedableSegmentChunk:t=>{let e=0,i=!1,s=!1;for(;e<=t.byteLength&&!i;){const a=new DataView(t.buffer,t.byteOffset+e);try{const i=be(a);if(s||='mdat'===i.id,!(e+i.size<=t.byteLength))break;e+=i.size}catch(t){i=!0}}return e>0&&e<=t.byteLength&&s?new DataView(t.buffer,t.byteOffset,e):null}};var ye,Te;!function(t){t[t.EBML=440786851]='EBML',t[t.EBMLVersion=17030]='EBMLVersion',t[t.EBMLReadVersion=17143]='EBMLReadVersion',t[t.EBMLMaxIDLength=17138]='EBMLMaxIDLength',t[t.EBMLMaxSizeLength=17139]='EBMLMaxSizeLength',t[t.DocType=17026]='DocType',t[t.DocTypeVersion=17031]='DocTypeVersion',t[t.DocTypeReadVersion=17029]='DocTypeReadVersion',t[t.Void=236]='Void',t[t.Segment=408125543]='Segment',t[t.SeekHead=290298740]='SeekHead',t[t.Seek=19899]='Seek',t[t.SeekID=21419]='SeekID',t[t.SeekPosition=21420]='SeekPosition',t[t.Info=357149030]='Info',t[t.TimestampScale=2807729]='TimestampScale',t[t.Duration=17545]='Duration',t[t.Tracks=374648427]='Tracks',t[t.Chapters=272869232]='Chapters',t[t.Cluster=524531317]='Cluster',t[t.Timestamp=231]='Timestamp',t[t.SilentTracks=22612]='SilentTracks',t[t.SilentTrackNumber=22743]='SilentTrackNumber',t[t.Position=167]='Position',t[t.PrevSize=171]='PrevSize',t[t.SimpleBlock=163]='SimpleBlock',t[t.BlockGroup=160]='BlockGroup',t[t.EncryptedBlock=175]='EncryptedBlock',t[t.Attachments=423732329]='Attachments',t[t.Tags=307544935]='Tags',t[t.Cues=475249515]='Cues',t[t.CuePoint=187]='CuePoint',t[t.CueTime=179]='CueTime',t[t.CueTrackPositions=183]='CueTrackPositions',t[t.CueTrack=247]='CueTrack',t[t.CueClusterPosition=241]='CueClusterPosition',t[t.CueRelativePosition=240]='CueRelativePosition',t[t.CueDuration=178]='CueDuration',t[t.CueBlockNumber=21368]='CueBlockNumber',t[t.CueCodecState=234]='CueCodecState',t[t.CueReference=219]='CueReference',t[t.CueRefTime=150]='CueRefTime'}(ye||(ye={})),function(t){t.SignedInteger='int',t.UnsignedInteger='uint',t.Float='float',t.String='string',t.UTF8='utf8',t.Date='date',t.Master='master',t.Binary='binary'}(Te||(Te={}));const Ee={[ye.EBML]:{type:Te.Master},[ye.EBMLVersion]:{type:Te.UnsignedInteger},[ye.EBMLReadVersion]:{type:Te.UnsignedInteger},[ye.EBMLMaxIDLength]:{type:Te.UnsignedInteger},[ye.EBMLMaxSizeLength]:{type:Te.UnsignedInteger},[ye.DocType]:{type:Te.String},[ye.DocTypeVersion]:{type:Te.UnsignedInteger},[ye.DocTypeReadVersion]:{type:Te.UnsignedInteger},[ye.Void]:{type:Te.Binary},[ye.Segment]:{type:Te.Master},[ye.SeekHead]:{type:Te.Master},[ye.Seek]:{type:Te.Master},[ye.SeekID]:{type:Te.Binary},[ye.SeekPosition]:{type:Te.UnsignedInteger},[ye.Info]:{type:Te.Master},[ye.TimestampScale]:{type:Te.UnsignedInteger},[ye.Duration]:{type:Te.Float},[ye.Tracks]:{type:Te.Master},[ye.Chapters]:{type:Te.Master},[ye.Cluster]:{type:Te.Master},[ye.Timestamp]:{type:Te.UnsignedInteger},[ye.SilentTracks]:{type:Te.Master},[ye.SilentTrackNumber]:{type:Te.UnsignedInteger},[ye.Position]:{type:Te.UnsignedInteger},[ye.PrevSize]:{type:Te.UnsignedInteger},[ye.SimpleBlock]:{type:Te.Binary},[ye.BlockGroup]:{type:Te.Master},[ye.EncryptedBlock]:{type:Te.Binary},[ye.Attachments]:{type:Te.Master},[ye.Tags]:{type:Te.Master},[ye.Cues]:{type:Te.Master},[ye.CuePoint]:{type:Te.Master},[ye.CueTime]:{type:Te.UnsignedInteger},[ye.CueTrackPositions]:{type:Te.Master},[ye.CueTrack]:{type:Te.UnsignedInteger},[ye.CueClusterPosition]:{type:Te.UnsignedInteger},[ye.CueRelativePosition]:{type:Te.UnsignedInteger},[ye.CueDuration]:{type:Te.UnsignedInteger},[ye.CueBlockNumber]:{type:Te.UnsignedInteger},[ye.CueCodecState]:{type:Te.UnsignedInteger},[ye.CueReference]:{type:Te.Master},[ye.CueRefTime]:{type:Te.UnsignedInteger}},$e=t=>{const e=t.getUint8(0);let i=0;128&e?i=1:64&e?i=2:32&e?i=3:16&e&&(i=4);const s=we(t,i),a=s in Ee,r=a?Ee[s].type:Te.Binary,n=t.getUint8(i);let o=0;128&n?o=1:64&n?o=2:32&n?o=3:16&n?o=4:8&n?o=5:4&n?o=6:2&n?o=7:1&n&&(o=8);const d=new DataView(t.buffer,t.byteOffset+i+1,o-1),h=((n&255>>o)<<8*(o-1))+we(d),u=i+o;let c;return c=u+h>t.byteLength?new DataView(t.buffer,t.byteOffset+u):new DataView(t.buffer,t.byteOffset+u,h),{tag:a?s:'0x'+s.toString(16).toUpperCase(),type:r,tagHeaderSize:u,tagSize:u+h,value:c,valueSize:h}},we=(t,e=t.byteLength)=>{switch(e){case 1:return t.getUint8(0);case 2:return t.getUint16(0);case 3:return t.getUint16(0)<<8|t.getUint8(2);case 4:return t.getUint32(0);case 5:return t.getUint32(0)<<8|t.getUint8(4);case 6:return t.getUint32(0)<<16|t.getUint16(4);case 7:return t.getUint32(0)<<32|t.getUint16(4)<<8|t.getUint8(6);case 8:return t.getUint32(0)<<32|t.getUint32(4)}return 0},ke=(t,e)=>{switch(e){case Te.SignedInteger:return t.getInt8(0);case Te.UnsignedInteger:return we(t);case Te.Float:return 4===t.byteLength?t.getFloat32(0):t.getFloat64(0);case Te.String:return new TextDecoder('ascii').decode(t);case Te.UTF8:return new TextDecoder('utf-8').decode(t);case Te.Date:return new Date(Date.UTC(2001,0)+t.getInt8(0)).getTime();case Te.Master:case Te.Binary:return t;default:n(e)}},Ae=(t,e)=>{let i=0;for(;i<t.byteLength;){const s=new DataView(t.buffer,t.byteOffset+i),a=$e(s);if(!e(a))return;a.type===Te.Master&&Ae(a.value,e),i=a.value.byteOffset-t.byteOffset+a.valueSize}},Pe=[ye.Info,ye.SeekHead,ye.Tracks,ye.Chapters,ye.Cluster,ye.Cues,ye.Attachments,ye.Tags],Re=[ye.Timestamp,ye.SilentTracks,ye.SilentTrackNumber,ye.Position,ye.PrevSize,ye.SimpleBlock,ye.BlockGroup,ye.EncryptedBlock],De={validateData:t=>{if(t.getUint32(0)!==ye.EBML)return!1;let e,i,s;const a=$e(t);return Ae(a.value,(({tag:t,type:a,value:r})=>(t===ye.EBMLReadVersion?e=ke(r,a):t===ye.DocType?i=ke(r,a):t===ye.DocTypeReadVersion&&(s=ke(r,a)),!0))),(void 0===e||e<=1)&&void 0!==i&&'webm'===i&&(void 0===s||s<=2)},parseInit:t=>{let e,i,s,a,r,n,o=!1,d=!1,h=!1;return Ae(t,(({tag:t,type:u,value:c,valueSize:l})=>{if(t===ye.SeekID){const t=ke(c,u);n=we(t)}else t!==ye.SeekPosition&&(n=void 0);return t===ye.Segment?(e=c.byteOffset,i=c.byteOffset+l):t===ye.Info?o=!0:t===ye.SeekHead?d=!0:t===ye.TimestampScale?s=ke(c,u):t===ye.Duration?a=ke(c,u):t===ye.SeekPosition&&n===ye.Cues?r=ke(c,u):o&&d&&Pe.includes(t)&&(h=!0),!h})),l(e,'Failed to parse webm Segment start'),l(i,'Failed to parse webm Segment end'),l(a,'Failed to parse webm Segment duration'),s=s??1e6,{segmentStart:Math.round(e/1e9*s*1e3),segmentEnd:Math.round(i/1e9*s*1e3),timeScale:s,segmentDuration:Math.round(a/1e9*s*1e3),cuesSeekPosition:r}},getIndexRange:t=>{if(a(t.cuesSeekPosition))return;const e=t.segmentStart+t.cuesSeekPosition;return{from:e,to:e+1048576}},parseSegments:(t,e)=>{let i=!1,a=!1;const r=t=>s(t.time)&&s(t.position),n=[];let o;return Ae(t,(({tag:t,type:e,value:s})=>{switch(t){case ye.Cues:i=!0;break;case ye.CuePoint:o&&r(o)&&n.push(o),o={};break;case ye.CueTime:o&&(o.time=ke(s,e));break;case ye.CueTrackPositions:break;case ye.CueClusterPosition:o&&(o.position=ke(s,e));break;default:i&&Pe.includes(t)&&(a=!0)}return!(i&&a)})),o&&r(o)&&n.push(o),n.map(((t,i)=>{const{time:s,position:a}=t,r=n[i+1];return{status:oe.NONE,time:{from:s,to:r?r.time:e.segmentDuration},byte:{from:e.segmentStart+a,to:r?e.segmentStart+r.position-1:e.segmentEnd-1}}}))},parseFeedableSegmentChunk:t=>{let e=0,i=!1;try{Ae(t,(s=>s.tag===ye.Cluster?s.tagSize<=t.byteLength?(e=s.tagSize,!1):(e+=s.tagHeaderSize,!0):!!Re.includes(s.tag)&&(e+s.tagSize<=t.byteLength&&(e+=s.tagSize,i||=[ye.SimpleBlock,ye.BlockGroup,ye.EncryptedBlock].includes(s.tag)),!0)))}catch(t){}return e>0&&e<=t.byteLength&&i?new DataView(t.buffer,t.byteOffset,e):null}};class _e{onLastSegment$=new t(!1);fullyBuffered$=new t(!1);playingRepresentation$=new t(void 0);error$=new e;gaps=[];subscription=new i;kind;container;containerParser;initData;representations;segments;allInitsLoaded=!1;activeSegments=new Set;mediaSource;playingRepresentationId;downloadingRepresentationId;switchingToRepresentationId;sourceBuffer;downloadAbortController=new it;destroyAbortController=new it;getCurrentPosition;tuning;forwardBufferTarget;fetcher;bufferLimit=1/0;sourceBufferTaskQueue;gapDetectionIdleCallback;initLoadIdleCallback;failedDownloads=0;constructor(t,e,i,s,{fetcher:a,tuning:r,getCurrentPosition:o}){switch(this.fetcher=a,this.tuning=r,this.forwardBufferTarget=r.dash.forwardBufferTargetAuto,this.getCurrentPosition=o,this.container=i,i){case de.MP4:this.containerParser=ve;break;case de.WEBM:this.containerParser=De;break;default:n(i)}this.initData=new Map(s.map((t=>[t.id,null]))),this.segments=new Map,this.representations=new Map(s.map((t=>[t.id,t]))),this.kind=t,this.mediaSource=e,this.sourceBuffer=null}startWith=T(this.destroyAbortController.signal,async function*(t){const e=this.representations.get(t);l(e,`Cannot find representation ${t}`),this.playingRepresentationId=t,this.downloadingRepresentationId=t,this.sourceBuffer=this.mediaSource.addSourceBuffer(`${e.mime}; codecs=\"${e.codecs}\"`),this.sourceBufferTaskQueue=new pe(this.sourceBuffer),this.subscription.add(r(this.sourceBuffer,'updateend').subscribe((()=>this.checkEjectedSegments()),(t=>this.error$.next({id:'SegmentEjection',message:'Error when trying to clear segments ejected by browser',thrown:t})))),this.subscription.add(r(this.sourceBuffer,'error').subscribe((()=>this.error$.next({id:'SourceBuffer',message:'SourceBuffer Error event fired'})))),this.subscription.add(this.sourceBufferTaskQueue.bufferFull$.subscribe((t=>this.pruneBuffer(t)))),this.subscription.add(this.sourceBufferTaskQueue.error$.subscribe((t=>this.error$.next(t)))),yield this.loadInit(e,'high',!0);const i=this.initData.get(e.id),a=this.segments.get(e.id);if(l(i,'No init buffer for starting representation'),l(a,'No segments for starting representation'),!(i instanceof ArrayBuffer))return;let n=0;for(const t of a)t.time.from-n>=300&&this.gaps.push({representation:e.id,from:n,to:t.time.from}),n=t.time.to;s(e.duration)&&e.duration-n>=300&&this.gaps.push({representation:e.id,from:n,to:e.duration}),yield this.sourceBufferTaskQueue.append(i,this.destroyAbortController.signal),this.playingRepresentation$.next(this.playingRepresentationId)}.bind(this));switchTo=T(this.destroyAbortController.signal,async function*(t){if(t===this.downloadingRepresentationId||t===this.switchingToRepresentationId)return;this.switchingToRepresentationId=t;const e=this.representations.get(t);l(e,`No such representation ${t}`);let i=this.initData.get(t);if(a(i)?yield this.loadInit(e,'high',!1):i instanceof Promise&&(yield i),i=this.initData.get(t),!(i&&i instanceof ArrayBuffer&&this.sourceBuffer))return;this.switchingToRepresentationId=void 0,this.downloadingRepresentationId=t,this.abort(),yield this.sourceBufferTaskQueue.append(i,this.downloadAbortController.signal);const r=this.getCurrentPosition();s(r)&&this.maintain(r)}.bind(this));abort(){for(const t of this.activeSegments)this.abortSegment(t.segment);this.activeSegments.clear(),this.downloadAbortController.abort(),this.downloadAbortController=new it,this.abortBuffer()}maintain(t){if(a(this.downloadingRepresentationId)||a(this.playingRepresentationId)||a(this.sourceBuffer))return;const e=this.representations.get(this.downloadingRepresentationId),i=this.segments.get(this.downloadingRepresentationId);if(l(e,`No such representation ${this.downloadingRepresentationId}`),!i)return;const s=i.find((e=>t>=e.time.from&&t<e.time.to));let r=t;if(this.playingRepresentationId!==this.downloadingRepresentationId){const e=100,i=Xt(this.sourceBuffer.buffered,t),a=s?s.time.to+e:-1/0;s&&i>=s.time.to-t+e&&(r=a)}let n=[];if(isFinite(this.bufferLimit)&&(t=>{let e=0;for(let i=0;i<t.length;i++)e+=t.end(i)-t.start(i);return 1e3*e})(this.sourceBuffer.buffered)>=.8*this.bufferLimit)this.pruneBuffer(1/0);else if(!this.activeSegments.size&&(n=this.selectForwardBufferSegments(i,e.segmentReference.type,r),n.length)){let t='auto';if(this.tuning.dash.useFetchPriorityHints&&s)if(n.includes(s))t='high';else{const e=n.at(0);e&&e.time.from-s.time.to>=this.forwardBufferTarget/2&&(t='low')}this.loadSegments(n,e,t)}!this.allInitsLoaded&&s&&s.status===oe.FED&&!n.length&&Xt(this.sourceBuffer.buffered,t)>3e3&&this.loadNextInit();const o=i.at(-1);o&&o.status===oe.FED&&(this.fullyBuffered$.next(!0),this.onLastSegment$.next(s===o))}findSegmentStartTime(t){const e=this.switchingToRepresentationId??this.downloadingRepresentationId??this.playingRepresentationId;if(!e)return;const i=this.segments.get(e);if(!i)return;return i.find((e=>e.time.from<=t&&e.time.to>=t))?.time.from??void 0}setTarget(t){this.forwardBufferTarget=t}destroy(){this.initData.clear(),this.segments.clear(),this.representations.clear(),this.sourceBufferTaskQueue?.destroy(),this.gapDetectionIdleCallback&&window.cancelIdleCallback&&window.cancelIdleCallback(this.gapDetectionIdleCallback),this.initLoadIdleCallback&&window.cancelIdleCallback&&window.cancelIdleCallback(this.initLoadIdleCallback),this.subscription.unsubscribe(),this.sourceBuffer&&'open'===this.mediaSource.readyState&&(this.abortBuffer(),this.mediaSource.removeSourceBuffer(this.sourceBuffer)),this.sourceBuffer=null,this.downloadAbortController.abort(),this.destroyAbortController.abort()}selectForwardBufferSegments(t,e,i){const s=t.findIndex((({status:t,time:{from:e,to:s}})=>t===oe.NONE&&(e>i||e<=i&&s>=i)&&s<=i+this.forwardBufferTarget));if(-1===s)return[];if(e!==ne.BYTE_RANGE)return t.slice(s,s+1);const a=t;let r=0;const n=[];for(let t=s;t<a.length&&r<=this.tuning.dash.segmentRequestSize;t++){const e=a[t];if(r+=e.byte.to+1-e.byte.from,e.status!==oe.NONE)break;n.push(e)}return n}async loadSegments(t,e,i='auto'){if(!t.length)return;let s,a,r=t;const{type:o}=e.segmentReference;switch(o){case ne.BYTE_RANGE:s=e.segmentReference.url,a={from:t.at(0).byte.from,to:t.at(-1).byte.to};break;case ne.TEMPLATE:{const i=t.at(0);s=new URL(i.url,e.segmentReference.baseUrl).toString(),r=[i];break}default:n(o)}for(const t of r)t.status=oe.DOWNLOADING,this.activeSegments.add({segment:t,loadedBytes:0,fedBytes:0,representationId:e.id});const{signal:d}=this.downloadAbortController;if(this.failedDownloads&&(await T(d,async function*(){const t=E(this.failedDownloads,this.tuning.downloadBackoff);yield new Promise((e=>setTimeout(e,t)))}.bind(this))(),d.aborted))for(const e of this.activeSegments)t.includes(e.segment)&&this.abortSegment(e.segment);this.fetcher.fetch(s,{rangeMethod:me.PARAM,range:a,onProgress:(t,i)=>{if(!d.aborted)try{this.onSomeDataLoaded(t,e.id,a?a.from:0,i,d)}catch(t){this.error$.next({id:'SegmentFeeding',message:'Error when feeding segments',thrown:t})}},signal:d,priority:i}).then((()=>this.failedDownloads=0),(e=>{for(const e of this.activeSegments)t.includes(e.segment)&&this.abortSegment(e.segment);this.onSegmentDownloadError(e)}))}onSegmentDownloadError(t){let e=!1;const i=this.getCurrentPosition();if(this.sourceBuffer&&s(i)){e=Xt(this.sourceBuffer?.buffered,i)>=this.tuning.downloadBackoff.bufferThreshold}this.failedDownloads++,e||this.error$.next({id:'SegmentDownload',message:'Error when fetching segments',thrown:t})}onSomeDataLoaded(t,e,i,s,a){if(!this.activeSegments.size)return;const r=t=>{this.abortSegment(t.segment)},n=t=>{this.playingRepresentationId=e,this.playingRepresentation$.next(this.playingRepresentationId),t.segment.status=oe.FED,'size'in t.segment&&(t.segment.size=t.fedBytes);for(const i of this.representations.values())if(i.id!==e)for(const e of this.segments.get(i.id)??[])e.status===oe.FED&&e.time.from===t.segment.time.from&&e.time.to===t.segment.time.to&&(e.status=oe.NONE);this.activeSegments.delete(t),this.detectGapsWhenIdle(e,[t.segment])},o=this.representations.get(e);if(!o)return;const d=o.segmentReference.type,h=t.byteLength;for(const o of this.activeSegments){const{segment:u}=o,c=d===ne.BYTE_RANGE,l=c?u.byte.to-u.byte.from+1:h;if(o.representationId!==e)continue;if(!(!c||u.byte.from>=i&&u.byte.to<i+t.byteLength))continue;if(a.aborted){r(o);continue}const p=c?u.byte.from-i:0,m=p<s,f=(c?u.byte.to-i:t.byteLength)<=s;if(u.status===oe.DOWNLOADING&&m&&f){u.status=oe.DOWNLOADED,this.activeSegments.delete(o);const e=new DataView(t.buffer,t.byteOffset+p,l);this.sourceBufferTaskQueue.append(e,a).then((t=>t&&!a.aborted?n(o):r(o)))}else if(this.tuning.dash.enableSubSegmentBufferFeeding&&m&&(o.loadedBytes=Math.min(l,s-p),o.loadedBytes>o.fedBytes)){const e=new DataView(t.buffer,t.byteOffset+p+o.fedBytes,o.loadedBytes-o.fedBytes),i=o.loadedBytes===l?e:this.containerParser.parseFeedableSegmentChunk(e);i?.byteLength&&(u.status=oe.PARTIALLY_FED,o.fedBytes+=i.byteLength,this.sourceBufferTaskQueue.append(i,a).then((t=>{!t||a.aborted?r(o):o.fedBytes===l&&n(o)})))}}}abortSegment(t){t.status===oe.PARTIALLY_FED?(this.sourceBufferTaskQueue.remove(t.time.from,t.time.to).then((()=>t.status=oe.NONE)),t.status=oe.NONE):t.status=oe.NONE;for(const e of this.activeSegments.values())if(e.segment===t){this.activeSegments.delete(e);break}}loadNextInit(){if(this.allInitsLoaded||this.initLoadIdleCallback)return;let t=null,e=!1;for(const[i,s]of this.initData.entries()){const a=s instanceof Promise;e||=a,null===s&&(t=i)}if(!t)return void(this.allInitsLoaded=!0);if(e)return;const i=this.representations.get(t);i&&(this.initLoadIdleCallback=ue((()=>this.loadInit(i,'low',!1).finally((()=>this.initLoadIdleCallback=null)))))}async loadInit(t,e='auto',i=!1){const s=this.tuning.dash.useFetchPriorityHints?e:'auto',a=(!i&&this.failedDownloads>0?T(this.destroyAbortController.signal,async function*(){const t=E(this.failedDownloads,this.tuning.downloadBackoff);yield new Promise((e=>setTimeout(e,t)))}.bind(this))():Promise.resolve()).then((()=>this.fetcher.fetchRepresentation(t.segmentReference,this.containerParser,s))).then((e=>{if(!e)return;const{dataView:i,segments:s}=e,a=i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength);this.initData.set(t.id,a),this.segments.set(t.id,s)})).then((()=>this.failedDownloads=0),(e=>{this.initData.set(t.id,null),i&&this.error$.next({id:'LoadInits',message:'loadInit threw',thrown:e})}));return this.initData.set(t.id,a),a}async pruneBuffer(t){const e=this.getCurrentPosition();if(!this.sourceBuffer||!this.playingRepresentationId||a(e))return!1;if(this.sourceBuffer.updating)return!1;const i=this.segments.get(this.playingRepresentationId);if(!i)return!1;let s=0,r=1/0,n=-1/0,o=!1;const d=t=>{r=Math.min(r,t.time.from),n=Math.max(n,t.time.to);const e='size'in t?t.size??0:t.byte.to-t.byte.from;s+=e};for(const a of i){if(a.time.to>=e||s>=t)break;a.status===oe.FED&&d(a)}if(o=isFinite(r)&&isFinite(n),!o){s=0,r=1/0,n=-1/0;for(const a of i){if(a.time.from<e+this.forwardBufferTarget||s>t)break;a.status===oe.FED&&d(a)}}return o=isFinite(r)&&isFinite(n),!!o&&this.sourceBufferTaskQueue.remove(r/1e3,n/1e3)}abortBuffer(){if(!this.sourceBuffer||'open'!==this.mediaSource.readyState)return;const t=this.playingRepresentationId&&this.initData.get(this.playingRepresentationId),e=t instanceof ArrayBuffer?t:void 0;this.sourceBufferTaskQueue.abort(e)}detectGaps(t,e){if(this.sourceBuffer)for(const i of e){let e={representation:t,from:i.time.from,to:i.time.to};for(let t=0;t<this.sourceBuffer.buffered.length;t++){const s=1e3*this.sourceBuffer.buffered.start(t),a=1e3*this.sourceBuffer.buffered.end(t);if(!(a<=i.time.from||s>=i.time.to)){if(s<=i.time.from&&a>=i.time.to){e=void 0;break}a>i.time.from&&a<i.time.to&&(e.from=a),s<i.time.to&&s>i.time.from&&(e.to=s)}}e&&e.to-e.from>=1&&this.gaps.push(e)}}detectGapsWhenIdle(t,e){this.gapDetectionIdleCallback||(this.gapDetectionIdleCallback=ue((()=>{try{this.detectGaps(t,e)}catch(t){this.error$.next({id:'GapDetection',message:'detectGaps threw',thrown:t})}finally{this.gapDetectionIdleCallback=null}})))}checkEjectedSegments(){if(a(this.sourceBuffer)||a(this.playingRepresentationId))return;const t=[];for(let e=0;e<this.sourceBuffer.buffered.length;e++){const i=1e3*this.sourceBuffer.buffered.start(e),s=1e3*this.sourceBuffer.buffered.end(e);t.push({from:i,to:s})}const e=this.tuning.dash.segmentTimelineTolerance;for(const i of this.segments.values())for(const s of i){const i=t.some((t=>t.from-e<=s.time.from&&t.to+e>=s.time.to));s.status!==oe.FED||i||(s.status=oe.NONE)}}}const Ce=t=>{if(!t.startsWith('P'))return;const e=(t,e)=>{const i=t?parseFloat(t.replace(',','.')):NaN;return(isNaN(i)?0:i)*e},i=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/.exec(t),s='-'===i?.[1]?-1:1;return 24*e(i?.[5],s)*60*60*1e3+60*e(i?.[6],s)*60*1e3+60*e(i?.[7],s)*1e3+1e3*e(i?.[8],s)},Ie=(t,e)=>{let i=t;i=i.replaceAll('$$','$');const s={RepresentationID:e.representationId,Number:e.segmentNumber,Bandwidth:e.bandwidth,Time:e.segmentTime};for(const[t,e]of Object.entries(s)){const s=new RegExp(`\\\\$${t}(?:%0(\\\\d+)d)?\\\\$`,'g');i=i.replaceAll(s,((t,i)=>a(e)?t:a(i)?e:e.padStart(parseInt(i,10),'0')))}return i},Le=['timeupdate','progress','play','seeked','stalled'];var xe,Ne;!function(t){t.NONE='none',t.MANIFEST_LOADED='manifest_loaded',t.REPRESENTATION_SELECTED='representation_selected'}(xe||(xe={}));class Be{element=null;source=null;manifest=null;tuning;videoBufferManager;audioBufferManager;bufferManagers;throughputEstimator;subscription=new i;fetcher;state$=new z(xe.NONE);currentVideoRepresentation$=new t(void 0);error$=new e;lastConnectionType$=new t(void 0);lastConnectionReused$=new t(void 0);lastRequestFirstBytes$=new t(void 0);forceEnded$=new e;gapWatchdogStarted=!1;gapWatchdogSubscription;destroyController=new it;constructor(t){this.throughputEstimator=t.throughputEstimator,this.tuning=t.tuning,this.fetcher=new fe({throughputEstimator:this.throughputEstimator,requestQuic:this.tuning.requestQuick})}initManifest=T(this.destroyController.signal,async function*(t,e){this.element=t,this.state$.startTransitionTo(xe.MANIFEST_LOADED);const i=yield this.fetcher.fetchManifest(e).catch((t=>this.error$.next({id:'LoadManifest',message:'Failed to load manifest',thrown:t})));if(!i)return null;let a;try{a=((t,e)=>{const i={video:[],audio:[],text:[]},a=(new DOMParser).parseFromString(t,'application/xml').children[0],r=a.getElementsByTagName('Period')[0],n=r.children;let o;const d=a.getAttribute('mediaPresentationDuration'),h=r.getAttribute('duration');if(d)o=Ce(d);else if(h){const t=Ce(h);s(t)&&(o=t)}let u=0;const c=a.getAttribute('profiles')?.split(',')??[],l=c.includes(re.WEBM_AS_IN_FFMPEG)||c.includes(re.WEBM_AS_IN_SPEC)?de.WEBM:de.MP4;for(const t of n){const s=t.getAttribute('mimeType'),a=t.getAttribute('codecs'),r=t.getAttribute('contentType')??s?.split('/')[0],n=t.getAttribute('profiles')?.split(',')??[],d=t.querySelectorAll('Representation');if('text'!==r)for(const h of d){const d=h.getAttribute('mimeType')??s,l=h.getAttribute('codecs')??a??'',p=h.getAttribute('contentType')??d?.split('/')[0]??r,m=t.getAttribute('profiles')?.split(',')??[],f=parseInt(h.getAttribute('width')??'',10),g=parseInt(h.getAttribute('height')??'',10),S=parseInt(h.getAttribute('bandwidth')??'',10)/1e3,b=h.getAttribute('frameRate')??'',v=h.getAttribute('quality')??void 0,y=b?Et(b):void 0,T=`${h.getAttribute('id')??(u++).toString(10)}@${'video'===p?`${g}p`:'audio'===p?`${S}Kbps`:l}`,E=h.querySelector('BaseURL')?.textContent?.trim()??'',$=new URL(E,e).toString(),w=[...c,...n,...m];let k;const A=h.querySelector('SegmentBase'),P=h.querySelector('SegmentTemplate');if(A){const t=h.querySelector('SegmentBase Initialization')?.getAttribute('range')??'',[e,i]=t.split('-').map((t=>parseInt(t,10))),s={from:e,to:i},a=h.querySelector('SegmentBase')?.getAttribute('indexRange'),[r,n]=a?a.split('-').map((t=>parseInt(t,10))):[],o=a?{from:r,to:n}:void 0;k={type:ne.BYTE_RANGE,url:$,initRange:s,indexRange:o}}else{if(!P)throw new ReferenceError('Unknown MPD segment referencing type');{const t={representationId:h.getAttribute('id')??void 0,bandwidth:h.getAttribute('bandwidth')??void 0},e=parseInt(P.getAttribute('timescale')??'',10),i=P.getAttribute('initialization')??'',s=P.getAttribute('media'),a=parseInt(P.getAttribute('startNumber')??'',10)??1,r=Ie(i,t);if(!s)throw new ReferenceError('No media attribute in SegmentTemplate');const n=P.querySelectorAll('SegmentTimeline S')??[],o=[];let d=a,u=0;for(const i of n){const a=1e3*parseInt(i.getAttribute('d')??'',10),r=parseInt(i.getAttribute('r')??'',10)||0,n=parseInt(i.getAttribute('t')??'',10)??void 0;for(let i=0;i<r+1;i++){const i=Ie(s,{...t,segmentNumber:d.toString(10),segmentTime:n.toString(10)}),r=n?n/e:u;u+=a/e;const h=u;d++,o.push({time:{from:r,to:h},url:i})}}k={type:ne.TEMPLATE,baseUrl:$,initUrl:r,segments:o}}}if(!p||!d)continue;const R={video:ae.VIDEO,audio:ae.AUDIO,text:ae.TEXT}[p];R&&i[R].push({id:T,kind:R,segmentReference:k,profiles:w,duration:o,bitrate:S,mime:d,codecs:l,width:f,height:g,fps:y,quality:v})}}return{duration:o,container:l,representations:i}})(i??'',e)}catch(t){this.error$.next({id:'ManifestParsing',message:'Failed to parse MPD manifest',thrown:t})}if(!a)return null;const r=({mime:e,codecs:i})=>Boolean(t.canPlayType?.(e)&&window.MediaSource?.isTypeSupported?.(`${e}; codecs=\"${i}\"`));return this.manifest={...a,representations:Object.fromEntries(Object.entries(a.representations).map((([t,e])=>[t,e.filter(r)])))},this.manifest.representations.video.length?this.state$.setState(xe.MANIFEST_LOADED):this.error$.next({id:'NoRepresentations',message:'No playable video representations'}),this.manifest}.bind(this));initRepresentations=T(this.destroyController.signal,async function*(t,e){l(this.manifest),l(this.element),this.state$.startTransitionTo(xe.REPRESENTATION_SELECTED),this.source=new MediaSource,this.element.src=URL.createObjectURL(this.source);const i={fetcher:this.fetcher,tuning:this.tuning,getCurrentPosition:()=>this.element?1e3*this.element.currentTime:void 0};this.videoBufferManager=new _e(ae.VIDEO,this.source,this.manifest.container,this.manifest.representations.video,i),this.bufferManagers=[this.videoBufferManager],s(e)&&(this.audioBufferManager=new _e(ae.AUDIO,this.source,this.manifest.container,this.manifest.representations.audio,i),this.bufferManagers.push(this.audioBufferManager)),this.subscription.add(this.fetcher.lastConnectionType$.subscribe(this.lastConnectionType$)),this.subscription.add(this.fetcher.lastConnectionReused$.subscribe(this.lastConnectionReused$)),this.subscription.add(this.fetcher.lastRequestFirstBytes$.subscribe(this.lastRequestFirstBytes$));const a=o(...this.bufferManagers.map((t=>t.fullyBuffered$))).pipe(h((()=>this.bufferManagers.every((t=>t.fullyBuffered$.getValue()))))),n=o(...this.bufferManagers.map((t=>t.onLastSegment$))).pipe(h((()=>this.bufferManagers.some((t=>t.onLastSegment$.getValue())))));this.subscription.add(o(this.forceEnded$,y({allBuffersFull:a,someBufferEnded:n}).pipe(f((({allBuffersFull:t,someBufferEnded:e})=>t&&e)))).subscribe((()=>{if(this.source&&'open'===this.source.readyState&&Array.from(this.source.sourceBuffers).every((t=>!t.updating)))try{this.source?.endOfStream()}catch(t){this.error$.next({id:'EndOfStream',message:'Failed to end MediaSource stream',thrown:t})}}))),this.subscription.add(o(...this.bufferManagers.map((t=>t.error$))).subscribe(this.error$)),this.subscription.add(this.videoBufferManager.playingRepresentation$.subscribe(this.currentVideoRepresentation$)),'open'!==this.source.readyState&&(yield new Promise((t=>this.source?.addEventListener('sourceopen',t)))),s(this.manifest.duration)&&(this.source.duration=this.manifest.duration/1e3),this.audioBufferManager&&s(e)?yield Promise.all([this.videoBufferManager.startWith(t),this.audioBufferManager.startWith(e)]):yield this.videoBufferManager.startWith(t),this.state$.setState(xe.REPRESENTATION_SELECTED),l(this.element),this.subscription.add(o(...Le.map((t=>r(this.element,t))),r(window,'online')).subscribe(this.tick,(t=>{this.error$.next({id:'DashVKPlayer',message:'Internal logic error',thrown:t})}))),this.subscription.add(r(this.element,'progress').subscribe((()=>{this.element&&2===this.element.readyState&&!this.element.seeking&&(this.element.currentTime=this.element.currentTime)}))),this.subscription.add(r(this.element,'waiting').subscribe((()=>{this.element&&2===this.element.readyState&&!this.element.seeking&&he(this.element.buffered,1e3*this.element.currentTime)&&(this.element.currentTime=this.element.currentTime)}))),this.tick()}.bind(this));async switchRepresentation(t,e){return{[ae.VIDEO]:this.videoBufferManager,[ae.AUDIO]:this.audioBufferManager,[ae.TEXT]:null}[t]?.switchTo(e)}seek(t,e){let i;l(this.element),l(this.videoBufferManager),i=e||1e3*this.element.duration<=this.tuning.dashSeekInSegmentDurationThreshold||Math.abs(1e3*this.element.currentTime-t)<=this.tuning.dashSeekInSegmentAlwaysSeekDelta?t:Math.max(this.videoBufferManager.findSegmentStartTime(t)??t,this.audioBufferManager?.findSegmentStartTime(t)??t),he(this.element.buffered,i)||(this.videoBufferManager.abort(),this.audioBufferManager?.abort()),this.videoBufferManager.maintain(i),this.audioBufferManager?.maintain(i),this.element.currentTime=i/1e3}stop(){this.element=null,this.source=null,this.manifest=null,this.currentVideoRepresentation$.next(void 0),this.videoBufferManager?.destroy(),this.videoBufferManager=null,this.audioBufferManager?.destroy(),this.audioBufferManager=null,this.bufferManagers=[],this.state$.setState(xe.NONE)}setBufferTarget(t){for(const e of this.bufferManagers)e.setTarget(t)}destroy(){this.subscription.unsubscribe(),this.destroyController.abort(),this.fetcher.destroy(),this.stop(),this.source=null}tick=()=>{if(!this.element||!this.videoBufferManager)return;const t=1e3*this.element.currentTime;this.videoBufferManager.maintain(t),this.audioBufferManager?.maintain(t),!this.videoBufferManager.gaps.length&&!this.audioBufferManager?.gaps.length||this.gapWatchdogStarted||(this.gapWatchdogStarted=!0,this.gapWatchdogSubscription=$(this.tuning.gapWatchdogInterval).subscribe((()=>this.jumGap()),(t=>{this.error$.next({id:'GapWatchdog',message:'Error handling gaps',thrown:t})})),this.subscription.add(this.gapWatchdogSubscription))};jumGap(){if(!this.element||!this.videoBufferManager)return;const t=1e3*this.element.currentTime,e=1===this.element.readyState?this.tuning.endGapTolerance:0;for(const i of this.bufferManagers)for(const s of i.gaps)if(i.playingRepresentation$.getValue()===s.representation&&s.from-e<=t&&s.to+e>t){if(1e3*this.element.duration-s.to<this.tuning.endGapTolerance)return this.forceEnded$.next(),this.gapWatchdogSubscription.unsubscribe(),void(this.gapWatchdogStarted=!1);this.element.currentTime=s.to/1e3;break}}}!function(t){t.STOPPED='stopped',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(Ne||(Ne={}));const Me=({id:t,width:e,height:i,bitrate:s,fps:a,quality:r})=>{const n=(r?Mt(r):void 0)??G({width:e,height:i});return n&&{id:t,quality:n,bitrate:s,size:{width:e,height:i},fps:a}},Oe=(t,e,i)=>{const s=e.indexOf(i);return t.at(Math.round(t.length*s/e.length))??t.at(-1)};class Ue{subscription=new i;videoState=new z(Ne.STOPPED);video;player;params;elementSize$=new t(void 0);textTracksManager=new gt;videoTracks=[];audioRepresentations=new Map;videoTrackSwitchHistory=new Dt;constructor(t){this.params=t,this.video=St(this.params.container),this.params.output.element$.next(this.video),this.params.output.availableVideoTracks$.next([]),this.params.output.hostname$.next(Ct(this.params.source.url)),this.params.output.isLive$.next(!1),this.params.output.autoVideoTrackLimitingAvailable$.next(!0),this.player=new Be({throughputEstimator:this.params.dependencies.throughputEstimator,tuning:this.params.tuning}),this.subscribe()}subscribe(){const{output:t,desiredState:e}=this.params,i=Tt(this.video),a=e=>{t.error$.next({id:'DashVKProvider',message:'DashVKProvider internal logic error',thrown:e})},n=(t,e)=>this.subscription.add(t.subscribe(e,a));n(i.timeUpdate$,t.position$),n(i.durationChange$,t.duration$),n(i.ended$,t.endedEvent$),n(i.looped$,t.loopedEvent$),n(i.error$,t.error$),n(i.isBuffering$,t.isBuffering$),n(i.currentBuffer$,t.currentBuffer$),n(i.playing$,t.firstFrameEvent$),n(i.canplay$,t.canplay$),n(this.player.error$,t.error$),n(this.player.lastConnectionType$,t.httpConnectionType$),n(this.player.lastConnectionReused$,t.httpConnectionReused$),n(this.player.lastRequestFirstBytes$.pipe(f(s),v(),g(void 0)),t.firstBytesEvent$),this.subscription.add(i.seeked$.subscribe(t.seekedEvent$,a)),this.subscription.add(lt(this.video,e.isLooped,a)),this.subscription.add(pt(this.video,e.volume,i.volumeState$,a)),this.subscription.add(i.volumeState$.subscribe(this.params.output.volume$,a)),this.subscription.add(mt(this.video,e.playbackRate,i.playbackRateState$,a)),n(It(this.video),this.elementSize$),this.subscription.add(i.playing$.subscribe((()=>{this.videoState.setState(Ne.PLAYING),U(e.playbackState,P.PLAYING)}),a)).add(i.pause$.subscribe((()=>{this.videoState.setState(Ne.PAUSED),U(e.playbackState,P.PAUSED)}),a)).add(i.canplay$.subscribe((()=>{this.videoState.getState()===Ne.PLAYING&&this.playIfAllowed()}),a)),this.subscription.add(this.player.state$.stateChangeEnded$.pipe(f((({to:t})=>t===xe.REPRESENTATION_SELECTED))).subscribe((()=>{this.videoState.setState(Ne.READY)})));const d=e=>t.error$.next({id:'RepresentationSwitch',message:'Switching representations threw',thrown:e});this.subscription.add(o(this.player.state$.stateChangeEnded$,e.videoTrack.stateChangeStarted$,e.autoVideoTrackSwitching.transitionStarted$,this.params.dependencies.throughputEstimator.rttAdjustedThroughput$,e.autoVideoTrackLimits.stateChangeEnded$,this.elementSize$,r(this.video,'progress')).subscribe((()=>{const i=this.player.state$.getState(),s=this.player.state$.getTransition();if(i===xe.NONE||!this.videoTracks.length)return;const a=i===xe.MANIFEST_LOADED&&!s,r=i===xe.REPRESENTATION_SELECTED&&!s,n=e.autoVideoTrackSwitching.getState(),o=e.videoTrack.getState(),h=this.videoTracks.find((({track:{id:t}})=>t===o))?.track,u=t.currentVideoTrack$.getValue(),c=Xt(this.video.buffered,1e3*this.video.currentTime),p=n?this.params.tuning.dash.forwardBufferTargetAuto:this.params.tuning.dash.forwardBufferTargetManual,m=Math.min(c/Math.min(p,(1e3*this.video.duration||1/0)-1e3*this.video.currentTime),1),f=Math.max(h&&!n?this.audioRepresentations.get(h.id)?.bitrate??0:0,u?this.audioRepresentations.get(u.id)?.bitrate??0:0),g=_t(this.videoTracks.map((({track:t})=>t)),{container:this.elementSize$.getValue(),throughput:this.params.dependencies.throughputEstimator.rttAdjustedThroughput$.getValue(),tuning:this.params.tuning.autoTrackSelection,limits:e.autoVideoTrackLimits.getState(),reserve:f,forwardBufferHealth:m,current:u,history:this.videoTrackSwitchHistory,playbackRate:this.video.playbackRate}),S=n?g??h:h??g;if(e.autoVideoTrackSwitching.getTransition()&&(e.autoVideoTrackSwitching.setState(n),this.player.setBufferTarget(p)),a){const t=S&&this.videoTracks.find((({track:t})=>t===S))?.representation;l(t),this.player.initRepresentations(t.id,this.audioRepresentations.get(t.id)?.id)}else if(r){const t=S&&this.videoTracks.find((({track:t})=>t===S))?.representation;if(t){const e=this.audioRepresentations.get(t.id);this.player.switchRepresentation(ae.VIDEO,t.id).catch(d),e&&this.player.switchRepresentation(ae.AUDIO,e.id).catch(d)}}}),a)),this.subscription.add(this.player.currentVideoRepresentation$.pipe(c(),h((t=>t&&this.videoTracks.find((({representation:{id:e}})=>e===t))?.track))).subscribe(t.currentVideoTrack$,a)),this.textTracksManager.connect(this.video,e,t);const m=o(e.playbackState.stateChangeStarted$,e.videoTrack.stateChangeStarted$,e.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0));this.subscription.add(m.subscribe(this.syncPlayback,a))}async prepare(){const t=await this.player.initManifest(this.video,this.params.source.url);if(!t)return;this.videoTracks=[];const e=Array.from(t.representations.audio).sort(((t,e)=>e.bitrate-t.bitrate)),i=Array.from(t.representations.video).sort(((t,e)=>e.bitrate-t.bitrate));for(const t of i){const s=Me(t);if(s){this.videoTracks.push({track:s,representation:t});const a=Oe(e,i,t);a&&this.audioRepresentations.set(t.id,a)}}this.params.output.availableVideoTracks$.next(this.videoTracks.map((({track:t})=>t)))}seek(t,e){this.params.output.willSeekEvent$.next(),this.player.seek(t,e)}syncPlayback=()=>{const t=this.videoState.getState(),e=this.params.desiredState.playbackState.getState(),i=this.params.desiredState.playbackState.getTransition(),s=this.params.desiredState.seekState.getState();if(!this.videoState.getTransition())if(s.state===L.Requested&&i?.to!==P.PAUSED&&t!==Ne.STOPPED&&e!==P.STOPPED&&this.seek(s.position,s.forcePrecise),e!==P.STOPPED){if(t===Ne.STOPPED)return this.videoState.startTransitionTo(Ne.READY),void this.prepare();switch(t){case Ne.READY:return void(e===P.PAUSED?(this.videoState.setState(Ne.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED)):e===P.PLAYING&&(this.videoState.startTransitionTo(Ne.PLAYING),this.playIfAllowed()));case Ne.PLAYING:return void(e===P.PAUSED?(this.videoState.startTransitionTo(Ne.PAUSED),this.video.pause()):i?.to===P.PLAYING&&U(this.params.desiredState.playbackState,P.PLAYING));case Ne.PAUSED:return void(e===P.PLAYING?(this.videoState.startTransitionTo(Ne.PLAYING),this.playIfAllowed()):i?.to===P.PAUSED&&U(this.params.desiredState.playbackState,P.PAUSED));default:return n(t)}}else t!==Ne.STOPPED&&(this.videoState.startTransitionTo(Ne.STOPPED),this.player.stop(),this.video.setAttribute('src',''),this.video.load(),this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.videoState.setState(Ne.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0))};destroy(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0),this.player.destroy()}playIfAllowed(){Ot(this.video).then((t=>{t||(this.videoState.setState(Ne.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED,!0))}))}}const Ve={};var qe;!function(t){t.INITIALIZING='initializing',t.STOPPED='stopped',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(qe||(qe={}));const Fe=(t,e)=>new b((i=>{const s=(t,e)=>i.next(e);return t.on(e,s),()=>t.off(e,s)}));class He{subscription=new i;videoState=new z(qe.INITIALIZING);video;params;hls;textTracksManager=new gt;trackLevels=new Map;constructor(t){this.video=St(t.container),this.params=t,this.params.output.element$.next(this.video),this.params.output.isLive$.next(!1),this.params.output.hostname$.next(Ct(this.params.source.url)),this.loadHlsJs()}destroy(){this.subscription.unsubscribe(),this.trackLevels.clear(),this.textTracksManager.destroy(),this.hls?.detachMedia(),this.hls?.destroy(),this.video.remove(),this.params.output.element$.next(void 0)}loadHlsJs(){let t=!1;const e=e=>{t||this.params.output.error$.next({id:'timeout'===e?'HlsJsTimeout':'HlsJsLoadError',message:'Failed to load Hls.js',thrown:e}),t=!0},i=window.setTimeout((()=>e('timeout')),5e3);import('hls.js').then((e=>{t||(Ve.Hls=e.default,Ve.Events=e.default.Events,this.init())}),e).finally((()=>{window.clearTimeout(i),t=!0}))}init(){l(Ve.Hls,'hls.js not loaded'),this.hls=new Ve.Hls({fragLoadingMaxRetry:5,levelLoadingMaxRetry:2,manifestLoadingMaxRetry:2,fragLoadingMaxRetryTimeout:16e3,manifestLoadingMaxRetryTimeout:2e3,levelLoadingMaxRetryTimeout:2e3}),this.subscribe(),this.videoState.setState(qe.STOPPED)}subscribe(){l(Ve.Events,'hls.js not loaded');const{desiredState:t,output:e}=this.params,i=t=>{e.error$.next({id:'HlsJsProvider',message:'HlsJsProvider internal logic error',thrown:t})},r=Tt(this.video),n=(t,e)=>this.subscription.add(t.subscribe(e,i));n(r.timeUpdate$,e.position$),n(r.durationChange$,e.duration$),n(r.ended$,e.endedEvent$),n(r.looped$,e.loopedEvent$),n(r.error$,e.error$),n(r.isBuffering$,e.isBuffering$),n(r.currentBuffer$,e.currentBuffer$),n(r.loadStart$,e.firstBytesEvent$),n(r.playing$,e.firstFrameEvent$),n(r.canplay$,e.canplay$),n(r.seeked$,e.seekedEvent$),this.subscription.add(lt(this.video,t.isLooped,i)),this.subscription.add(pt(this.video,t.volume,r.volumeState$,i)),this.subscription.add(r.volumeState$.subscribe(this.params.output.volume$)),this.subscription.add(mt(this.video,t.playbackRate,r.playbackRateState$,i)),this.subscription.add(Fe(this.hls,Ve.Events.ERROR).subscribe((t=>{t.fatal&&e.error$.next({id:['HlsJsFatal',t.type,t.details].join('_'),message:`HlsJs fatal ${t.type} ${t.details}, ${t.err?.message} ${t.reason}`,thrown:t.error})}))),this.subscription.add(r.playing$.subscribe((()=>{this.videoState.setState(qe.PLAYING),U(t.playbackState,P.PLAYING)}),i)).add(r.pause$.subscribe((()=>{this.videoState.setState(qe.PAUSED),U(t.playbackState,P.PAUSED)}),i)).add(r.canplay$.subscribe((()=>{this.videoState.getTransition()?.to===qe.READY&&this.videoState.setState(qe.READY),this.videoState.getState()===qe.PLAYING&&this.playIfAllowed()}),i)),n(Fe(this.hls,Ve.Events.MANIFEST_PARSED).pipe(h((({levels:t})=>t.reduce(((t,e)=>{const i=e.name||e.height.toString(10),{width:s,height:a}=e,r=Mt(e.attrs.QUALITY??'')??G({width:s,height:a});if(!r)return t;const n=e.attrs['FRAME-RATE']?parseFloat(e.attrs['FRAME-RATE']):void 0,o={id:i.toString(),quality:r,bitrate:e.bitrate/1e3,size:{width:s,height:a},fps:n};return this.trackLevels.set(i,{track:o,level:e}),t.push(o),t}),[])))),e.availableVideoTracks$),n(Fe(this.hls,Ve.Events.LEVEL_LOADING).pipe(h((({url:t})=>Ct(t)))),e.hostname$),this.subscription.add(ct(t.autoVideoTrackSwitching,(()=>this.hls.autoLevelEnabled),(t=>{this.hls.nextLevel=t?-1:this.hls.currentLevel,this.hls.loadLevel=t?-1:this.hls.loadLevel}),{onError:i}));const d=t=>Array.from(this.trackLevels.values()).find((({level:e})=>e===t))?.track,c=Fe(this.hls,Ve.Events.LEVEL_SWITCHED).pipe(h((({level:t})=>d(this.hls.levels[t]))));c.pipe(f(s)).subscribe(e.currentVideoTrack$,i),this.subscription.add(ct(t.videoTrack,(()=>d(this.hls.levels[this.hls.currentLevel])?.id),(t=>{if(a(t))return;const e=this.trackLevels.get(t)?.level;if(!e)return;const i=this.hls.levels.indexOf(e),s=this.hls.currentLevel,r=this.hls.levels[s];!r||e.bitrate>r.bitrate?this.hls.nextLevel=i:(this.hls.loadLevel=i,this.hls.loadLevel=i)}),{changed$:c.pipe(h((t=>t?.id))),onError:i})),n(r.progress$,(()=>{this.params.dependencies.throughputEstimator.addRawThroughput(this.hls.bandwidthEstimate/1e3)})),this.textTracksManager.connect(this.video,t,e);const m=o(t.playbackState.stateChangeStarted$,t.videoTrack.stateChangeStarted$,t.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0));this.subscription.add(m.subscribe(this.syncPlayback,i))}syncPlayback=()=>{const t=this.videoState.getState(),e=this.params.desiredState.playbackState.getState(),i=this.params.desiredState.playbackState.getTransition(),s=this.params.desiredState.seekState.getState();if(t!==qe.INITIALIZING)switch(i?.to!==P.PAUSED&&s.state===L.Requested&&this.seek(s.position),e){case P.STOPPED:switch(t){case qe.STOPPED:break;case qe.READY:case qe.PLAYING:case qe.PAUSED:this.stop();break;default:n(t)}break;case P.PLAYING:switch(t){case qe.PLAYING:break;case qe.STOPPED:this.prepare();break;case qe.READY:case qe.PAUSED:this.playIfAllowed();break;default:n(t)}break;case P.PAUSED:switch(t){case qe.PAUSED:break;case qe.STOPPED:this.prepare();break;case qe.READY:this.videoState.setState(qe.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED);break;case qe.PLAYING:this.pause();break;default:n(t)}break;default:n(e)}};prepare(){this.videoState.startTransitionTo(qe.READY),this.hls.attachMedia(this.video),this.hls.loadSource(this.params.source.url)}async playIfAllowed(){this.videoState.startTransitionTo(qe.PLAYING);await Ot(this.video)||(this.videoState.setState(qe.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED,!0))}pause(){this.videoState.startTransitionTo(qe.PAUSED),this.video.pause()}seek(t){this.params.output.willSeekEvent$.next(),this.video.currentTime=t/1e3}stop(){this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.hls.stopLoad(),this.hls.detachMedia(),this.video.setAttribute('src',''),this.video.load(),this.videoState.setState(qe.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0)}}const Ge=t=>{let e=null;if(t.QUALITY&&(e=Mt(t.QUALITY)),!e&&t.RESOLUTION){const[i,s]=t.RESOLUTION.split('x').map((t=>parseInt(t,10)));e=G({width:i,height:s})}return e??null},Ye=async(t,e=t)=>{const i=await et(t),s=(await i.text()).split('\\n'),a=[];for(let t=0;t<s.length;t++){const i=s[t].match(/^#EXT-X-STREAM-INF:(.+)/);if(!i)continue;const r=Object.fromEntries(i[1].split(',').map((t=>t.split('=')))),n=r.QUALITY??`stream-${r.BANDWIDTH}`,o=Ge(r);let d;r.BANDWIDTH&&(d=parseInt(r.BANDWIDTH,10)/1e3||void 0),!d&&r['AVERAGE-BANDWIDTH']&&(d=parseInt(r['AVERAGE-BANDWIDTH'],10)/1e3||void 0);const h=r['FRAME-RATE']?parseFloat(r['FRAME-RATE']):void 0;let u;if(r.RESOLUTION){const[t,e]=r.RESOLUTION.split('x').map((t=>parseInt(t,10)));t&&e&&(u={width:t,height:e})}const c=new URL(s[++t],e).toString();o&&a.push({id:n,quality:o,url:c,bandwidth:d,size:u,fps:h})}return a};var ze,Qe,We;!function(t){t.STOPPED='stopped',t.READY='ready',t.PLAYING='playing',t.CHANGING_MANIFEST='changing_manifest',t.PAUSED='paused'}(ze||(ze={}));class je{subscription=new i;videoState=new z(ze.STOPPED);video;params;textTracksManager=new gt;manifests$=new t([]);maxSeekBackTime$;liveOffset=new bt;manifestStartTime$=new t(void 0);constructor(e){this.params=e,this.video=St(e.container),this.params.output.element$.next(this.video);const i={id:'master',quality:M.INVARIANT,url:this.params.source.url};this.manifests$.next([i]),Ye(O(this.params.source.url),this.params.source.url).then((t=>{this.manifests$.next([i,...t])}),(t=>this.params.output.error$.next({id:'ExtractHlsQualities',message:'Error fetching manifest and extracting qualities',thrown:t}))),this.params.output.isLive$.next(!0),this.params.output.hostname$.next(Ct(this.params.source.url)),this.maxSeekBackTime$=new t(e.source.maxSeekBackTime??1/0),this.subscribe()}selectManifest(){const{autoVideoTrackSwitching:t,videoTrack:e}=this.params.desiredState,i=t.getState(),s=e.getTransition(),a=s?.to??e.getState()??'master',r=this.manifests$.getValue();if(!r)return;const n=i?'master':a;return i&&!s&&e.startTransitionTo('master'),r.find((t=>t.id===n))}subscribe(){const{output:t,desiredState:e}=this.params,i=e=>{t.error$.next({id:'HlsLiveProvider',message:'HlsLiveProvider internal logic error',thrown:e})},a=Tt(this.video),r=(t,e)=>this.subscription.add(t.subscribe(e,i));r(a.ended$,t.endedEvent$),r(a.error$,t.error$),r(a.isBuffering$,t.isBuffering$),r(a.currentBuffer$,t.currentBuffer$),r(a.loadedMetadata$,t.firstBytesEvent$),r(a.playing$,t.firstFrameEvent$),r(a.canplay$,t.canplay$),this.subscription.add(e.isLooped.stateChangeStarted$.subscribe((()=>e.isLooped.setState(!1)),i)),this.subscription.add(pt(this.video,e.volume,a.volumeState$,i)),this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$,i)),this.subscription.add(mt(this.video,e.playbackRate,a.playbackRateState$,i)),this.textTracksManager.connect(this.video,e,t),this.subscription.add(a.playing$.subscribe((()=>{this.videoState.setState(ze.PLAYING),U(e.playbackState,P.PLAYING)}),i)).add(a.pause$.subscribe((()=>{this.videoState.setState(ze.PAUSED),U(e.playbackState,P.PAUSED)}),i)).add(a.canplay$.subscribe((()=>{this.videoState.getTransition()?.to===ze.READY&&this.videoState.setState(ze.READY),this.videoState.getState()===ze.PLAYING&&this.playIfAllowed()}),i)),this.subscription.add(this.maxSeekBackTime$.pipe(c(),h((t=>-t/1e3))).subscribe(this.params.output.duration$,i)),this.subscription.add(a.loadedMetadata$.subscribe((()=>{const t=this.params.desiredState.seekState.getState(),e=this.videoState.getTransition(),i=this.params.desiredState.videoTrack.getTransition(),a=this.params.desiredState.autoVideoTrackSwitching.getTransition();if(i&&s(i.to)){const t=i.to;this.params.desiredState.videoTrack.setState(t);const e=this.manifests$.getValue().find((e=>e.id===t));e&&(this.params.output.currentVideoTrack$.next(e),this.params.output.hostname$.next(Ct(e.url)))}a&&this.params.desiredState.autoVideoTrackSwitching.setState(a.to),e&&e.from===ze.CHANGING_MANIFEST&&this.videoState.setState(e.to),t&&t.state===L.Requested&&this.seek(t.position)}),i)),this.subscription.add(a.loadedData$.subscribe((()=>{const t=this.video?.getStartDate()?.getTime();this.manifestStartTime$.next(t||void 0)}),i)),this.subscription.add(y({startTime:this.manifestStartTime$.pipe(f(s)),currentTime:a.timeUpdate$}).subscribe((({startTime:t,currentTime:e})=>this.params.output.liveTime$.next(t+1e3*e)),i)),this.subscription.add(this.manifests$.pipe(h((t=>t.map((({id:t,quality:e,size:i,bandwidth:s,fps:a})=>({id:t,quality:e,size:i,fps:a,bitrate:s})))))).subscribe(this.params.output.availableVideoTracks$,i));const n=o(e.playbackState.stateChangeStarted$,e.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,e.videoTrack.stateChangeStarted$,e.autoVideoTrackSwitching.stateChangeStarted$,u(['init'])).pipe(p(0));this.subscription.add(n.subscribe(this.syncPlayback,i))}destroy(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0)}prepare(){const t=this.selectManifest();if(a(t))return;const e=O(t.url,this.liveOffset.getTotalOffset());this.video.setAttribute('src',e),this.video.load(),(async t=>{const e=await et(t,{method:'HEAD'});return e.headers.has('X-Playback-Duration')?parseInt(e.headers.get('X-Playback-Duration'),10):void 0})(e).then((t=>{a(t)||this.maxSeekBackTime$.next(t)}))}playIfAllowed(){Ot(this.video).then((t=>{t||(this.videoState.setState(ze.PAUSED),this.liveOffset.pause(),U(this.params.desiredState.playbackState,P.PAUSED,!0))}))}seek(t){this.params.output.willSeekEvent$.next();const e=-t,i=e<this.maxSeekBackTime$.getValue()?e:0;this.liveOffset.resetTo(i),this.params.output.position$.next(-i/1e3),this.params.output.seekedEvent$.next()}syncPlayback=()=>{const t=this.videoState.getState(),e=this.params.desiredState.playbackState.getState(),i=this.params.desiredState.playbackState.getTransition(),s=this.params.desiredState.videoTrack.getTransition(),a=this.params.desiredState.autoVideoTrackSwitching.getTransition();if(e===P.STOPPED)return void(t!==ze.STOPPED&&(this.videoState.startTransitionTo(ze.STOPPED),this.video.setAttribute('src',''),this.video.load(),this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.videoState.setState(ze.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0)));if(this.videoState.getTransition())return;const r=this.params.desiredState.seekState.getState();if(t===ze.STOPPED)return this.videoState.startTransitionTo(ze.READY),void this.prepare();if(s||a){const t=this.videoState.getState();return this.videoState.setState(ze.CHANGING_MANIFEST),this.videoState.startTransitionTo(t),this.prepare(),void(r.state===L.None&&this.params.desiredState.seekState.setState({state:L.Requested,position:-this.liveOffset.getTotalOffset(),forcePrecise:!0}))}if(i?.to!==P.PAUSED&&r.state===L.Requested)return this.videoState.startTransitionTo(ze.READY),this.seek(r.position-this.liveOffset.getTotalPausedTime()),void this.prepare();switch(t){case ze.READY:return void(e===P.PAUSED?(this.videoState.setState(ze.PAUSED),this.liveOffset.pause(),U(this.params.desiredState.playbackState,P.PAUSED)):e===P.PLAYING&&(this.videoState.startTransitionTo(ze.PLAYING),this.playIfAllowed()));case ze.PLAYING:return void(e===P.PAUSED?(this.videoState.startTransitionTo(ze.PAUSED),this.liveOffset.pause(),this.video.pause()):i?.to===P.PLAYING&&U(this.params.desiredState.playbackState,P.PLAYING));case ze.PAUSED:return void(e===P.PLAYING?(this.videoState.startTransitionTo(ze.PLAYING),this.liveOffset.getTotalPausedTime()<this.params.config.maxPausedTime&&this.liveOffset.getTotalOffset()<this.maxSeekBackTime$.getValue()?(this.liveOffset.resume(),this.playIfAllowed(),this.params.output.position$.next(-this.liveOffset.getTotalOffset()/1e3)):this.seek(-this.liveOffset.getTotalOffset())):i?.to===P.PAUSED&&(U(this.params.desiredState.playbackState,P.PAUSED),this.liveOffset.pause()));case ze.CHANGING_MANIFEST:break;default:return n(t)}}}!function(t){t.STOPPED='stopped',t.READY='ready',t.PLAYING='playing',t.CHANGING_MANIFEST='changing_manifest',t.PAUSED='paused'}(Qe||(Qe={}));class Je{subscription=new i;videoState=new z(Qe.STOPPED);video;params;textTracksManager=new gt;manifests$=new t([]);constructor(t){this.params=t,this.video=St(t.container),this.params.output.element$.next(this.video);const e={id:'master',quality:M.INVARIANT,url:this.params.source.url};this.manifests$.next([e]),this.params.output.isLive$.next(!1),this.params.output.hostname$.next(Ct(this.params.source.url)),Ye(this.params.source.url).then((t=>{this.manifests$.next([e,...t])}),(t=>this.params.output.error$.next({id:'ExtractHlsQualities',message:'Error fetching manifest and extracting qualities',thrown:t}))),this.subscribe()}selectManifest(){const{autoVideoTrackSwitching:t,videoTrack:e}=this.params.desiredState,i=t.getState(),s=e.getTransition(),a=s?.to??e.getState()??'master',r=this.manifests$.getValue();if(!r)return;const n=i?'master':a;return i&&!s&&e.startTransitionTo('master'),r.find((t=>t.id===n))}subscribe(){const{output:t,desiredState:e}=this.params,i=e=>{t.error$.next({id:'HlsProvider',message:'HlsProvider internal logic error',thrown:e})},a=Tt(this.video),r=(t,e)=>this.subscription.add(t.subscribe(e));r(a.timeUpdate$,t.position$),r(a.durationChange$,t.duration$),r(a.ended$,t.endedEvent$),r(a.looped$,t.loopedEvent$),r(a.error$,t.error$),r(a.isBuffering$,t.isBuffering$),r(a.currentBuffer$,t.currentBuffer$),r(a.loadedMetadata$,t.firstBytesEvent$),r(a.playing$,t.firstFrameEvent$),r(a.canplay$,t.canplay$),r(a.seeked$,t.seekedEvent$),this.subscription.add(lt(this.video,e.isLooped,i)),this.subscription.add(pt(this.video,e.volume,a.volumeState$,i)),this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$,i)),this.subscription.add(mt(this.video,e.playbackRate,a.playbackRateState$,i)),this.textTracksManager.connect(this.video,e,t),this.subscription.add(a.playing$.subscribe((()=>{this.videoState.setState(Qe.PLAYING),U(e.playbackState,P.PLAYING)}),i)).add(a.pause$.subscribe((()=>{this.videoState.setState(Qe.PAUSED),U(e.playbackState,P.PAUSED)}),i)).add(a.canplay$.subscribe((()=>{this.videoState.getTransition()?.to===Qe.READY&&this.videoState.setState(Qe.READY),this.videoState.getState()===Qe.PLAYING&&this.playIfAllowed()}),i).add(a.loadedMetadata$.subscribe((()=>{const t=this.params.desiredState.seekState.getState(),e=this.videoState.getTransition(),i=this.params.desiredState.videoTrack.getTransition(),a=this.params.desiredState.autoVideoTrackSwitching.getTransition();if(i&&s(i.to)){const t=i.to;this.params.desiredState.videoTrack.setState(t);const e=this.manifests$.getValue().find((e=>e.id===t));e&&(this.params.output.currentVideoTrack$.next(e),this.params.output.hostname$.next(Ct(e.url)))}a&&this.params.desiredState.autoVideoTrackSwitching.setState(a.to),e&&e.from===Qe.CHANGING_MANIFEST&&this.videoState.setState(e.to),t.state===L.Requested&&this.seek(t.position)}),i))),this.subscription.add(this.manifests$.pipe(h((t=>t.map((({id:t,quality:e,size:i,bandwidth:s,fps:a})=>({id:t,quality:e,size:i,fps:a,bitrate:s})))))).subscribe(this.params.output.availableVideoTracks$,i));const n=o(e.playbackState.stateChangeStarted$,e.seekState.stateChangeEnded$,e.videoTrack.stateChangeStarted$,e.autoVideoTrackSwitching.stateChangeStarted$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0));this.subscription.add(n.subscribe(this.syncPlayback,i))}destroy(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.video.remove(),this.params.output.element$.next(void 0)}prepare(){const t=this.selectManifest();a(t)||(this.video.setAttribute('src',t.url),this.video.load())}playIfAllowed(){Ot(this.video).then((t=>{t||(this.videoState.setState(Qe.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED,!0))}))}seek(t){this.params.output.willSeekEvent$.next(),this.video.currentTime=t/1e3}syncPlayback=()=>{const t=this.videoState.getState(),e=this.params.desiredState.playbackState.getState(),i=this.params.desiredState.playbackState.getTransition(),s=this.params.desiredState.videoTrack.getTransition(),a=this.params.desiredState.autoVideoTrackSwitching.getTransition();if(e===P.STOPPED)return void(t!==Qe.STOPPED&&(this.videoState.startTransitionTo(Qe.STOPPED),this.video.setAttribute('src',''),this.video.load(),this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.videoState.setState(Qe.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0)));if(this.videoState.getTransition())return;const r=this.params.desiredState.seekState.getState();if(t===Qe.STOPPED)return this.videoState.startTransitionTo(Qe.READY),void this.prepare();if(s||a){const t=this.videoState.getState();this.videoState.setState(Qe.CHANGING_MANIFEST),this.videoState.startTransitionTo(t);const{currentTime:e}=this.video;return this.prepare(),void(r.state===L.None&&this.params.desiredState.seekState.setState({state:L.Requested,position:1e3*e,forcePrecise:!0}))}switch(i?.to!==P.PAUSED&&r.state===L.Requested&&this.seek(r.position),t){case Qe.READY:return void(e===P.PAUSED?(this.videoState.setState(Qe.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED)):e===P.PLAYING&&(this.videoState.startTransitionTo(Qe.PLAYING),this.playIfAllowed()));case Qe.PLAYING:return void(e===P.PAUSED?(this.videoState.startTransitionTo(Qe.PAUSED),this.video.pause()):i?.to===P.PLAYING&&U(this.params.desiredState.playbackState,P.PLAYING));case Qe.PAUSED:return void(e===P.PLAYING?(this.videoState.startTransitionTo(Qe.PLAYING),this.playIfAllowed()):i?.to===P.PAUSED&&U(this.params.desiredState.playbackState,P.PAUSED));case Qe.CHANGING_MANIFEST:break;default:return n(t)}}}!function(t){t.STOPPED='stopped',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(We||(We={}));class Xe{subscription=new i;videoState=new z(We.STOPPED);video;trackUrls={};params;textTracksManager=new gt;constructor(t){this.params=t,this.video=St(t.container),this.params.output.element$.next(this.video),Object.entries(this.params.source).forEach((([t,e],i)=>{const s=i.toString(10);this.trackUrls[s]={track:{quality:t,id:s},url:e}})),this.params.output.availableVideoTracks$.next(Object.values(this.trackUrls).map((({track:t})=>t))),this.params.output.isLive$.next(!1),this.subscribe()}subscribe(){const{output:t,desiredState:e}=this.params,i=e=>{t.error$.next({id:'MpegProvider',message:'MpegProvider internal logic error',thrown:e})},a=Tt(this.video),r=(t,e)=>this.subscription.add(t.subscribe(e,i));r(a.timeUpdate$,t.position$),r(a.durationChange$,t.duration$),r(a.ended$,t.endedEvent$),r(a.looped$,t.loopedEvent$),r(a.error$,t.error$),r(a.isBuffering$,t.isBuffering$),r(a.currentBuffer$,t.currentBuffer$),r(a.loadedMetadata$,t.firstBytesEvent$),r(a.playing$,t.firstFrameEvent$),r(a.canplay$,t.canplay$),r(a.seeked$,t.seekedEvent$),this.subscription.add(lt(this.video,e.isLooped,i)),this.subscription.add(pt(this.video,e.volume,a.volumeState$,i)),this.subscription.add(a.volumeState$.subscribe(this.params.output.volume$,i)),this.subscription.add(mt(this.video,e.playbackRate,a.playbackRateState$,i)),this.subscription.add(a.playing$.subscribe((()=>{this.videoState.setState(We.PLAYING),U(e.playbackState,P.PLAYING)}),i)).add(a.pause$.subscribe((()=>{this.videoState.setState(We.PAUSED),U(e.playbackState,P.PAUSED)}),i)).add(a.canplay$.subscribe((()=>{this.videoState.getTransition()?.to===We.READY&&this.videoState.setState(We.READY);const t=this.params.desiredState.videoTrack.getTransition();t&&s(t.to)&&(this.params.desiredState.videoTrack.setState(t.to),this.params.output.currentVideoTrack$.next(this.trackUrls[t.to].track)),this.videoState.getState()===We.PLAYING&&this.playIfAllowed()}),i)),this.subscription.add(e.autoVideoTrackSwitching.stateChangeStarted$.subscribe((()=>e.autoVideoTrackSwitching.setState(!1)),i)),this.textTracksManager.connect(this.video,e,t);const n=o(e.playbackState.stateChangeStarted$,e.videoTrack.stateChangeStarted$,e.seekState.stateChangeEnded$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0));this.subscription.add(n.subscribe(this.syncPlayback,i))}destroy(){this.subscription.unsubscribe(),this.textTracksManager.destroy(),this.trackUrls={},this.video.remove(),this.params.output.element$.next(void 0)}prepare(){const t=this.params.desiredState.videoTrack.getTransition()?.to??this.params.desiredState.videoTrack.getState();l(t,'MpegProvider: track is not selected');let{url:e}=this.trackUrls[t];l(e,`MpegProvider: No url for ${t}`),this.params.tuning.requestQuick&&(e=ht(e)),this.video.setAttribute('src',e),this.video.load(),this.params.output.hostname$.next(Ct(e))}playIfAllowed(){Ot(this.video).then((t=>{t||(this.videoState.setState(We.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED,!0))}))}seek(t){this.params.output.willSeekEvent$.next(),this.video.currentTime=t/1e3}syncPlayback=()=>{const t=this.videoState.getState(),e=this.params.desiredState.playbackState.getState(),i=this.params.desiredState.playbackState.getTransition();if(e===P.STOPPED)return void(t!==We.STOPPED&&(this.videoState.startTransitionTo(We.STOPPED),this.video.setAttribute('src',''),this.video.load(),this.params.output.position$.next(0),this.params.output.duration$.next(1/0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.videoState.setState(We.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0)));if(this.videoState.getTransition())return;const s=this.params.desiredState.videoTrack.getTransition(),a=this.params.desiredState.seekState.getState();if(t===We.STOPPED)return this.videoState.startTransitionTo(We.READY),void this.prepare();if(s){const{currentTime:t}=this.video;return this.prepare(),void(a.state===L.None&&this.params.desiredState.seekState.setState({state:L.Requested,position:1e3*t,forcePrecise:!0}))}switch(i?.to!==P.PAUSED&&a.state===L.Requested&&this.seek(a.position),t){case We.READY:return void(e===P.PAUSED?(this.videoState.setState(We.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED)):e===P.PLAYING&&(this.videoState.startTransitionTo(We.PLAYING),this.playIfAllowed()));case We.PLAYING:return void(e===P.PAUSED?(this.videoState.startTransitionTo(We.PAUSED),this.video.pause()):i?.to===P.PLAYING&&U(this.params.desiredState.playbackState,P.PLAYING));case We.PAUSED:return void(e===P.PLAYING?(this.videoState.startTransitionTo(We.PLAYING),this.playIfAllowed()):i?.to===P.PAUSED&&U(this.params.desiredState.playbackState,P.PAUSED));default:return n(t)}}}const Ke=['stun:videostun.mycdn.me:80'],Ze=()=>null;class ti{options;ws=null;peerConnection=null;serverUrl='';streamKey='';stream=null;signalingType='JOIN';retryTimeout;retryCount=0;externalStartCallback=Ze;externalStopCallback=Ze;externalErrorCallback=Ze;constructor(t,e){this.options=this.normalizeOptions(e);const i=t.split('/');this.serverUrl=i.slice(0,i.length-1).join('/'),this.streamKey=i[i.length-1]}onStart(t){try{this.externalStartCallback=t}catch(t){this.handleSystemError(t)}}onStop(t){try{this.externalStopCallback=t}catch(t){this.handleSystemError(t)}}onError(t){try{this.externalErrorCallback=t}catch(t){this.handleSystemError(t)}}connect(){this.connectWS()}disconnect(){try{this.externalStopCallback(),this.closeConnections()}catch(t){this.handleSystemError(t)}}connectWS(){this.ws||(this.ws=new WebSocket(this.serverUrl),this.ws.onopen=this.onSocketOpen.bind(this),this.ws.onmessage=this.onSocketMessage.bind(this),this.ws.onclose=this.onSocketClose.bind(this),this.ws.onerror=this.onSocketError.bind(this))}onSocketOpen(){this.handleLogin()}onSocketClose(t){try{if(!this.ws)return;this.ws=null,t.code>1e3?(this.retryCount++,this.retryCount>this.options.maxRetryNumber?this.handleNetworkError():this.scheduleRetry()):this.externalStopCallback()}catch(t){this.handleRTCError(t)}}onSocketError(t){try{this.externalErrorCallback(new Error(t.toString()))}catch(t){this.handleRTCError(t)}}onSocketMessage(t){try{const e=this.parseMessage(t.data);switch(e.type){case'JOIN':case'CALL_JOIN':this.handleJoinMessage(e);break;case'UPDATE':this.handleUpdateMessage(e);break;case'STATUS':this.handleStatusMessage(e)}}catch(t){this.handleRTCError(t)}}handleJoinMessage(t){switch(t.inviteType){case'ANSWER':this.handleAnswer(t.sdp);break;case'CANDIDATE':this.handleCandidate(t.candidate)}}handleStatusMessage(t){switch(t.status){case'UNPUBLISHED':this.handleUnpublished()}}async handleUpdateMessage(t){try{const e=await this.createOffer();this.peerConnection&&await this.peerConnection.setLocalDescription(e),this.handleAnswer(t.sdp)}catch(t){this.handleRTCError(t)}}async handleLogin(){try{const t={iceServers:[{urls:Ke}]};this.peerConnection=new RTCPeerConnection(t),this.peerConnection.ontrack=this.onPeerConnectionStream.bind(this),this.peerConnection.onicecandidate=this.onPeerConnectionIceCandidate.bind(this),this.peerConnection.oniceconnectionstatechange=this.onPeerConnectionIceConnectionStateChange.bind(this);const e=await this.createOffer();await this.peerConnection.setLocalDescription(e),this.send({type:this.signalingType,inviteType:'OFFER',streamKey:this.streamKey,sdp:e.sdp,callSupport:!1})}catch(t){this.handleRTCError(t)}}async handleAnswer(t){try{this.peerConnection&&await this.peerConnection.setRemoteDescription(new RTCSessionDescription({type:'answer',sdp:t}))}catch(t){this.handleRTCError(t)}}async handleCandidate(t){if(t)try{this.peerConnection&&await this.peerConnection.addIceCandidate(t)}catch(t){this.handleRTCError(t)}}handleUnpublished(){try{this.closeConnections(),this.externalStopCallback()}catch(t){this.handleRTCError(t)}}handleSystemError(t){this.options.errorChanel&&this.options.errorChanel.next({id:'webrtc-provider-error',message:t.message})}async onPeerConnectionStream(t){const e=t.streams[0];this.stream&&this.stream.id===e.id||(this.stream=e,this.externalStartCallback(this.stream))}onPeerConnectionIceCandidate(t){t.candidate&&this.send({type:this.signalingType,inviteType:'CANDIDATE',candidate:t.candidate})}onPeerConnectionIceConnectionStateChange(){if(this.peerConnection){const t=this.peerConnection.iceConnectionState;['failed','closed'].indexOf(t)>-1&&(this.retryCount++,this.retryCount>this.options.maxRetryNumber?this.handleNetworkError():(this.closeConnections(),this.scheduleRetry()))}}async createOffer(){if(!this.peerConnection)throw new Error('Can not create offer - no peer connection instance ');const t=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0,voiceActivityDetection:!1}),e=t.sdp||'';if(!/^a=rtpmap:\\d+ H264\\/\\d+$/m.test(e))throw new Error('No h264 codec support error');return t}handleRTCError(t){try{this.externalErrorCallback(t||new Error('RTC connection error'))}catch(t){this.handleSystemError(t)}}handleNetworkError(){try{this.externalErrorCallback(new Error('Network error'))}catch(t){this.handleSystemError(t)}}send(t){this.ws&&this.ws.send(JSON.stringify(t))}parseMessage(t){try{return JSON.parse(t)}catch(t){throw new Error('Can not parse socket message')}}closeConnections(){const t=this.ws;t&&(this.ws=null,t.close(1e3)),this.removePeerConnection()}removePeerConnection(){let t=this.peerConnection;t&&(this.peerConnection=null,t.close(),t.ontrack=null,t.onicecandidate=null,t.oniceconnectionstatechange=null,t=null)}scheduleRetry(){this.retryTimeout=setTimeout(this.connectWS.bind(this),1e3)}normalizeOptions(t={}){const e={stunServerList:Ke,maxRetryNumber:3,errorChanel:null};return t.stunServerList&&(e.stunServerList=t.stunServerList),t.maxRetryNumber&&t.maxRetryNumber>0&&(e.maxRetryNumber=t.maxRetryNumber),e}}var ei;!function(t){t.STOPPED='stopped',t.READY='ready',t.PLAYING='playing',t.PAUSED='paused'}(ei||(ei={}));class ii{subscription;params;log;video;videoState=new z(ei.STOPPED);liveStreamClient;maxSeekBackTime$=new t(0);constructor(t){this.subscription=new i,this.params=t,this.log=this.params.dependencies.logger.createComponentLog('WebRTCLiveProvider'),this.video=St(t.container),this.liveStreamClient=new ti(this.params.source.url,{maxRetryNumber:this.params.tuning.webrtc.connectionRetryMaxNumber,errorChanel:this.params.output.error$}),this.liveStreamClient.onStart(this.onLiveStreamStart.bind(this)),this.liveStreamClient.onStop(this.onLiveStreamStop.bind(this)),this.liveStreamClient.onError(this.onLiveStreamError.bind(this)),this.subscribe()}destroy(){this.subscription.unsubscribe(),this.video.remove(),this.params.output.element$.next(void 0),this.liveStreamClient.disconnect()}subscribe(){const{output:t,desiredState:e}=this.params,i=e=>{t.error$.next({id:'WebRTCLiveProvider',message:'WebRTCLiveProvider internal logic error',thrown:e})};o(this.videoState.stateChangeStarted$.pipe(h((t=>({transition:t,type:'start'})))),this.videoState.stateChangeEnded$.pipe(h((t=>({transition:t,type:'end'}))))).subscribe((({transition:t,type:e})=>{this.log({message:`[videoState change] ${e}: ${JSON.stringify(t)}`})}));const s=Tt(this.video),a=(t,e)=>this.subscription.add(t.subscribe(e,i));a(s.timeUpdate$,t.liveTime$),a(s.ended$,t.endedEvent$),a(s.looped$,t.loopedEvent$),a(s.error$,t.error$),a(s.isBuffering$,t.isBuffering$),a(s.currentBuffer$,t.currentBuffer$),this.subscription.add(s.durationChange$.subscribe((e=>{t.duration$.next(e===1/0?0:e)}))).add(s.canplay$.subscribe((()=>{this.videoState.getTransition()?.to===ei.READY&&this.videoState.setState(ei.READY)}),i)).add(s.pause$.subscribe((()=>{this.videoState.setState(ei.PAUSED)}),i)).add(s.playing$.subscribe((()=>{this.videoState.setState(ei.PLAYING)}),i)).add(s.error$.subscribe(t.error$)).add(this.maxSeekBackTime$.subscribe(this.params.output.duration$)).add(pt(this.video,e.volume,s.volumeState$,i)).add(s.volumeState$.subscribe(t.volume$,i)).add(this.videoState.stateChangeEnded$.subscribe((i=>{switch(i.to){case ei.STOPPED:t.position$.next(0),t.duration$.next(0),e.playbackState.setState(P.STOPPED);break;case ei.READY:break;case ei.PAUSED:e.playbackState.setState(P.PAUSED);break;case ei.PLAYING:e.playbackState.setState(P.PLAYING);break;default:return n(i.to)}}),i)).add(o(e.playbackState.stateChangeStarted$,this.videoState.stateChangeEnded$,u(['init'])).pipe(p(0)).subscribe(this.syncPlayback.bind(this),i)),this.subscription.add(e.isLooped.stateChangeStarted$.subscribe((()=>e.isLooped.setState(!1)),i)),this.subscription.add(e.autoVideoTrackSwitching.stateChangeStarted$.subscribe((()=>e.autoVideoTrackSwitching.setState(!1)),i))}onLiveStreamStart(t){this.params.output.element$.next(this.video),this.params.output.duration$.next(0),this.params.output.position$.next(0),this.params.output.isLive$.next(!0),this.params.output.hostname$.next(Ct(this.params.source.url)),this.params.output.autoVideoTrackLimitingAvailable$.next(!1),this.params.output.availableVideoTracks$.next([]),this.params.output.currentVideoTrack$.next({id:'webrtc',quality:M.INVARIANT}),this.video.srcObject=t,U(this.params.desiredState.playbackState,P.PLAYING)}onLiveStreamStop(){this.videoState.startTransitionTo(ei.STOPPED),this.syncPlayback(),this.params.output.position$.next(0),this.params.output.duration$.next(0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.params.output.endedEvent$.next()}onLiveStreamError(t){this.onLiveStreamStop(),this.params.output.error$.next({id:'WebRTC stream runtime error',message:t.message,thrown:t})}playIfAllowed(){Ot(this.video).then((t=>{t||(this.videoState.setState(ei.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED,!0))}))}prepare(){this.liveStreamClient.connect()}syncPlayback=()=>{const t=this.videoState.getState(),e=this.params.desiredState.playbackState.getState(),i=this.params.desiredState.playbackState.getTransition();if(e===P.STOPPED)return void(t!==ei.STOPPED&&(this.videoState.startTransitionTo(ei.STOPPED),this.video.pause(),this.video.srcObject=null,this.params.output.position$.next(0),this.params.output.duration$.next(0),this.params.output.currentBuffer$.next(void 0),this.params.output.hostname$.next(void 0),this.videoState.setState(ei.STOPPED),U(this.params.desiredState.playbackState,P.STOPPED,!0)));if(this.videoState.getTransition())return;const s=this.params.desiredState.videoTrack.getTransition();if(t===ei.STOPPED)return this.videoState.startTransitionTo(ei.READY),void this.prepare();if(s)this.prepare();else switch(t){case ei.READY:return void(e===P.PAUSED?(this.videoState.setState(ei.PAUSED),U(this.params.desiredState.playbackState,P.PAUSED)):e===P.PLAYING&&(this.videoState.startTransitionTo(ei.PLAYING),this.playIfAllowed()));case ei.PLAYING:return void(e===P.PAUSED?(this.videoState.startTransitionTo(ei.PAUSED),this.video.pause()):i?.to===P.PLAYING&&U(this.params.desiredState.playbackState,P.PLAYING));case ei.PAUSED:return void(e===P.PLAYING?(this.videoState.startTransitionTo(ei.PLAYING),this.playIfAllowed()):i?.to===P.PAUSED&&U(this.params.desiredState.playbackState,P.PAUSED));default:return n(t)}}}class si{iterator;current;constructor(t){this.iterator=t[Symbol.iterator](),this.next()}next(){this.current=this.iterator.next()}getValue(){if(this.current.done)throw new Error('Iterable is completed');return this.current.value}isCompleted(){return Boolean(this.current.done)}}const ai=ce(),ri=navigator?.userAgentData?.mobile||/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion),ni=document.createElement('video'),oi={mse:Boolean(window.MediaSource&&window.MediaStreamTrack&&window.SourceBuffer?.prototype?.appendBuffer),hls:Boolean(ni.canPlayType?.('application/x-mpegurl')||ni.canPlayType?.('vnd.apple.mpegURL')),webrtc:Boolean(window.RTCPeerConnection)},di={mp4:Boolean(ni.canPlayType?.('video/mp4')),webm:Boolean(ni.canPlayType?.('video/webm'))},hi={h264:Boolean(window.MediaSource?.isTypeSupported?.('video/mp4; codecs=\"avc1.42000a,mp4a.40.2\"')),h265:Boolean(window.MediaSource?.isTypeSupported?.('video/mp4; codecs=\"hev1.1.6.L93.B0\"')),vp9:Boolean(window.MediaSource?.isTypeSupported?.('video/webm; codecs=\"vp9\"')),aac:Boolean(window.MediaSource?.isTypeSupported?.('audio/mp4; codecs=\"mp4a.40.2\"')),opus:Boolean(window.MediaSource?.isTypeSupported?.('audio/webm; codecs=\"opus\"'))},ui=(hi.h264||hi.h265)&&hi.aac,ci=!ai,li=oi.hls&&di.mp4&&(ri||ai),pi=Boolean(window.WebSocket);const mi=3e4,fi=18e4,gi=3,Si=100,bi={cacheDuration:12e4},vi={maxPausedTime:3e4,chunkDuration:5e3,maxParallelRequests:5},yi={maxPausedTime:3e4},Ti={maxPausedTime:3e4};class Ei{current$=new t({type:void 0});providerError$=new e;noAvailableProvidersError$=new e;providerOutput={position$:new t(0),duration$:new t(1/0),volume$:new t({muted:!1,volume:1}),currentVideoTrack$:new t(void 0),availableVideoTracks$:new t([]),autoVideoTrackLimitingAvailable$:new t(!1),currentBuffer$:new t(void 0),isBuffering$:new t(!0),error$:new e,willSeekEvent$:new e,seekedEvent$:new e,loopedEvent$:new e,endedEvent$:new e,firstBytesEvent$:new e,firstFrameEvent$:new e,canplay$:new e,isLive$:new t(void 0),liveTime$:new t(void 0),availableTextTracks$:new t([]),currentTextTrack$:new t(void 0),hostname$:new t(void 0),httpConnectionType$:new t(void 0),httpConnectionReused$:new t(void 0),element$:new t(void 0)};subscription=new i;screenFormatsIterator;chromecastFormatsIterator;log;params;constructor(t){this.params=t,this.log=this.params.dependencies.logger.createComponentLog('ProviderContainer');const{formatsToAvoid:e}=this.params.tuning,i=e.length?[...t.screenFormatsPriority.filter((t=>!e.includes(t))),...t.screenFormatsPriority.filter((t=>e.includes(t)))]:t.screenFormatsPriority;this.screenFormatsIterator=new si(((t,e=!1)=>t.filter((t=>{switch(t){case R.DASH:return oi.mse&&di.mp4&&ui&&ci;case R.DASH_SEP:return oi.mse&&di.mp4&&ui;case R.DASH_WEBM:return oi.mse&&di.webm&&hi.vp9&&hi.opus;case R.DASH_LIVE:case R.DASH_ONDEMAND:return oi.mse&&di.mp4&&ui;case R.HLS:case R.HLS_LIVE:case R.HLS_ONDEMAND:return li||e&&oi.mse&&di.mp4&&ui;case R.MPEG:return di.mp4;case R.DASH_LIVE_WEBM:return!1;case R.WEB_RTC_LIVE:return oi.webrtc&&pi&&hi.h264&&(di.mp4||di.webm);default:return n(t)}})))(i.filter((e=>s(t.sources[e]))),this.params.tuning.useHlsJs)),this.chromecastFormatsIterator=new si(t.chromecastFormatsPriority.filter((e=>s(t.sources[e]))))}init(){this.subscription.add(this.initProviderErrorHandling()),this.subscription.add(this.params.dependencies.chromecastInitializer.connection$.subscribe((()=>{this.reinitProvider()})))}destroy(){this.destroyProvider(),this.current$.next({type:void 0}),this.subscription.unsubscribe()}initProvider(){const t=this.chooseDestination(),e=this.chooseFormat(t);if(a(e))return void this.handleNoFormatsError(t);let i;try{i=this.createProvider(t,e)}catch(t){this.providerError$.next({id:'ProviderNotConstructed',message:'Failed to create provider',thrown:t})}i?this.current$.next({type:e,provider:i,destination:t}):this.switchToNextProvider()}reinitProvider(){this.destroyProvider(),this.initProvider()}switchToNextProvider(){this.destroyProvider();const t=this.current$.getValue().destination;l(t,'No current provider'),this.skipFormat(t),this.initProvider()}destroyProvider(){const t=this.current$.getValue().provider;if(!t)return;this.log({message:'destroyProvider'});const e=1e3*this.providerOutput.position$.getValue(),i=this.params.desiredState.seekState.getState(),s=i.state!==L.None;this.params.desiredState.seekState.setState({state:L.Requested,position:s?i.position:e,forcePrecise:!!s&&i.forcePrecise}),t.destroy();const a=this.providerOutput.isBuffering$;a.getValue()||a.next(!0)}createProvider(t,e){switch(this.log({message:`createProvider: ${t}:${e}`}),t){case D.SCREEN:return this.createScreenProvider(e);case D.CHROMECAST:return this.createChromecastProvider(e);default:return n(t)}}createScreenProvider(t){const{sources:e,container:i,desiredState:s}=this.params,a=this.providerOutput,r={container:i,source:null,desiredState:s,output:a,dependencies:this.params.dependencies,tuning:this.params.tuning};switch(t){case R.DASH:{const i=e[t];return l(i),new se({...r,source:i,config:bi})}case R.DASH_SEP:case R.DASH_WEBM:case R.DASH_ONDEMAND:{const i=e[t];return l(i),this.params.tuning.useDashJs?new Bt({...r,source:i,format:t,config:Ti}):new Ue({...r,source:i})}case R.HLS:case R.HLS_ONDEMAND:{const i=e[t];return l(i),li||!this.params.tuning.useHlsJs?new Je({...r,source:i}):new He({...r,source:i})}case R.HLS_LIVE:{const i=e[t];return l(i),new je({...r,source:i,config:yi})}case R.MPEG:{const i=e[t];return l(i),new Xe({...r,source:i})}case R.DASH_LIVE:{const i=e[t];return l(i),new jt({...r,source:i,config:vi})}case R.WEB_RTC_LIVE:{const r=e[t];return l(r),new ii({container:i,source:r,desiredState:s,output:a,dependencies:this.params.dependencies,tuning:this.params.tuning})}case R.DASH_LIVE_WEBM:throw new Error('DASH_LIVE_WEBM is no longer supported');default:return n(t)}}createChromecastProvider(t){const{sources:e,container:i,desiredState:s,meta:a}=this.params,r=this.providerOutput,n=this.params.dependencies.chromecastInitializer.connection$.getValue();return l(n),new W({connection:n,meta:a,container:i,source:e,format:t,desiredState:s,output:r,dependencies:this.params.dependencies,tuning:this.params.tuning})}chooseDestination(){return this.params.dependencies.chromecastInitializer.connection$.getValue()?D.CHROMECAST:D.SCREEN}chooseFormat(t){switch(t){case D.SCREEN:return this.screenFormatsIterator.isCompleted()?void 0:this.screenFormatsIterator.getValue();case D.CHROMECAST:return this.chromecastFormatsIterator.isCompleted()?void 0:this.chromecastFormatsIterator.getValue();default:return n(t)}}skipFormat(t){switch(t){case D.SCREEN:return this.screenFormatsIterator.next();case D.CHROMECAST:return this.chromecastFormatsIterator.next();default:return n(t)}}handleNoFormatsError(t){switch(t){case D.SCREEN:return this.noAvailableProvidersError$.next(),void this.current$.next({type:void 0});case D.CHROMECAST:return void this.params.dependencies.chromecastInitializer.disconnect();default:return n(t)}}initProviderErrorHandling(){let t=[],a=0;const r=new i;var n;return r.add(o(this.providerOutput.error$,(n={desiredPlaybackState$:this.params.desiredState.playbackState,maxTransitionInterval:mi,position$:this.providerOutput.position$,providerChanged$:this.current$.pipe(f((({type:t})=>void 0!==t)))},new b((t=>{const s=new i,a=n.desiredPlaybackState$.stateChangeStarted$.pipe(h((({from:t,to:e})=>`${t}-${e}`))),r=n.desiredPlaybackState$.stateChangeEnded$,o=n.providerChanged$,d=new e;let u=0,c='unknown';return s.add(a.subscribe((t=>{u&&window.clearTimeout(u),c=t,u=window.setTimeout((()=>d.next(t)),n.maxTransitionInterval)}))),s.add(r.subscribe((()=>{window.clearTimeout(u),c='provider change',u=0}))),s.add(o.subscribe((()=>{u&&(window.clearTimeout(u),u=window.setTimeout((()=>d.next(c)),n.maxTransitionInterval))}))),s.add(d.subscribe(t)),()=>{window.clearTimeout(u),s.unsubscribe()}}))).pipe(h((t=>({id:`ProviderHangup:${t}`,message:`A ${t} transition failed to complete within reasonable time`}))))).subscribe(this.providerError$)),r.add(this.providerError$.pipe(w(Si,{leading:!1,trailing:!0})).subscribe((()=>{const e=Date.now();this.current$.getValue().destination===D.CHROMECAST?(this.destroyProvider(),this.params.dependencies.chromecastInitializer.stopMedia().then((()=>{this.switchToNextProvider()}),(()=>{this.params.dependencies.chromecastInitializer.disconnect()}))):s(t[a])&&e<t[a]+fi?(t=[],this.switchToNextProvider()):(t[a]=e,this.reinitProvider()),a=(a+1)%gi}))),r}}const $i=(t,e,i)=>i*e+(1-i)*t;class wi{prevReported=void 0;slow;fast;smoothed;pastMeasures=[];measuresCursor=0;params;rawSeries$;smoothedSeries$;reportedSeries$;smoothed$;debounced$;constructor(e){this.params=e,this.pastMeasures=Array(e.deviationDepth),this.slow=this.fast=this.smoothed=this.prevReported=e.initial,this.smoothed$=new t(e.initial),this.debounced$=new t(e.initial);const i=e.label??'value'+Math.random().toString(16).substring(2,6);this.rawSeries$=new Pt(`raw_${i}`),this.smoothedSeries$=new Pt(`smoothed_${i}`),this.reportedSeries$=new Pt(`reported_${i}`),this.rawSeries$.next(e.initial),this.smoothedSeries$.next(e.initial),this.reportedSeries$.next(e.initial)}next(t){let e=0,i=0;for(let t=0;t<this.pastMeasures.length;t++)void 0!==this.pastMeasures[t]&&(e+=(this.pastMeasures[t]-this.smoothed)**2,i++);e/=i;const s=Math.sqrt(e),r=this.smoothed+this.params.deviationFactor*s,n=this.smoothed-this.params.deviationFactor*s;this.pastMeasures[this.measuresCursor]=t,this.measuresCursor=(this.measuresCursor+1)%this.pastMeasures.length,this.rawSeries$.next(t),this.slow=$i(this.slow,t,this.params.emaAlphaSlow),this.fast=$i(this.fast,t,this.params.emaAlphaFast);const o=this.params.fastDirection>0?Math.max:Math.min;this.smoothed=o(this.slow,this.fast),this.smoothed$.next(this.smoothed),this.smoothedSeries$.next(this.smoothed),this.smoothed>r||this.smoothed<n||(a(this.prevReported)||Math.abs(this.smoothed-this.prevReported)/this.prevReported>=this.params.changeThreshold)&&(this.prevReported=this.smoothed,this.debounced$.next(this.smoothed),this.reportedSeries$.next(this.smoothed))}}var ki;!function(t){t[t.LOCAL_STORAGE=0]='LOCAL_STORAGE',t[t.SESSION_STORAGE=1]='SESSION_STORAGE',t[t.RUNTIME=2]='RUNTIME'}(ki||(ki={}));const Ai=new Map;let Pi=ki.RUNTIME;const Ri=`vk-videoplayer-dummy-key-${Math.random()}`;(()=>{try{localStorage.setItem(Ri,'test'),localStorage.removeItem(Ri),Pi=ki.LOCAL_STORAGE}catch(t){if(!(t instanceof DOMException||t instanceof TypeError))throw t;try{sessionStorage.getItem(Ri),Pi=ki.SESSION_STORAGE}catch(t){if(!(t instanceof DOMException||t instanceof TypeError))throw t;Pi=ki.RUNTIME}}})();const Di=(t,e)=>{switch(Pi){case ki.LOCAL_STORAGE:try{localStorage.setItem(t,e)}catch(t){if(!(t instanceof DOMException))throw t;console.error(t)}break;case ki.SESSION_STORAGE:try{sessionStorage.setItem(t,e)}catch(t){if(!(t instanceof DOMException))throw t;console.error(t)}break;case ki.RUNTIME:return void Ai.set(t,e);default:n(Pi)}},_i=window.navigator.connection,Ci=()=>{const t=_i?.downlink;if(s(t)&&10!==t)return 1e3*t},Ii=()=>{const t=_i?.rtt;if(s(t)&&3e3!==t)return t},Li=(t,e,i)=>{const s=8*i;return s/(s/t+e)};class xi{throughput;rtt;subscription=new i;tuningConfig;concurrentDownloads=new Set;throughput$;rtt$;rttAdjustedThroughput$;constructor(e){this.tuningConfig=e;const i=xi.load('one_video_throughput')||(e.useBrowserEstimation?Ci():void 0)||5e3,a=xi.load('one_video_rtt')??(e.useBrowserEstimation?Ii():void 0)??0;if(this.throughput$=new t(i),this.rtt$=new t(a),this.rttAdjustedThroughput$=new t(Li(i,a,e.rttPenaltyRequestSize)),this.throughput=new wi({initial:i,emaAlphaSlow:e.emaAlphaSlow,emaAlphaFast:e.emaAlphaFast,changeThreshold:e.changeThreshold,fastDirection:-1,deviationDepth:e.deviationDepth,deviationFactor:e.deviationFactor,label:'throughput'}),this.rtt=new wi({initial:a,emaAlphaSlow:e.emaAlphaSlow,emaAlphaFast:e.emaAlphaFast,changeThreshold:e.changeThreshold,fastDirection:1,deviationDepth:e.deviationDepth,deviationFactor:e.deviationFactor,label:'rtt'}),e.useBrowserEstimation){const t=()=>{const t=Ci();t&&this.throughput.next(t);const e=Ii();s(e)&&this.rtt.next(e)};_i&&'onchange'in _i&&this.subscription.add(r(_i,'change').subscribe(t)),t()}this.subscription.add(this.throughput.smoothed$.subscribe((t=>{Di('one_video_throughput',t.toFixed(0))}))),this.subscription.add(this.rtt.smoothed$.subscribe((t=>{Di('one_video_rtt',t.toFixed(0))}))),this.subscription.add(this.throughput.debounced$.subscribe(this.throughput$)),this.subscription.add(this.rtt.debounced$.subscribe(this.rtt$)),this.subscription.add(y({throughput:this.throughput.smoothed$,rtt:this.rtt.smoothed$}).pipe(h((({throughput:t,rtt:i})=>Li(t,i,e.rttPenaltyRequestSize))),f((t=>{const i=this.rttAdjustedThroughput$.getValue()||0;return Math.abs(t-i)/i>=e.changeThreshold}))).subscribe(this.rttAdjustedThroughput$))}destroy(){this.concurrentDownloads.clear(),this.subscription.unsubscribe()}trackXHR(t){let e=0,s=S();const a=new i;switch(this.subscription.add(a),this.concurrentDownloads.add(t),t.readyState){case 4:break;case 3:case 2:a.add(r(t,'progress').pipe(v()).subscribe((t=>{e=t.loaded,s=S()})));break;case 1:case 0:a.add(r(t,'loadstart').subscribe((()=>{e=0,s=S()})))}a.add(r(t,'loadend').subscribe((i=>{if(200===t.status){const t=i.loaded,a=S(),r=t-e,n=a-s;this.addRawSpeed(r,n,1)}this.concurrentDownloads.delete(t),a.unsubscribe()})))}trackStream(t){const e=t.getReader();if(!e)return void t.cancel('Could not get reader');let i=0;const s=S();let a=0,r=S();const n=i=>{this.concurrentDownloads.delete(t),e.releaseLock(),t.cancel(`Throughput Estimator error: ${i}`).catch((()=>{}))},o=async({done:d,value:h})=>{d?(this.addRawSpeed(i,S()-s,1),this.concurrentDownloads.delete(t)):h&&(i+=h.byteLength,a+=h.byteLength,a>=this.tuningConfig.streamMinSampleSize&&S()-r>=this.tuningConfig.streamMinSampleTime&&(this.addRawSpeed(a,S()-r,this.concurrentDownloads.size),a=0,r=S()),await(e?.read().then(o,n)))};this.concurrentDownloads.add(t),e?.read().then(o,n)}addRawSpeed(t,e,i=1){if(xi.sanityCheck(t,e)){const s=8*t/e;this.throughput.next(s*i)}}addRawThroughput(t){this.throughput.next(t)}addRawRtt(t){this.rtt.next(t)}static sanityCheck(t,e){const i=8*t/e;return!(!i||!isFinite(i))&&(!(i>1e6)&&(!(i<30)&&(!(t<10240)&&!(e<=20))))}static load(t){const e=(t=>{switch(Pi){case ki.LOCAL_STORAGE:return localStorage.getItem(t)??void 0;case ki.SESSION_STORAGE:return sessionStorage.getItem(t)??void 0;case ki.RUNTIME:return Ai.get(t);default:n(Pi)}})(t);if(s(e))return parseInt(e,10)??void 0}}const Ni={throughputEstimator:{emaAlphaSlow:.2,emaAlphaFast:.7,changeThreshold:.05,useBrowserEstimation:!0,rttPenaltyRequestSize:1048576,streamMinSampleSize:10240,streamMinSampleTime:300,deviationDepth:10,deviationFactor:.5},autoTrackSelection:{bitrateFactorAtEmptyBuffer:1.8,bitrateFactorAtFullBuffer:1.2,usePixelRatio:!0,limitByContainer:!0,containerSizeFactor:2,lazyQualitySwitch:!0,minBufferToSwitchUp:.3,considerPlaybackRate:!1,trackCooldown:3e3},dash:{forwardBufferTarget:6e4,forwardBufferTargetAuto:6e4,forwardBufferTargetManual:3e5,segmentRequestSize:1048576,representationSwitchForwardBufferGap:3e3,enableSubSegmentBufferFeeding:!0,segmentTimelineTolerance:100,useFetchPriorityHints:!0},live:{minBuffer:3e3,minBufferSegments:3,lowLatencyMinBuffer:1e3,lowLatencyMinBufferSegments:1},downloadBackoff:{bufferThreshold:100,start:100,factor:2,max:3e3,random:.1},enableTelemetryAtStart:!1,formatsToAvoid:[],disableChromecast:!1,chromecastReceiverId:void 0,useWebmBigRequest:!0,bigRequestMinInitSize:51200,bigRequestMinDataSize:1048576,stripRangeHeader:!0,flushShortLoopedBuffers:!0,insufficientBufferRuleMargin:1e4,dashSeekInSegmentDurationThreshold:18e4,dashSeekInSegmentAlwaysSeekDelta:1e4,endGapTolerance:300,stallIgnoreThreshold:33,gapWatchdogInterval:50,requestQuick:!1,useDashJs:!1,useHlsJs:!0,webrtc:{connectionRetryMaxNumber:3}};const Bi=({playbackState:t,seekState:e,playbackAbort$:r,looped$:n,position$:d})=>new b((u=>{let c;const l=t.transitionEnded$.pipe(f((t=>(t.from===P.PAUSED||t.from===P.STOPPED)&&t.to===P.PLAYING))),p=t.stateChangeEnded$.pipe(f((t=>t.from===P.PLAYING&&t.to===P.PAUSED))),m=e.stateChangeEnded$.pipe(f((({to:e})=>e.state===L.Requested&&(t.getTransition()?.from??t.getState())===P.PLAYING))),g=e.stateChangeEnded$.pipe(f((({from:e,to:i})=>e.state===L.Applying&&i.state===L.None&&(t.getTransition()?.from??t.getState())===P.PLAYING))),S=o(l,g).pipe(h((()=>d.getValue())),f(s)),b=o(o(p,m,r),n).pipe(h((()=>d.getValue())),f(s));return(new i).add(S.subscribe((t=>{c=t}))).add(b.subscribe((t=>{if(a(c)||c===t)return;const e={from:c,to:t};c=void 0,u.next(e)})))})),Mi={[D.SCREEN]:{vod:[...li?[R.HLS,R.HLS_ONDEMAND]:[],R.DASH_WEBM,R.DASH_SEP,R.DASH,R.DASH_ONDEMAND,...li?[]:[R.HLS,R.HLS_ONDEMAND],R.MPEG],live:li?[R.WEB_RTC_LIVE,R.HLS_LIVE,R.DASH_LIVE]:[R.WEB_RTC_LIVE,R.DASH_LIVE,R.HLS_LIVE]},[D.CHROMECAST]:{vod:[R.DASH_WEBM,R.DASH_SEP,R.DASH_ONDEMAND,R.HLS,R.HLS_ONDEMAND,R.MPEG],live:[R.HLS_LIVE]}};class Oi{subscription=new i;domContainer;providerContainer;chromecastInitializer;logger=new k;explicitInitialQuality;config;tuning;throughputEstimator;isPlaybackStarted=!1;initedAt;desiredState={playbackState:new z(P.STOPPED),seekState:new z({state:L.None}),volume:new z({volume:1,muted:!1}),videoTrack:new z(void 0),autoVideoTrackSwitching:new z(!0),autoVideoTrackLimits:new z({}),isLooped:new z(!1),playbackRate:new z(1),externalTextTracks:new z([]),currentTextTrack:new z(void 0),textTrackCuesSettings:new z({})};info={playbackState$:new t(P.STOPPED),position$:new t(0),duration$:new t(1/0),muted$:new t(!1),volume$:new t(1),availableQualities$:new t([]),availableQualitiesFps$:new t({}),currentQuality$:new t(void 0),isAutoQualityEnabled$:new t(!0),autoQualityLimitingAvailable$:new t(!1),autoQualityLimits$:new t({}),currentPlaybackRate$:new t(1),currentBuffer$:new t({start:0,end:0}),isBuffering$:new t(!0),isStalled$:new t(!1),isEnded$:new t(!1),isLooped$:new t(!1),isLive$:new t(void 0),liveTime$:new t(void 0),currentFormat$:new t(void 0),availableTextTracks$:new t([]),currentTextTrack$:new t(void 0),throughputEstimation$:new t(void 0),rttEstimation$:new t(void 0),videoBitrate$:new t(void 0),hostname$:new t(void 0),httpConnectionType$:new t(void 0),httpConnectionReused$:new t(void 0),chromecastState$:new t(_.NOT_AVAILABLE),chromecastDeviceName$:new t(void 0),intrinsicVideoSize$:new t(void 0)};events={inited$:new e,started$:new e,startAttempt$:new e,willPause$:new e,willResume$:new e,willDestruct$:new e,watchCoverageRecord$:new e,watchCoverageLive$:new e,managedError$:new e,fatalError$:new e,ended$:new e,looped$:new e,seeked$:new e,willSeek$:new e,firstBytes$:new e,firstFrame$:new e,canplay$:new e,log$:new e};experimental={element$:new t(void 0),enableDebugTelemetry$:new t(!1),dumpTelemetry:kt};constructor(t={}){if(this.initLogs(),this.tuning=(t=>{const e={};for(const i of Object.keys(Ni)){const s=Ni[i],a=t[i];Array.isArray(s)&&Array.isArray(a)?e[i]=a:e[i]='object'==typeof s&&'object'==typeof a?{...s,...a}:a??s}return e})(t),this.chromecastInitializer=new x({receiverApplicationId:t.chromecastReceiverId,isDisabled:t.disableChromecast,dependencies:{logger:this.logger}}),this.throughputEstimator=new xi(this.tuning.throughputEstimator),this.initChromecastSubscription(),this.initDesiredStateSubscriptions(),Proxy&&Reflect)return new Proxy(this,{get:(t,e,i)=>{const s=Reflect.get(t,e,i);return'function'!=typeof s?s:(...i)=>{try{return s.apply(t,i)}catch(t){const s=i.map((t=>JSON.stringify(t,((t,e)=>{const i=typeof e;return['number','string','boolean'].includes(i)?e:null===e?null:`<${i}>`})))),a=`Player.${String(e)}`,r=`Exception calling ${a} (${s.join(', ')})`;throw this.events.fatalError$.next({id:a,message:r,thrown:t}),t}}}})}initVideo(t){return this.config=t,this.domContainer=(t=>{const e='string'==typeof t.container?document.getElementById(t.container):t.container;return l(e,`Wrong container or containerId {${t.container}}`),e})(t),this.chromecastInitializer.contentId=t.meta?.videoId,this.providerContainer=new Ei({screenFormatsPriority:[...Mi[D.SCREEN].live,...Mi[D.SCREEN].vod],chromecastFormatsPriority:[...Mi[D.CHROMECAST].live,...Mi[D.CHROMECAST].vod],sources:t.sources,meta:t.meta??{},container:this.domContainer,desiredState:this.desiredState,dependencies:{throughputEstimator:this.throughputEstimator,chromecastInitializer:this.chromecastInitializer,logger:this.logger},tuning:this.tuning}),this.initProviderContainerSubscription(this.providerContainer),this.initStartingVideoTrack(this.providerContainer),this.providerContainer.init(),this.initDebugTelemetry(),this}destroy(){this.events.willDestruct$.next(),this.providerContainer?.destroy(),this.throughputEstimator.destroy(),this.chromecastInitializer.destroy(),this.subscription.unsubscribe()}play(){const t=this.desiredState.playbackState;return t.getState()!==P.PLAYING&&t.startTransitionTo(P.PLAYING),this}pause(){const t=this.desiredState.playbackState;return t.getState()!==P.PAUSED&&t.startTransitionTo(P.PAUSED),this}stop(){const t=this.desiredState.playbackState;return t.getState()!==P.STOPPED&&t.startTransitionTo(P.STOPPED),this}seekTime(t,e=!0){return this.events.willSeek$.next({from:this.getExactTime(),to:t}),this.desiredState.seekState.setState({state:L.Requested,position:1e3*t,forcePrecise:e}),this}seekPercent(t){const e=this.info.duration$.getValue();return isFinite(e)&&this.seekTime(Math.abs(e)*t),this}setVolume(t){return this.chromecastInitializer.castState$.getValue()===_.CONNECTED?this.chromecastInitializer.setVolume(t):this.desiredState.volume.startTransitionTo({volume:t,muted:this.desiredState.volume.getState().muted}),this}setMuted(t){return this.chromecastInitializer.castState$.getValue()===_.CONNECTED?this.chromecastInitializer.setMuted(t):this.desiredState.volume.startTransitionTo({volume:this.desiredState.volume.getState().volume,muted:t}),this}setQuality(t){l(this.providerContainer);const e=this.providerContainer.providerOutput.availableVideoTracks$.getValue();e.length||(this.explicitInitialQuality=t);const i=e.find((e=>e.quality===t));return i&&this.desiredState.videoTrack.startTransitionTo(i.id),this}setAutoQuality(t){return this.desiredState.autoVideoTrackSwitching.startTransitionTo(t),this}setAutoQualityLimits(t){return this.desiredState.autoVideoTrackLimits.setState(t),this}setPlaybackRate(t){l(this.providerContainer);const e=this.providerContainer?.providerOutput.element$.getValue();return e&&(this.desiredState.playbackRate.setState(t),e.playbackRate=t),this}setExternalTextTracks(t){return this.desiredState.externalTextTracks.startTransitionTo(t.map((t=>({type:'external',...t})))),this}selectTextTrack(t){return(void 0===t||this.providerContainer?.providerOutput.availableTextTracks$.getValue().find((e=>e.id===t)))&&this.desiredState.currentTextTrack.startTransitionTo(t),this}setTextTrackCueSettings(t){return this.desiredState.textTrackCuesSettings.startTransitionTo(t),this}setLooped(t){return this.desiredState.isLooped.startTransitionTo(t),this}toggleChromecast(){this.chromecastInitializer.toggleConnection()}getExactTime(){l(this.providerContainer);const t=this.providerContainer.providerOutput.element$.getValue();if(a(t))return this.info.position$.getValue();const e=this.desiredState.seekState.getState(),i=e.state===L.None?void 0:e.position;return s(i)?i/1e3:t.currentTime}getAllLogs(){return this.logger.getAllLogs()}initDesiredStateSubscriptions(){this.subscription.add(o(this.desiredState.playbackState.stateChangeStarted$,this.desiredState.playbackState.forceChanged$).pipe(h((t=>t.to))).subscribe(this.info.playbackState$)).add(this.desiredState.isLooped.stateChangeEnded$.pipe(h((t=>t.to))).subscribe(this.info.isLooped$)).add(this.desiredState.playbackRate.stateChangeEnded$.pipe(h((t=>t.to))).subscribe(this.info.currentPlaybackRate$)).add(this.desiredState.autoVideoTrackSwitching.stateChangeEnded$.pipe(h((t=>t.to))).subscribe(this.info.isAutoQualityEnabled$)).add(this.desiredState.autoVideoTrackLimits.stateChangeEnded$.pipe(h((t=>t.to))).subscribe(this.info.autoQualityLimits$));const t=new i;this.subscription.add(t),this.subscription.add(this.desiredState.playbackState.stateChangeStarted$.pipe(f((t=>t.to===P.PLAYING)),f((()=>!this.isPlaybackStarted))).subscribe((()=>{this.initedAt=S(),this.events.inited$.next(),t.unsubscribe(),t.add(this.desiredState.playbackState.stateChangeEnded$.pipe(f((t=>t.to===P.PLAYING||t.to===P.PAUSED)),p(0),v()).subscribe((t=>{const e=t.to===P.PLAYING,i=this.info.muted$.getValue(),s=e?i?C.SuccessWithoutSound:C.SuccessWithSound:C.Failed;this.events.startAttempt$.next(s)})))}))),this.subscription.add(this.desiredState.playbackState.stateChangeEnded$.pipe(f((t=>t.to===P.PLAYING))).subscribe((()=>{if(!this.isPlaybackStarted){const t=this.info.muted$.getValue();this.isPlaybackStarted=!0,this.events.started$.next(t)}}))).add(this.desiredState.playbackState.stateChangeStarted$.subscribe((t=>{switch(t.to){case P.PAUSED:this.events.willPause$.next();break;case P.PLAYING:this.isPlaybackStarted&&this.events.willResume$.next()}})))}initProviderContainerSubscription(e){this.subscription.add(e.providerOutput.willSeekEvent$.subscribe((()=>{const t=this.desiredState.seekState.getState();t.state===L.Requested?this.desiredState.seekState.setState({...t,state:L.Applying}):this.events.managedError$.next({id:`WillSeekIn${t.state}`,message:'Received unexpeceted willSeek$'})}))).add(e.providerOutput.seekedEvent$.subscribe((()=>{this.desiredState.seekState.getState().state===L.Applying&&(this.desiredState.seekState.setState({state:L.None}),this.events.seeked$.next())}))).add(e.current$.pipe(h((t=>t.type))).subscribe(this.info.currentFormat$)).add(e.current$.pipe(h((t=>t.destination)),c()).subscribe((()=>{this.isPlaybackStarted=!1}))).add(e.providerOutput.availableVideoTracks$.pipe(h((t=>t.map((({quality:t})=>t)).sort(((t,e)=>Y(t)?1:Y(e)?-1:q(e,t)?1:-1))))).subscribe(this.info.availableQualities$)).add(e.providerOutput.availableVideoTracks$.subscribe((t=>{const e={};for(const i of t)i.fps&&(e[i.quality]=i.fps);this.info.availableQualitiesFps$.next(e)}))).add(e.providerOutput.currentVideoTrack$.subscribe((t=>{this.info.currentQuality$.next(t?.quality),this.info.videoBitrate$.next(t?.bitrate);const i=e.providerOutput.element$.getValue();i&&this.info.intrinsicVideoSize$.next({width:i.videoWidth,height:i.videoHeight})}))).add(e.providerOutput.hostname$.pipe(c()).subscribe(this.info.hostname$)).add(e.providerOutput.httpConnectionType$.pipe(c()).subscribe(this.info.httpConnectionType$)).add(e.providerOutput.httpConnectionReused$.pipe(c()).subscribe(this.info.httpConnectionReused$)).add(e.providerOutput.currentTextTrack$.subscribe(this.info.currentTextTrack$)).add(e.providerOutput.availableTextTracks$.subscribe(this.info.availableTextTracks$)).add(e.providerOutput.autoVideoTrackLimitingAvailable$.subscribe(this.info.autoQualityLimitingAvailable$)).add(e.providerOutput.currentBuffer$.pipe(h((t=>t?{start:t.from,end:t.to}:{start:0,end:0}))).subscribe(this.info.currentBuffer$)).add(e.providerOutput.duration$.subscribe(this.info.duration$)).add(e.providerOutput.isBuffering$.subscribe(this.info.isBuffering$)).add(e.providerOutput.isLive$.subscribe(this.info.isLive$)).add(e.providerOutput.liveTime$.subscribe(this.info.liveTime$)).add(e.providerOutput.volume$.pipe(h((t=>t.muted)),c()).subscribe(this.info.muted$)).add(e.providerOutput.volume$.pipe(h((t=>t.volume)),c()).subscribe(this.info.volume$)).add((({seekState:t,position$:e})=>o(t.stateChangeEnded$.pipe(h((({to:t})=>t.state===L.None?void 0:(t.position??NaN)/1e3)),f(s)),e.pipe(f((()=>t.getState().state===L.None)))))({seekState:this.desiredState.seekState,position$:e.providerOutput.position$}).subscribe(this.info.position$)).add(o(e.providerOutput.endedEvent$.pipe(g(!0)),e.providerOutput.seekedEvent$.pipe(g(!1))).pipe(c()).subscribe(this.info.isEnded$)).add(e.providerOutput.endedEvent$.subscribe(this.events.ended$)).add(e.providerOutput.loopedEvent$.subscribe(this.events.looped$)).add(e.providerError$.subscribe(this.events.managedError$)).add(e.noAvailableProvidersError$.pipe(h((t=>({id:'NoProviders',message:'No suitable providers or all providers failed'})))).subscribe(this.events.fatalError$)).add(e.providerOutput.element$.subscribe(this.experimental.element$)).add(e.providerOutput.firstBytesEvent$.pipe(v(),h((()=>S()-this.initedAt))).subscribe(this.events.firstBytes$)).add(e.providerOutput.firstFrameEvent$.pipe(v(),h((()=>S()-this.initedAt))).subscribe(this.events.firstFrame$)).add(e.providerOutput.canplay$.pipe(v(),h((()=>S()-this.initedAt))).subscribe(this.events.canplay$)).add(this.throughputEstimator.throughput$.subscribe(this.info.throughputEstimation$)).add(this.throughputEstimator.rtt$.subscribe(this.info.rttEstimation$));const a=new t(!1);this.subscription.add(e.providerOutput.seekedEvent$.subscribe((()=>a.next(!1)))).add(e.providerOutput.willSeekEvent$.subscribe((()=>a.next(!0))));const n=new t(!0);this.subscription.add(e.current$.subscribe((()=>n.next(!0)))).add(this.desiredState.playbackState.stateChangeEnded$.pipe(f((({to:t})=>t===P.PLAYING)),v()).subscribe((()=>n.next(!1))));let d=0;const u=o(e.providerOutput.isBuffering$,a,n).pipe(h((()=>{const t=e.providerOutput.isBuffering$.getValue(),i=a.getValue()||n.getValue();return t&&!i})),c());this.subscription.add(u.subscribe((t=>{t?d=window.setTimeout((()=>this.info.isStalled$.next(!0)),this.tuning.stallIgnoreThreshold):(window.clearTimeout(d),this.info.isStalled$.next(!1))})));const p=new i;this.subscription.add(p);const m=o(r(window,'beforeunload'),this.events.willDestruct$,e.current$.pipe(f((t=>Boolean(t?.provider)))));e.providerOutput.isLive$.pipe(c()).subscribe((t=>{switch(l(this.providerContainer),p.unsubscribe(),t){case!0:p.add(Bi({seekState:this.desiredState.seekState,playbackState:this.desiredState.playbackState,playbackAbort$:m,looped$:this.events.looped$,position$:this.providerContainer.providerOutput.liveTime$}).pipe(h((({from:t,to:e})=>({start:t,end:e})))).subscribe(this.events.watchCoverageLive$));break;case!1:p.add(Bi({seekState:this.desiredState.seekState,playbackState:this.desiredState.playbackState,looped$:this.events.looped$,playbackAbort$:m,position$:this.providerContainer.providerOutput.position$}).pipe(h((({from:t,to:e})=>({start:t,end:e})))).subscribe(this.events.watchCoverageRecord$))}}))}initChromecastSubscription(){this.subscription.add(this.chromecastInitializer.castState$.subscribe(this.info.chromecastState$)),this.subscription.add(this.chromecastInitializer.connection$.pipe(h((t=>t?.castDevice.friendlyName))).subscribe(this.info.chromecastDeviceName$)),this.subscription.add(this.chromecastInitializer.errorEvent$.subscribe(this.events.managedError$))}initStartingVideoTrack(t){const e=new i;this.subscription.add(e),this.subscription.add(t.current$.pipe(c(((t,e)=>t.provider===e.provider))).subscribe((()=>{e.unsubscribe(),e.add(t.providerOutput.availableVideoTracks$.pipe(f((t=>t.length>0)),v()).subscribe((t=>{this.setStartingVideoTrack(t)})))})))}setStartingVideoTrack(t){let e;this.explicitInitialQuality&&(e=t.find((({quality:t})=>t===this.explicitInitialQuality)),this.explicitInitialQuality=void 0),e||(e=_t(t,{container:this.domContainer.getBoundingClientRect(),throughput:this.throughputEstimator.throughput$.getValue(),tuning:this.tuning.autoTrackSelection,limits:this.desiredState.autoVideoTrackLimits.getState(),playbackRate:this.info.currentPlaybackRate$.getValue(),forwardBufferHealth:0})),this.desiredState.videoTrack.startTransitionTo(e.id),this.info.currentQuality$.next(e.quality),this.info.videoBitrate$.next(e.bitrate)}initLogs(){this.subscription.add(o(this.desiredState.videoTrack.stateChangeStarted$.pipe(h((t=>({transition:t,entity:'quality',type:'start'})))),this.desiredState.videoTrack.stateChangeEnded$.pipe(h((t=>({transition:t,entity:'quality',type:'end'})))),this.desiredState.autoVideoTrackSwitching.stateChangeStarted$.pipe(h((t=>({transition:t,entity:'autoQualityEnabled',type:'start'})))),this.desiredState.autoVideoTrackSwitching.stateChangeEnded$.pipe(h((t=>({transition:t,entity:'autoQualityEnabled',type:'end'})))),this.desiredState.seekState.stateChangeStarted$.pipe(h((t=>({transition:t,entity:'seekState',type:'start'})))),this.desiredState.seekState.stateChangeEnded$.pipe(h((t=>({transition:t,entity:'seekState',type:'end'})))),this.desiredState.playbackState.stateChangeStarted$.pipe(h((t=>({transition:t,entity:'playbackState',type:'start'})))),this.desiredState.playbackState.stateChangeEnded$.pipe(h((t=>({transition:t,entity:'playbackState',type:'end'}))))).pipe(h((t=>({component:'desiredState',message:`[${t.entity} change] ${t.type}: ${JSON.stringify(t.transition)}`})))).subscribe(this.logger.log)),this.subscription.add(this.logger.log$.subscribe(this.events.log$))}initDebugTelemetry(){const t=this.providerContainer?.providerOutput;l(this.providerContainer),l(t),wt={},this.experimental.enableDebugTelemetry$.next(this.tuning.enableTelemetryAtStart),[this.experimental.enableDebugTelemetry$.subscribe((t=>{$t=t})),this.providerContainer.current$.subscribe((({type:t})=>At('provider',t))),t.duration$.subscribe((t=>At('duration',t))),t.availableVideoTracks$.pipe(f((t=>!!t.length)),v()).subscribe((t=>At('tracks',t))),this.events.fatalError$.subscribe(new Pt('fatalError')),this.events.managedError$.subscribe(new Pt('managedError')),t.position$.subscribe(new Pt('position')),t.currentVideoTrack$.pipe(h((t=>t?.quality))).subscribe(new Pt('quality')),this.info.currentBuffer$.subscribe(new Pt('buffer')),t.isBuffering$.subscribe(new Pt('isBuffering'))].forEach((t=>this.subscription.add(t))),At('codecs',Object.keys(hi).filter((t=>hi[t])))}}const Ui='@vkontakte/videoplayer-core@2.0.71';export{_ as ChromecastState,I as HttpConnectionType,P as PlaybackState,Oi as Player,Ui as SDK_VERSION,C as StartStatus,R as VideoFormat,M as VideoQuality};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}