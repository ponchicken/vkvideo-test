{"ast":null,"code":"import { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { ScrollContext } from \"../AppRoot/ScrollContext\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nexport var ScrollSaver = function ScrollSaver(_ref) {\n  var children = _ref.children,\n      initialScroll = _ref.initialScroll,\n      saveScroll = _ref.saveScroll;\n\n  var _React$useContext = React.useContext(ScrollContext),\n      getScroll = _React$useContext.getScroll,\n      scrollTo = _React$useContext.scrollTo;\n\n  useIsomorphicLayoutEffect(function () {\n    if (typeof initialScroll === \"number\") {\n      scrollTo(0, initialScroll);\n    }\n\n    return function () {\n      return saveScroll(getScroll().y);\n    };\n  }, []);\n  return createScopedElement(React.Fragment, null, children);\n};","map":{"version":3,"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,aAAT;AACA,SAASC,yBAAT;AAOA,OAAO,IAAMC,WAAuC,GAAG,SAA1CA,WAA0C,OAIjD;EAAA,IAHJC,QAGI,QAHJA,QAGI;EAAA,IAFJC,aAEI,QAFJA,aAEI;EAAA,IADJC,UACI,QADJA,UACI;;EACJ,wBAAgCN,KAAK,CAACO,UAANP,CAAiBC,aAAjBD,CAAhC;EAAA,IAAQQ,SAAR,qBAAQA,SAAR;EAAA,IAAmBC,QAAnB,qBAAmBA,QAAnB;;EACAP,yBAAyB,CAAC,YAAM;IAC9B,IAAI,OAAOG,aAAP,KAAyB,QAA7B,EAAuC;MACrCI,QAAQ,CAAC,CAAD,EAAIJ,aAAJ,CAARI;IACD;;IACD,OAAO;MAAA,OAAMH,UAAU,CAACE,SAAS,GAAGE,CAAb,CAAhB;IAAP;EAJuB,GAKtB,EALsB,CAAzBR;EAMA,OAAOS,oBAACX,KAAD,CAAOY,QAAP,QAAiBR,QAAjB,CAAP;AAZK","names":["React","ScrollContext","useIsomorphicLayoutEffect","ScrollSaver","children","initialScroll","saveScroll","useContext","getScroll","scrollTo","y","createScopedElement","Fragment"],"sources":["/Users/al.balandin/code/vkvideo-test/node_modules/@vkontakte/vkui/src/components/Epic/ScrollSaver.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { ScrollContext } from \"../AppRoot/ScrollContext\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\n\nexport interface ScrollSaverProps {\n  initialScroll?: number;\n  saveScroll: (scroll: number) => any;\n}\n\nexport const ScrollSaver: React.FC<ScrollSaverProps> = ({\n  children,\n  initialScroll,\n  saveScroll,\n}) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === \"number\") {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n"]},"metadata":{},"sourceType":"module"}