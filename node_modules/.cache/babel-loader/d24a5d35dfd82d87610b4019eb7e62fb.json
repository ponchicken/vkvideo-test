{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"align\", \"controlSize\", \"mode\", \"stretched\", \"before\", \"className\", \"style\", \"getRef\", \"getRootRef\", \"onClick\", \"appearance\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport Button from \"../Button/Button\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\n\nvar File = function File(props) {\n  var children = props.children,\n      align = props.align,\n      controlSize = props.controlSize,\n      mode = props.mode,\n      stretched = props.stretched,\n      before = props.before,\n      className = props.className,\n      style = props.style,\n      getRef = props.getRef,\n      getRootRef = props.getRootRef,\n      _onClick = props.onClick,\n      appearance = props.appearance,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var platform = usePlatform();\n  var inputRef = useExternRef(getRef);\n  return createScopedElement(Button, {\n    align: align,\n    vkuiClass: getClassName(\"File\", platform),\n    className: className,\n    stretched: stretched,\n    mode: mode,\n    appearance: appearance,\n    size: controlSize,\n    before: before,\n    style: style,\n    getRootRef: getRootRef,\n    disabled: restProps.disabled,\n    type: \"button\",\n    onClick: function onClick(e) {\n      var _inputRef$current;\n\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.click();\n      _onClick && _onClick(e);\n    }\n  }, createScopedElement(\"input\", _extends({}, restProps, {\n    vkuiClass: \"File__input\",\n    type: \"file\",\n    ref: inputRef\n  })), children);\n};\n\nFile.defaultProps = {\n  children: \"Выберите файл\",\n  align: \"left\"\n}; // eslint-disable-next-line import/no-default-export\n\nexport default File;","map":{"version":3,"mappings":";;;;AACA,SAASA,YAAT;AACA,OAAOC,MAAP;AAEA,SAASC,WAAT;AACA,SAASC,YAAT;;AAYA,IAAMC,IAAwC,GAAG,SAA3CA,IAA2C,CAACC,KAAD,EAAsB;EACrE,IACEC,QADF,GAcID,KAdJ,CACEC,QADF;EAAA,IAEEC,KAFF,GAcIF,KAdJ,CAEEE,KAFF;EAAA,IAGEC,WAHF,GAcIH,KAdJ,CAGEG,WAHF;EAAA,IAIEC,IAJF,GAcIJ,KAdJ,CAIEI,IAJF;EAAA,IAKEC,SALF,GAcIL,KAdJ,CAKEK,SALF;EAAA,IAMEC,MANF,GAcIN,KAdJ,CAMEM,MANF;EAAA,IAOEC,SAPF,GAcIP,KAdJ,CAOEO,SAPF;EAAA,IAQEC,KARF,GAcIR,KAdJ,CAQEQ,KARF;EAAA,IASEC,MATF,GAcIT,KAdJ,CASES,MATF;EAAA,IAUEC,UAVF,GAcIV,KAdJ,CAUEU,UAVF;EAAA,IAWEC,QAXF,GAcIX,KAdJ,CAWEW,OAXF;EAAA,IAYEC,UAZF,GAcIZ,KAdJ,CAYEY,UAZF;EAAA,IAaKC,SAbL,4BAcIb,KAdJ;;EAgBA,IAAMc,QAAQ,GAAGjB,WAAW,EAA5B;EACA,IAAMkB,QAAQ,GAAGjB,YAAY,CAACW,MAAD,CAA7B;EAEA,OACEO,oBAACpB,MAAD;IACEM,KAAK,EAAEA,KADT;IAEEe,SAAS,EAAEtB,YAAY,CAAC,MAAD,EAASmB,QAAT,CAFzB;IAGEP,SAAS,EAAEA,SAHb;IAIEF,SAAS,EAAEA,SAJb;IAKED,IAAI,EAAEA,IALR;IAMEQ,UAAU,EAAEA,UANd;IAOEM,IAAI,EAAEf,WAPR;IAQEG,MAAM,EAAEA,MARV;IASEE,KAAK,EAAEA,KATT;IAUEE,UAAU,EAAEA,UAVd;IAWES,QAAQ,EAAEN,SAAS,CAACM,QAXtB;IAYEC,IAAI,EAAC,QAZP;IAaET,OAAO,EAAE,iBAACU,CAAD,EAAO;MAAA;;MACd,6BAAQ,CAACC,OAAT,wEAAkBC,KAAlB;MACAZ,QAAO,IAAIA,QAAO,CAACU,CAAD,CAAlBV;IACD;EAhBH,GAkBEK,0CACMH,SADN;IAEEI,SAAS,EAAC,aAFZ;IAGEG,IAAI,EAAC,MAHP;IAIEI,GAAG,EAAET;EAJP,GAlBF,EAwBGd,QAxBH,CADF;AApBF;;AAkDAF,IAAI,CAAC0B,YAAL1B,GAAoB;EAClBE,QAAQ,EAAE,eADQ;EAElBC,KAAK,EAAE;AAFW,CAApBH,C,CAKA;;AACA,eAAeA,IAAf","names":["getClassName","Button","usePlatform","useExternRef","File","props","children","align","controlSize","mode","stretched","before","className","style","getRef","getRootRef","onClick","appearance","restProps","platform","inputRef","createScopedElement","vkuiClass","size","disabled","type","e","current","click","ref","defaultProps"],"sources":["/Users/al.balandin/code/vkvideo-test/node_modules/@vkontakte/vkui/src/components/File/File.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport Button, { VKUIButtonProps } from \"../Button/Button\";\nimport { HasRef, HasRootRef } from \"../../types\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport \"./File.css\";\n\nexport interface FileProps\n  extends Omit<VKUIButtonProps, \"size\" | \"type\">,\n    Omit<React.InputHTMLAttributes<HTMLInputElement>, \"onClick\" | \"type\">,\n    Pick<React.HTMLAttributes<HTMLElement>, \"onClick\">,\n    HasRef<HTMLInputElement>,\n    HasRootRef<HTMLElement> {\n  controlSize?: VKUIButtonProps[\"size\"];\n}\n\nconst File: React.FunctionComponent<FileProps> = (props: FileProps) => {\n  const {\n    children,\n    align,\n    controlSize,\n    mode,\n    stretched,\n    before,\n    className,\n    style,\n    getRef,\n    getRootRef,\n    onClick,\n    appearance,\n    ...restProps\n  } = props;\n\n  const platform = usePlatform();\n  const inputRef = useExternRef(getRef);\n\n  return (\n    <Button\n      align={align}\n      vkuiClass={getClassName(\"File\", platform)}\n      className={className}\n      stretched={stretched}\n      mode={mode}\n      appearance={appearance}\n      size={controlSize}\n      before={before}\n      style={style}\n      getRootRef={getRootRef}\n      disabled={restProps.disabled}\n      type=\"button\"\n      onClick={(e) => {\n        inputRef.current?.click();\n        onClick && onClick(e);\n      }}\n    >\n      <input\n        {...restProps}\n        vkuiClass=\"File__input\"\n        type=\"file\"\n        ref={inputRef}\n      />\n      {children}\n    </Button>\n  );\n};\n\nFile.defaultProps = {\n  children: \"Выберите файл\",\n  align: \"left\",\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default File;\n"]},"metadata":{},"sourceType":"module"}