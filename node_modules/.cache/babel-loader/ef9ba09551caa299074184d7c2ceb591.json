{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"primary\", \"label\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport Tappable from \"../Tappable/Tappable\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { getTitleFromChildren, isPrimitiveReactNode } from \"../../lib/utils\";\nimport { IOS, VKCOM, ANDROID } from \"../../lib/platform\";\nimport Text from \"../Typography/Text/Text\";\nimport Title from \"../Typography/Title/Title\";\n\nvar ButtonTypography = function ButtonTypography(_ref) {\n  var primary = _ref.primary,\n      children = _ref.children;\n  var platform = usePlatform();\n\n  if (platform === IOS) {\n    return createScopedElement(Title, {\n      Component: \"span\",\n      level: \"3\",\n      weight: primary ? \"1\" : \"3\"\n    }, children);\n  }\n\n  return createScopedElement(Text, {\n    weight: platform === VKCOM ? \"regular\" : \"medium\"\n  }, children);\n};\n\nvar warn = warnOnce(\"PanelHeaderButton\");\nexport var PanelHeaderButton = function PanelHeaderButton(_ref2) {\n  var children = _ref2.children,\n      _ref2$primary = _ref2.primary,\n      primary = _ref2$primary === void 0 ? false : _ref2$primary,\n      label = _ref2.label,\n      restProps = _objectWithoutProperties(_ref2, _excluded);\n\n  var isPrimitive = isPrimitiveReactNode(children);\n  var isPrimitiveLabel = isPrimitiveReactNode(label);\n  var platform = usePlatform();\n  var hoverMode;\n  var activeMode;\n\n  switch (platform) {\n    case ANDROID:\n      hoverMode = \"background\";\n      activeMode = \"background\";\n      break;\n\n    case IOS:\n      hoverMode = \"background\";\n      activeMode = \"opacity\";\n      break;\n\n    case VKCOM:\n      hoverMode = \"PanelHeaderButton--hover\";\n      activeMode = \"PanelHeaderButton--active\";\n  }\n\n  if (process.env.NODE_ENV === \"development\") {\n    var hasAccessibleName = Boolean(getTitleFromChildren(children) || getTitleFromChildren(label) || restProps[\"aria-label\"] || restProps[\"aria-labelledby\"]);\n\n    if (!hasAccessibleName) {\n      warn(\"a11y: У кнопки нет названия, которое может прочитать скринридер, и она недоступна для части пользователей. Замените содержимое на текст или добавьте описание действия с помощью пропа aria-label.\");\n    }\n  }\n\n  return createScopedElement(Tappable, _extends({}, restProps, {\n    hoverMode: hoverMode,\n    Component: restProps.href ? \"a\" : \"button\",\n    activeEffectDelay: 200,\n    activeMode: activeMode,\n    vkuiClass: classNames(getClassName(\"PanelHeaderButton\", platform), {\n      \"PanelHeaderButton--primary\": primary,\n      \"PanelHeaderButton--primitive\": isPrimitive,\n      \"PanelHeaderButton--notPrimitive\": !isPrimitive && !isPrimitiveLabel\n    })\n  }), isPrimitive ? createScopedElement(ButtonTypography, {\n    primary: primary\n  }, children) : children, isPrimitiveLabel ? createScopedElement(ButtonTypography, {\n    primary: primary\n  }, label) : label);\n};","map":{"version":3,"mappings":"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","names":["Tappable","getClassName","classNames","warnOnce","usePlatform","getTitleFromChildren","isPrimitiveReactNode","IOS","VKCOM","ANDROID","Text","Title","ButtonTypography","primary","children","platform","createScopedElement","Component","level","weight","warn","PanelHeaderButton","label","restProps","isPrimitive","isPrimitiveLabel","hoverMode","activeMode","process","env","NODE_ENV","hasAccessibleName","Boolean","href","activeEffectDelay","vkuiClass"],"sources":["/Users/al.balandin/code/vkvideo-test/node_modules/@vkontakte/vkui/src/components/PanelHeaderButton/PanelHeaderButton.tsx"],"sourcesContent":["import * as React from \"react\";\nimport Tappable, { TappableProps } from \"../Tappable/Tappable\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { getTitleFromChildren, isPrimitiveReactNode } from \"../../lib/utils\";\nimport { IOS, VKCOM, ANDROID } from \"../../lib/platform\";\nimport Text from \"../Typography/Text/Text\";\nimport Title from \"../Typography/Title/Title\";\nimport \"./PanelHeaderButton.css\";\n\nexport interface PanelHeaderButtonProps extends Omit<TappableProps, \"label\"> {\n  primary?: boolean;\n  label?: React.ReactNode;\n}\n\ninterface ButtonTypographyProps extends React.AllHTMLAttributes<HTMLElement> {\n  primary?: PanelHeaderButtonProps[\"primary\"];\n}\n\nconst ButtonTypography: React.FC<ButtonTypographyProps> = ({\n  primary,\n  children,\n}: ButtonTypographyProps) => {\n  const platform = usePlatform();\n\n  if (platform === IOS) {\n    return (\n      <Title Component=\"span\" level=\"3\" weight={primary ? \"1\" : \"3\"}>\n        {children}\n      </Title>\n    );\n  }\n\n  return (\n    <Text weight={platform === VKCOM ? \"regular\" : \"medium\"}>{children}</Text>\n  );\n};\n\nconst warn = warnOnce(\"PanelHeaderButton\");\nexport const PanelHeaderButton: React.FC<PanelHeaderButtonProps> = ({\n  children,\n  primary = false,\n  label,\n  ...restProps\n}: PanelHeaderButtonProps) => {\n  const isPrimitive = isPrimitiveReactNode(children);\n  const isPrimitiveLabel = isPrimitiveReactNode(label);\n  const platform = usePlatform();\n\n  let hoverMode;\n  let activeMode;\n\n  switch (platform) {\n    case ANDROID:\n      hoverMode = \"background\";\n      activeMode = \"background\";\n      break;\n    case IOS:\n      hoverMode = \"background\";\n      activeMode = \"opacity\";\n      break;\n    case VKCOM:\n      hoverMode = \"PanelHeaderButton--hover\";\n      activeMode = \"PanelHeaderButton--active\";\n  }\n\n  if (process.env.NODE_ENV === \"development\") {\n    const hasAccessibleName = Boolean(\n      getTitleFromChildren(children) ||\n        getTitleFromChildren(label) ||\n        restProps[\"aria-label\"] ||\n        restProps[\"aria-labelledby\"]\n    );\n\n    if (!hasAccessibleName) {\n      warn(\n        \"a11y: У кнопки нет названия, которое может прочитать скринридер, и она недоступна для части пользователей. Замените содержимое на текст или добавьте описание действия с помощью пропа aria-label.\"\n      );\n    }\n  }\n\n  return (\n    <Tappable\n      {...restProps}\n      hoverMode={hoverMode}\n      Component={restProps.href ? \"a\" : \"button\"}\n      activeEffectDelay={200}\n      activeMode={activeMode}\n      vkuiClass={classNames(getClassName(\"PanelHeaderButton\", platform), {\n        \"PanelHeaderButton--primary\": primary,\n        \"PanelHeaderButton--primitive\": isPrimitive,\n        \"PanelHeaderButton--notPrimitive\": !isPrimitive && !isPrimitiveLabel,\n      })}\n    >\n      {isPrimitive ? (\n        <ButtonTypography primary={primary}>{children}</ButtonTypography>\n      ) : (\n        children\n      )}\n      {isPrimitiveLabel ? (\n        <ButtonTypography primary={primary}>{label}</ButtonTypography>\n      ) : (\n        label\n      )}\n    </Tappable>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}