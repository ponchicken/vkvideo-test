{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"viewDate\", \"value\", \"weekStartsOn\", \"onDayChange\", \"isDaySelected\", \"isDayActive\", \"isDaySelectionEnd\", \"isDaySelectionStart\", \"onDayEnter\", \"onDayLeave\", \"isDayHinted\", \"isHintedDaySelectionStart\", \"isHintedDaySelectionEnd\", \"isDayFocused\", \"isDayDisabled\", \"size\", \"showNeighboringMonth\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { isSameDay, isSameMonth } from \"date-fns\";\nimport { CalendarDay } from \"../CalendarDay/CalendarDay\";\nimport { getDaysNames, getWeeks } from \"../../lib/calendar\";\nimport { LocaleProviderContext } from \"../LocaleProviderContext/LocaleProviderContext\";\nimport { classNames } from \"../../lib/classNames\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nexport var CalendarDays = function CalendarDays(_ref) {\n  var viewDate = _ref.viewDate,\n      value = _ref.value,\n      weekStartsOn = _ref.weekStartsOn,\n      onDayChange = _ref.onDayChange,\n      isDaySelected = _ref.isDaySelected,\n      isDayActive = _ref.isDayActive,\n      isDaySelectionEnd = _ref.isDaySelectionEnd,\n      isDaySelectionStart = _ref.isDaySelectionStart,\n      onDayEnter = _ref.onDayEnter,\n      onDayLeave = _ref.onDayLeave,\n      isDayHinted = _ref.isDayHinted,\n      isHintedDaySelectionStart = _ref.isHintedDaySelectionStart,\n      isHintedDaySelectionEnd = _ref.isHintedDaySelectionEnd,\n      isDayFocused = _ref.isDayFocused,\n      isDayDisabled = _ref.isDayDisabled,\n      size = _ref.size,\n      _ref$showNeighboringM = _ref.showNeighboringMonth,\n      showNeighboringMonth = _ref$showNeighboringM === void 0 ? false : _ref$showNeighboringM,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var locale = React.useContext(LocaleProviderContext);\n  var ref = React.useRef(null);\n\n  var _React$useState = React.useState(new Date()),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      now = _React$useState2[0];\n\n  var weeks = React.useMemo(function () {\n    return getWeeks(viewDate, weekStartsOn);\n  }, [weekStartsOn, viewDate]);\n  var daysNames = React.useMemo(function () {\n    return getDaysNames(now, weekStartsOn, locale);\n  }, [locale, now, weekStartsOn]);\n  var handleDayChange = React.useCallback(function (date) {\n    var _ref$current;\n\n    onDayChange(date);\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();\n  }, [onDayChange]);\n  return createScopedElement(\"div\", _extends({}, props, {\n    vkuiClass: \"CalendarDays\",\n    ref: ref\n  }), createScopedElement(\"div\", {\n    vkuiClass: classNames(\"CalendarDays__row\", \"CalendarDays__row--size-\".concat(size))\n  }, daysNames.map(function (dayName) {\n    return createScopedElement(Caption, {\n      level: \"1\",\n      weight: \"regular\",\n      vkuiClass: \"CalendarDays__weekday\",\n      key: dayName\n    }, dayName);\n  })), weeks.map(function (week, i) {\n    return createScopedElement(\"div\", {\n      vkuiClass: classNames(\"CalendarDays__row\", \"CalendarDays__row--size-\".concat(size)),\n      key: i\n    }, week.map(function (day, i) {\n      var sameMonth = isSameMonth(day, viewDate);\n      return createScopedElement(CalendarDay, {\n        key: day.toISOString(),\n        day: day,\n        today: isSameDay(day, now),\n        active: isDayActive(day),\n        onChange: handleDayChange,\n        hidden: !showNeighboringMonth && !sameMonth,\n        disabled: isDayDisabled(day),\n        selectionStart: isDaySelectionStart(day, i),\n        selectionEnd: isDaySelectionEnd(day, i),\n        hintedSelectionStart: isHintedDaySelectionStart === null || isHintedDaySelectionStart === void 0 ? void 0 : isHintedDaySelectionStart(day, i),\n        hintedSelectionEnd: isHintedDaySelectionEnd === null || isHintedDaySelectionEnd === void 0 ? void 0 : isHintedDaySelectionEnd(day, i),\n        selected: isDaySelected === null || isDaySelected === void 0 ? void 0 : isDaySelected(day),\n        focused: isDayFocused(day),\n        onEnter: onDayEnter,\n        onLeave: onDayLeave,\n        hinted: isDayHinted === null || isDayHinted === void 0 ? void 0 : isDayHinted(day),\n        sameMonth: sameMonth,\n        size: size\n      });\n    }));\n  }));\n};","map":{"version":3,"mappings":"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","names":["React","isSameDay","isSameMonth","CalendarDay","getDaysNames","getWeeks","LocaleProviderContext","classNames","Caption","CalendarDays","viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","showNeighboringMonth","props","locale","useContext","ref","useRef","useState","Date","now","weeks","useMemo","daysNames","handleDayChange","useCallback","date","current","focus","createScopedElement","vkuiClass","map","dayName","level","weight","key","week","i","day","sameMonth","toISOString","today","active","onChange","hidden","disabled","selectionStart","selectionEnd","hintedSelectionStart","hintedSelectionEnd","selected","focused","onEnter","onLeave","hinted"],"sources":["/Users/al.balandin/code/vkvideo-test/node_modules/@vkontakte/vkui/src/components/CalendarDays/CalendarDays.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { isSameDay, isSameMonth } from \"date-fns\";\nimport { CalendarDay } from \"../CalendarDay/CalendarDay\";\nimport { getDaysNames, getWeeks } from \"../../lib/calendar\";\nimport { LocaleProviderContext } from \"../LocaleProviderContext/LocaleProviderContext\";\nimport { classNames } from \"../../lib/classNames\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nimport \"./CalendarDays.css\";\n\nexport interface CalendarDaysProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, \"onChange\"> {\n  value?: Date | Array<Date | null>;\n  viewDate: Date;\n  weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  showNeighboringMonth?: boolean;\n  size?: \"s\" | \"m\";\n  onDayChange(value: Date): void;\n  isDayDisabled(value: Date): boolean;\n  isDaySelectionStart(value: Date, dayOfWeek: number): boolean;\n  isDaySelectionEnd(value: Date, dayOfWeek: number): boolean;\n  isHintedDaySelectionStart?(value: Date, dayOfWeek: number): boolean;\n  isHintedDaySelectionEnd?(value: Date, dayOfWeek: number): boolean;\n  isDayActive(value: Date): boolean;\n  isDayHinted?(value: Date): boolean;\n  isDaySelected?(value: Date): boolean;\n  isDayFocused(value: Date): boolean;\n  onDayEnter?(value: Date): void;\n  onDayLeave?(value: Date): void;\n}\n\nexport const CalendarDays: React.FC<CalendarDaysProps> = ({\n  viewDate,\n  value,\n  weekStartsOn,\n  onDayChange,\n  isDaySelected,\n  isDayActive,\n  isDaySelectionEnd,\n  isDaySelectionStart,\n  onDayEnter,\n  onDayLeave,\n  isDayHinted,\n  isHintedDaySelectionStart,\n  isHintedDaySelectionEnd,\n  isDayFocused,\n  isDayDisabled,\n  size,\n  showNeighboringMonth = false,\n  ...props\n}) => {\n  const locale = React.useContext(LocaleProviderContext);\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [now] = React.useState(new Date());\n\n  const weeks = React.useMemo(\n    () => getWeeks(viewDate, weekStartsOn),\n    [weekStartsOn, viewDate]\n  );\n\n  const daysNames = React.useMemo(\n    () => getDaysNames(now, weekStartsOn, locale),\n    [locale, now, weekStartsOn]\n  );\n\n  const handleDayChange = React.useCallback(\n    (date: Date) => {\n      onDayChange(date);\n\n      ref.current?.focus();\n    },\n    [onDayChange]\n  );\n\n  return (\n    <div {...props} vkuiClass=\"CalendarDays\" ref={ref}>\n      <div\n        vkuiClass={classNames(\n          \"CalendarDays__row\",\n          `CalendarDays__row--size-${size}`\n        )}\n      >\n        {daysNames.map((dayName) => (\n          <Caption\n            level=\"1\"\n            weight=\"regular\"\n            vkuiClass=\"CalendarDays__weekday\"\n            key={dayName}\n          >\n            {dayName}\n          </Caption>\n        ))}\n      </div>\n\n      {weeks.map((week, i) => (\n        <div\n          vkuiClass={classNames(\n            \"CalendarDays__row\",\n            `CalendarDays__row--size-${size}`\n          )}\n          key={i}\n        >\n          {week.map((day, i) => {\n            const sameMonth = isSameMonth(day, viewDate);\n            return (\n              <CalendarDay\n                key={day.toISOString()}\n                day={day}\n                today={isSameDay(day, now)}\n                active={isDayActive(day)}\n                onChange={handleDayChange}\n                hidden={!showNeighboringMonth && !sameMonth}\n                disabled={isDayDisabled(day)}\n                selectionStart={isDaySelectionStart(day, i)}\n                selectionEnd={isDaySelectionEnd(day, i)}\n                hintedSelectionStart={isHintedDaySelectionStart?.(day, i)}\n                hintedSelectionEnd={isHintedDaySelectionEnd?.(day, i)}\n                selected={isDaySelected?.(day)}\n                focused={isDayFocused(day)}\n                onEnter={onDayEnter}\n                onLeave={onDayLeave}\n                hinted={isDayHinted?.(day)}\n                sameMonth={sameMonth}\n                size={size}\n              />\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}