import { IError, ISubject } from '@vkontakte/videoplayer-shared';
import { ApiEnv } from './types';
export interface IApiTransportParams {
    apiKey: string;
    apiBaseUrl: string;
    apiEnv: ApiEnv;
    error$: ISubject<IError>;
}
export interface IApiTransport {
    sendBeacon(method: string, params: Record<string, unknown>, sessionKey?: string): boolean;
    sendRequest<T = unknown>(method: string, params: Record<string, unknown>, sessionKey?: string): Promise<T>;
}
export default class ApiTransport implements IApiTransport {
    private apiKey;
    private apiBaseUrl;
    private apiEnv;
    private isApiBaseUrlFetched;
    private params;
    constructor(params: IApiTransportParams);
    private resolveApiBaseUrl;
    sendBeacon(method: string, params: Record<string, unknown>, sessionKey?: string): boolean;
    sendRequest<T = unknown>(method: string, params: Record<string, unknown>, sessionKey?: string): Promise<T>;
    private _prepareQueryParams;
}
